/* balatyperegisterfunction.c generated by balac, the Bala compiler
 * generated from balatyperegisterfunction.bala, do not modify */

/* balatyperegisterfunction.bala
 *
 * Copyright (C) 2006-2010  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include "balacodegen.h"
#include <balaccode.h>
#include <bala.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <balagee.h>
#include <glib-object.h>
#include <gobject/gvaluecollector.h>

#define _bala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_ccode_node_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _bala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_node_unref (var), NULL)))
#define _bala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterable_unref (var), NULL)))
typedef struct _BalaParamSpecTypeRegisterFunction BalaParamSpecTypeRegisterFunction;

struct _BalaTypeRegisterFunctionPrivate {
	BalaCCodeFragment* source_declaration_fragment;
	BalaCCodeFragment* declaration_fragment;
	BalaCCodeFragment* definition_fragment;
};

struct _BalaParamSpecTypeRegisterFunction {
	GParamSpec parent_instance;
};

static gint BalaTypeRegisterFunction_private_offset;
static gpointer bala_typeregister_function_parent_class = NULL;

static BalaTypeSymbol* bala_typeregister_function_real_get_type_declaration (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_type_struct_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_base_init_func_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_class_finalize_func_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_base_finalize_func_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_class_init_func_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_instance_struct_size (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_instance_init_func_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_parent_type_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_init_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_free_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_copy_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_gtype_value_table_collect_value_function_name (BalaTypeRegisterFunction* self);
static gchar* bala_typeregister_function_real_get_type_flags (BalaTypeRegisterFunction* self);
static BalaCCodeFragment* bala_typeregister_function_real_get_type_interface_init_declaration (BalaTypeRegisterFunction* self);
static void bala_typeregister_function_real_get_type_interface_init_statements (BalaTypeRegisterFunction* self,
                                                                         BalaCodeContext* context,
                                                                         BalaCCodeBlock* block,
                                                                         gboolean plugin);
static BalaSymbolAccessibility bala_typeregister_function_real_get_accessibility (BalaTypeRegisterFunction* self);
static void bala_typeregister_function_finalize (BalaTypeRegisterFunction * obj);
static GType bala_typeregister_function_get_type_once (void);

static inline gpointer
bala_typeregister_function_get_instance_private (BalaTypeRegisterFunction* self)
{
	return G_STRUCT_MEMBER_P (self, BalaTypeRegisterFunction_private_offset);
}

/**
 * Constructs the C function from the specified type.
 */
static gpointer
_bala_code_node_ref0 (gpointer self)
{
	return self ? bala_code_node_ref (self) : NULL;
}

static gpointer
_bala_iterable_ref0 (gpointer self)
{
	return self ? bala_iterable_ref (self) : NULL;
}

static gpointer
_bala_ccode_node_ref0 (gpointer self)
{
	return self ? bala_ccode_node_ref (self) : NULL;
}

void
bala_typeregister_function_init_from_type (BalaTypeRegisterFunction* self,
                                           BalaCodeContext* context,
                                           gboolean plugin,
                                           gboolean declaration_only)
{
	BalaTypeSymbol* type_symbol = NULL;
	BalaTypeSymbol* _tmp0_;
	gboolean fundamental = FALSE;
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	BalaClass* _tmp4_;
	gchar* type_id_name = NULL;
	BalaTypeSymbol* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	BalaCCodeBlock* type_block = NULL;
	BalaCCodeBlock* _tmp16_;
	BalaCCodeBlock* type_once_block = NULL;
	BalaCCodeBlock* _tmp17_;
	BalaCCodeDeclaration* _cdecl_ = NULL;
	BalaCCodeFunction* fun = NULL;
	BalaCCodeFunction* fun_once = NULL;
	gchar* type_value_table_decl_name = NULL;
	BalaCCodeBlock* type_init = NULL;
	BalaCCodeBlock* _tmp119_;
	BalaTypeSymbol* _tmp145_;
	BalaCCodeBlock* _tmp182_;
	BalaCCodeFragment* _tmp183_;
	BalaCCodeFragment* _tmp184_;
	BalaCCodeFunctionCall* reg_call = NULL;
	BalaTypeSymbol* _tmp185_;
	BalaCCodeFunctionCall* _tmp227_;
	BalaTypeSymbol* _tmp228_;
	gchar* _tmp229_;
	gchar* _tmp230_;
	gchar* _tmp231_;
	gchar* _tmp232_;
	BalaCCodeConstant* _tmp233_;
	BalaCCodeConstant* _tmp234_;
	BalaTypeSymbol* _tmp235_;
	BalaCCodeBlock* once_call_block = NULL;
	BalaCCodeBlock* _tmp330_;
	gboolean _tmp362_ = FALSE;
	BalaClass* _tmp363_;
	gboolean _tmp387_ = FALSE;
	BalaClass* _tmp388_;
	BalaCCodeFunction* _tmp507_;
	BalaCCodeBlock* _tmp508_;
	BalaCCodeFragment* _tmp509_;
	BalaCCodeFunction* _tmp510_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	_tmp0_ = bala_typeregister_function_get_type_declaration (self);
	type_symbol = _tmp0_;
	fundamental = FALSE;
	_tmp1_ = type_symbol;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp1_) : NULL;
	_tmp4_ = cl;
	if (_tmp4_ != NULL) {
		BalaClass* _tmp5_;
		gboolean _tmp6_;
		gboolean _tmp7_;
		_tmp5_ = cl;
		_tmp6_ = bala_class_get_is_compact (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp3_ = !_tmp7_;
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		BalaClass* _tmp8_;
		BalaClass* _tmp9_;
		BalaClass* _tmp10_;
		_tmp8_ = cl;
		_tmp9_ = bala_class_get_base_class (_tmp8_);
		_tmp10_ = _tmp9_;
		_tmp2_ = _tmp10_ == NULL;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		fundamental = TRUE;
	}
	_tmp11_ = type_symbol;
	_tmp12_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp11_, NULL);
	_tmp13_ = _tmp12_;
	_tmp14_ = g_strdup_printf ("%s_type_id", _tmp13_);
	_tmp15_ = _tmp14_;
	_g_free0 (_tmp13_);
	type_id_name = _tmp15_;
	_tmp16_ = bala_ccode_block_new ();
	type_block = _tmp16_;
	_tmp17_ = bala_ccode_block_new ();
	type_once_block = _tmp17_;
	if (!plugin) {
		BalaCCodeDeclaration* _tmp18_;
		BalaCCodeDeclaration* _tmp19_;
		const gchar* _tmp20_;
		gchar* _tmp21_;
		gchar* _tmp22_;
		BalaCCodeConstant* _tmp23_;
		BalaCCodeConstant* _tmp24_;
		BalaCCodeVariableDeclarator* _tmp25_;
		BalaCCodeVariableDeclarator* _tmp26_;
		BalaCCodeDeclaration* _tmp27_;
		BalaCCodeBlock* _tmp28_;
		BalaCCodeDeclaration* _tmp29_;
		_tmp18_ = bala_ccode_declaration_new ("gsize");
		_bala_ccode_node_unref0 (_cdecl_);
		_cdecl_ = _tmp18_;
		_tmp19_ = _cdecl_;
		_tmp20_ = type_id_name;
		_tmp21_ = g_strconcat (_tmp20_, "__volatile", NULL);
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_ccode_constant_new ("0");
		_tmp24_ = _tmp23_;
		_tmp25_ = bala_ccode_variable_declarator_new (_tmp22_, (BalaCCodeExpression*) _tmp24_, NULL);
		_tmp26_ = _tmp25_;
		bala_ccode_declaration_add_declarator (_tmp19_, (BalaCCodeDeclarator*) _tmp26_);
		_bala_ccode_node_unref0 (_tmp26_);
		_bala_ccode_node_unref0 (_tmp24_);
		_g_free0 (_tmp22_);
		_tmp27_ = _cdecl_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp27_, BALA_CCODE_MODIFIERS_STATIC | BALA_CCODE_MODIFIERS_VOLATILE);
		_tmp28_ = type_block;
		_tmp29_ = _cdecl_;
		bala_ccode_block_add_statement (_tmp28_, (BalaCCodeNode*) _tmp29_);
	} else {
		BalaCCodeDeclaration* _tmp30_;
		BalaCCodeDeclaration* _tmp31_;
		const gchar* _tmp32_;
		BalaCCodeConstant* _tmp33_;
		BalaCCodeConstant* _tmp34_;
		BalaCCodeVariableDeclarator* _tmp35_;
		BalaCCodeVariableDeclarator* _tmp36_;
		BalaCCodeDeclaration* _tmp37_;
		BalaCCodeFragment* _tmp38_;
		BalaCCodeDeclaration* _tmp39_;
		_tmp30_ = bala_ccode_declaration_new ("GType");
		_bala_ccode_node_unref0 (_cdecl_);
		_cdecl_ = _tmp30_;
		_tmp31_ = _cdecl_;
		_tmp32_ = type_id_name;
		_tmp33_ = bala_ccode_constant_new ("0");
		_tmp34_ = _tmp33_;
		_tmp35_ = bala_ccode_variable_declarator_new (_tmp32_, (BalaCCodeExpression*) _tmp34_, NULL);
		_tmp36_ = _tmp35_;
		bala_ccode_declaration_add_declarator (_tmp31_, (BalaCCodeDeclarator*) _tmp36_);
		_bala_ccode_node_unref0 (_tmp36_);
		_bala_ccode_node_unref0 (_tmp34_);
		_tmp37_ = _cdecl_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp37_, BALA_CCODE_MODIFIERS_STATIC);
		_tmp38_ = self->priv->source_declaration_fragment;
		_tmp39_ = _cdecl_;
		bala_ccode_fragment_append (_tmp38_, (BalaCCodeNode*) _tmp39_);
	}
	fun_once = NULL;
	if (!plugin) {
		BalaTypeSymbol* _tmp40_;
		gchar* _tmp41_;
		gchar* _tmp42_;
		BalaCCodeFunction* _tmp43_;
		BalaCCodeFunction* _tmp44_;
		BalaCCodeFunction* _tmp56_;
		BalaCCodeFragment* _tmp57_;
		BalaCCodeFunction* _tmp58_;
		BalaCCodeFunction* _tmp59_;
		BalaCCodeFunction* _tmp60_;
		BalaCCodeFunction* _tmp61_;
		BalaCCodeFunction* _tmp62_;
		const gchar* _tmp63_;
		const gchar* _tmp64_;
		gchar* _tmp65_;
		gchar* _tmp66_;
		BalaCCodeFunction* _tmp67_;
		BalaCCodeFunction* _tmp68_;
		BalaCCodeFunction* _tmp73_;
		BalaCCodeFragment* _tmp74_;
		BalaCCodeFunction* _tmp75_;
		BalaCCodeFunction* _tmp76_;
		BalaCCodeFunction* _tmp77_;
		BalaCCodeFunction* _tmp78_;
		_tmp40_ = type_symbol;
		_tmp41_ = bala_get_ccode_type_function (_tmp40_);
		_tmp42_ = _tmp41_;
		_tmp43_ = bala_ccode_function_new (_tmp42_, "GType");
		_bala_ccode_node_unref0 (fun);
		fun = _tmp43_;
		_g_free0 (_tmp42_);
		_tmp44_ = fun;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp44_, BALA_CCODE_MODIFIERS_CONST);
		if (bala_typeregister_function_get_accessibility (self) == BALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			BalaCCodeFunction* _tmp45_;
			BalaCCodeFunction* _tmp46_;
			BalaCCodeModifiers _tmp47_;
			BalaCCodeModifiers _tmp48_;
			_tmp45_ = fun;
			_tmp46_ = fun;
			_tmp47_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp46_);
			_tmp48_ = _tmp47_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp46_, _tmp48_ | (BALA_CCODE_MODIFIERS_STATIC | BALA_CCODE_MODIFIERS_UNUSED));
		} else {
			gboolean _tmp49_ = FALSE;
			gboolean _tmp50_;
			gboolean _tmp51_;
			_tmp50_ = bala_code_context_get_hide_internal (context);
			_tmp51_ = _tmp50_;
			if (_tmp51_) {
				_tmp49_ = bala_typeregister_function_get_accessibility (self) == BALA_SYMBOL_ACCESSIBILITY_INTERNAL;
			} else {
				_tmp49_ = FALSE;
			}
			if (_tmp49_) {
				BalaCCodeFunction* _tmp52_;
				BalaCCodeFunction* _tmp53_;
				BalaCCodeModifiers _tmp54_;
				BalaCCodeModifiers _tmp55_;
				_tmp52_ = fun;
				_tmp53_ = fun;
				_tmp54_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp53_);
				_tmp55_ = _tmp54_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp53_, _tmp55_ | (BALA_CCODE_MODIFIERS_INTERNAL | BALA_CCODE_MODIFIERS_UNUSED));
			}
		}
		_tmp56_ = fun;
		bala_ccode_function_set_is_declaration (_tmp56_, TRUE);
		_tmp57_ = self->priv->declaration_fragment;
		_tmp58_ = fun;
		_tmp59_ = bala_ccode_function_copy (_tmp58_);
		_tmp60_ = _tmp59_;
		bala_ccode_fragment_append (_tmp57_, (BalaCCodeNode*) _tmp60_);
		_bala_ccode_node_unref0 (_tmp60_);
		_tmp61_ = fun;
		bala_ccode_function_set_is_declaration (_tmp61_, FALSE);
		_tmp62_ = fun;
		_tmp63_ = bala_ccode_function_get_name (_tmp62_);
		_tmp64_ = _tmp63_;
		_tmp65_ = g_strdup_printf ("%s_once", _tmp64_);
		_tmp66_ = _tmp65_;
		_tmp67_ = bala_ccode_function_new (_tmp66_, "GType");
		_bala_ccode_node_unref0 (fun_once);
		fun_once = _tmp67_;
		_g_free0 (_tmp66_);
		_tmp68_ = fun_once;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp68_, BALA_CCODE_MODIFIERS_STATIC);
		if (bala_code_context_require_glib_version (context, 2, 58)) {
			BalaCCodeFunction* _tmp69_;
			BalaCCodeFunction* _tmp70_;
			BalaCCodeModifiers _tmp71_;
			BalaCCodeModifiers _tmp72_;
			_tmp69_ = fun_once;
			_tmp70_ = fun_once;
			_tmp71_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp70_);
			_tmp72_ = _tmp71_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp70_, _tmp72_ | BALA_CCODE_MODIFIERS_NO_INLINE);
		}
		_tmp73_ = fun_once;
		bala_ccode_function_set_is_declaration (_tmp73_, TRUE);
		_tmp74_ = self->priv->source_declaration_fragment;
		_tmp75_ = fun_once;
		_tmp76_ = bala_ccode_function_copy (_tmp75_);
		_tmp77_ = _tmp76_;
		bala_ccode_fragment_append (_tmp74_, (BalaCCodeNode*) _tmp77_);
		_bala_ccode_node_unref0 (_tmp77_);
		_tmp78_ = fun_once;
		bala_ccode_function_set_is_declaration (_tmp78_, FALSE);
	} else {
		BalaTypeSymbol* _tmp79_;
		gchar* _tmp80_;
		gchar* _tmp81_;
		gchar* _tmp82_;
		gchar* _tmp83_;
		BalaCCodeFunction* _tmp84_;
		BalaCCodeFunction* _tmp85_;
		BalaCCodeParameter* _tmp86_;
		BalaCCodeParameter* _tmp87_;
		BalaCCodeFunction* _tmp88_;
		BalaCCodeFragment* _tmp89_;
		BalaCCodeFunction* _tmp90_;
		BalaCCodeFunction* _tmp91_;
		BalaCCodeFunction* _tmp92_;
		BalaCCodeFunction* _tmp93_;
		BalaCCodeFunction* get_fun = NULL;
		BalaTypeSymbol* _tmp94_;
		gchar* _tmp95_;
		gchar* _tmp96_;
		BalaCCodeFunction* _tmp97_;
		BalaCCodeFunction* _tmp98_;
		BalaCCodeFunction* _tmp99_;
		BalaCCodeFunction* _tmp100_;
		BalaCCodeFragment* _tmp101_;
		BalaCCodeFunction* _tmp102_;
		BalaCCodeFunction* _tmp103_;
		BalaCCodeFunction* _tmp104_;
		BalaCCodeFunction* _tmp105_;
		BalaCCodeFunction* _tmp106_;
		BalaCCodeBlock* _tmp107_;
		BalaCCodeBlock* _tmp108_;
		BalaCCodeFunction* _tmp109_;
		BalaCCodeBlock* _tmp110_;
		BalaCCodeBlock* _tmp111_;
		const gchar* _tmp112_;
		BalaCCodeIdentifier* _tmp113_;
		BalaCCodeIdentifier* _tmp114_;
		BalaCCodeReturnStatement* _tmp115_;
		BalaCCodeReturnStatement* _tmp116_;
		BalaCCodeFragment* _tmp117_;
		BalaCCodeFunction* _tmp118_;
		_tmp79_ = type_symbol;
		_tmp80_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp79_, NULL);
		_tmp81_ = _tmp80_;
		_tmp82_ = g_strdup_printf ("%s_register_type", _tmp81_);
		_tmp83_ = _tmp82_;
		_tmp84_ = bala_ccode_function_new (_tmp83_, "GType");
		_bala_ccode_node_unref0 (fun);
		fun = _tmp84_;
		_g_free0 (_tmp83_);
		_g_free0 (_tmp81_);
		_tmp85_ = fun;
		_tmp86_ = bala_ccode_parameter_new ("module", "GTypeModule *");
		_tmp87_ = _tmp86_;
		bala_ccode_function_add_parameter (_tmp85_, _tmp87_);
		_bala_ccode_node_unref0 (_tmp87_);
		_tmp88_ = fun;
		bala_ccode_function_set_is_declaration (_tmp88_, TRUE);
		_tmp89_ = self->priv->declaration_fragment;
		_tmp90_ = fun;
		_tmp91_ = bala_ccode_function_copy (_tmp90_);
		_tmp92_ = _tmp91_;
		bala_ccode_fragment_append (_tmp89_, (BalaCCodeNode*) _tmp92_);
		_bala_ccode_node_unref0 (_tmp92_);
		_tmp93_ = fun;
		bala_ccode_function_set_is_declaration (_tmp93_, FALSE);
		_tmp94_ = type_symbol;
		_tmp95_ = bala_get_ccode_type_function (_tmp94_);
		_tmp96_ = _tmp95_;
		_tmp97_ = bala_ccode_function_new (_tmp96_, "GType");
		_tmp98_ = _tmp97_;
		_g_free0 (_tmp96_);
		get_fun = _tmp98_;
		_tmp99_ = get_fun;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp99_, BALA_CCODE_MODIFIERS_CONST);
		_tmp100_ = get_fun;
		bala_ccode_function_set_is_declaration (_tmp100_, TRUE);
		_tmp101_ = self->priv->declaration_fragment;
		_tmp102_ = get_fun;
		_tmp103_ = bala_ccode_function_copy (_tmp102_);
		_tmp104_ = _tmp103_;
		bala_ccode_fragment_append (_tmp101_, (BalaCCodeNode*) _tmp104_);
		_bala_ccode_node_unref0 (_tmp104_);
		_tmp105_ = get_fun;
		bala_ccode_function_set_is_declaration (_tmp105_, FALSE);
		_tmp106_ = get_fun;
		_tmp107_ = bala_ccode_block_new ();
		_tmp108_ = _tmp107_;
		bala_ccode_function_set_block (_tmp106_, _tmp108_);
		_bala_ccode_node_unref0 (_tmp108_);
		_tmp109_ = get_fun;
		_tmp110_ = bala_ccode_function_get_block (_tmp109_);
		_tmp111_ = _tmp110_;
		_tmp112_ = type_id_name;
		_tmp113_ = bala_ccode_identifier_new (_tmp112_);
		_tmp114_ = _tmp113_;
		_tmp115_ = bala_ccode_return_statement_new ((BalaCCodeExpression*) _tmp114_);
		_tmp116_ = _tmp115_;
		bala_ccode_block_add_statement (_tmp111_, (BalaCCodeNode*) _tmp116_);
		_bala_ccode_node_unref0 (_tmp116_);
		_bala_ccode_node_unref0 (_tmp114_);
		_tmp117_ = self->priv->definition_fragment;
		_tmp118_ = get_fun;
		bala_ccode_fragment_append (_tmp117_, (BalaCCodeNode*) _tmp118_);
		_bala_ccode_node_unref0 (get_fun);
	}
	type_value_table_decl_name = NULL;
	_tmp119_ = bala_ccode_block_new ();
	type_init = _tmp119_;
	if (fundamental) {
		BalaCCodeDeclaration* cgtypetabledecl = NULL;
		BalaCCodeDeclaration* _tmp120_;
		BalaCCodeDeclaration* _tmp121_;
		BalaCCodeDeclaration* _tmp122_;
		gchar* _tmp123_;
		gchar* _tmp124_;
		gchar* _tmp125_;
		gchar* _tmp126_;
		gchar* _tmp127_;
		gchar* _tmp128_;
		gchar* _tmp129_;
		gchar* _tmp130_;
		gchar* _tmp131_;
		gchar* _tmp132_;
		gchar* _tmp133_;
		gchar* _tmp134_;
		gchar* _tmp135_;
		gchar* _tmp136_;
		BalaCCodeConstant* _tmp137_;
		BalaCCodeConstant* _tmp138_;
		BalaCCodeVariableDeclarator* _tmp139_;
		BalaCCodeVariableDeclarator* _tmp140_;
		gchar* _tmp141_;
		BalaCCodeBlock* _tmp142_;
		BalaCCodeDeclaration* _tmp143_;
		_tmp120_ = bala_ccode_declaration_new ("const GTypeValueTable");
		cgtypetabledecl = _tmp120_;
		_tmp121_ = cgtypetabledecl;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp121_, BALA_CCODE_MODIFIERS_STATIC);
		_tmp122_ = cgtypetabledecl;
		_tmp123_ = bala_typeregister_function_get_gtype_value_table_init_function_name (self);
		_tmp124_ = _tmp123_;
		_tmp125_ = bala_typeregister_function_get_gtype_value_table_free_function_name (self);
		_tmp126_ = _tmp125_;
		_tmp127_ = bala_typeregister_function_get_gtype_value_table_copy_function_name (self);
		_tmp128_ = _tmp127_;
		_tmp129_ = bala_typeregister_function_get_gtype_value_table_peek_pointer_function_name (self);
		_tmp130_ = _tmp129_;
		_tmp131_ = bala_typeregister_function_get_gtype_value_table_collect_value_function_name (self);
		_tmp132_ = _tmp131_;
		_tmp133_ = bala_typeregister_function_get_gtype_value_table_lcopy_value_function_name (self);
		_tmp134_ = _tmp133_;
		_tmp135_ = g_strdup_printf ("{ %s, %s, %s, %s, \"p\", %s, \"p\", %s }", _tmp124_, _tmp126_, _tmp128_, _tmp130_, _tmp132_, _tmp134_);
		_tmp136_ = _tmp135_;
		_tmp137_ = bala_ccode_constant_new (_tmp136_);
		_tmp138_ = _tmp137_;
		_tmp139_ = bala_ccode_variable_declarator_new ("g_define_type_value_table", (BalaCCodeExpression*) _tmp138_, NULL);
		_tmp140_ = _tmp139_;
		bala_ccode_declaration_add_declarator (_tmp122_, (BalaCCodeDeclarator*) _tmp140_);
		_bala_ccode_node_unref0 (_tmp140_);
		_bala_ccode_node_unref0 (_tmp138_);
		_g_free0 (_tmp136_);
		_g_free0 (_tmp134_);
		_g_free0 (_tmp132_);
		_g_free0 (_tmp130_);
		_g_free0 (_tmp128_);
		_g_free0 (_tmp126_);
		_g_free0 (_tmp124_);
		_tmp141_ = g_strdup ("&g_define_type_value_table");
		_g_free0 (type_value_table_decl_name);
		type_value_table_decl_name = _tmp141_;
		_tmp142_ = type_init;
		_tmp143_ = cgtypetabledecl;
		bala_ccode_block_add_statement (_tmp142_, (BalaCCodeNode*) _tmp143_);
		_bala_ccode_node_unref0 (cgtypetabledecl);
	} else {
		gchar* _tmp144_;
		_tmp144_ = g_strdup ("NULL");
		_g_free0 (type_value_table_decl_name);
		type_value_table_decl_name = _tmp144_;
	}
	_tmp145_ = type_symbol;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp145_, BALA_TYPE_OBJECT_TYPE_SYMBOL)) {
		BalaCCodeDeclaration* ctypedecl = NULL;
		BalaCCodeDeclaration* _tmp146_;
		BalaCCodeDeclaration* _tmp147_;
		gchar* _tmp148_ = NULL;
		BalaCCodeDeclaration* _tmp151_;
		gchar* _tmp152_;
		gchar* _tmp153_;
		gchar* _tmp154_;
		gchar* _tmp155_;
		gchar* _tmp156_;
		gchar* _tmp157_;
		gchar* _tmp158_;
		gchar* _tmp159_;
		gchar* _tmp160_;
		gchar* _tmp161_;
		gchar* _tmp162_;
		gchar* _tmp163_;
		const gchar* _tmp164_;
		gchar* _tmp165_;
		gchar* _tmp166_;
		BalaCCodeConstant* _tmp167_;
		BalaCCodeConstant* _tmp168_;
		BalaCCodeVariableDeclarator* _tmp169_;
		BalaCCodeVariableDeclarator* _tmp170_;
		BalaCCodeBlock* _tmp171_;
		BalaCCodeDeclaration* _tmp172_;
		_tmp146_ = bala_ccode_declaration_new ("const GTypeInfo");
		ctypedecl = _tmp146_;
		_tmp147_ = ctypedecl;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp147_, BALA_CCODE_MODIFIERS_STATIC);
		if (plugin) {
			gchar* _tmp149_;
			_tmp149_ = bala_typeregister_function_get_base_finalize_func_name (self);
			_g_free0 (_tmp148_);
			_tmp148_ = _tmp149_;
		} else {
			gchar* _tmp150_;
			_tmp150_ = g_strdup ("NULL");
			_g_free0 (_tmp148_);
			_tmp148_ = _tmp150_;
		}
		_tmp151_ = ctypedecl;
		_tmp152_ = bala_typeregister_function_get_type_struct_name (self);
		_tmp153_ = _tmp152_;
		_tmp154_ = bala_typeregister_function_get_base_init_func_name (self);
		_tmp155_ = _tmp154_;
		_tmp156_ = bala_typeregister_function_get_class_init_func_name (self);
		_tmp157_ = _tmp156_;
		_tmp158_ = bala_typeregister_function_get_class_finalize_func_name (self);
		_tmp159_ = _tmp158_;
		_tmp160_ = bala_typeregister_function_get_instance_struct_size (self);
		_tmp161_ = _tmp160_;
		_tmp162_ = bala_typeregister_function_get_instance_init_func_name (self);
		_tmp163_ = _tmp162_;
		_tmp164_ = type_value_table_decl_name;
		_tmp165_ = g_strdup_printf ("{ sizeof (%s), (GBaseInitFunc) %s, (GBaseFinalizeFunc) %s, (GClassInit" \
"Func) %s, (GClassFinalizeFunc) %s, NULL, %s, 0, (GInstanceInitFunc) %s" \
", %s }", _tmp153_, _tmp155_, _tmp148_, _tmp157_, _tmp159_, _tmp161_, _tmp163_, _tmp164_);
		_tmp166_ = _tmp165_;
		_tmp167_ = bala_ccode_constant_new (_tmp166_);
		_tmp168_ = _tmp167_;
		_tmp169_ = bala_ccode_variable_declarator_new ("g_define_type_info", (BalaCCodeExpression*) _tmp168_, NULL);
		_tmp170_ = _tmp169_;
		bala_ccode_declaration_add_declarator (_tmp151_, (BalaCCodeDeclarator*) _tmp170_);
		_bala_ccode_node_unref0 (_tmp170_);
		_bala_ccode_node_unref0 (_tmp168_);
		_g_free0 (_tmp166_);
		_g_free0 (_tmp163_);
		_g_free0 (_tmp161_);
		_g_free0 (_tmp159_);
		_g_free0 (_tmp157_);
		_g_free0 (_tmp155_);
		_g_free0 (_tmp153_);
		_tmp171_ = type_init;
		_tmp172_ = ctypedecl;
		bala_ccode_block_add_statement (_tmp171_, (BalaCCodeNode*) _tmp172_);
		if (fundamental) {
			BalaCCodeDeclaration* ctypefundamentaldecl = NULL;
			BalaCCodeDeclaration* _tmp173_;
			BalaCCodeDeclaration* _tmp174_;
			BalaCCodeDeclaration* _tmp175_;
			BalaCCodeConstant* _tmp176_;
			BalaCCodeConstant* _tmp177_;
			BalaCCodeVariableDeclarator* _tmp178_;
			BalaCCodeVariableDeclarator* _tmp179_;
			BalaCCodeBlock* _tmp180_;
			BalaCCodeDeclaration* _tmp181_;
			_tmp173_ = bala_ccode_declaration_new ("const GTypeFundamentalInfo");
			ctypefundamentaldecl = _tmp173_;
			_tmp174_ = ctypefundamentaldecl;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp174_, BALA_CCODE_MODIFIERS_STATIC);
			_tmp175_ = ctypefundamentaldecl;
			_tmp176_ = bala_ccode_constant_new ("{ (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERI" \
"VABLE | G_TYPE_FLAG_DEEP_DERIVABLE) }");
			_tmp177_ = _tmp176_;
			_tmp178_ = bala_ccode_variable_declarator_new ("g_define_type_fundamental_info", (BalaCCodeExpression*) _tmp177_, NULL);
			_tmp179_ = _tmp178_;
			bala_ccode_declaration_add_declarator (_tmp175_, (BalaCCodeDeclarator*) _tmp179_);
			_bala_ccode_node_unref0 (_tmp179_);
			_bala_ccode_node_unref0 (_tmp177_);
			_tmp180_ = type_init;
			_tmp181_ = ctypefundamentaldecl;
			bala_ccode_block_add_statement (_tmp180_, (BalaCCodeNode*) _tmp181_);
			_bala_ccode_node_unref0 (ctypefundamentaldecl);
		}
		_g_free0 (_tmp148_);
		_bala_ccode_node_unref0 (ctypedecl);
	}
	_tmp182_ = type_init;
	_tmp183_ = bala_typeregister_function_get_type_interface_init_declaration (self);
	_tmp184_ = _tmp183_;
	bala_ccode_block_add_statement (_tmp182_, (BalaCCodeNode*) _tmp184_);
	_bala_ccode_node_unref0 (_tmp184_);
	_tmp185_ = type_symbol;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp185_, BALA_TYPE_STRUCT)) {
		BalaCCodeIdentifier* _tmp186_;
		BalaCCodeIdentifier* _tmp187_;
		BalaCCodeFunctionCall* _tmp188_;
		_tmp186_ = bala_ccode_identifier_new ("g_boxed_type_register_static");
		_tmp187_ = _tmp186_;
		_tmp188_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp187_);
		_bala_ccode_node_unref0 (reg_call);
		reg_call = _tmp188_;
		_bala_ccode_node_unref0 (_tmp187_);
	} else {
		BalaTypeSymbol* _tmp189_;
		_tmp189_ = type_symbol;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp189_, BALA_TYPE_ENUM)) {
			BalaEnum* en = NULL;
			BalaTypeSymbol* _tmp190_;
			BalaEnum* _tmp191_;
			gboolean _tmp192_;
			gboolean _tmp193_;
			_tmp190_ = type_symbol;
			en = G_TYPE_CHECK_INSTANCE_CAST (_tmp190_, BALA_TYPE_ENUM, BalaEnum);
			_tmp191_ = en;
			_tmp192_ = bala_enum_get_is_flags (_tmp191_);
			_tmp193_ = _tmp192_;
			if (_tmp193_) {
				BalaCCodeIdentifier* _tmp194_;
				BalaCCodeIdentifier* _tmp195_;
				BalaCCodeFunctionCall* _tmp196_;
				_tmp194_ = bala_ccode_identifier_new ("g_flags_register_static");
				_tmp195_ = _tmp194_;
				_tmp196_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp195_);
				_bala_ccode_node_unref0 (reg_call);
				reg_call = _tmp196_;
				_bala_ccode_node_unref0 (_tmp195_);
			} else {
				BalaCCodeIdentifier* _tmp197_;
				BalaCCodeIdentifier* _tmp198_;
				BalaCCodeFunctionCall* _tmp199_;
				_tmp197_ = bala_ccode_identifier_new ("g_enum_register_static");
				_tmp198_ = _tmp197_;
				_tmp199_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp198_);
				_bala_ccode_node_unref0 (reg_call);
				reg_call = _tmp199_;
				_bala_ccode_node_unref0 (_tmp198_);
			}
		} else {
			if (fundamental) {
				BalaCCodeIdentifier* _tmp200_;
				BalaCCodeIdentifier* _tmp201_;
				BalaCCodeFunctionCall* _tmp202_;
				BalaCCodeFunctionCall* _tmp203_;
				BalaCCodeIdentifier* _tmp204_;
				BalaCCodeIdentifier* _tmp205_;
				BalaCCodeFunctionCall* _tmp206_;
				BalaCCodeFunctionCall* _tmp207_;
				_tmp200_ = bala_ccode_identifier_new ("g_type_register_fundamental");
				_tmp201_ = _tmp200_;
				_tmp202_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp201_);
				_bala_ccode_node_unref0 (reg_call);
				reg_call = _tmp202_;
				_bala_ccode_node_unref0 (_tmp201_);
				_tmp203_ = reg_call;
				_tmp204_ = bala_ccode_identifier_new ("g_type_fundamental_next");
				_tmp205_ = _tmp204_;
				_tmp206_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp205_);
				_tmp207_ = _tmp206_;
				bala_ccode_function_call_add_argument (_tmp203_, (BalaCCodeExpression*) _tmp207_);
				_bala_ccode_node_unref0 (_tmp207_);
				_bala_ccode_node_unref0 (_tmp205_);
			} else {
				if (!plugin) {
					BalaCCodeIdentifier* _tmp208_;
					BalaCCodeIdentifier* _tmp209_;
					BalaCCodeFunctionCall* _tmp210_;
					BalaCCodeFunctionCall* _tmp211_;
					gchar* _tmp212_;
					gchar* _tmp213_;
					BalaCCodeIdentifier* _tmp214_;
					BalaCCodeIdentifier* _tmp215_;
					_tmp208_ = bala_ccode_identifier_new ("g_type_register_static");
					_tmp209_ = _tmp208_;
					_tmp210_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp209_);
					_bala_ccode_node_unref0 (reg_call);
					reg_call = _tmp210_;
					_bala_ccode_node_unref0 (_tmp209_);
					_tmp211_ = reg_call;
					_tmp212_ = bala_typeregister_function_get_parent_type_name (self);
					_tmp213_ = _tmp212_;
					_tmp214_ = bala_ccode_identifier_new (_tmp213_);
					_tmp215_ = _tmp214_;
					bala_ccode_function_call_add_argument (_tmp211_, (BalaCCodeExpression*) _tmp215_);
					_bala_ccode_node_unref0 (_tmp215_);
					_g_free0 (_tmp213_);
				} else {
					BalaCCodeIdentifier* _tmp216_;
					BalaCCodeIdentifier* _tmp217_;
					BalaCCodeFunctionCall* _tmp218_;
					BalaCCodeFunctionCall* _tmp219_;
					BalaCCodeIdentifier* _tmp220_;
					BalaCCodeIdentifier* _tmp221_;
					BalaCCodeFunctionCall* _tmp222_;
					gchar* _tmp223_;
					gchar* _tmp224_;
					BalaCCodeIdentifier* _tmp225_;
					BalaCCodeIdentifier* _tmp226_;
					_tmp216_ = bala_ccode_identifier_new ("g_type_module_register_type");
					_tmp217_ = _tmp216_;
					_tmp218_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp217_);
					_bala_ccode_node_unref0 (reg_call);
					reg_call = _tmp218_;
					_bala_ccode_node_unref0 (_tmp217_);
					_tmp219_ = reg_call;
					_tmp220_ = bala_ccode_identifier_new ("module");
					_tmp221_ = _tmp220_;
					bala_ccode_function_call_add_argument (_tmp219_, (BalaCCodeExpression*) _tmp221_);
					_bala_ccode_node_unref0 (_tmp221_);
					_tmp222_ = reg_call;
					_tmp223_ = bala_typeregister_function_get_parent_type_name (self);
					_tmp224_ = _tmp223_;
					_tmp225_ = bala_ccode_identifier_new (_tmp224_);
					_tmp226_ = _tmp225_;
					bala_ccode_function_call_add_argument (_tmp222_, (BalaCCodeExpression*) _tmp226_);
					_bala_ccode_node_unref0 (_tmp226_);
					_g_free0 (_tmp224_);
				}
			}
		}
	}
	_tmp227_ = reg_call;
	_tmp228_ = type_symbol;
	_tmp229_ = bala_get_ccode_name ((BalaCodeNode*) _tmp228_);
	_tmp230_ = _tmp229_;
	_tmp231_ = g_strdup_printf ("\"%s\"", _tmp230_);
	_tmp232_ = _tmp231_;
	_tmp233_ = bala_ccode_constant_new (_tmp232_);
	_tmp234_ = _tmp233_;
	bala_ccode_function_call_add_argument (_tmp227_, (BalaCCodeExpression*) _tmp234_);
	_bala_ccode_node_unref0 (_tmp234_);
	_g_free0 (_tmp232_);
	_g_free0 (_tmp230_);
	_tmp235_ = type_symbol;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp235_, BALA_TYPE_STRUCT)) {
		BalaStruct* st = NULL;
		BalaTypeSymbol* _tmp236_;
		BalaStruct* _tmp237_;
		BalaCCodeFunctionCall* _tmp238_;
		BalaStruct* _tmp239_;
		gchar* _tmp240_;
		gchar* _tmp241_;
		BalaCCodeIdentifier* _tmp242_;
		BalaCCodeIdentifier* _tmp243_;
		BalaCCodeCastExpression* _tmp244_;
		BalaCCodeCastExpression* _tmp245_;
		BalaCCodeFunctionCall* _tmp246_;
		BalaStruct* _tmp247_;
		gchar* _tmp248_;
		gchar* _tmp249_;
		BalaCCodeIdentifier* _tmp250_;
		BalaCCodeIdentifier* _tmp251_;
		BalaCCodeCastExpression* _tmp252_;
		BalaCCodeCastExpression* _tmp253_;
		_tmp236_ = type_symbol;
		_tmp237_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp236_, BALA_TYPE_STRUCT, BalaStruct));
		st = _tmp237_;
		_tmp238_ = reg_call;
		_tmp239_ = st;
		_tmp240_ = bala_get_ccode_dup_function ((BalaTypeSymbol*) _tmp239_);
		_tmp241_ = _tmp240_;
		_tmp242_ = bala_ccode_identifier_new (_tmp241_);
		_tmp243_ = _tmp242_;
		_tmp244_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp243_, "GBoxedCopyFunc");
		_tmp245_ = _tmp244_;
		bala_ccode_function_call_add_argument (_tmp238_, (BalaCCodeExpression*) _tmp245_);
		_bala_ccode_node_unref0 (_tmp245_);
		_bala_ccode_node_unref0 (_tmp243_);
		_g_free0 (_tmp241_);
		_tmp246_ = reg_call;
		_tmp247_ = st;
		_tmp248_ = bala_get_ccode_free_function ((BalaTypeSymbol*) _tmp247_);
		_tmp249_ = _tmp248_;
		_tmp250_ = bala_ccode_identifier_new (_tmp249_);
		_tmp251_ = _tmp250_;
		_tmp252_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp251_, "GBoxedFreeFunc");
		_tmp253_ = _tmp252_;
		bala_ccode_function_call_add_argument (_tmp246_, (BalaCCodeExpression*) _tmp253_);
		_bala_ccode_node_unref0 (_tmp253_);
		_bala_ccode_node_unref0 (_tmp251_);
		_g_free0 (_tmp249_);
		_bala_code_node_unref0 (st);
	} else {
		BalaTypeSymbol* _tmp254_;
		_tmp254_ = type_symbol;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp254_, BALA_TYPE_ENUM)) {
			BalaEnum* en = NULL;
			BalaTypeSymbol* _tmp255_;
			BalaCCodeInitializerList* clist = NULL;
			BalaCCodeInitializerList* _tmp256_;
			BalaCCodeInitializerList* clist_ev = NULL;
			BalaCCodeInitializerList* _tmp292_;
			BalaCCodeInitializerList* _tmp293_;
			BalaCCodeConstant* _tmp294_;
			BalaCCodeConstant* _tmp295_;
			BalaCCodeInitializerList* _tmp296_;
			BalaCCodeConstant* _tmp297_;
			BalaCCodeConstant* _tmp298_;
			BalaCCodeInitializerList* _tmp299_;
			BalaCCodeConstant* _tmp300_;
			BalaCCodeConstant* _tmp301_;
			BalaCCodeInitializerList* _tmp302_;
			BalaCCodeInitializerList* _tmp303_;
			BalaCCodeVariableDeclarator* enum_decl = NULL;
			BalaCCodeInitializerList* _tmp304_;
			BalaCCodeVariableDeclarator* _tmp305_;
			BalaEnum* _tmp306_;
			gboolean _tmp307_;
			gboolean _tmp308_;
			BalaCCodeDeclaration* _tmp311_;
			BalaCCodeVariableDeclarator* _tmp312_;
			BalaCCodeDeclaration* _tmp313_;
			BalaCCodeBlock* _tmp314_;
			BalaCCodeDeclaration* _tmp315_;
			BalaCCodeFunctionCall* _tmp316_;
			BalaCCodeIdentifier* _tmp317_;
			BalaCCodeIdentifier* _tmp318_;
			_tmp255_ = type_symbol;
			en = G_TYPE_CHECK_INSTANCE_CAST (_tmp255_, BALA_TYPE_ENUM, BalaEnum);
			_tmp256_ = bala_ccode_initializer_list_new ();
			clist = _tmp256_;
			clist_ev = NULL;
			{
				BalaList* _ev_list = NULL;
				BalaEnum* _tmp257_;
				BalaList* _tmp258_;
				BalaList* _tmp259_;
				gint _ev_size = 0;
				BalaList* _tmp260_;
				gint _tmp261_;
				gint _tmp262_;
				gint _ev_index = 0;
				_tmp257_ = en;
				_tmp258_ = bala_enum_get_values (_tmp257_);
				_tmp259_ = _bala_iterable_ref0 (_tmp258_);
				_ev_list = _tmp259_;
				_tmp260_ = _ev_list;
				_tmp261_ = bala_collection_get_size ((BalaCollection*) _tmp260_);
				_tmp262_ = _tmp261_;
				_ev_size = _tmp262_;
				_ev_index = -1;
				while (TRUE) {
					gint _tmp263_;
					gint _tmp264_;
					BalaEnumValue* ev = NULL;
					BalaList* _tmp265_;
					gpointer _tmp266_;
					BalaCCodeInitializerList* _tmp267_;
					BalaCCodeInitializerList* _tmp268_;
					BalaEnumValue* _tmp269_;
					gchar* _tmp270_;
					gchar* _tmp271_;
					BalaCCodeConstant* _tmp272_;
					BalaCCodeConstant* _tmp273_;
					BalaCCodeInitializerList* _tmp274_;
					BalaEnumValue* _tmp275_;
					gchar* _tmp276_;
					gchar* _tmp277_;
					gchar* _tmp278_;
					gchar* _tmp279_;
					BalaCCodeConstant* _tmp280_;
					BalaCCodeConstant* _tmp281_;
					BalaCCodeInitializerList* _tmp282_;
					BalaEnumValue* _tmp283_;
					const gchar* _tmp284_;
					const gchar* _tmp285_;
					gchar* _tmp286_;
					gchar* _tmp287_;
					BalaCCodeConstant* _tmp288_;
					BalaCCodeConstant* _tmp289_;
					BalaCCodeInitializerList* _tmp290_;
					BalaCCodeInitializerList* _tmp291_;
					_ev_index = _ev_index + 1;
					_tmp263_ = _ev_index;
					_tmp264_ = _ev_size;
					if (!(_tmp263_ < _tmp264_)) {
						break;
					}
					_tmp265_ = _ev_list;
					_tmp266_ = bala_list_get (_tmp265_, _ev_index);
					ev = (BalaEnumValue*) _tmp266_;
					_tmp267_ = bala_ccode_initializer_list_new ();
					_bala_ccode_node_unref0 (clist_ev);
					clist_ev = _tmp267_;
					_tmp268_ = clist_ev;
					_tmp269_ = ev;
					_tmp270_ = bala_get_ccode_name ((BalaCodeNode*) _tmp269_);
					_tmp271_ = _tmp270_;
					_tmp272_ = bala_ccode_constant_new (_tmp271_);
					_tmp273_ = _tmp272_;
					bala_ccode_initializer_list_append (_tmp268_, (BalaCCodeExpression*) _tmp273_);
					_bala_ccode_node_unref0 (_tmp273_);
					_g_free0 (_tmp271_);
					_tmp274_ = clist_ev;
					_tmp275_ = ev;
					_tmp276_ = bala_get_ccode_name ((BalaCodeNode*) _tmp275_);
					_tmp277_ = _tmp276_;
					_tmp278_ = g_strdup_printf ("\"%s\"", _tmp277_);
					_tmp279_ = _tmp278_;
					_tmp280_ = bala_ccode_constant_new (_tmp279_);
					_tmp281_ = _tmp280_;
					bala_ccode_initializer_list_append (_tmp274_, (BalaCCodeExpression*) _tmp281_);
					_bala_ccode_node_unref0 (_tmp281_);
					_g_free0 (_tmp279_);
					_g_free0 (_tmp277_);
					_tmp282_ = clist_ev;
					_tmp283_ = ev;
					_tmp284_ = bala_enum_value_get_nick (_tmp283_);
					_tmp285_ = _tmp284_;
					_tmp286_ = g_strdup_printf ("\"%s\"", _tmp285_);
					_tmp287_ = _tmp286_;
					_tmp288_ = bala_ccode_constant_new (_tmp287_);
					_tmp289_ = _tmp288_;
					bala_ccode_initializer_list_append (_tmp282_, (BalaCCodeExpression*) _tmp289_);
					_bala_ccode_node_unref0 (_tmp289_);
					_g_free0 (_tmp287_);
					_tmp290_ = clist;
					_tmp291_ = clist_ev;
					bala_ccode_initializer_list_append (_tmp290_, (BalaCCodeExpression*) _tmp291_);
					_bala_code_node_unref0 (ev);
				}
				_bala_iterable_unref0 (_ev_list);
			}
			_tmp292_ = bala_ccode_initializer_list_new ();
			_bala_ccode_node_unref0 (clist_ev);
			clist_ev = _tmp292_;
			_tmp293_ = clist_ev;
			_tmp294_ = bala_ccode_constant_new ("0");
			_tmp295_ = _tmp294_;
			bala_ccode_initializer_list_append (_tmp293_, (BalaCCodeExpression*) _tmp295_);
			_bala_ccode_node_unref0 (_tmp295_);
			_tmp296_ = clist_ev;
			_tmp297_ = bala_ccode_constant_new ("NULL");
			_tmp298_ = _tmp297_;
			bala_ccode_initializer_list_append (_tmp296_, (BalaCCodeExpression*) _tmp298_);
			_bala_ccode_node_unref0 (_tmp298_);
			_tmp299_ = clist_ev;
			_tmp300_ = bala_ccode_constant_new ("NULL");
			_tmp301_ = _tmp300_;
			bala_ccode_initializer_list_append (_tmp299_, (BalaCCodeExpression*) _tmp301_);
			_bala_ccode_node_unref0 (_tmp301_);
			_tmp302_ = clist;
			_tmp303_ = clist_ev;
			bala_ccode_initializer_list_append (_tmp302_, (BalaCCodeExpression*) _tmp303_);
			_tmp304_ = clist;
			_tmp305_ = bala_ccode_variable_declarator_new ("values[]", (BalaCCodeExpression*) _tmp304_, NULL);
			enum_decl = _tmp305_;
			_tmp306_ = en;
			_tmp307_ = bala_enum_get_is_flags (_tmp306_);
			_tmp308_ = _tmp307_;
			if (_tmp308_) {
				BalaCCodeDeclaration* _tmp309_;
				_tmp309_ = bala_ccode_declaration_new ("const GFlagsValue");
				_bala_ccode_node_unref0 (_cdecl_);
				_cdecl_ = _tmp309_;
			} else {
				BalaCCodeDeclaration* _tmp310_;
				_tmp310_ = bala_ccode_declaration_new ("const GEnumValue");
				_bala_ccode_node_unref0 (_cdecl_);
				_cdecl_ = _tmp310_;
			}
			_tmp311_ = _cdecl_;
			_tmp312_ = enum_decl;
			bala_ccode_declaration_add_declarator (_tmp311_, (BalaCCodeDeclarator*) _tmp312_);
			_tmp313_ = _cdecl_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp313_, BALA_CCODE_MODIFIERS_STATIC);
			_tmp314_ = type_init;
			_tmp315_ = _cdecl_;
			bala_ccode_block_add_statement (_tmp314_, (BalaCCodeNode*) _tmp315_);
			_tmp316_ = reg_call;
			_tmp317_ = bala_ccode_identifier_new ("values");
			_tmp318_ = _tmp317_;
			bala_ccode_function_call_add_argument (_tmp316_, (BalaCCodeExpression*) _tmp318_);
			_bala_ccode_node_unref0 (_tmp318_);
			_bala_ccode_node_unref0 (enum_decl);
			_bala_ccode_node_unref0 (clist_ev);
			_bala_ccode_node_unref0 (clist);
		} else {
			BalaCCodeFunctionCall* _tmp319_;
			BalaCCodeIdentifier* _tmp320_;
			BalaCCodeIdentifier* _tmp321_;
			BalaCCodeFunctionCall* _tmp325_;
			gchar* _tmp326_;
			gchar* _tmp327_;
			BalaCCodeConstant* _tmp328_;
			BalaCCodeConstant* _tmp329_;
			_tmp319_ = reg_call;
			_tmp320_ = bala_ccode_identifier_new ("&g_define_type_info");
			_tmp321_ = _tmp320_;
			bala_ccode_function_call_add_argument (_tmp319_, (BalaCCodeExpression*) _tmp321_);
			_bala_ccode_node_unref0 (_tmp321_);
			if (fundamental) {
				BalaCCodeFunctionCall* _tmp322_;
				BalaCCodeIdentifier* _tmp323_;
				BalaCCodeIdentifier* _tmp324_;
				_tmp322_ = reg_call;
				_tmp323_ = bala_ccode_identifier_new ("&g_define_type_fundamental_info");
				_tmp324_ = _tmp323_;
				bala_ccode_function_call_add_argument (_tmp322_, (BalaCCodeExpression*) _tmp324_);
				_bala_ccode_node_unref0 (_tmp324_);
			}
			_tmp325_ = reg_call;
			_tmp326_ = bala_typeregister_function_get_type_flags (self);
			_tmp327_ = _tmp326_;
			_tmp328_ = bala_ccode_constant_new (_tmp327_);
			_tmp329_ = _tmp328_;
			bala_ccode_function_call_add_argument (_tmp325_, (BalaCCodeExpression*) _tmp329_);
			_bala_ccode_node_unref0 (_tmp329_);
			_g_free0 (_tmp327_);
		}
	}
	_tmp330_ = bala_ccode_block_new ();
	once_call_block = _tmp330_;
	if (!plugin) {
		BalaCCodeDeclaration* temp_decl = NULL;
		BalaCCodeDeclaration* _tmp331_;
		BalaCCodeDeclaration* _tmp332_;
		const gchar* _tmp333_;
		BalaCCodeFunctionCall* _tmp334_;
		BalaCCodeVariableDeclarator* _tmp335_;
		BalaCCodeVariableDeclarator* _tmp336_;
		BalaCCodeBlock* _tmp337_;
		BalaCCodeDeclaration* _tmp338_;
		BalaCCodeDeclaration* _tmp339_;
		BalaCCodeDeclaration* _tmp340_;
		const gchar* _tmp341_;
		BalaCCodeFunction* _tmp342_;
		const gchar* _tmp343_;
		const gchar* _tmp344_;
		BalaCCodeIdentifier* _tmp345_;
		BalaCCodeIdentifier* _tmp346_;
		BalaCCodeFunctionCall* _tmp347_;
		BalaCCodeFunctionCall* _tmp348_;
		BalaCCodeVariableDeclarator* _tmp349_;
		BalaCCodeVariableDeclarator* _tmp350_;
		BalaCCodeBlock* _tmp351_;
		BalaCCodeDeclaration* _tmp352_;
		_tmp331_ = bala_ccode_declaration_new ("GType");
		temp_decl = _tmp331_;
		_tmp332_ = temp_decl;
		_tmp333_ = type_id_name;
		_tmp334_ = reg_call;
		_tmp335_ = bala_ccode_variable_declarator_new (_tmp333_, (BalaCCodeExpression*) _tmp334_, NULL);
		_tmp336_ = _tmp335_;
		bala_ccode_declaration_add_declarator (_tmp332_, (BalaCCodeDeclarator*) _tmp336_);
		_bala_ccode_node_unref0 (_tmp336_);
		_tmp337_ = type_init;
		_tmp338_ = temp_decl;
		bala_ccode_block_add_statement (_tmp337_, (BalaCCodeNode*) _tmp338_);
		_tmp339_ = bala_ccode_declaration_new ("GType");
		_bala_ccode_node_unref0 (temp_decl);
		temp_decl = _tmp339_;
		_tmp340_ = temp_decl;
		_tmp341_ = type_id_name;
		_tmp342_ = fun_once;
		_tmp343_ = bala_ccode_function_get_name (_tmp342_);
		_tmp344_ = _tmp343_;
		_tmp345_ = bala_ccode_identifier_new (_tmp344_);
		_tmp346_ = _tmp345_;
		_tmp347_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp346_);
		_tmp348_ = _tmp347_;
		_tmp349_ = bala_ccode_variable_declarator_new (_tmp341_, (BalaCCodeExpression*) _tmp348_, NULL);
		_tmp350_ = _tmp349_;
		bala_ccode_declaration_add_declarator (_tmp340_, (BalaCCodeDeclarator*) _tmp350_);
		_bala_ccode_node_unref0 (_tmp350_);
		_bala_ccode_node_unref0 (_tmp348_);
		_bala_ccode_node_unref0 (_tmp346_);
		_tmp351_ = once_call_block;
		_tmp352_ = temp_decl;
		bala_ccode_block_add_statement (_tmp351_, (BalaCCodeNode*) _tmp352_);
		_bala_ccode_node_unref0 (temp_decl);
	} else {
		BalaCCodeBlock* _tmp353_;
		const gchar* _tmp354_;
		BalaCCodeIdentifier* _tmp355_;
		BalaCCodeIdentifier* _tmp356_;
		BalaCCodeFunctionCall* _tmp357_;
		BalaCCodeAssignment* _tmp358_;
		BalaCCodeAssignment* _tmp359_;
		BalaCCodeExpressionStatement* _tmp360_;
		BalaCCodeExpressionStatement* _tmp361_;
		_tmp353_ = type_init;
		_tmp354_ = type_id_name;
		_tmp355_ = bala_ccode_identifier_new (_tmp354_);
		_tmp356_ = _tmp355_;
		_tmp357_ = reg_call;
		_tmp358_ = bala_ccode_assignment_new ((BalaCCodeExpression*) _tmp356_, (BalaCCodeExpression*) _tmp357_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp359_ = _tmp358_;
		_tmp360_ = bala_ccode_expression_statement_new ((BalaCCodeExpression*) _tmp359_);
		_tmp361_ = _tmp360_;
		bala_ccode_block_add_statement (_tmp353_, (BalaCCodeNode*) _tmp361_);
		_bala_ccode_node_unref0 (_tmp361_);
		_bala_ccode_node_unref0 (_tmp359_);
		_bala_ccode_node_unref0 (_tmp356_);
	}
	_tmp363_ = cl;
	if (_tmp363_ != NULL) {
		BalaClass* _tmp364_;
		gboolean _tmp365_;
		gboolean _tmp366_;
		_tmp364_ = cl;
		_tmp365_ = bala_class_get_has_class_private_fields (_tmp364_);
		_tmp366_ = _tmp365_;
		_tmp362_ = _tmp366_;
	} else {
		_tmp362_ = FALSE;
	}
	if (_tmp362_) {
		BalaCCodeFunctionCall* add_class_private_call = NULL;
		BalaCCodeIdentifier* _tmp367_;
		BalaCCodeIdentifier* _tmp368_;
		BalaCCodeFunctionCall* _tmp369_;
		BalaCCodeFunctionCall* _tmp370_;
		const gchar* _tmp371_;
		BalaCCodeIdentifier* _tmp372_;
		BalaCCodeIdentifier* _tmp373_;
		BalaCCodeFunctionCall* _tmp374_;
		BalaClass* _tmp375_;
		gchar* _tmp376_;
		gchar* _tmp377_;
		gchar* _tmp378_;
		gchar* _tmp379_;
		BalaCCodeIdentifier* _tmp380_;
		BalaCCodeIdentifier* _tmp381_;
		BalaCCodeBlock* _tmp382_;
		BalaCCodeFunctionCall* _tmp383_;
		BalaCCodeExpressionStatement* _tmp384_;
		BalaCCodeExpressionStatement* _tmp385_;
		_tmp367_ = bala_ccode_identifier_new ("g_type_add_class_private");
		_tmp368_ = _tmp367_;
		_tmp369_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp368_);
		_bala_ccode_node_unref0 (add_class_private_call);
		add_class_private_call = _tmp369_;
		_bala_ccode_node_unref0 (_tmp368_);
		_tmp370_ = add_class_private_call;
		_tmp371_ = type_id_name;
		_tmp372_ = bala_ccode_identifier_new (_tmp371_);
		_tmp373_ = _tmp372_;
		bala_ccode_function_call_add_argument (_tmp370_, (BalaCCodeExpression*) _tmp373_);
		_bala_ccode_node_unref0 (_tmp373_);
		_tmp374_ = add_class_private_call;
		_tmp375_ = cl;
		_tmp376_ = bala_get_ccode_type_name ((BalaObjectTypeSymbol*) _tmp375_);
		_tmp377_ = _tmp376_;
		_tmp378_ = g_strdup_printf ("sizeof (%sPrivate)", _tmp377_);
		_tmp379_ = _tmp378_;
		_tmp380_ = bala_ccode_identifier_new (_tmp379_);
		_tmp381_ = _tmp380_;
		bala_ccode_function_call_add_argument (_tmp374_, (BalaCCodeExpression*) _tmp381_);
		_bala_ccode_node_unref0 (_tmp381_);
		_g_free0 (_tmp379_);
		_g_free0 (_tmp377_);
		_tmp382_ = type_init;
		_tmp383_ = add_class_private_call;
		_tmp384_ = bala_ccode_expression_statement_new ((BalaCCodeExpression*) _tmp383_);
		_tmp385_ = _tmp384_;
		bala_ccode_block_add_statement (_tmp382_, (BalaCCodeNode*) _tmp385_);
		_bala_ccode_node_unref0 (_tmp385_);
		_bala_ccode_node_unref0 (add_class_private_call);
	}
	if (!declaration_only) {
		BalaCCodeBlock* _tmp386_;
		_tmp386_ = type_init;
		bala_typeregister_function_get_type_interface_init_statements (self, context, _tmp386_, plugin);
	}
	_tmp388_ = cl;
	if (_tmp388_ != NULL) {
		gboolean _tmp389_ = FALSE;
		BalaClass* _tmp390_;
		gboolean _tmp391_;
		gboolean _tmp392_;
		_tmp390_ = cl;
		_tmp391_ = bala_class_get_has_private_fields (_tmp390_);
		_tmp392_ = _tmp391_;
		if (_tmp392_) {
			_tmp389_ = TRUE;
		} else {
			BalaClass* _tmp393_;
			_tmp393_ = cl;
			_tmp389_ = bala_object_type_symbol_has_type_parameters ((BalaObjectTypeSymbol*) _tmp393_);
		}
		_tmp387_ = _tmp389_;
	} else {
		_tmp387_ = FALSE;
	}
	if (_tmp387_) {
		if (!plugin) {
			BalaCCodeFunctionCall* ccall = NULL;
			BalaCCodeIdentifier* _tmp394_;
			BalaCCodeIdentifier* _tmp395_;
			BalaCCodeFunctionCall* _tmp396_;
			BalaCCodeFunctionCall* _tmp397_;
			BalaCCodeFunctionCall* _tmp398_;
			const gchar* _tmp399_;
			BalaCCodeIdentifier* _tmp400_;
			BalaCCodeIdentifier* _tmp401_;
			BalaCCodeFunctionCall* _tmp402_;
			BalaClass* _tmp403_;
			gchar* _tmp404_;
			gchar* _tmp405_;
			gchar* _tmp406_;
			gchar* _tmp407_;
			BalaCCodeIdentifier* _tmp408_;
			BalaCCodeIdentifier* _tmp409_;
			BalaCCodeBlock* _tmp410_;
			BalaClass* _tmp411_;
			gchar* _tmp412_;
			gchar* _tmp413_;
			gchar* _tmp414_;
			gchar* _tmp415_;
			BalaCCodeIdentifier* _tmp416_;
			BalaCCodeIdentifier* _tmp417_;
			BalaCCodeFunctionCall* _tmp418_;
			BalaCCodeAssignment* _tmp419_;
			BalaCCodeAssignment* _tmp420_;
			BalaCCodeExpressionStatement* _tmp421_;
			BalaCCodeExpressionStatement* _tmp422_;
			_tmp394_ = bala_ccode_identifier_new ("g_type_add_instance_private");
			_tmp395_ = _tmp394_;
			_tmp396_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp395_);
			_tmp397_ = _tmp396_;
			_bala_ccode_node_unref0 (_tmp395_);
			ccall = _tmp397_;
			_tmp398_ = ccall;
			_tmp399_ = type_id_name;
			_tmp400_ = bala_ccode_identifier_new (_tmp399_);
			_tmp401_ = _tmp400_;
			bala_ccode_function_call_add_argument (_tmp398_, (BalaCCodeExpression*) _tmp401_);
			_bala_ccode_node_unref0 (_tmp401_);
			_tmp402_ = ccall;
			_tmp403_ = cl;
			_tmp404_ = bala_get_ccode_name ((BalaCodeNode*) _tmp403_);
			_tmp405_ = _tmp404_;
			_tmp406_ = g_strdup_printf ("sizeof (%sPrivate)", _tmp405_);
			_tmp407_ = _tmp406_;
			_tmp408_ = bala_ccode_identifier_new (_tmp407_);
			_tmp409_ = _tmp408_;
			bala_ccode_function_call_add_argument (_tmp402_, (BalaCCodeExpression*) _tmp409_);
			_bala_ccode_node_unref0 (_tmp409_);
			_g_free0 (_tmp407_);
			_g_free0 (_tmp405_);
			_tmp410_ = type_init;
			_tmp411_ = cl;
			_tmp412_ = bala_get_ccode_name ((BalaCodeNode*) _tmp411_);
			_tmp413_ = _tmp412_;
			_tmp414_ = g_strdup_printf ("%s_private_offset", _tmp413_);
			_tmp415_ = _tmp414_;
			_tmp416_ = bala_ccode_identifier_new (_tmp415_);
			_tmp417_ = _tmp416_;
			_tmp418_ = ccall;
			_tmp419_ = bala_ccode_assignment_new ((BalaCCodeExpression*) _tmp417_, (BalaCCodeExpression*) _tmp418_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
			_tmp420_ = _tmp419_;
			_tmp421_ = bala_ccode_expression_statement_new ((BalaCCodeExpression*) _tmp420_);
			_tmp422_ = _tmp421_;
			bala_ccode_block_add_statement (_tmp410_, (BalaCCodeNode*) _tmp422_);
			_bala_ccode_node_unref0 (_tmp422_);
			_bala_ccode_node_unref0 (_tmp420_);
			_bala_ccode_node_unref0 (_tmp417_);
			_g_free0 (_tmp415_);
			_g_free0 (_tmp413_);
			_bala_ccode_node_unref0 (ccall);
		} else {
			BalaCCodeBlock* _tmp423_;
			BalaClass* _tmp424_;
			gchar* _tmp425_;
			gchar* _tmp426_;
			gchar* _tmp427_;
			gchar* _tmp428_;
			BalaCCodeIdentifier* _tmp429_;
			BalaCCodeIdentifier* _tmp430_;
			BalaClass* _tmp431_;
			gchar* _tmp432_;
			gchar* _tmp433_;
			gchar* _tmp434_;
			gchar* _tmp435_;
			BalaCCodeIdentifier* _tmp436_;
			BalaCCodeIdentifier* _tmp437_;
			BalaCCodeAssignment* _tmp438_;
			BalaCCodeAssignment* _tmp439_;
			BalaCCodeExpressionStatement* _tmp440_;
			BalaCCodeExpressionStatement* _tmp441_;
			_tmp423_ = type_init;
			_tmp424_ = cl;
			_tmp425_ = bala_get_ccode_name ((BalaCodeNode*) _tmp424_);
			_tmp426_ = _tmp425_;
			_tmp427_ = g_strdup_printf ("%s_private_offset", _tmp426_);
			_tmp428_ = _tmp427_;
			_tmp429_ = bala_ccode_identifier_new (_tmp428_);
			_tmp430_ = _tmp429_;
			_tmp431_ = cl;
			_tmp432_ = bala_get_ccode_name ((BalaCodeNode*) _tmp431_);
			_tmp433_ = _tmp432_;
			_tmp434_ = g_strdup_printf ("sizeof (%sPrivate)", _tmp433_);
			_tmp435_ = _tmp434_;
			_tmp436_ = bala_ccode_identifier_new (_tmp435_);
			_tmp437_ = _tmp436_;
			_tmp438_ = bala_ccode_assignment_new ((BalaCCodeExpression*) _tmp430_, (BalaCCodeExpression*) _tmp437_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
			_tmp439_ = _tmp438_;
			_tmp440_ = bala_ccode_expression_statement_new ((BalaCCodeExpression*) _tmp439_);
			_tmp441_ = _tmp440_;
			bala_ccode_block_add_statement (_tmp423_, (BalaCCodeNode*) _tmp441_);
			_bala_ccode_node_unref0 (_tmp441_);
			_bala_ccode_node_unref0 (_tmp439_);
			_bala_ccode_node_unref0 (_tmp437_);
			_g_free0 (_tmp435_);
			_g_free0 (_tmp433_);
			_bala_ccode_node_unref0 (_tmp430_);
			_g_free0 (_tmp428_);
			_g_free0 (_tmp426_);
		}
	}
	if (!plugin) {
		BalaCCodeFunctionCall* enter = NULL;
		BalaCCodeIdentifier* _tmp442_;
		BalaCCodeIdentifier* _tmp443_;
		BalaCCodeFunctionCall* _tmp444_;
		BalaCCodeFunctionCall* _tmp445_;
		BalaCCodeFunctionCall* _tmp446_;
		const gchar* _tmp447_;
		gchar* _tmp448_;
		gchar* _tmp449_;
		BalaCCodeIdentifier* _tmp450_;
		BalaCCodeIdentifier* _tmp451_;
		BalaCCodeUnaryExpression* _tmp452_;
		BalaCCodeUnaryExpression* _tmp453_;
		BalaCCodeFunctionCall* leave = NULL;
		BalaCCodeIdentifier* _tmp454_;
		BalaCCodeIdentifier* _tmp455_;
		BalaCCodeFunctionCall* _tmp456_;
		BalaCCodeFunctionCall* _tmp457_;
		BalaCCodeFunctionCall* _tmp458_;
		const gchar* _tmp459_;
		gchar* _tmp460_;
		gchar* _tmp461_;
		BalaCCodeIdentifier* _tmp462_;
		BalaCCodeIdentifier* _tmp463_;
		BalaCCodeUnaryExpression* _tmp464_;
		BalaCCodeUnaryExpression* _tmp465_;
		BalaCCodeFunctionCall* _tmp466_;
		const gchar* _tmp467_;
		BalaCCodeIdentifier* _tmp468_;
		BalaCCodeIdentifier* _tmp469_;
		BalaCCodeBlock* _tmp470_;
		BalaCCodeFunctionCall* _tmp471_;
		BalaCCodeExpressionStatement* _tmp472_;
		BalaCCodeExpressionStatement* _tmp473_;
		BalaCCodeIfStatement* cif = NULL;
		BalaCCodeFunctionCall* _tmp474_;
		BalaCCodeBlock* _tmp475_;
		BalaCCodeIfStatement* _tmp476_;
		BalaCCodeBlock* _tmp477_;
		BalaCCodeIfStatement* _tmp478_;
		BalaCCodeBlock* _tmp479_;
		const gchar* _tmp480_;
		gchar* _tmp481_;
		gchar* _tmp482_;
		BalaCCodeIdentifier* _tmp483_;
		BalaCCodeIdentifier* _tmp484_;
		BalaCCodeReturnStatement* _tmp485_;
		BalaCCodeReturnStatement* _tmp486_;
		BalaCCodeBlock* _tmp487_;
		BalaCCodeBlock* _tmp488_;
		BalaCCodeBlock* _tmp489_;
		const gchar* _tmp490_;
		BalaCCodeIdentifier* _tmp491_;
		BalaCCodeIdentifier* _tmp492_;
		BalaCCodeReturnStatement* _tmp493_;
		BalaCCodeReturnStatement* _tmp494_;
		_tmp442_ = bala_ccode_identifier_new ("g_once_init_enter");
		_tmp443_ = _tmp442_;
		_tmp444_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp443_);
		_tmp445_ = _tmp444_;
		_bala_ccode_node_unref0 (_tmp443_);
		enter = _tmp445_;
		_tmp446_ = enter;
		_tmp447_ = type_id_name;
		_tmp448_ = g_strconcat (_tmp447_, "__volatile", NULL);
		_tmp449_ = _tmp448_;
		_tmp450_ = bala_ccode_identifier_new (_tmp449_);
		_tmp451_ = _tmp450_;
		_tmp452_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp451_);
		_tmp453_ = _tmp452_;
		bala_ccode_function_call_add_argument (_tmp446_, (BalaCCodeExpression*) _tmp453_);
		_bala_ccode_node_unref0 (_tmp453_);
		_bala_ccode_node_unref0 (_tmp451_);
		_g_free0 (_tmp449_);
		_tmp454_ = bala_ccode_identifier_new ("g_once_init_leave");
		_tmp455_ = _tmp454_;
		_tmp456_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp455_);
		_tmp457_ = _tmp456_;
		_bala_ccode_node_unref0 (_tmp455_);
		leave = _tmp457_;
		_tmp458_ = leave;
		_tmp459_ = type_id_name;
		_tmp460_ = g_strconcat (_tmp459_, "__volatile", NULL);
		_tmp461_ = _tmp460_;
		_tmp462_ = bala_ccode_identifier_new (_tmp461_);
		_tmp463_ = _tmp462_;
		_tmp464_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp463_);
		_tmp465_ = _tmp464_;
		bala_ccode_function_call_add_argument (_tmp458_, (BalaCCodeExpression*) _tmp465_);
		_bala_ccode_node_unref0 (_tmp465_);
		_bala_ccode_node_unref0 (_tmp463_);
		_g_free0 (_tmp461_);
		_tmp466_ = leave;
		_tmp467_ = type_id_name;
		_tmp468_ = bala_ccode_identifier_new (_tmp467_);
		_tmp469_ = _tmp468_;
		bala_ccode_function_call_add_argument (_tmp466_, (BalaCCodeExpression*) _tmp469_);
		_bala_ccode_node_unref0 (_tmp469_);
		_tmp470_ = once_call_block;
		_tmp471_ = leave;
		_tmp472_ = bala_ccode_expression_statement_new ((BalaCCodeExpression*) _tmp471_);
		_tmp473_ = _tmp472_;
		bala_ccode_block_add_statement (_tmp470_, (BalaCCodeNode*) _tmp473_);
		_bala_ccode_node_unref0 (_tmp473_);
		_tmp474_ = enter;
		_tmp475_ = once_call_block;
		_tmp476_ = bala_ccode_if_statement_new ((BalaCCodeExpression*) _tmp474_, (BalaCCodeStatement*) _tmp475_, NULL);
		cif = _tmp476_;
		_tmp477_ = type_block;
		_tmp478_ = cif;
		bala_ccode_block_add_statement (_tmp477_, (BalaCCodeNode*) _tmp478_);
		_tmp479_ = type_block;
		_tmp480_ = type_id_name;
		_tmp481_ = g_strconcat (_tmp480_, "__volatile", NULL);
		_tmp482_ = _tmp481_;
		_tmp483_ = bala_ccode_identifier_new (_tmp482_);
		_tmp484_ = _tmp483_;
		_tmp485_ = bala_ccode_return_statement_new ((BalaCCodeExpression*) _tmp484_);
		_tmp486_ = _tmp485_;
		bala_ccode_block_add_statement (_tmp479_, (BalaCCodeNode*) _tmp486_);
		_bala_ccode_node_unref0 (_tmp486_);
		_bala_ccode_node_unref0 (_tmp484_);
		_g_free0 (_tmp482_);
		_tmp487_ = type_init;
		_tmp488_ = _bala_ccode_node_ref0 (_tmp487_);
		_bala_ccode_node_unref0 (type_once_block);
		type_once_block = _tmp488_;
		_tmp489_ = type_once_block;
		_tmp490_ = type_id_name;
		_tmp491_ = bala_ccode_identifier_new (_tmp490_);
		_tmp492_ = _tmp491_;
		_tmp493_ = bala_ccode_return_statement_new ((BalaCCodeExpression*) _tmp492_);
		_tmp494_ = _tmp493_;
		bala_ccode_block_add_statement (_tmp489_, (BalaCCodeNode*) _tmp494_);
		_bala_ccode_node_unref0 (_tmp494_);
		_bala_ccode_node_unref0 (_tmp492_);
		_bala_ccode_node_unref0 (cif);
		_bala_ccode_node_unref0 (leave);
		_bala_ccode_node_unref0 (enter);
	} else {
		BalaCCodeBlock* _tmp495_;
		BalaCCodeBlock* _tmp496_;
		BalaCCodeBlock* _tmp497_;
		const gchar* _tmp498_;
		BalaCCodeIdentifier* _tmp499_;
		BalaCCodeIdentifier* _tmp500_;
		BalaCCodeReturnStatement* _tmp501_;
		BalaCCodeReturnStatement* _tmp502_;
		_tmp495_ = type_init;
		_tmp496_ = _bala_ccode_node_ref0 (_tmp495_);
		_bala_ccode_node_unref0 (type_block);
		type_block = _tmp496_;
		_tmp497_ = type_block;
		_tmp498_ = type_id_name;
		_tmp499_ = bala_ccode_identifier_new (_tmp498_);
		_tmp500_ = _tmp499_;
		_tmp501_ = bala_ccode_return_statement_new ((BalaCCodeExpression*) _tmp500_);
		_tmp502_ = _tmp501_;
		bala_ccode_block_add_statement (_tmp497_, (BalaCCodeNode*) _tmp502_);
		_bala_ccode_node_unref0 (_tmp502_);
		_bala_ccode_node_unref0 (_tmp500_);
	}
	if (!plugin) {
		BalaCCodeFunction* _tmp503_;
		BalaCCodeBlock* _tmp504_;
		BalaCCodeFragment* _tmp505_;
		BalaCCodeFunction* _tmp506_;
		_tmp503_ = fun_once;
		_tmp504_ = type_once_block;
		bala_ccode_function_set_block (_tmp503_, _tmp504_);
		_tmp505_ = self->priv->definition_fragment;
		_tmp506_ = fun_once;
		bala_ccode_fragment_append (_tmp505_, (BalaCCodeNode*) _tmp506_);
	}
	_tmp507_ = fun;
	_tmp508_ = type_block;
	bala_ccode_function_set_block (_tmp507_, _tmp508_);
	_tmp509_ = self->priv->definition_fragment;
	_tmp510_ = fun;
	bala_ccode_fragment_append (_tmp509_, (BalaCCodeNode*) _tmp510_);
	_bala_ccode_node_unref0 (once_call_block);
	_bala_ccode_node_unref0 (reg_call);
	_bala_ccode_node_unref0 (type_init);
	_g_free0 (type_value_table_decl_name);
	_bala_ccode_node_unref0 (fun_once);
	_bala_ccode_node_unref0 (fun);
	_bala_ccode_node_unref0 (_cdecl_);
	_bala_ccode_node_unref0 (type_once_block);
	_bala_ccode_node_unref0 (type_block);
	_g_free0 (type_id_name);
	_bala_code_node_unref0 (type_symbol);
}

/**
 * Returns the data type to be registered.
 *
 * @return type to be registered
 */
static BalaTypeSymbol*
bala_typeregister_function_real_get_type_declaration (BalaTypeRegisterFunction* self)
{
	g_critical ("Type `%s' does not implement abstract method `bala_typeregister_function_get_type_declaration'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTypeSymbol*
bala_typeregister_function_get_type_declaration (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_declaration (self);
}

/**
 * Returns the name of the type struct in C code.
 *
 * @return C struct name
 */
static gchar*
bala_typeregister_function_real_get_type_struct_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_type_struct_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_struct_name (self);
}

/**
 * Returns the name of the base_init function in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_base_init_func_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_base_init_func_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_base_init_func_name (self);
}

/**
 * Returns the name of the class_finalize function in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_class_finalize_func_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_class_finalize_func_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_class_finalize_func_name (self);
}

/**
 * Returns the name of the base_finalize function in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_base_finalize_func_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_base_finalize_func_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_base_finalize_func_name (self);
}

/**
 * Returns the name of the class_init function in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_class_init_func_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_class_init_func_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_class_init_func_name (self);
}

/**
 * Returns the size of the instance struct in C code.
 *
 * @return C instance struct size
 */
static gchar*
bala_typeregister_function_real_get_instance_struct_size (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_instance_struct_size (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_instance_struct_size (self);
}

/**
 * Returns the name of the instance_init function in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_instance_init_func_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_instance_init_func_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_instance_init_func_name (self);
}

/**
 * Returns the name of the parent type in C code.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_parent_type_name (BalaTypeRegisterFunction* self)
{
	g_assert_not_reached ();
}

gchar*
bala_typeregister_function_get_parent_type_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_parent_type_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable init function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_init_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_init_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_init_function_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable peek pointer function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_peek_pointer_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_peek_pointer_function_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable free function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_free_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_free_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_free_function_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable copy function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_copy_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_copy_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_copy_function_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable lcopy function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_lcopy_value_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_lcopy_value_function_name (self);
}

/**
 * Returns the C-name of the new generated GTypeValueTable collect value function or null when not available.
 *
 * @return C function name
 */
static gchar*
bala_typeregister_function_real_get_gtype_value_table_collect_value_function_name (BalaTypeRegisterFunction* self)
{
	gchar* result = NULL;
	result = NULL;
	return result;
}

gchar*
bala_typeregister_function_get_gtype_value_table_collect_value_function_name (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_collect_value_function_name (self);
}

/**
 * Returns the set of type flags to be applied when registering.
 *
 * @return type flags
 */
static gchar*
bala_typeregister_function_real_get_type_flags (BalaTypeRegisterFunction* self)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	_tmp0_ = g_strdup ("0");
	result = _tmp0_;
	return result;
}

gchar*
bala_typeregister_function_get_type_flags (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_flags (self);
}

/**
 * Returns additional C declarations to setup interfaces.
 *
 * @return C declarations
 */
static BalaCCodeFragment*
bala_typeregister_function_real_get_type_interface_init_declaration (BalaTypeRegisterFunction* self)
{
	BalaCCodeFragment* _tmp0_;
	BalaCCodeFragment* result = NULL;
	_tmp0_ = bala_ccode_fragment_new ();
	result = _tmp0_;
	return result;
}

BalaCCodeFragment*
bala_typeregister_function_get_type_interface_init_declaration (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_interface_init_declaration (self);
}

/**
 * Returns additional C initialization statements to setup interfaces.
 */
static void
bala_typeregister_function_real_get_type_interface_init_statements (BalaTypeRegisterFunction* self,
                                                                    BalaCodeContext* context,
                                                                    BalaCCodeBlock* block,
                                                                    gboolean plugin)
{
	g_return_if_fail (context != NULL);
	g_return_if_fail (block != NULL);
}

void
bala_typeregister_function_get_type_interface_init_statements (BalaTypeRegisterFunction* self,
                                                               BalaCodeContext* context,
                                                               BalaCCodeBlock* block,
                                                               gboolean plugin)
{
	g_return_if_fail (self != NULL);
	BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_interface_init_statements (self, context, block, plugin);
}

BalaCCodeFragment*
bala_typeregister_function_get_source_declaration (BalaTypeRegisterFunction* self)
{
	BalaCCodeFragment* _tmp0_;
	BalaCCodeFragment* _tmp1_;
	BalaCCodeFragment* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->source_declaration_fragment;
	_tmp1_ = _bala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}

/**
 * Returns the declaration for this type register function in C code.
 *
 * @return C function declaration fragment
 */
BalaCCodeFragment*
bala_typeregister_function_get_declaration (BalaTypeRegisterFunction* self)
{
	BalaCCodeFragment* _tmp0_;
	BalaCCodeFragment* _tmp1_;
	BalaCCodeFragment* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->declaration_fragment;
	_tmp1_ = _bala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}

/**
 * Returns the definition for this type register function in C code.
 *
 * @return C function definition fragment
 */
BalaCCodeFragment*
bala_typeregister_function_get_definition (BalaTypeRegisterFunction* self)
{
	BalaCCodeFragment* _tmp0_;
	BalaCCodeFragment* _tmp1_;
	BalaCCodeFragment* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->definition_fragment;
	_tmp1_ = _bala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}

/**
 * Returns the accessibility for this type.
 */
static BalaSymbolAccessibility
bala_typeregister_function_real_get_accessibility (BalaTypeRegisterFunction* self)
{
	g_critical ("Type `%s' does not implement abstract method `bala_typeregister_function_get_accessibility'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return 0;
}

BalaSymbolAccessibility
bala_typeregister_function_get_accessibility (BalaTypeRegisterFunction* self)
{
	g_return_val_if_fail (self != NULL, 0);
	return BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_accessibility (self);
}

BalaTypeRegisterFunction*
bala_typeregister_function_construct (GType object_type)
{
	BalaTypeRegisterFunction* self = NULL;
	self = (BalaTypeRegisterFunction*) g_type_create_instance (object_type);
	return self;
}

static void
bala_value_typeregister_function_init (GValue* value)
{
	value->data[0].v_pointer = NULL;
}

static void
bala_value_typeregister_function_free_value (GValue* value)
{
	if (value->data[0].v_pointer) {
		bala_typeregister_function_unref (value->data[0].v_pointer);
	}
}

static void
bala_value_typeregister_function_copy_value (const GValue* src_value,
                                             GValue* dest_value)
{
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = bala_typeregister_function_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}

static gpointer
bala_value_typeregister_function_peek_pointer (const GValue* value)
{
	return value->data[0].v_pointer;
}

static gchar*
bala_value_typeregister_function_collect_value (GValue* value,
                                                guint n_collect_values,
                                                GTypeCValue* collect_values,
                                                guint collect_flags)
{
	if (collect_values[0].v_pointer) {
		BalaTypeRegisterFunction * object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = bala_typeregister_function_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}

static gchar*
bala_value_typeregister_function_lcopy_value (const GValue* value,
                                              guint n_collect_values,
                                              GTypeCValue* collect_values,
                                              guint collect_flags)
{
	BalaTypeRegisterFunction ** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = bala_typeregister_function_ref (value->data[0].v_pointer);
	}
	return NULL;
}

GParamSpec*
bala_param_spec_typeregister_function (const gchar* name,
                                       const gchar* nick,
                                       const gchar* blurb,
                                       GType object_type,
                                       GParamFlags flags)
{
	BalaParamSpecTypeRegisterFunction* spec;
	g_return_val_if_fail (g_type_is_a (object_type, BALA_TYPE_TYPEREGISTER_FUNCTION), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}

gpointer
bala_value_get_typeregister_function (const GValue* value)
{
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_TYPE_TYPEREGISTER_FUNCTION), NULL);
	return value->data[0].v_pointer;
}

void
bala_value_set_typeregister_function (GValue* value,
                                      gpointer v_object)
{
	BalaTypeRegisterFunction * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_TYPE_TYPEREGISTER_FUNCTION));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_TYPE_TYPEREGISTER_FUNCTION));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		bala_typeregister_function_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_typeregister_function_unref (old);
	}
}

void
bala_value_take_typeregister_function (GValue* value,
                                       gpointer v_object)
{
	BalaTypeRegisterFunction * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_TYPE_TYPEREGISTER_FUNCTION));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_TYPE_TYPEREGISTER_FUNCTION));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_typeregister_function_unref (old);
	}
}

static void
bala_typeregister_function_class_init (BalaTypeRegisterFunctionClass * klass,
                                       gpointer klass_data)
{
	bala_typeregister_function_parent_class = g_type_class_peek_parent (klass);
	((BalaTypeRegisterFunctionClass *) klass)->finalize = bala_typeregister_function_finalize;
	g_type_class_adjust_private_offset (klass, &BalaTypeRegisterFunction_private_offset);
	((BalaTypeRegisterFunctionClass *) klass)->get_type_declaration = (BalaTypeSymbol* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_type_declaration;
	((BalaTypeRegisterFunctionClass *) klass)->get_type_struct_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_type_struct_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_base_init_func_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_base_init_func_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_class_finalize_func_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_class_finalize_func_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_base_finalize_func_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_base_finalize_func_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_class_init_func_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_class_init_func_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_instance_struct_size = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_instance_struct_size;
	((BalaTypeRegisterFunctionClass *) klass)->get_instance_init_func_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_instance_init_func_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_parent_type_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_parent_type_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_init_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_init_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_peek_pointer_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_free_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_free_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_copy_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_copy_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_lcopy_value_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_gtype_value_table_collect_value_function_name = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_gtype_value_table_collect_value_function_name;
	((BalaTypeRegisterFunctionClass *) klass)->get_type_flags = (gchar* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_type_flags;
	((BalaTypeRegisterFunctionClass *) klass)->get_type_interface_init_declaration = (BalaCCodeFragment* (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_type_interface_init_declaration;
	((BalaTypeRegisterFunctionClass *) klass)->get_type_interface_init_statements = (void (*) (BalaTypeRegisterFunction*, BalaCodeContext*, BalaCCodeBlock*, gboolean)) bala_typeregister_function_real_get_type_interface_init_statements;
	((BalaTypeRegisterFunctionClass *) klass)->get_accessibility = (BalaSymbolAccessibility (*) (BalaTypeRegisterFunction*)) bala_typeregister_function_real_get_accessibility;
}

static void
bala_typeregister_function_instance_init (BalaTypeRegisterFunction * self,
                                          gpointer klass)
{
	BalaCCodeFragment* _tmp0_;
	BalaCCodeFragment* _tmp1_;
	BalaCCodeFragment* _tmp2_;
	self->priv = bala_typeregister_function_get_instance_private (self);
	_tmp0_ = bala_ccode_fragment_new ();
	self->priv->source_declaration_fragment = _tmp0_;
	_tmp1_ = bala_ccode_fragment_new ();
	self->priv->declaration_fragment = _tmp1_;
	_tmp2_ = bala_ccode_fragment_new ();
	self->priv->definition_fragment = _tmp2_;
	self->ref_count = 1;
}

static void
bala_typeregister_function_finalize (BalaTypeRegisterFunction * obj)
{
	BalaTypeRegisterFunction * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_TYPE_TYPEREGISTER_FUNCTION, BalaTypeRegisterFunction);
	g_signal_handlers_destroy (self);
	_bala_ccode_node_unref0 (self->priv->source_declaration_fragment);
	_bala_ccode_node_unref0 (self->priv->declaration_fragment);
	_bala_ccode_node_unref0 (self->priv->definition_fragment);
}

/**
 * C function to register a type at runtime.
 */
static GType
bala_typeregister_function_get_type_once (void)
{
	static const GTypeValueTable g_define_type_value_table = { bala_value_typeregister_function_init, bala_value_typeregister_function_free_value, bala_value_typeregister_function_copy_value, bala_value_typeregister_function_peek_pointer, "p", bala_value_typeregister_function_collect_value, "p", bala_value_typeregister_function_lcopy_value };
	static const GTypeInfo g_define_type_info = { sizeof (BalaTypeRegisterFunctionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_typeregister_function_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaTypeRegisterFunction), 0, (GInstanceInitFunc) bala_typeregister_function_instance_init, &g_define_type_value_table };
	static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
	GType bala_typeregister_function_type_id;
	bala_typeregister_function_type_id = g_type_register_fundamental (g_type_fundamental_next (), "BalaTypeRegisterFunction", &g_define_type_info, &g_define_type_fundamental_info, G_TYPE_FLAG_ABSTRACT);
	BalaTypeRegisterFunction_private_offset = g_type_add_instance_private (bala_typeregister_function_type_id, sizeof (BalaTypeRegisterFunctionPrivate));
	return bala_typeregister_function_type_id;
}

GType
bala_typeregister_function_get_type (void)
{
	static volatile gsize bala_typeregister_function_type_id__volatile = 0;
	if (g_once_init_enter (&bala_typeregister_function_type_id__volatile)) {
		GType bala_typeregister_function_type_id;
		bala_typeregister_function_type_id = bala_typeregister_function_get_type_once ();
		g_once_init_leave (&bala_typeregister_function_type_id__volatile, bala_typeregister_function_type_id);
	}
	return bala_typeregister_function_type_id__volatile;
}

gpointer
bala_typeregister_function_ref (gpointer instance)
{
	BalaTypeRegisterFunction * self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}

void
bala_typeregister_function_unref (gpointer instance)
{
	BalaTypeRegisterFunction * self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		BALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}

