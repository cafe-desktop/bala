/* balaccodebasemodule.c generated by balac, the Bala compiler
 * generated from balaccodebasemodule.bala, do not modify */

/* balaccodebasemodule.bala
 *
 * Copyright (C) 2006-2012  Jürg Billeter
 * Copyright (C) 2006-2008  Raffaele Sandrini
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 * 	Raffaele Sandrini <raffaele@sandrini.ch>
 */

#include "balacodegen.h"
#include <bala.h>
#include <balagee.h>
#include <glib-object.h>
#include <balaccode.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include <glib/gstdio.h>
#include <float.h>
#include <math.h>
#include <gobject/gvaluecollector.h>

#define _bala_code_context_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_context_unref (var), NULL)))
#define _bala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_node_unref (var), NULL)))
#define _bala_ccode_base_module_emit_context_unref0(var) ((var == NULL) ? NULL : (var = (bala_ccode_base_module_emit_context_unref (var), NULL)))
#define _bala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterable_unref (var), NULL)))
#define _bala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_ccode_node_unref (var), NULL)))
#define _bala_ccode_file_unref0(var) ((var == NULL) ? NULL : (var = (bala_ccode_file_unref (var), NULL)))
#define _bala_map_unref0(var) ((var == NULL) ? NULL : (var = (bala_map_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _bala_source_file_unref0(var) ((var == NULL) ? NULL : (var = (bala_source_file_unref (var), NULL)))
#define _fclose0(var) ((var == NULL) ? NULL : (var = (fclose (var), NULL)))
#define _bala_comment_unref0(var) ((var == NULL) ? NULL : (var = (bala_comment_unref (var), NULL)))
#define _bala_ccode_declarator_suffix_unref0(var) ((var == NULL) ? NULL : (var = (bala_ccode_declarator_suffix_unref (var), NULL)))
#define _bala_target_value_unref0(var) ((var == NULL) ? NULL : (var = (bala_target_value_unref (var), NULL)))
#define _bala_iterator_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterator_unref (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
typedef struct _BalaCCodeBaseModuleParamSpecEmitContext BalaCCodeBaseModuleParamSpecEmitContext;
#define _bala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _bala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _bala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _bala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _BalaCCodeBaseModulePrivate {
	BalaCodeContext* _context;
	BalaList* emit_context_stack;
	BalaList* line_directive_stack;
	gint next_block_id;
	BalaMap* block_map;
	BalaMap* method_inner_error_var_count;
	BalaDelegate* destroy_notify;
	BalaClass* gerror;
	BalaSet* generated_external_symbols;
	gint next_variant_function_id;
};

struct _BalaCCodeBaseModuleParamSpecEmitContext {
	GParamSpec parent_instance;
};

static gint BalaCCodeBaseModule_private_offset;
static gpointer bala_ccode_base_module_parent_class = NULL;
BalaSet* bala_ccode_base_module_reserved_identifiers = NULL;
gint bala_ccode_base_module_ccode_attribute_cache_index = 0;
static gpointer bala_ccode_base_module_emit_context_parent_class = NULL;

static void bala_ccode_base_module_real_emit (BalaCodeGenerator* base,
                                       BalaCodeContext* context);
static void bala_ccode_base_module_real_append_bala_array_free (BalaCCodeBaseModule* self);
static void bala_ccode_base_module_real_append_bala_array_move (BalaCCodeBaseModule* self);
static void bala_ccode_base_module_real_append_bala_array_length (BalaCCodeBaseModule* self);
static void bala_ccode_base_module_real_append_params_array (BalaCCodeBaseModule* self,
                                                      BalaMethod* m);
static void bala_ccode_base_module_real_visit_source_file (BalaCodeVisitor* base,
                                                    BalaSourceFile* source_file);
static gboolean bala_ccode_base_module_real_generate_enum_declaration (BalaCCodeBaseModule* self,
                                                                BalaEnum* en,
                                                                BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_visit_enum (BalaCodeVisitor* base,
                                             BalaEnum* en);
static void bala_ccode_base_module_constant_array_ranks_sizes (BalaInitializerList* initializer_list,
                                                        gint* sizes,
                                                        gint sizes_length1,
                                                        gint rank);
static BalaCCodeDeclaratorSuffix* bala_ccode_base_module_get_constant_declarator_suffix (BalaCCodeBaseModule* self,
                                                                                  BalaConstant* c);
static void bala_ccode_base_module_real_visit_constant (BalaCodeVisitor* base,
                                                 BalaConstant* c);
static void bala_ccode_base_module_real_visit_field (BalaCodeVisitor* base,
                                              BalaField* f);
static void bala_ccode_base_module_real_visit_property (BalaCodeVisitor* base,
                                                 BalaProperty* prop);
static void bala_ccode_base_module_real_generate_class_struct_declaration (BalaCCodeBaseModule* self,
                                                                    BalaClass* cl,
                                                                    BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_generate_struct_declaration (BalaCCodeBaseModule* self,
                                                              BalaStruct* st,
                                                              BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_generate_delegate_declaration (BalaCCodeBaseModule* self,
                                                                BalaDelegate* d,
                                                                BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_generate_cparameters (BalaCCodeBaseModule* self,
                                                       BalaMethod* m,
                                                       BalaCCodeFile* decl_space,
                                                       BalaMap* cparam_map,
                                                       BalaCCodeFunction* func,
                                                       BalaCCodeFunctionDeclarator* vdeclarator,
                                                       BalaMap* carg_map,
                                                       BalaCCodeFunctionCall* vcall,
                                                       gint direction);
static void bala_ccode_base_module_real_visit_property_accessor (BalaCodeVisitor* base,
                                                          BalaPropertyAccessor* acc);
static void bala_ccode_base_module_create_property_type_check_statement (BalaCCodeBaseModule* self,
                                                                  BalaProperty* prop,
                                                                  gboolean check_return_type,
                                                                  BalaTypeSymbol* t,
                                                                  gboolean non_null,
                                                                  const gchar* var_name);
static gchar* bala_ccode_base_module_generate_cmp_wrapper (BalaCCodeBaseModule* self,
                                                    BalaCCodeIdentifier* cmpid);
static gchar* bala_ccode_base_module_generate_struct_equal_function (BalaCCodeBaseModule* self,
                                                              BalaStruct* st);
static void bala_ccode_base_module_real_visit_destructor (BalaCodeVisitor* base,
                                                   BalaDestructor* d);
static void bala_ccode_base_module_capture_parameter (BalaCCodeBaseModule* self,
                                               BalaParameter* param,
                                               BalaCCodeStruct* data,
                                               gint block_id);
static void bala_ccode_base_module_real_visit_block (BalaCodeVisitor* base,
                                              BalaBlock* b);
static void bala_ccode_base_module_real_visit_declaration_statement (BalaCodeVisitor* base,
                                                              BalaDeclarationStatement* stmt);
static gboolean bala_ccode_base_module_is_foreach_element_variable (BalaLocalVariable* local);
static void bala_ccode_base_module_real_visit_local_variable (BalaCodeVisitor* base,
                                                       BalaLocalVariable* local);
static void bala_ccode_base_module_real_visit_initializer_list (BalaCodeVisitor* base,
                                                         BalaInitializerList* list);
static gboolean bala_ccode_base_module_is_in_generic_type (BalaCCodeBaseModule* self,
                                                    BalaGenericType* type);
static void bala_ccode_base_module_require_generic_accessors (BalaCCodeBaseModule* self,
                                                       BalaInterface* iface);
static BalaCCodeExpression* bala_ccode_base_module_real_get_dup_func_expression (BalaCCodeBaseModule* self,
                                                                          BalaDataType* type,
                                                                          BalaSourceReference* source_reference,
                                                                          gboolean is_chainup);
static gchar* bala_ccode_base_module_generate_struct_dup_wrapper (BalaCCodeBaseModule* self,
                                                           BalaValueType* value_type);
static void bala_ccode_base_module_make_comparable_cexpression (BalaCCodeBaseModule* self,
                                                         BalaDataType* * left_type,
                                                         BalaCCodeExpression* * cleft,
                                                         BalaDataType* * right_type,
                                                         BalaCCodeExpression* * cright);
static gchar* bala_ccode_base_module_generate_numeric_equal_function (BalaCCodeBaseModule* self,
                                                               BalaTypeSymbol* sym);
static void bala_ccode_base_module_generate_struct_copy_function (BalaCCodeBaseModule* self,
                                                           BalaStruct* st);
static void bala_ccode_base_module_generate_struct_destroy_function (BalaCCodeBaseModule* self,
                                                              BalaStruct* st);
static gchar* bala_ccode_base_module_generate_collection_free_wrapper (BalaCCodeBaseModule* self,
                                                                BalaDataType* collection_type,
                                                                BalaCCodeIdentifier* element_destroy_func_expression);
static gchar* bala_ccode_base_module_real_append_struct_array_destroy (BalaCCodeBaseModule* self,
                                                                BalaStruct* st);
static gchar* bala_ccode_base_module_real_append_struct_array_free (BalaCCodeBaseModule* self,
                                                             BalaStruct* st);
static BalaCCodeExpression* bala_ccode_base_module_real_destroy_value (BalaCCodeBaseModule* self,
                                                                BalaTargetValue* value,
                                                                gboolean is_macro_definition);
static void bala_ccode_base_module_real_visit_end_full_expression (BalaCodeVisitor* base,
                                                            BalaExpression* expr);
static void bala_ccode_base_module_real_visit_expression_statement (BalaCodeVisitor* base,
                                                             BalaExpressionStatement* stmt);
static void bala_ccode_base_module_real_append_scope_free (BalaCCodeBaseModule* self,
                                                    BalaSymbol* sym,
                                                    BalaCodeNode* stop_at);
static void bala_ccode_base_module_append_param_free (BalaCCodeBaseModule* self,
                                               BalaMethod* m);
static void bala_ccode_base_module_real_visit_return_statement (BalaCodeVisitor* base,
                                                         BalaReturnStatement* stmt);
static BalaCCodeExpression* bala_ccode_base_module_get_lock_expression (BalaCCodeBaseModule* self,
                                                                 BalaStatement* stmt,
                                                                 BalaExpression* resource);
static void bala_ccode_base_module_real_visit_lock_statement (BalaCodeVisitor* base,
                                                       BalaLockStatement* stmt);
static void bala_ccode_base_module_real_visit_unlock_statement (BalaCodeVisitor* base,
                                                         BalaUnlockStatement* stmt);
static void bala_ccode_base_module_real_visit_delete_statement (BalaCodeVisitor* base,
                                                         BalaDeleteStatement* stmt);
static gboolean bala_ccode_base_module_is_compact_class_destructor_call (BalaExpression* expr);
static void bala_ccode_base_module_real_visit_expression (BalaCodeVisitor* base,
                                                   BalaExpression* expr);
static void bala_ccode_base_module_real_visit_boolean_literal (BalaCodeVisitor* base,
                                                        BalaBooleanLiteral* expr);
static void bala_ccode_base_module_real_visit_character_literal (BalaCodeVisitor* base,
                                                          BalaCharacterLiteral* expr);
static void bala_ccode_base_module_real_visit_integer_literal (BalaCodeVisitor* base,
                                                        BalaIntegerLiteral* expr);
static void bala_ccode_base_module_real_visit_real_literal (BalaCodeVisitor* base,
                                                     BalaRealLiteral* expr);
static void bala_ccode_base_module_real_visit_string_literal (BalaCodeVisitor* base,
                                                       BalaStringLiteral* expr);
static void bala_ccode_base_module_real_visit_regex_literal (BalaCodeVisitor* base,
                                                      BalaRegexLiteral* expr);
static void bala_ccode_base_module_real_visit_null_literal (BalaCodeVisitor* base,
                                                     BalaNullLiteral* expr);
static BalaTargetValue* bala_ccode_base_module_real_get_local_cvalue (BalaCCodeBaseModule* self,
                                                               BalaLocalVariable* local);
static BalaTargetValue* bala_ccode_base_module_real_get_parameter_cvalue (BalaCCodeBaseModule* self,
                                                                   BalaParameter* param);
static BalaTargetValue* bala_ccode_base_module_real_get_field_cvalue (BalaCCodeBaseModule* self,
                                                               BalaField* field,
                                                               BalaTargetValue* instance);
static BalaTargetValue* bala_ccode_base_module_real_load_variable (BalaCCodeBaseModule* self,
                                                            BalaVariable* variable,
                                                            BalaTargetValue* value,
                                                            BalaExpression* expr);
static BalaTargetValue* bala_ccode_base_module_real_load_this_parameter (BalaCCodeBaseModule* self,
                                                                  BalaTypeSymbol* sym);
static void bala_ccode_base_module_real_store_value (BalaCCodeBaseModule* self,
                                              BalaTargetValue* lvalue,
                                              BalaTargetValue* value,
                                              BalaSourceReference* source_reference);
static gchar* bala_ccode_base_module_real_get_delegate_target_cname (BalaCCodeBaseModule* self,
                                                              const gchar* delegate_cname);
static BalaCCodeExpression* bala_ccode_base_module_real_get_delegate_target_cexpression (BalaCCodeBaseModule* self,
                                                                                  BalaExpression* delegate_expr,
                                                                                  BalaCCodeExpression* * delegate_target_destroy_notify);
static BalaCCodeExpression* bala_ccode_base_module_real_get_delegate_target_cvalue (BalaCCodeBaseModule* self,
                                                                             BalaTargetValue* value);
static BalaCCodeExpression* bala_ccode_base_module_real_get_delegate_target_destroy_notify_cvalue (BalaCCodeBaseModule* self,
                                                                                            BalaTargetValue* value);
static gchar* bala_ccode_base_module_real_get_delegate_target_destroy_notify_cname (BalaCCodeBaseModule* self,
                                                                             const gchar* delegate_cname);
static void bala_ccode_base_module_real_visit_base_access (BalaCodeVisitor* base,
                                                    BalaBaseAccess* expr);
static void bala_ccode_base_module_real_visit_postfix_expression (BalaCodeVisitor* base,
                                                           BalaPostfixExpression* expr);
static BalaMemberAccess* bala_ccode_base_module_find_property_access (BalaCCodeBaseModule* self,
                                                               BalaExpression* expr);
static gboolean bala_ccode_base_module_is_limited_generic_type (BalaGenericType* type);
static BalaTargetValue* bala_ccode_base_module_real_copy_value (BalaCCodeBaseModule* self,
                                                         BalaTargetValue* value,
                                                         BalaCodeNode* node);
static void bala_ccode_base_module_real_generate_class_declaration (BalaCCodeBaseModule* self,
                                                             BalaClass* cl,
                                                             BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_generate_interface_declaration (BalaCCodeBaseModule* self,
                                                                 BalaInterface* iface,
                                                                 BalaCCodeFile* decl_space);
static gboolean bala_ccode_base_module_real_generate_method_declaration (BalaCCodeBaseModule* self,
                                                                  BalaMethod* m,
                                                                  BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_generate_error_domain_declaration (BalaCCodeBaseModule* self,
                                                                    BalaErrorDomain* edomain,
                                                                    BalaCCodeFile* decl_space);
static void bala_ccode_base_module_real_visit_object_creation_expression (BalaCodeVisitor* base,
                                                                   BalaObjectCreationExpression* expr);
static void bala_ccode_base_module_real_visit_sizeof_expression (BalaCodeVisitor* base,
                                                          BalaSizeofExpression* expr);
static void bala_ccode_base_module_real_visit_typeof_expression (BalaCodeVisitor* base,
                                                          BalaTypeofExpression* expr);
static void bala_ccode_base_module_real_visit_unary_expression (BalaCodeVisitor* base,
                                                         BalaUnaryExpression* expr);
static BalaCCodeExpression* bala_ccode_base_module_real_deserialize_expression (BalaCCodeBaseModule* self,
                                                                         BalaDataType* type,
                                                                         BalaCCodeExpression* variant_expr,
                                                                         BalaCCodeExpression* expr,
                                                                         BalaCCodeExpression* error_expr,
                                                                         gboolean* may_fail);
static BalaCCodeExpression* bala_ccode_base_module_real_serialize_expression (BalaCCodeBaseModule* self,
                                                                       BalaDataType* type,
                                                                       BalaCCodeExpression* expr);
static void bala_ccode_base_module_real_visit_cast_expression (BalaCodeVisitor* base,
                                                        BalaCastExpression* expr);
static void bala_ccode_base_module_real_visit_named_argument (BalaCodeVisitor* base,
                                                       BalaNamedArgument* expr);
static void bala_ccode_base_module_real_visit_pointer_indirection (BalaCodeVisitor* base,
                                                            BalaPointerIndirection* expr);
static void bala_ccode_base_module_real_visit_addressof_expression (BalaCodeVisitor* base,
                                                             BalaAddressofExpression* expr);
static void bala_ccode_base_module_real_visit_reference_transfer_expression (BalaCodeVisitor* base,
                                                                      BalaReferenceTransferExpression* expr);
static void bala_ccode_base_module_real_visit_binary_expression (BalaCodeVisitor* base,
                                                          BalaBinaryExpression* expr);
static gchar* bala_ccode_base_module_generate_array_contains_wrapper (BalaCCodeBaseModule* self,
                                                               BalaArrayType* array_type);
static void bala_ccode_base_module_real_visit_type_check (BalaCodeVisitor* base,
                                                   BalaTypeCheck* expr);
static void bala_ccode_base_module_real_visit_lambda_expression (BalaCodeVisitor* base,
                                                          BalaLambdaExpression* lambda);
static BalaCCodeExpression* bala_ccode_base_module_real_get_implicit_cast_expression (BalaCCodeBaseModule* self,
                                                                               BalaCCodeExpression* source_cexpr,
                                                                               BalaDataType* expression_type,
                                                                               BalaDataType* target_type,
                                                                               BalaCodeNode* node);
static void bala_ccode_base_module_real_create_type_check_statement (BalaCCodeBaseModule* self,
                                                              BalaCodeNode* method_node,
                                                              BalaDataType* ret_type,
                                                              BalaTypeSymbol* t,
                                                              gboolean non_null,
                                                              const gchar* var_name);
static void bala_ccode_base_module_real_visit_class (BalaCodeVisitor* base,
                                              BalaClass* cl);
static void bala_ccode_base_module_real_generate_dynamic_method_wrapper (BalaCCodeBaseModule* self,
                                                                  BalaDynamicMethod* method);
static gboolean bala_ccode_base_module_real_method_has_wrapper (BalaCCodeBaseModule* self,
                                                         BalaMethod* method);
static BalaCCodeExpression* bala_ccode_base_module_real_get_param_spec_cexpression (BalaCCodeBaseModule* self,
                                                                             BalaProperty* prop);
static BalaCCodeExpression* bala_ccode_base_module_real_get_param_spec (BalaCCodeBaseModule* self,
                                                                 BalaProperty* prop);
static BalaCCodeExpression* bala_ccode_base_module_real_get_signal_creation (BalaCCodeBaseModule* self,
                                                                      BalaSignal* sig,
                                                                      BalaObjectTypeSymbol* type);
static BalaCCodeExpression* bala_ccode_base_module_real_get_value_getter_function (BalaCCodeBaseModule* self,
                                                                            BalaDataType* type_reference);
static BalaCCodeExpression* bala_ccode_base_module_real_get_value_setter_function (BalaCCodeBaseModule* self,
                                                                            BalaDataType* type_reference);
static BalaCCodeExpression* bala_ccode_base_module_real_get_value_taker_function (BalaCCodeBaseModule* self,
                                                                           BalaDataType* type_reference);
static void bala_ccode_base_module_real_register_dbus_info (BalaCCodeBaseModule* self,
                                                     BalaCCodeBlock* block,
                                                     BalaObjectTypeSymbol* bindable);
static gchar* bala_ccode_base_module_real_get_dynamic_property_getter_cname (BalaCCodeBaseModule* self,
                                                                      BalaDynamicProperty* node);
static gchar* bala_ccode_base_module_real_get_dynamic_property_setter_cname (BalaCCodeBaseModule* self,
                                                                      BalaDynamicProperty* node);
static gchar* bala_ccode_base_module_real_get_dynamic_signal_cname (BalaCCodeBaseModule* self,
                                                             BalaDynamicSignal* node);
static gchar* bala_ccode_base_module_real_get_dynamic_signal_connect_wrapper_name (BalaCCodeBaseModule* self,
                                                                            BalaDynamicSignal* node);
static gchar* bala_ccode_base_module_real_get_dynamic_signal_connect_after_wrapper_name (BalaCCodeBaseModule* self,
                                                                                  BalaDynamicSignal* node);
static gchar* bala_ccode_base_module_real_get_dynamic_signal_disconnect_wrapper_name (BalaCCodeBaseModule* self,
                                                                               BalaDynamicSignal* node);
static gchar* bala_ccode_base_module_real_get_array_length_cname (BalaCCodeBaseModule* self,
                                                           const gchar* array_cname,
                                                           gint dim);
static gchar* bala_ccode_base_module_real_get_variable_array_length_cname (BalaCCodeBaseModule* self,
                                                                    BalaVariable* variable,
                                                                    gint dim);
static BalaCCodeExpression* bala_ccode_base_module_real_get_array_length_cexpression (BalaCCodeBaseModule* self,
                                                                               BalaExpression* array_expr,
                                                                               gint dim);
static BalaCCodeExpression* bala_ccode_base_module_real_get_array_length_cvalue (BalaCCodeBaseModule* self,
                                                                          BalaTargetValue* value,
                                                                          gint dim);
static gchar* bala_ccode_base_module_real_get_array_size_cname (BalaCCodeBaseModule* self,
                                                         const gchar* array_cname);
static void bala_ccode_base_module_real_add_simple_check (BalaCCodeBaseModule* self,
                                                   BalaCodeNode* node,
                                                   gboolean always_fails);
static gchar* bala_ccode_base_module_real_generate_ready_function (BalaCCodeBaseModule* self,
                                                            BalaMethod* m);
static void bala_ccode_base_module_emit_context_finalize (BalaCCodeBaseModuleEmitContext * obj);
static GType bala_ccode_base_module_emit_context_get_type_once (void);
static void bala_ccode_base_module_finalize (BalaCodeVisitor * obj);
static GType bala_ccode_base_module_get_type_once (void);
static void _bala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _bala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _bala_array_length (gpointer array);

static inline gpointer
bala_ccode_base_module_get_instance_private (BalaCCodeBaseModule* self)
{
	return G_STRUCT_MEMBER_P (self, BalaCCodeBaseModule_private_offset);
}

BalaCodeContext*
bala_ccode_base_module_get_context (BalaCCodeBaseModule* self)
{
	BalaCodeContext* result;
	BalaCodeContext* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_context;
	result = _tmp0_;
	return result;
}

static gpointer
_bala_code_context_ref0 (gpointer self)
{
	return self ? bala_code_context_ref (self) : NULL;
}

void
bala_ccode_base_module_set_context (BalaCCodeBaseModule* self,
                                    BalaCodeContext* value)
{
	BalaCodeContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_code_context_ref0 (value);
	_bala_code_context_unref0 (self->priv->_context);
	self->priv->_context = _tmp0_;
}

BalaSymbol*
bala_ccode_base_module_get_current_symbol (BalaCCodeBaseModule* self)
{
	BalaSymbol* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaSymbol* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->current_symbol;
	result = _tmp1_;
	return result;
}

BalaTryStatement*
bala_ccode_base_module_get_current_try (BalaCCodeBaseModule* self)
{
	BalaTryStatement* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaTryStatement* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->current_try;
	result = _tmp1_;
	return result;
}

static gpointer
_bala_code_node_ref0 (gpointer self)
{
	return self ? bala_code_node_ref (self) : NULL;
}

void
bala_ccode_base_module_set_current_try (BalaCCodeBaseModule* self,
                                        BalaTryStatement* value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaTryStatement* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (_tmp0_->current_try);
	_tmp0_->current_try = _tmp1_;
}

gint
bala_ccode_base_module_get_current_try_id (BalaCCodeBaseModule* self)
{
	gint result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->emit_context;
	result = _tmp0_->current_try_id;
	return result;
}

void
bala_ccode_base_module_set_current_try_id (BalaCCodeBaseModule* self,
                                           gint value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->current_try_id = value;
}

gint
bala_ccode_base_module_get_next_try_id (BalaCCodeBaseModule* self)
{
	gint result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->emit_context;
	result = _tmp0_->next_try_id;
	return result;
}

void
bala_ccode_base_module_set_next_try_id (BalaCCodeBaseModule* self,
                                        gint value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->next_try_id = value;
}

BalaCatchClause*
bala_ccode_base_module_get_current_catch (BalaCCodeBaseModule* self)
{
	BalaCatchClause* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCatchClause* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->current_catch;
	result = _tmp1_;
	return result;
}

void
bala_ccode_base_module_set_current_catch (BalaCCodeBaseModule* self,
                                          BalaCatchClause* value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCatchClause* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (_tmp0_->current_catch);
	_tmp0_->current_catch = _tmp1_;
}

gint
bala_ccode_base_module_get_current_inner_error_id (BalaCCodeBaseModule* self)
{
	gint result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->emit_context;
	result = _tmp0_->current_inner_error_id;
	return result;
}

void
bala_ccode_base_module_set_current_inner_error_id (BalaCCodeBaseModule* self,
                                                   gint value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->current_inner_error_id = value;
}

gboolean
bala_ccode_base_module_get_is_in_method_precondition (BalaCCodeBaseModule* self)
{
	gboolean result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->emit_context;
	result = _tmp0_->is_in_method_precondition;
	return result;
}

void
bala_ccode_base_module_set_is_in_method_precondition (BalaCCodeBaseModule* self,
                                                      gboolean value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->is_in_method_precondition = value;
}

BalaTypeSymbol*
bala_ccode_base_module_get_current_type_symbol (BalaCCodeBaseModule* self)
{
	BalaTypeSymbol* result;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	sym = _tmp2_;
	while (TRUE) {
		BalaSymbol* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		BalaSymbol* _tmp8_;
		BalaSymbol* _tmp9_;
		_tmp3_ = sym;
		if (!(_tmp3_ != NULL)) {
			break;
		}
		_tmp4_ = sym;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, BALA_TYPE_TYPESYMBOL)) {
			BalaSymbol* _tmp5_;
			_tmp5_ = sym;
			result = G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
			_bala_code_node_unref0 (sym);
			return result;
		}
		_tmp6_ = sym;
		_tmp7_ = bala_symbol_get_parent_symbol (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = _bala_code_node_ref0 (_tmp8_);
		_bala_code_node_unref0 (sym);
		sym = _tmp9_;
	}
	result = NULL;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaClass*
bala_ccode_base_module_get_current_class (BalaCCodeBaseModule* self)
{
	BalaClass* result;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_type_symbol (self);
	_tmp1_ = _tmp0_;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp1_) : NULL;
	return result;
}

BalaMethod*
bala_ccode_base_module_get_current_method (BalaCCodeBaseModule* self)
{
	BalaMethod* result;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	sym = _tmp2_;
	while (TRUE) {
		BalaSymbol* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		_tmp3_ = sym;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_BLOCK)) {
			break;
		}
		_tmp4_ = sym;
		_tmp5_ = bala_symbol_get_parent_symbol (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		_bala_code_node_unref0 (sym);
		sym = _tmp7_;
	}
	_tmp8_ = sym;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_METHOD) ? ((BalaMethod*) _tmp8_) : NULL;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaPropertyAccessor*
bala_ccode_base_module_get_current_property_accessor (BalaCCodeBaseModule* self)
{
	BalaPropertyAccessor* result;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	sym = _tmp2_;
	while (TRUE) {
		BalaSymbol* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		_tmp3_ = sym;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_BLOCK)) {
			break;
		}
		_tmp4_ = sym;
		_tmp5_ = bala_symbol_get_parent_symbol (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		_bala_code_node_unref0 (sym);
		sym = _tmp7_;
	}
	_tmp8_ = sym;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_PROPERTY_ACCESSOR) ? ((BalaPropertyAccessor*) _tmp8_) : NULL;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaConstructor*
bala_ccode_base_module_get_current_constructor (BalaCCodeBaseModule* self)
{
	BalaConstructor* result;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	sym = _tmp2_;
	while (TRUE) {
		BalaSymbol* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		_tmp3_ = sym;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_BLOCK)) {
			break;
		}
		_tmp4_ = sym;
		_tmp5_ = bala_symbol_get_parent_symbol (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		_bala_code_node_unref0 (sym);
		sym = _tmp7_;
	}
	_tmp8_ = sym;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_CONSTRUCTOR) ? ((BalaConstructor*) _tmp8_) : NULL;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaDestructor*
bala_ccode_base_module_get_current_destructor (BalaCCodeBaseModule* self)
{
	BalaDestructor* result;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	sym = _tmp2_;
	while (TRUE) {
		BalaSymbol* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		_tmp3_ = sym;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_BLOCK)) {
			break;
		}
		_tmp4_ = sym;
		_tmp5_ = bala_symbol_get_parent_symbol (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		_bala_code_node_unref0 (sym);
		sym = _tmp7_;
	}
	_tmp8_ = sym;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_DESTRUCTOR) ? ((BalaDestructor*) _tmp8_) : NULL;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaDataType*
bala_ccode_base_module_get_current_return_type (BalaCCodeBaseModule* self)
{
	BalaDataType* result;
	BalaMethod* m = NULL;
	BalaMethod* _tmp0_;
	BalaMethod* _tmp1_;
	BalaMethod* _tmp2_;
	BalaMethod* _tmp3_;
	BalaPropertyAccessor* acc = NULL;
	BalaPropertyAccessor* _tmp7_;
	BalaPropertyAccessor* _tmp8_;
	BalaPropertyAccessor* _tmp9_;
	BalaPropertyAccessor* _tmp10_;
	gboolean _tmp18_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_method (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	m = _tmp2_;
	_tmp3_ = m;
	if (_tmp3_ != NULL) {
		BalaMethod* _tmp4_;
		BalaDataType* _tmp5_;
		BalaDataType* _tmp6_;
		_tmp4_ = m;
		_tmp5_ = bala_callable_get_return_type ((BalaCallable*) _tmp4_);
		_tmp6_ = _tmp5_;
		result = _tmp6_;
		_bala_code_node_unref0 (m);
		return result;
	}
	_tmp7_ = bala_ccode_base_module_get_current_property_accessor (self);
	_tmp8_ = _tmp7_;
	_tmp9_ = _bala_code_node_ref0 (_tmp8_);
	acc = _tmp9_;
	_tmp10_ = acc;
	if (_tmp10_ != NULL) {
		BalaPropertyAccessor* _tmp11_;
		gboolean _tmp12_;
		gboolean _tmp13_;
		_tmp11_ = acc;
		_tmp12_ = bala_property_accessor_get_readable (_tmp11_);
		_tmp13_ = _tmp12_;
		if (_tmp13_) {
			BalaPropertyAccessor* _tmp14_;
			BalaDataType* _tmp15_;
			BalaDataType* _tmp16_;
			_tmp14_ = acc;
			_tmp15_ = bala_property_accessor_get_value_type (_tmp14_);
			_tmp16_ = _tmp15_;
			result = _tmp16_;
			_bala_code_node_unref0 (acc);
			_bala_code_node_unref0 (m);
			return result;
		} else {
			BalaDataType* _tmp17_;
			_tmp17_ = self->void_type;
			result = _tmp17_;
			_bala_code_node_unref0 (acc);
			_bala_code_node_unref0 (m);
			return result;
		}
	}
	if (bala_ccode_base_module_is_in_constructor (self)) {
		_tmp18_ = TRUE;
	} else {
		_tmp18_ = bala_ccode_base_module_is_in_destructor (self);
	}
	if (_tmp18_) {
		BalaDataType* _tmp19_;
		_tmp19_ = self->void_type;
		result = _tmp19_;
		_bala_code_node_unref0 (acc);
		_bala_code_node_unref0 (m);
		return result;
	}
	result = NULL;
	_bala_code_node_unref0 (acc);
	_bala_code_node_unref0 (m);
	return result;
}

gboolean
bala_ccode_base_module_is_in_coroutine (BalaCCodeBaseModule* self)
{
	gboolean _tmp0_ = FALSE;
	BalaMethod* _tmp1_;
	BalaMethod* _tmp2_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = bala_ccode_base_module_get_current_method (self);
	_tmp2_ = _tmp1_;
	if (_tmp2_ != NULL) {
		BalaMethod* _tmp3_;
		BalaMethod* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
		_tmp3_ = bala_ccode_base_module_get_current_method (self);
		_tmp4_ = _tmp3_;
		_tmp5_ = bala_method_get_coroutine (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp0_ = _tmp6_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}

gboolean
bala_ccode_base_module_is_in_constructor (BalaCCodeBaseModule* self)
{
	BalaMethod* _tmp0_;
	BalaMethod* _tmp1_;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaSymbol* _tmp4_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = bala_ccode_base_module_get_current_method (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		result = FALSE;
		return result;
	}
	_tmp2_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp3_ = _tmp2_;
	_tmp4_ = _bala_code_node_ref0 (_tmp3_);
	sym = _tmp4_;
	while (TRUE) {
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		BalaSymbol* _tmp8_;
		BalaSymbol* _tmp9_;
		BalaSymbol* _tmp10_;
		_tmp5_ = sym;
		if (!(_tmp5_ != NULL)) {
			break;
		}
		_tmp6_ = sym;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_CONSTRUCTOR)) {
			result = TRUE;
			_bala_code_node_unref0 (sym);
			return result;
		}
		_tmp7_ = sym;
		_tmp8_ = bala_symbol_get_parent_symbol (_tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = _bala_code_node_ref0 (_tmp9_);
		_bala_code_node_unref0 (sym);
		sym = _tmp10_;
	}
	result = FALSE;
	_bala_code_node_unref0 (sym);
	return result;
}

gboolean
bala_ccode_base_module_is_in_destructor (BalaCCodeBaseModule* self)
{
	BalaMethod* _tmp0_;
	BalaMethod* _tmp1_;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaSymbol* _tmp4_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = bala_ccode_base_module_get_current_method (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		result = FALSE;
		return result;
	}
	_tmp2_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp3_ = _tmp2_;
	_tmp4_ = _bala_code_node_ref0 (_tmp3_);
	sym = _tmp4_;
	while (TRUE) {
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		BalaSymbol* _tmp8_;
		BalaSymbol* _tmp9_;
		BalaSymbol* _tmp10_;
		_tmp5_ = sym;
		if (!(_tmp5_ != NULL)) {
			break;
		}
		_tmp6_ = sym;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_DESTRUCTOR)) {
			result = TRUE;
			_bala_code_node_unref0 (sym);
			return result;
		}
		_tmp7_ = sym;
		_tmp8_ = bala_symbol_get_parent_symbol (_tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = _bala_code_node_ref0 (_tmp9_);
		_bala_code_node_unref0 (sym);
		sym = _tmp10_;
	}
	result = FALSE;
	_bala_code_node_unref0 (sym);
	return result;
}

BalaBlock*
bala_ccode_base_module_get_current_closure_block (BalaCCodeBaseModule* self)
{
	BalaBlock* result;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaBlock* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_next_closure_block (self, _tmp1_);
	result = _tmp2_;
	return result;
}

BalaBlock*
bala_ccode_base_module_next_closure_block (BalaCCodeBaseModule* self,
                                           BalaSymbol* sym)
{
	BalaBlock* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	while (TRUE) {
		BalaMethod* method = NULL;
		gboolean _tmp0_ = FALSE;
		BalaMethod* _tmp1_;
		BalaBlock* block = NULL;
		gboolean _tmp5_ = FALSE;
		BalaMethod* _tmp6_;
		gboolean _tmp8_ = FALSE;
		BalaBlock* _tmp9_;
		BalaSymbol* _tmp14_;
		BalaSymbol* _tmp15_;
		method = G_TYPE_CHECK_INSTANCE_TYPE (sym, BALA_TYPE_METHOD) ? ((BalaMethod*) sym) : NULL;
		_tmp1_ = method;
		if (_tmp1_ != NULL) {
			BalaMethod* _tmp2_;
			gboolean _tmp3_;
			gboolean _tmp4_;
			_tmp2_ = method;
			_tmp3_ = bala_method_get_closure (_tmp2_);
			_tmp4_ = _tmp3_;
			_tmp0_ = !_tmp4_;
		} else {
			_tmp0_ = FALSE;
		}
		if (_tmp0_) {
			break;
		}
		block = G_TYPE_CHECK_INSTANCE_TYPE (sym, BALA_TYPE_BLOCK) ? ((BalaBlock*) sym) : NULL;
		_tmp6_ = method;
		if (_tmp6_ == NULL) {
			BalaBlock* _tmp7_;
			_tmp7_ = block;
			_tmp5_ = _tmp7_ == NULL;
		} else {
			_tmp5_ = FALSE;
		}
		if (_tmp5_) {
			break;
		}
		_tmp9_ = block;
		if (_tmp9_ != NULL) {
			BalaBlock* _tmp10_;
			gboolean _tmp11_;
			gboolean _tmp12_;
			_tmp10_ = block;
			_tmp11_ = bala_block_get_captured (_tmp10_);
			_tmp12_ = _tmp11_;
			_tmp8_ = _tmp12_;
		} else {
			_tmp8_ = FALSE;
		}
		if (_tmp8_) {
			BalaBlock* _tmp13_;
			_tmp13_ = block;
			result = _tmp13_;
			return result;
		}
		_tmp14_ = bala_symbol_get_parent_symbol (sym);
		_tmp15_ = _tmp14_;
		sym = _tmp15_;
	}
	result = NULL;
	return result;
}

BalaCCodeFunction*
bala_ccode_base_module_get_ccode (BalaCCodeBaseModule* self)
{
	BalaCCodeFunction* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCCodeFunction* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->ccode;
	result = _tmp1_;
	return result;
}

BalaArrayList*
bala_ccode_base_module_get_temp_ref_values (BalaCCodeBaseModule* self)
{
	BalaArrayList* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaArrayList* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->temp_ref_values;
	result = _tmp1_;
	return result;
}

gint
bala_ccode_base_module_get_next_temp_var_id (BalaCCodeBaseModule* self)
{
	gint result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->emit_context;
	result = _tmp0_->next_temp_var_id;
	return result;
}

void
bala_ccode_base_module_set_next_temp_var_id (BalaCCodeBaseModule* self,
                                             gint value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->next_temp_var_id = value;
}

gboolean
bala_ccode_base_module_get_in_creation_method (BalaCCodeBaseModule* self)
{
	gboolean result;
	BalaMethod* _tmp0_;
	BalaMethod* _tmp1_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = bala_ccode_base_module_get_current_method (self);
	_tmp1_ = _tmp0_;
	result = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_CREATION_METHOD);
	return result;
}

gboolean
bala_ccode_base_module_get_current_method_inner_error (BalaCCodeBaseModule* self)
{
	gboolean result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->emit_context;
	result = _tmp0_->current_method_inner_error;
	return result;
}

void
bala_ccode_base_module_set_current_method_inner_error (BalaCCodeBaseModule* self,
                                                       gboolean value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->current_method_inner_error = value;
}

gboolean
bala_ccode_base_module_get_current_method_return (BalaCCodeBaseModule* self)
{
	gboolean result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->emit_context;
	result = _tmp0_->current_method_return;
	return result;
}

void
bala_ccode_base_module_set_current_method_return (BalaCCodeBaseModule* self,
                                                  gboolean value)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp0_->current_method_return = value;
}

BalaMap*
bala_ccode_base_module_get_variable_name_map (BalaCCodeBaseModule* self)
{
	BalaMap* result;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaMap* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->variable_name_map;
	result = _tmp1_;
	return result;
}

BalaCCodeBaseModule*
bala_ccode_base_module_construct (GType object_type)
{
	BalaCCodeBaseModule* self = NULL;
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	BalaHashSet* _tmp2_;
	BalaSet* _tmp3_;
	BalaSet* _tmp4_;
	BalaSet* _tmp5_;
	BalaSet* _tmp6_;
	BalaSet* _tmp7_;
	BalaSet* _tmp8_;
	BalaSet* _tmp9_;
	BalaSet* _tmp10_;
	BalaSet* _tmp11_;
	BalaSet* _tmp12_;
	BalaSet* _tmp13_;
	BalaSet* _tmp14_;
	BalaSet* _tmp15_;
	BalaSet* _tmp16_;
	BalaSet* _tmp17_;
	BalaSet* _tmp18_;
	BalaSet* _tmp19_;
	BalaSet* _tmp20_;
	BalaSet* _tmp21_;
	BalaSet* _tmp22_;
	BalaSet* _tmp23_;
	GHashFunc _tmp24_;
	GEqualFunc _tmp25_;
	BalaHashSet* _tmp26_;
	BalaSet* _tmp27_;
	BalaSet* _tmp28_;
	BalaSet* _tmp29_;
	BalaSet* _tmp30_;
	BalaSet* _tmp31_;
	BalaSet* _tmp32_;
	BalaSet* _tmp33_;
	BalaSet* _tmp34_;
	BalaSet* _tmp35_;
	BalaSet* _tmp36_;
	BalaSet* _tmp37_;
	BalaSet* _tmp38_;
	BalaSet* _tmp39_;
	BalaSet* _tmp40_;
	BalaSet* _tmp41_;
	BalaSet* _tmp42_;
	BalaSet* _tmp43_;
	BalaSet* _tmp44_;
	BalaSet* _tmp45_;
	BalaSet* _tmp46_;
	BalaSet* _tmp47_;
	BalaSet* _tmp48_;
	BalaSet* _tmp49_;
	BalaSet* _tmp50_;
	BalaSet* _tmp51_;
	BalaSet* _tmp52_;
	BalaSet* _tmp53_;
	BalaSet* _tmp54_;
	BalaSet* _tmp55_;
	BalaSet* _tmp56_;
	BalaSet* _tmp57_;
	BalaSet* _tmp58_;
	BalaSet* _tmp59_;
	BalaSet* _tmp60_;
	BalaSet* _tmp61_;
	BalaSet* _tmp62_;
	BalaSet* _tmp63_;
	BalaSet* _tmp64_;
	BalaSet* _tmp65_;
	BalaSet* _tmp66_;
	BalaSet* _tmp67_;
	BalaSet* _tmp68_;
	BalaSet* _tmp69_;
	BalaSet* _tmp70_;
	BalaSet* _tmp71_;
	BalaSet* _tmp72_;
	BalaSet* _tmp73_;
	BalaSet* _tmp74_;
	BalaSet* _tmp75_;
	self = (BalaCCodeBaseModule*) bala_code_generator_construct (object_type);
	_tmp0_ = g_str_hash;
	_tmp1_ = g_str_equal;
	_tmp2_ = bala_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp0_, _tmp1_);
	_bala_iterable_unref0 (self->predefined_marshal_set);
	self->predefined_marshal_set = (BalaSet*) _tmp2_;
	_tmp3_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp3_, "VOID:VOID");
	_tmp4_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp4_, "VOID:BOOLEAN");
	_tmp5_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp5_, "VOID:CHAR");
	_tmp6_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp6_, "VOID:UCHAR");
	_tmp7_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp7_, "VOID:INT");
	_tmp8_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp8_, "VOID:UINT");
	_tmp9_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp9_, "VOID:LONG");
	_tmp10_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp10_, "VOID:ULONG");
	_tmp11_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp11_, "VOID:ENUM");
	_tmp12_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp12_, "VOID:FLAGS");
	_tmp13_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp13_, "VOID:FLOAT");
	_tmp14_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp14_, "VOID:DOUBLE");
	_tmp15_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp15_, "VOID:STRING");
	_tmp16_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp16_, "VOID:POINTER");
	_tmp17_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp17_, "VOID:OBJECT");
	_tmp18_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp18_, "STRING:OBJECT,POINTER");
	_tmp19_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp19_, "VOID:UINT,POINTER");
	_tmp20_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp20_, "BOOLEAN:FLAGS");
	_tmp21_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp21_, "VOID:BOXED");
	_tmp22_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp22_, "VOID:VARIANT");
	_tmp23_ = self->predefined_marshal_set;
	bala_collection_add ((BalaCollection*) _tmp23_, "BOOLEAN:BOXED,BOXED");
	_tmp24_ = g_str_hash;
	_tmp25_ = g_str_equal;
	_tmp26_ = bala_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp24_, _tmp25_);
	_bala_iterable_unref0 (bala_ccode_base_module_reserved_identifiers);
	bala_ccode_base_module_reserved_identifiers = (BalaSet*) _tmp26_;
	_tmp27_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp27_, "_Bool");
	_tmp28_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp28_, "_Complex");
	_tmp29_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp29_, "_Imaginary");
	_tmp30_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp30_, "asm");
	_tmp31_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp31_, "auto");
	_tmp32_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp32_, "break");
	_tmp33_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp33_, "case");
	_tmp34_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp34_, "char");
	_tmp35_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp35_, "const");
	_tmp36_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp36_, "continue");
	_tmp37_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp37_, "default");
	_tmp38_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp38_, "do");
	_tmp39_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp39_, "double");
	_tmp40_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp40_, "else");
	_tmp41_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp41_, "enum");
	_tmp42_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp42_, "extern");
	_tmp43_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp43_, "float");
	_tmp44_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp44_, "for");
	_tmp45_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp45_, "goto");
	_tmp46_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp46_, "if");
	_tmp47_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp47_, "inline");
	_tmp48_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp48_, "int");
	_tmp49_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp49_, "long");
	_tmp50_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp50_, "register");
	_tmp51_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp51_, "restrict");
	_tmp52_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp52_, "return");
	_tmp53_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp53_, "short");
	_tmp54_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp54_, "signed");
	_tmp55_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp55_, "sizeof");
	_tmp56_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp56_, "static");
	_tmp57_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp57_, "struct");
	_tmp58_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp58_, "switch");
	_tmp59_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp59_, "typedef");
	_tmp60_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp60_, "union");
	_tmp61_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp61_, "unsigned");
	_tmp62_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp62_, "void");
	_tmp63_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp63_, "volatile");
	_tmp64_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp64_, "while");
	_tmp65_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp65_, "_Alignas");
	_tmp66_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp66_, "_Alignof");
	_tmp67_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp67_, "_Atomic");
	_tmp68_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp68_, "_Generic");
	_tmp69_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp69_, "_Noreturn");
	_tmp70_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp70_, "_Static_assert");
	_tmp71_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp71_, "_Thread_local");
	_tmp72_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp72_, "cdecl");
	_tmp73_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp73_, "error");
	_tmp74_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp74_, "result");
	_tmp75_ = bala_ccode_base_module_reserved_identifiers;
	bala_collection_add ((BalaCollection*) _tmp75_, "self");
	return self;
}

static gpointer
_bala_iterable_ref0 (gpointer self)
{
	return self ? bala_iterable_ref (self) : NULL;
}

static void
bala_ccode_base_module_real_emit (BalaCodeGenerator* base,
                                  BalaCodeContext* context)
{
	BalaCCodeBaseModule * self;
	BalaNamespace* _tmp0_;
	BalaNamespace* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaScope* _tmp4_;
	BalaScope* _tmp5_;
	BalaSymbol* _tmp6_;
	BalaStruct* _tmp7_;
	BalaBooleanType* _tmp8_;
	BalaSymbol* _tmp9_;
	BalaScope* _tmp10_;
	BalaScope* _tmp11_;
	BalaSymbol* _tmp12_;
	BalaStruct* _tmp13_;
	BalaIntegerType* _tmp14_;
	BalaSymbol* _tmp15_;
	BalaScope* _tmp16_;
	BalaScope* _tmp17_;
	BalaSymbol* _tmp18_;
	BalaStruct* _tmp19_;
	BalaIntegerType* _tmp20_;
	BalaSymbol* _tmp21_;
	BalaScope* _tmp22_;
	BalaScope* _tmp23_;
	BalaSymbol* _tmp24_;
	BalaStruct* _tmp25_;
	BalaIntegerType* _tmp26_;
	BalaSymbol* _tmp27_;
	BalaScope* _tmp28_;
	BalaScope* _tmp29_;
	BalaSymbol* _tmp30_;
	BalaStruct* _tmp31_;
	BalaIntegerType* _tmp32_;
	BalaSymbol* _tmp33_;
	BalaScope* _tmp34_;
	BalaScope* _tmp35_;
	BalaSymbol* _tmp36_;
	BalaStruct* _tmp37_;
	BalaIntegerType* _tmp38_;
	BalaSymbol* _tmp39_;
	BalaScope* _tmp40_;
	BalaScope* _tmp41_;
	BalaSymbol* _tmp42_;
	BalaStruct* _tmp43_;
	BalaIntegerType* _tmp44_;
	BalaSymbol* _tmp45_;
	BalaScope* _tmp46_;
	BalaScope* _tmp47_;
	BalaSymbol* _tmp48_;
	BalaStruct* _tmp49_;
	BalaIntegerType* _tmp50_;
	BalaSymbol* _tmp51_;
	BalaScope* _tmp52_;
	BalaScope* _tmp53_;
	BalaSymbol* _tmp54_;
	BalaStruct* _tmp55_;
	BalaIntegerType* _tmp56_;
	BalaSymbol* _tmp57_;
	BalaScope* _tmp58_;
	BalaScope* _tmp59_;
	BalaSymbol* _tmp60_;
	BalaStruct* _tmp61_;
	BalaIntegerType* _tmp62_;
	BalaSymbol* _tmp63_;
	BalaScope* _tmp64_;
	BalaScope* _tmp65_;
	BalaSymbol* _tmp66_;
	BalaStruct* _tmp67_;
	BalaIntegerType* _tmp68_;
	BalaSymbol* _tmp69_;
	BalaScope* _tmp70_;
	BalaScope* _tmp71_;
	BalaSymbol* _tmp72_;
	BalaStruct* _tmp73_;
	BalaIntegerType* _tmp74_;
	BalaSymbol* _tmp75_;
	BalaScope* _tmp76_;
	BalaScope* _tmp77_;
	BalaSymbol* _tmp78_;
	BalaStruct* _tmp79_;
	BalaIntegerType* _tmp80_;
	BalaSymbol* _tmp81_;
	BalaScope* _tmp82_;
	BalaScope* _tmp83_;
	BalaSymbol* _tmp84_;
	BalaStruct* _tmp85_;
	BalaIntegerType* _tmp86_;
	BalaSymbol* _tmp87_;
	BalaScope* _tmp88_;
	BalaScope* _tmp89_;
	BalaSymbol* _tmp90_;
	BalaStruct* _tmp91_;
	BalaIntegerType* _tmp92_;
	BalaSymbol* _tmp93_;
	BalaScope* _tmp94_;
	BalaScope* _tmp95_;
	BalaSymbol* _tmp96_;
	BalaStruct* _tmp97_;
	BalaIntegerType* _tmp98_;
	BalaSymbol* _tmp99_;
	BalaScope* _tmp100_;
	BalaScope* _tmp101_;
	BalaSymbol* _tmp102_;
	BalaStruct* _tmp103_;
	BalaIntegerType* _tmp104_;
	BalaSymbol* _tmp105_;
	BalaScope* _tmp106_;
	BalaScope* _tmp107_;
	BalaSymbol* _tmp108_;
	BalaStruct* _tmp109_;
	BalaIntegerType* _tmp110_;
	BalaSymbol* _tmp111_;
	BalaScope* _tmp112_;
	BalaScope* _tmp113_;
	BalaSymbol* _tmp114_;
	BalaStruct* _tmp115_;
	BalaFloatingType* _tmp116_;
	BalaSymbol* _tmp117_;
	BalaScope* _tmp118_;
	BalaScope* _tmp119_;
	BalaSymbol* _tmp120_;
	BalaStruct* _tmp121_;
	BalaFloatingType* _tmp122_;
	BalaSymbol* _tmp123_;
	BalaScope* _tmp124_;
	BalaScope* _tmp125_;
	BalaSymbol* _tmp126_;
	BalaClass* _tmp127_;
	BalaObjectType* _tmp128_;
	BalaStruct* unichar_struct = NULL;
	BalaSymbol* _tmp129_;
	BalaScope* _tmp130_;
	BalaScope* _tmp131_;
	BalaSymbol* _tmp132_;
	BalaStruct* _tmp133_;
	BalaProfile _tmp136_;
	BalaProfile _tmp137_;
	BalaSymbol* gtk_ns = NULL;
	BalaSymbol* _tmp312_;
	BalaScope* _tmp313_;
	BalaScope* _tmp314_;
	BalaSymbol* _tmp315_;
	BalaSymbol* _tmp316_;
	BalaCCodeFile* _tmp321_;
	BalaCCodeFile* _tmp322_;
	BalaCCodeFile* _tmp323_;
	BalaCCodeFile* _tmp324_;
	BalaList* source_files = NULL;
	BalaList* _tmp325_;
	BalaList* _tmp326_;
	const gchar* _tmp347_;
	const gchar* _tmp348_;
	const gchar* _tmp369_;
	const gchar* _tmp370_;
	const gchar* _tmp388_;
	const gchar* _tmp389_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (context != NULL);
	bala_ccode_base_module_set_context (self, context);
	_tmp0_ = bala_code_context_get_root (context);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 ((BalaSymbol*) _tmp1_);
	_bala_code_node_unref0 (self->root_symbol);
	self->root_symbol = _tmp2_;
	_tmp3_ = self->root_symbol;
	_tmp4_ = bala_symbol_get_scope (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_scope_lookup (_tmp5_, "bool");
	_tmp7_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp8_ = bala_boolean_type_new (_tmp7_);
	_bala_code_node_unref0 (self->bool_type);
	self->bool_type = (BalaDataType*) _tmp8_;
	_bala_code_node_unref0 (_tmp7_);
	_tmp9_ = self->root_symbol;
	_tmp10_ = bala_symbol_get_scope (_tmp9_);
	_tmp11_ = _tmp10_;
	_tmp12_ = bala_scope_lookup (_tmp11_, "char");
	_tmp13_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp14_ = bala_integer_type_new (_tmp13_, NULL, NULL);
	_bala_code_node_unref0 (self->char_type);
	self->char_type = (BalaDataType*) _tmp14_;
	_bala_code_node_unref0 (_tmp13_);
	_tmp15_ = self->root_symbol;
	_tmp16_ = bala_symbol_get_scope (_tmp15_);
	_tmp17_ = _tmp16_;
	_tmp18_ = bala_scope_lookup (_tmp17_, "uchar");
	_tmp19_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp20_ = bala_integer_type_new (_tmp19_, NULL, NULL);
	_bala_code_node_unref0 (self->uchar_type);
	self->uchar_type = (BalaDataType*) _tmp20_;
	_bala_code_node_unref0 (_tmp19_);
	_tmp21_ = self->root_symbol;
	_tmp22_ = bala_symbol_get_scope (_tmp21_);
	_tmp23_ = _tmp22_;
	_tmp24_ = bala_scope_lookup (_tmp23_, "short");
	_tmp25_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp26_ = bala_integer_type_new (_tmp25_, NULL, NULL);
	_bala_code_node_unref0 (self->short_type);
	self->short_type = (BalaDataType*) _tmp26_;
	_bala_code_node_unref0 (_tmp25_);
	_tmp27_ = self->root_symbol;
	_tmp28_ = bala_symbol_get_scope (_tmp27_);
	_tmp29_ = _tmp28_;
	_tmp30_ = bala_scope_lookup (_tmp29_, "ushort");
	_tmp31_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp30_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp32_ = bala_integer_type_new (_tmp31_, NULL, NULL);
	_bala_code_node_unref0 (self->ushort_type);
	self->ushort_type = (BalaDataType*) _tmp32_;
	_bala_code_node_unref0 (_tmp31_);
	_tmp33_ = self->root_symbol;
	_tmp34_ = bala_symbol_get_scope (_tmp33_);
	_tmp35_ = _tmp34_;
	_tmp36_ = bala_scope_lookup (_tmp35_, "int");
	_tmp37_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp38_ = bala_integer_type_new (_tmp37_, NULL, NULL);
	_bala_code_node_unref0 (self->int_type);
	self->int_type = (BalaDataType*) _tmp38_;
	_bala_code_node_unref0 (_tmp37_);
	_tmp39_ = self->root_symbol;
	_tmp40_ = bala_symbol_get_scope (_tmp39_);
	_tmp41_ = _tmp40_;
	_tmp42_ = bala_scope_lookup (_tmp41_, "uint");
	_tmp43_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp44_ = bala_integer_type_new (_tmp43_, NULL, NULL);
	_bala_code_node_unref0 (self->uint_type);
	self->uint_type = (BalaDataType*) _tmp44_;
	_bala_code_node_unref0 (_tmp43_);
	_tmp45_ = self->root_symbol;
	_tmp46_ = bala_symbol_get_scope (_tmp45_);
	_tmp47_ = _tmp46_;
	_tmp48_ = bala_scope_lookup (_tmp47_, "long");
	_tmp49_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp48_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp50_ = bala_integer_type_new (_tmp49_, NULL, NULL);
	_bala_code_node_unref0 (self->long_type);
	self->long_type = (BalaDataType*) _tmp50_;
	_bala_code_node_unref0 (_tmp49_);
	_tmp51_ = self->root_symbol;
	_tmp52_ = bala_symbol_get_scope (_tmp51_);
	_tmp53_ = _tmp52_;
	_tmp54_ = bala_scope_lookup (_tmp53_, "ulong");
	_tmp55_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp54_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp56_ = bala_integer_type_new (_tmp55_, NULL, NULL);
	_bala_code_node_unref0 (self->ulong_type);
	self->ulong_type = (BalaDataType*) _tmp56_;
	_bala_code_node_unref0 (_tmp55_);
	_tmp57_ = self->root_symbol;
	_tmp58_ = bala_symbol_get_scope (_tmp57_);
	_tmp59_ = _tmp58_;
	_tmp60_ = bala_scope_lookup (_tmp59_, "int8");
	_tmp61_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp60_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp62_ = bala_integer_type_new (_tmp61_, NULL, NULL);
	_bala_code_node_unref0 (self->int8_type);
	self->int8_type = (BalaDataType*) _tmp62_;
	_bala_code_node_unref0 (_tmp61_);
	_tmp63_ = self->root_symbol;
	_tmp64_ = bala_symbol_get_scope (_tmp63_);
	_tmp65_ = _tmp64_;
	_tmp66_ = bala_scope_lookup (_tmp65_, "uint8");
	_tmp67_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp66_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp68_ = bala_integer_type_new (_tmp67_, NULL, NULL);
	_bala_code_node_unref0 (self->uint8_type);
	self->uint8_type = (BalaDataType*) _tmp68_;
	_bala_code_node_unref0 (_tmp67_);
	_tmp69_ = self->root_symbol;
	_tmp70_ = bala_symbol_get_scope (_tmp69_);
	_tmp71_ = _tmp70_;
	_tmp72_ = bala_scope_lookup (_tmp71_, "int16");
	_tmp73_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp72_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp74_ = bala_integer_type_new (_tmp73_, NULL, NULL);
	_bala_code_node_unref0 (self->int16_type);
	self->int16_type = (BalaDataType*) _tmp74_;
	_bala_code_node_unref0 (_tmp73_);
	_tmp75_ = self->root_symbol;
	_tmp76_ = bala_symbol_get_scope (_tmp75_);
	_tmp77_ = _tmp76_;
	_tmp78_ = bala_scope_lookup (_tmp77_, "uint16");
	_tmp79_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp78_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp80_ = bala_integer_type_new (_tmp79_, NULL, NULL);
	_bala_code_node_unref0 (self->uint16_type);
	self->uint16_type = (BalaDataType*) _tmp80_;
	_bala_code_node_unref0 (_tmp79_);
	_tmp81_ = self->root_symbol;
	_tmp82_ = bala_symbol_get_scope (_tmp81_);
	_tmp83_ = _tmp82_;
	_tmp84_ = bala_scope_lookup (_tmp83_, "int32");
	_tmp85_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp84_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp86_ = bala_integer_type_new (_tmp85_, NULL, NULL);
	_bala_code_node_unref0 (self->int32_type);
	self->int32_type = (BalaDataType*) _tmp86_;
	_bala_code_node_unref0 (_tmp85_);
	_tmp87_ = self->root_symbol;
	_tmp88_ = bala_symbol_get_scope (_tmp87_);
	_tmp89_ = _tmp88_;
	_tmp90_ = bala_scope_lookup (_tmp89_, "uint32");
	_tmp91_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp90_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp92_ = bala_integer_type_new (_tmp91_, NULL, NULL);
	_bala_code_node_unref0 (self->uint32_type);
	self->uint32_type = (BalaDataType*) _tmp92_;
	_bala_code_node_unref0 (_tmp91_);
	_tmp93_ = self->root_symbol;
	_tmp94_ = bala_symbol_get_scope (_tmp93_);
	_tmp95_ = _tmp94_;
	_tmp96_ = bala_scope_lookup (_tmp95_, "int64");
	_tmp97_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp96_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp98_ = bala_integer_type_new (_tmp97_, NULL, NULL);
	_bala_code_node_unref0 (self->int64_type);
	self->int64_type = (BalaDataType*) _tmp98_;
	_bala_code_node_unref0 (_tmp97_);
	_tmp99_ = self->root_symbol;
	_tmp100_ = bala_symbol_get_scope (_tmp99_);
	_tmp101_ = _tmp100_;
	_tmp102_ = bala_scope_lookup (_tmp101_, "uint64");
	_tmp103_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp102_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp104_ = bala_integer_type_new (_tmp103_, NULL, NULL);
	_bala_code_node_unref0 (self->uint64_type);
	self->uint64_type = (BalaDataType*) _tmp104_;
	_bala_code_node_unref0 (_tmp103_);
	_tmp105_ = self->root_symbol;
	_tmp106_ = bala_symbol_get_scope (_tmp105_);
	_tmp107_ = _tmp106_;
	_tmp108_ = bala_scope_lookup (_tmp107_, "size_t");
	_tmp109_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp108_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp110_ = bala_integer_type_new (_tmp109_, NULL, NULL);
	_bala_code_node_unref0 (self->size_t_type);
	self->size_t_type = (BalaDataType*) _tmp110_;
	_bala_code_node_unref0 (_tmp109_);
	_tmp111_ = self->root_symbol;
	_tmp112_ = bala_symbol_get_scope (_tmp111_);
	_tmp113_ = _tmp112_;
	_tmp114_ = bala_scope_lookup (_tmp113_, "float");
	_tmp115_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp114_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp116_ = bala_floating_type_new (_tmp115_);
	_bala_code_node_unref0 (self->float_type);
	self->float_type = (BalaDataType*) _tmp116_;
	_bala_code_node_unref0 (_tmp115_);
	_tmp117_ = self->root_symbol;
	_tmp118_ = bala_symbol_get_scope (_tmp117_);
	_tmp119_ = _tmp118_;
	_tmp120_ = bala_scope_lookup (_tmp119_, "double");
	_tmp121_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp120_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp122_ = bala_floating_type_new (_tmp121_);
	_bala_code_node_unref0 (self->double_type);
	self->double_type = (BalaDataType*) _tmp122_;
	_bala_code_node_unref0 (_tmp121_);
	_tmp123_ = self->root_symbol;
	_tmp124_ = bala_symbol_get_scope (_tmp123_);
	_tmp125_ = _tmp124_;
	_tmp126_ = bala_scope_lookup (_tmp125_, "string");
	_tmp127_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp126_, BALA_TYPE_CLASS, BalaClass);
	_tmp128_ = bala_object_type_new ((BalaObjectTypeSymbol*) _tmp127_);
	_bala_code_node_unref0 (self->string_type);
	self->string_type = (BalaDataType*) _tmp128_;
	_bala_code_node_unref0 (_tmp127_);
	_tmp129_ = self->root_symbol;
	_tmp130_ = bala_symbol_get_scope (_tmp129_);
	_tmp131_ = _tmp130_;
	_tmp132_ = bala_scope_lookup (_tmp131_, "unichar");
	unichar_struct = G_TYPE_CHECK_INSTANCE_CAST (_tmp132_, BALA_TYPE_STRUCT, BalaStruct);
	_tmp133_ = unichar_struct;
	if (_tmp133_ != NULL) {
		BalaStruct* _tmp134_;
		BalaIntegerType* _tmp135_;
		_tmp134_ = unichar_struct;
		_tmp135_ = bala_integer_type_new (_tmp134_, NULL, NULL);
		_bala_code_node_unref0 (self->unichar_type);
		self->unichar_type = (BalaDataType*) _tmp135_;
	}
	_tmp136_ = bala_code_context_get_profile (context);
	_tmp137_ = _tmp136_;
	if (_tmp137_ == BALA_PROFILE_GOBJECT) {
		BalaSymbol* glib_ns = NULL;
		BalaSymbol* _tmp138_;
		BalaScope* _tmp139_;
		BalaScope* _tmp140_;
		BalaSymbol* _tmp141_;
		BalaSymbol* _tmp142_;
		BalaScope* _tmp143_;
		BalaScope* _tmp144_;
		BalaSymbol* _tmp145_;
		BalaSymbol* _tmp146_;
		BalaScope* _tmp147_;
		BalaScope* _tmp148_;
		BalaSymbol* _tmp149_;
		BalaErrorType* _tmp150_;
		BalaSymbol* _tmp151_;
		BalaScope* _tmp152_;
		BalaScope* _tmp153_;
		BalaSymbol* _tmp154_;
		BalaSymbol* _tmp155_;
		BalaScope* _tmp156_;
		BalaScope* _tmp157_;
		BalaSymbol* _tmp158_;
		BalaSymbol* _tmp159_;
		BalaScope* _tmp160_;
		BalaScope* _tmp161_;
		BalaSymbol* _tmp162_;
		BalaSymbol* _tmp163_;
		BalaScope* _tmp164_;
		BalaScope* _tmp165_;
		BalaSymbol* _tmp166_;
		BalaSymbol* _tmp167_;
		BalaScope* _tmp168_;
		BalaScope* _tmp169_;
		BalaSymbol* _tmp170_;
		BalaSymbol* _tmp171_;
		BalaScope* _tmp172_;
		BalaScope* _tmp173_;
		BalaSymbol* _tmp174_;
		BalaSymbol* _tmp175_;
		BalaScope* _tmp176_;
		BalaScope* _tmp177_;
		BalaSymbol* _tmp178_;
		BalaSymbol* _tmp179_;
		BalaScope* _tmp180_;
		BalaScope* _tmp181_;
		BalaSymbol* _tmp182_;
		BalaSymbol* _tmp183_;
		BalaScope* _tmp184_;
		BalaScope* _tmp185_;
		BalaSymbol* _tmp186_;
		BalaSymbol* _tmp187_;
		BalaScope* _tmp188_;
		BalaScope* _tmp189_;
		BalaSymbol* _tmp190_;
		BalaSymbol* _tmp191_;
		BalaScope* _tmp192_;
		BalaScope* _tmp193_;
		BalaSymbol* _tmp194_;
		BalaSymbol* _tmp195_;
		BalaScope* _tmp196_;
		BalaScope* _tmp197_;
		BalaSymbol* _tmp198_;
		BalaSymbol* _tmp199_;
		BalaScope* _tmp200_;
		BalaScope* _tmp201_;
		BalaSymbol* _tmp202_;
		BalaStruct* _tmp203_;
		BalaIntegerType* _tmp204_;
		BalaSymbol* _tmp205_;
		BalaScope* _tmp206_;
		BalaScope* _tmp207_;
		BalaSymbol* _tmp208_;
		BalaSymbol* _tmp209_;
		BalaScope* _tmp210_;
		BalaScope* _tmp211_;
		BalaSymbol* _tmp212_;
		BalaSymbol* _tmp213_;
		BalaScope* _tmp214_;
		BalaScope* _tmp215_;
		BalaSymbol* _tmp216_;
		BalaSymbol* _tmp217_;
		BalaScope* _tmp218_;
		BalaScope* _tmp219_;
		BalaSymbol* _tmp220_;
		BalaSymbol* _tmp221_;
		BalaScope* _tmp222_;
		BalaScope* _tmp223_;
		BalaSymbol* _tmp224_;
		BalaSymbol* _tmp225_;
		BalaScope* _tmp226_;
		BalaScope* _tmp227_;
		BalaSymbol* _tmp228_;
		BalaSymbol* _tmp229_;
		BalaScope* _tmp230_;
		BalaScope* _tmp231_;
		BalaSymbol* _tmp232_;
		BalaStruct* _tmp233_;
		BalaStruct* _tmp234_;
		BalaSymbol* _tmp235_;
		BalaScope* _tmp236_;
		BalaScope* _tmp237_;
		BalaSymbol* _tmp238_;
		BalaSymbol* _tmp239_;
		BalaScope* _tmp240_;
		BalaScope* _tmp241_;
		BalaSymbol* _tmp242_;
		BalaSymbol* _tmp243_;
		BalaScope* _tmp244_;
		BalaScope* _tmp245_;
		BalaSymbol* _tmp246_;
		BalaClass* _tmp247_;
		BalaObjectType* _tmp248_;
		BalaMethod* _tmp249_;
		BalaMethod* _tmp250_;
		BalaSymbol* _tmp272_;
		BalaScope* _tmp273_;
		BalaScope* _tmp274_;
		BalaSymbol* _tmp275_;
		BalaSymbol* _tmp276_;
		BalaScope* _tmp277_;
		BalaScope* _tmp278_;
		BalaSymbol* _tmp279_;
		BalaStruct* _tmp280_;
		BalaStructValueType* _tmp281_;
		BalaDataType* _tmp282_;
		BalaDataType* _tmp283_;
		BalaSymbol* _tmp284_;
		BalaScope* _tmp285_;
		BalaScope* _tmp286_;
		BalaSymbol* _tmp287_;
		BalaDelegate* _tmp288_;
		BalaDelegateType* _tmp289_;
		_tmp138_ = self->root_symbol;
		_tmp139_ = bala_symbol_get_scope (_tmp138_);
		_tmp140_ = _tmp139_;
		_tmp141_ = bala_scope_lookup (_tmp140_, "GLib");
		glib_ns = _tmp141_;
		_tmp142_ = glib_ns;
		_tmp143_ = bala_symbol_get_scope (_tmp142_);
		_tmp144_ = _tmp143_;
		_tmp145_ = bala_scope_lookup (_tmp144_, "Type");
		_bala_code_node_unref0 (self->gtype_type);
		self->gtype_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp145_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp146_ = glib_ns;
		_tmp147_ = bala_symbol_get_scope (_tmp146_);
		_tmp148_ = _tmp147_;
		_tmp149_ = bala_scope_lookup (_tmp148_, "Object");
		_bala_code_node_unref0 (self->gobject_type);
		self->gobject_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp149_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp150_ = bala_error_type_new (NULL, NULL, NULL);
		_bala_code_node_unref0 (self->gerror_type);
		self->gerror_type = _tmp150_;
		_tmp151_ = glib_ns;
		_tmp152_ = bala_symbol_get_scope (_tmp151_);
		_tmp153_ = _tmp152_;
		_tmp154_ = bala_scope_lookup (_tmp153_, "List");
		_bala_code_node_unref0 (self->glist_type);
		self->glist_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp154_, BALA_TYPE_CLASS, BalaClass);
		_tmp155_ = glib_ns;
		_tmp156_ = bala_symbol_get_scope (_tmp155_);
		_tmp157_ = _tmp156_;
		_tmp158_ = bala_scope_lookup (_tmp157_, "SList");
		_bala_code_node_unref0 (self->gslist_type);
		self->gslist_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp158_, BALA_TYPE_CLASS, BalaClass);
		_tmp159_ = glib_ns;
		_tmp160_ = bala_symbol_get_scope (_tmp159_);
		_tmp161_ = _tmp160_;
		_tmp162_ = bala_scope_lookup (_tmp161_, "Node");
		_bala_code_node_unref0 (self->gnode_type);
		self->gnode_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp162_, BALA_TYPE_CLASS, BalaClass);
		_tmp163_ = glib_ns;
		_tmp164_ = bala_symbol_get_scope (_tmp163_);
		_tmp165_ = _tmp164_;
		_tmp166_ = bala_scope_lookup (_tmp165_, "Queue");
		_bala_code_node_unref0 (self->gqueue_type);
		self->gqueue_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp166_, BALA_TYPE_CLASS, BalaClass);
		_tmp167_ = glib_ns;
		_tmp168_ = bala_symbol_get_scope (_tmp167_);
		_tmp169_ = _tmp168_;
		_tmp170_ = bala_scope_lookup (_tmp169_, "ValueArray");
		_bala_code_node_unref0 (self->gvaluearray_type);
		self->gvaluearray_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp170_, BALA_TYPE_CLASS, BalaClass);
		_tmp171_ = glib_ns;
		_tmp172_ = bala_symbol_get_scope (_tmp171_);
		_tmp173_ = _tmp172_;
		_tmp174_ = bala_scope_lookup (_tmp173_, "StringBuilder");
		_bala_code_node_unref0 (self->gstringbuilder_type);
		self->gstringbuilder_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp174_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp175_ = glib_ns;
		_tmp176_ = bala_symbol_get_scope (_tmp175_);
		_tmp177_ = _tmp176_;
		_tmp178_ = bala_scope_lookup (_tmp177_, "Array");
		_bala_code_node_unref0 (self->garray_type);
		self->garray_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp178_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp179_ = glib_ns;
		_tmp180_ = bala_symbol_get_scope (_tmp179_);
		_tmp181_ = _tmp180_;
		_tmp182_ = bala_scope_lookup (_tmp181_, "ByteArray");
		_bala_code_node_unref0 (self->gbytearray_type);
		self->gbytearray_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp182_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp183_ = glib_ns;
		_tmp184_ = bala_symbol_get_scope (_tmp183_);
		_tmp185_ = _tmp184_;
		_tmp186_ = bala_scope_lookup (_tmp185_, "PtrArray");
		_bala_code_node_unref0 (self->gptrarray_type);
		self->gptrarray_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp186_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp187_ = glib_ns;
		_tmp188_ = bala_symbol_get_scope (_tmp187_);
		_tmp189_ = _tmp188_;
		_tmp190_ = bala_scope_lookup (_tmp189_, "ThreadPool");
		_bala_code_node_unref0 (self->gthreadpool_type);
		self->gthreadpool_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp190_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp191_ = self->root_symbol;
		_tmp192_ = bala_symbol_get_scope (_tmp191_);
		_tmp193_ = _tmp192_;
		_tmp194_ = bala_scope_lookup (_tmp193_, "GLib");
		_tmp195_ = _tmp194_;
		_tmp196_ = bala_symbol_get_scope (_tmp195_);
		_tmp197_ = _tmp196_;
		_tmp198_ = bala_scope_lookup (_tmp197_, "Error");
		_bala_code_node_unref0 (self->priv->gerror);
		self->priv->gerror = G_TYPE_CHECK_INSTANCE_CAST (_tmp198_, BALA_TYPE_CLASS, BalaClass);
		_bala_code_node_unref0 (_tmp195_);
		_tmp199_ = glib_ns;
		_tmp200_ = bala_symbol_get_scope (_tmp199_);
		_tmp201_ = _tmp200_;
		_tmp202_ = bala_scope_lookup (_tmp201_, "Quark");
		_tmp203_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp202_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp204_ = bala_integer_type_new (_tmp203_, NULL, NULL);
		_bala_code_node_unref0 (self->gquark_type);
		self->gquark_type = (BalaDataType*) _tmp204_;
		_bala_code_node_unref0 (_tmp203_);
		_tmp205_ = glib_ns;
		_tmp206_ = bala_symbol_get_scope (_tmp205_);
		_tmp207_ = _tmp206_;
		_tmp208_ = bala_scope_lookup (_tmp207_, "Value");
		_bala_code_node_unref0 (self->gvalue_type);
		self->gvalue_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp208_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp209_ = glib_ns;
		_tmp210_ = bala_symbol_get_scope (_tmp209_);
		_tmp211_ = _tmp210_;
		_tmp212_ = bala_scope_lookup (_tmp211_, "Variant");
		_bala_code_node_unref0 (self->gvariant_type);
		self->gvariant_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp212_, BALA_TYPE_CLASS, BalaClass);
		_tmp213_ = glib_ns;
		_tmp214_ = bala_symbol_get_scope (_tmp213_);
		_tmp215_ = _tmp214_;
		_tmp216_ = bala_scope_lookup (_tmp215_, "Source");
		_bala_code_node_unref0 (self->gsource_type);
		self->gsource_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp216_, BALA_TYPE_CLASS, BalaClass);
		_tmp217_ = glib_ns;
		_tmp218_ = bala_symbol_get_scope (_tmp217_);
		_tmp219_ = _tmp218_;
		_tmp220_ = bala_scope_lookup (_tmp219_, "Mutex");
		_bala_code_node_unref0 (self->gmutex_type);
		self->gmutex_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp220_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp221_ = glib_ns;
		_tmp222_ = bala_symbol_get_scope (_tmp221_);
		_tmp223_ = _tmp222_;
		_tmp224_ = bala_scope_lookup (_tmp223_, "RecMutex");
		_bala_code_node_unref0 (self->grecmutex_type);
		self->grecmutex_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp224_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp225_ = glib_ns;
		_tmp226_ = bala_symbol_get_scope (_tmp225_);
		_tmp227_ = _tmp226_;
		_tmp228_ = bala_scope_lookup (_tmp227_, "RWLock");
		_bala_code_node_unref0 (self->grwlock_type);
		self->grwlock_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp228_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp229_ = glib_ns;
		_tmp230_ = bala_symbol_get_scope (_tmp229_);
		_tmp231_ = _tmp230_;
		_tmp232_ = bala_scope_lookup (_tmp231_, "Cond");
		_bala_code_node_unref0 (self->gcond_type);
		self->gcond_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp232_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp233_ = self->grecmutex_type;
		_tmp234_ = _bala_code_node_ref0 (_tmp233_);
		_bala_code_node_unref0 (self->mutex_type);
		self->mutex_type = _tmp234_;
		_tmp235_ = glib_ns;
		_tmp236_ = bala_symbol_get_scope (_tmp235_);
		_tmp237_ = _tmp236_;
		_tmp238_ = bala_scope_lookup (_tmp237_, "TypeModule");
		_bala_code_node_unref0 (self->type_module_type);
		self->type_module_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp238_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp239_ = self->root_symbol;
		_tmp240_ = bala_symbol_get_scope (_tmp239_);
		_tmp241_ = _tmp240_;
		_tmp242_ = bala_scope_lookup (_tmp241_, "GLib");
		_tmp243_ = _tmp242_;
		_tmp244_ = bala_symbol_get_scope (_tmp243_);
		_tmp245_ = _tmp244_;
		_tmp246_ = bala_scope_lookup (_tmp245_, "Regex");
		_tmp247_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp246_, BALA_TYPE_CLASS, BalaClass);
		_tmp248_ = bala_object_type_new ((BalaObjectTypeSymbol*) _tmp247_);
		_bala_code_node_unref0 (self->regex_type);
		self->regex_type = (BalaDataType*) _tmp248_;
		_bala_code_node_unref0 (_tmp247_);
		_bala_code_node_unref0 (_tmp243_);
		_tmp249_ = bala_code_context_get_module_init_method (context);
		_tmp250_ = _tmp249_;
		if (_tmp250_ != NULL) {
			{
				BalaList* _parameter_list = NULL;
				BalaMethod* _tmp251_;
				BalaMethod* _tmp252_;
				BalaList* _tmp253_;
				BalaList* _tmp254_;
				gint _parameter_size = 0;
				BalaList* _tmp255_;
				gint _tmp256_;
				gint _tmp257_;
				gint _parameter_index = 0;
				_tmp251_ = bala_code_context_get_module_init_method (context);
				_tmp252_ = _tmp251_;
				_tmp253_ = bala_callable_get_parameters ((BalaCallable*) _tmp252_);
				_tmp254_ = _bala_iterable_ref0 (_tmp253_);
				_parameter_list = _tmp254_;
				_tmp255_ = _parameter_list;
				_tmp256_ = bala_collection_get_size ((BalaCollection*) _tmp255_);
				_tmp257_ = _tmp256_;
				_parameter_size = _tmp257_;
				_parameter_index = -1;
				while (TRUE) {
					gint _tmp258_;
					gint _tmp259_;
					BalaParameter* parameter = NULL;
					BalaList* _tmp260_;
					gpointer _tmp261_;
					BalaParameter* _tmp262_;
					BalaDataType* _tmp263_;
					BalaDataType* _tmp264_;
					BalaTypeSymbol* _tmp265_;
					BalaTypeSymbol* _tmp266_;
					BalaTypeSymbol* _tmp267_;
					_parameter_index = _parameter_index + 1;
					_tmp258_ = _parameter_index;
					_tmp259_ = _parameter_size;
					if (!(_tmp258_ < _tmp259_)) {
						break;
					}
					_tmp260_ = _parameter_list;
					_tmp261_ = bala_list_get (_tmp260_, _parameter_index);
					parameter = (BalaParameter*) _tmp261_;
					_tmp262_ = parameter;
					_tmp263_ = bala_variable_get_variable_type ((BalaVariable*) _tmp262_);
					_tmp264_ = _tmp263_;
					_tmp265_ = bala_data_type_get_type_symbol (_tmp264_);
					_tmp266_ = _tmp265_;
					_tmp267_ = self->type_module_type;
					if (bala_typesymbol_is_subtype_of (_tmp266_, _tmp267_)) {
						BalaParameter* _tmp268_;
						const gchar* _tmp269_;
						const gchar* _tmp270_;
						gchar* _tmp271_;
						self->in_plugin = TRUE;
						_tmp268_ = parameter;
						_tmp269_ = bala_symbol_get_name ((BalaSymbol*) _tmp268_);
						_tmp270_ = _tmp269_;
						_tmp271_ = g_strdup (_tmp270_);
						_g_free0 (self->module_init_param_name);
						self->module_init_param_name = _tmp271_;
						_bala_code_node_unref0 (parameter);
						break;
					}
					_bala_code_node_unref0 (parameter);
				}
				_bala_iterable_unref0 (_parameter_list);
			}
		}
		_tmp272_ = glib_ns;
		_tmp273_ = bala_symbol_get_scope (_tmp272_);
		_tmp274_ = _tmp273_;
		_tmp275_ = bala_scope_lookup (_tmp274_, "DBusProxy");
		_bala_code_node_unref0 (self->dbus_proxy_type);
		self->dbus_proxy_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp275_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		_tmp276_ = glib_ns;
		_tmp277_ = bala_symbol_get_scope (_tmp276_);
		_tmp278_ = _tmp277_;
		_tmp279_ = bala_scope_lookup (_tmp278_, "pointer");
		_tmp280_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp279_, BALA_TYPE_STRUCT, BalaStruct);
		_tmp281_ = bala_struct_value_type_new (_tmp280_);
		_bala_code_node_unref0 (self->pointer_type);
		self->pointer_type = (BalaDataType*) _tmp281_;
		_bala_code_node_unref0 (_tmp280_);
		_tmp282_ = self->pointer_type;
		_tmp283_ = _bala_code_node_ref0 (_tmp282_);
		_bala_code_node_unref0 (self->delegate_target_type);
		self->delegate_target_type = _tmp283_;
		_tmp284_ = glib_ns;
		_tmp285_ = bala_symbol_get_scope (_tmp284_);
		_tmp286_ = _tmp285_;
		_tmp287_ = bala_scope_lookup (_tmp286_, "DestroyNotify");
		_bala_code_node_unref0 (self->priv->destroy_notify);
		self->priv->destroy_notify = G_TYPE_CHECK_INSTANCE_CAST (_tmp287_, BALA_TYPE_DELEGATE, BalaDelegate);
		_tmp288_ = self->priv->destroy_notify;
		_tmp289_ = bala_delegate_type_new (_tmp288_);
		_bala_code_node_unref0 (self->delegate_target_destroy_type);
		self->delegate_target_destroy_type = _tmp289_;
		_bala_code_node_unref0 (glib_ns);
	} else {
		BalaVoidType* _tmp290_;
		BalaVoidType* _tmp291_;
		BalaPointerType* _tmp292_;
		BalaDataType* _tmp293_;
		BalaDataType* _tmp294_;
		BalaVoidType* _tmp295_;
		BalaVoidType* _tmp296_;
		BalaDelegate* _tmp297_;
		BalaDelegate* _tmp298_;
		BalaVoidType* _tmp299_;
		BalaVoidType* _tmp300_;
		BalaPointerType* _tmp301_;
		BalaPointerType* _tmp302_;
		BalaParameter* _tmp303_;
		BalaParameter* _tmp304_;
		BalaDelegate* _tmp305_;
		BalaDelegate* _tmp306_;
		BalaSymbol* _tmp307_;
		BalaScope* _tmp308_;
		BalaScope* _tmp309_;
		BalaDelegate* _tmp310_;
		BalaDelegateType* _tmp311_;
		_tmp290_ = bala_void_type_new (NULL);
		_tmp291_ = _tmp290_;
		_tmp292_ = bala_pointer_type_new ((BalaDataType*) _tmp291_, NULL);
		_bala_code_node_unref0 (self->pointer_type);
		self->pointer_type = (BalaDataType*) _tmp292_;
		_bala_code_node_unref0 (_tmp291_);
		_tmp293_ = self->pointer_type;
		_tmp294_ = _bala_code_node_ref0 (_tmp293_);
		_bala_code_node_unref0 (self->delegate_target_type);
		self->delegate_target_type = _tmp294_;
		_tmp295_ = bala_void_type_new (NULL);
		_tmp296_ = _tmp295_;
		_tmp297_ = bala_delegate_new ("BalaDestroyNotify", (BalaDataType*) _tmp296_, NULL, NULL);
		_bala_code_node_unref0 (self->priv->destroy_notify);
		self->priv->destroy_notify = _tmp297_;
		_bala_code_node_unref0 (_tmp296_);
		_tmp298_ = self->priv->destroy_notify;
		_tmp299_ = bala_void_type_new (NULL);
		_tmp300_ = _tmp299_;
		_tmp301_ = bala_pointer_type_new ((BalaDataType*) _tmp300_, NULL);
		_tmp302_ = _tmp301_;
		_tmp303_ = bala_parameter_new ("data", (BalaDataType*) _tmp302_, NULL);
		_tmp304_ = _tmp303_;
		bala_callable_add_parameter ((BalaCallable*) _tmp298_, _tmp304_);
		_bala_code_node_unref0 (_tmp304_);
		_bala_code_node_unref0 (_tmp302_);
		_bala_code_node_unref0 (_tmp300_);
		_tmp305_ = self->priv->destroy_notify;
		bala_delegate_set_has_target (_tmp305_, FALSE);
		_tmp306_ = self->priv->destroy_notify;
		_tmp307_ = self->root_symbol;
		_tmp308_ = bala_symbol_get_scope (_tmp307_);
		_tmp309_ = _tmp308_;
		bala_symbol_set_owner ((BalaSymbol*) _tmp306_, _tmp309_);
		_tmp310_ = self->priv->destroy_notify;
		_tmp311_ = bala_delegate_type_new (_tmp310_);
		_bala_code_node_unref0 (self->delegate_target_destroy_type);
		self->delegate_target_destroy_type = _tmp311_;
	}
	_tmp312_ = self->root_symbol;
	_tmp313_ = bala_symbol_get_scope (_tmp312_);
	_tmp314_ = _tmp313_;
	_tmp315_ = bala_scope_lookup (_tmp314_, "Gtk");
	gtk_ns = _tmp315_;
	_tmp316_ = gtk_ns;
	if (_tmp316_ != NULL) {
		BalaSymbol* _tmp317_;
		BalaScope* _tmp318_;
		BalaScope* _tmp319_;
		BalaSymbol* _tmp320_;
		_tmp317_ = gtk_ns;
		_tmp318_ = bala_symbol_get_scope (_tmp317_);
		_tmp319_ = _tmp318_;
		_tmp320_ = bala_scope_lookup (_tmp319_, "Widget");
		_bala_code_node_unref0 (self->gtk_widget_type);
		self->gtk_widget_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp320_, BALA_TYPE_CLASS, BalaClass);
	}
	_tmp321_ = bala_ccode_file_new (NULL);
	_bala_ccode_file_unref0 (self->header_file);
	self->header_file = _tmp321_;
	_tmp322_ = self->header_file;
	bala_ccode_file_set_is_header (_tmp322_, TRUE);
	_tmp323_ = bala_ccode_file_new (NULL);
	_bala_ccode_file_unref0 (self->internal_header_file);
	self->internal_header_file = _tmp323_;
	_tmp324_ = self->internal_header_file;
	bala_ccode_file_set_is_header (_tmp324_, TRUE);
	_tmp325_ = bala_code_context_get_source_files (context);
	_tmp326_ = _bala_iterable_ref0 (_tmp325_);
	source_files = _tmp326_;
	{
		BalaList* _file_list = NULL;
		BalaList* _tmp327_;
		BalaList* _tmp328_;
		gint _file_size = 0;
		BalaList* _tmp329_;
		gint _tmp330_;
		gint _tmp331_;
		gint _file_index = 0;
		_tmp327_ = source_files;
		_tmp328_ = _bala_iterable_ref0 (_tmp327_);
		_file_list = _tmp328_;
		_tmp329_ = _file_list;
		_tmp330_ = bala_collection_get_size ((BalaCollection*) _tmp329_);
		_tmp331_ = _tmp330_;
		_file_size = _tmp331_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp332_;
			gint _tmp333_;
			BalaSourceFile* file = NULL;
			BalaList* _tmp334_;
			gpointer _tmp335_;
			gboolean _tmp336_ = FALSE;
			BalaSourceFile* _tmp337_;
			BalaSourceFileType _tmp338_;
			BalaSourceFileType _tmp339_;
			_file_index = _file_index + 1;
			_tmp332_ = _file_index;
			_tmp333_ = _file_size;
			if (!(_tmp332_ < _tmp333_)) {
				break;
			}
			_tmp334_ = _file_list;
			_tmp335_ = bala_list_get (_tmp334_, _file_index);
			file = (BalaSourceFile*) _tmp335_;
			_tmp337_ = file;
			_tmp338_ = bala_source_file_get_file_type (_tmp337_);
			_tmp339_ = _tmp338_;
			if (_tmp339_ == BALA_SOURCE_FILE_TYPE_SOURCE) {
				_tmp336_ = TRUE;
			} else {
				gboolean _tmp340_ = FALSE;
				const gchar* _tmp341_;
				const gchar* _tmp342_;
				_tmp341_ = bala_code_context_get_header_filename (context);
				_tmp342_ = _tmp341_;
				if (_tmp342_ != NULL) {
					BalaSourceFile* _tmp343_;
					BalaSourceFileType _tmp344_;
					BalaSourceFileType _tmp345_;
					_tmp343_ = file;
					_tmp344_ = bala_source_file_get_file_type (_tmp343_);
					_tmp345_ = _tmp344_;
					_tmp340_ = _tmp345_ == BALA_SOURCE_FILE_TYPE_FAST;
				} else {
					_tmp340_ = FALSE;
				}
				_tmp336_ = _tmp340_;
			}
			if (_tmp336_) {
				BalaSourceFile* _tmp346_;
				_tmp346_ = file;
				bala_source_file_accept (_tmp346_, (BalaCodeVisitor*) self);
			}
			_bala_source_file_unref0 (file);
		}
		_bala_iterable_unref0 (_file_list);
	}
	_tmp347_ = bala_code_context_get_symbols_filename (context);
	_tmp348_ = _tmp347_;
	if (_tmp348_ != NULL) {
		FILE* stream = NULL;
		const gchar* _tmp349_;
		const gchar* _tmp350_;
		FILE* _tmp351_;
		FILE* _tmp352_;
		_tmp349_ = bala_code_context_get_symbols_filename (context);
		_tmp350_ = _tmp349_;
		_tmp351_ = g_fopen (_tmp350_, "w");
		stream = _tmp351_;
		_tmp352_ = stream;
		if (_tmp352_ == NULL) {
			const gchar* _tmp353_;
			const gchar* _tmp354_;
			gchar* _tmp355_;
			gchar* _tmp356_;
			_tmp353_ = bala_code_context_get_symbols_filename (context);
			_tmp354_ = _tmp353_;
			_tmp355_ = g_strdup_printf ("unable to open `%s' for writing", _tmp354_);
			_tmp356_ = _tmp355_;
			bala_report_error (NULL, _tmp356_);
			_g_free0 (_tmp356_);
			bala_ccode_base_module_set_context (self, NULL);
			_fclose0 (stream);
			_bala_iterable_unref0 (source_files);
			_bala_code_node_unref0 (gtk_ns);
			_bala_code_node_unref0 (unichar_struct);
			return;
		}
		{
			BalaList* _symbol_list = NULL;
			BalaCCodeFile* _tmp357_;
			BalaList* _tmp358_;
			gint _symbol_size = 0;
			BalaList* _tmp359_;
			gint _tmp360_;
			gint _tmp361_;
			gint _symbol_index = 0;
			_tmp357_ = self->header_file;
			_tmp358_ = bala_ccode_file_get_symbols (_tmp357_);
			_symbol_list = _tmp358_;
			_tmp359_ = _symbol_list;
			_tmp360_ = bala_collection_get_size ((BalaCollection*) _tmp359_);
			_tmp361_ = _tmp360_;
			_symbol_size = _tmp361_;
			_symbol_index = -1;
			while (TRUE) {
				gint _tmp362_;
				gint _tmp363_;
				gchar* symbol = NULL;
				BalaList* _tmp364_;
				gpointer _tmp365_;
				FILE* _tmp366_;
				const gchar* _tmp367_;
				FILE* _tmp368_;
				_symbol_index = _symbol_index + 1;
				_tmp362_ = _symbol_index;
				_tmp363_ = _symbol_size;
				if (!(_tmp362_ < _tmp363_)) {
					break;
				}
				_tmp364_ = _symbol_list;
				_tmp365_ = bala_list_get (_tmp364_, _symbol_index);
				symbol = (gchar*) _tmp365_;
				_tmp366_ = stream;
				_tmp367_ = symbol;
				fputs (_tmp367_, _tmp366_);
				_tmp368_ = stream;
				fputc ('\n', _tmp368_);
				_g_free0 (symbol);
			}
			_bala_iterable_unref0 (_symbol_list);
		}
		_fclose0 (stream);
		stream = NULL;
		_fclose0 (stream);
	}
	_tmp369_ = bala_code_context_get_header_filename (context);
	_tmp370_ = _tmp369_;
	if (_tmp370_ != NULL) {
		gboolean ret = FALSE;
		BalaProfile _tmp371_;
		BalaProfile _tmp372_;
		_tmp371_ = bala_code_context_get_profile (context);
		_tmp372_ = _tmp371_;
		if (_tmp372_ == BALA_PROFILE_GOBJECT) {
			BalaCCodeFile* _tmp373_;
			BalaCCodeFile* _tmp374_;
			const gchar* _tmp375_;
			const gchar* _tmp376_;
			gboolean _tmp377_;
			gboolean _tmp378_;
			_tmp373_ = self->header_file;
			bala_ccode_file_add_include (_tmp373_, "glib.h", FALSE);
			_tmp374_ = self->header_file;
			_tmp375_ = bala_code_context_get_header_filename (context);
			_tmp376_ = _tmp375_;
			_tmp377_ = bala_code_context_get_version_header (context);
			_tmp378_ = _tmp377_;
			ret = bala_ccode_file_store (_tmp374_, _tmp376_, NULL, _tmp378_, FALSE, "G_BEGIN_DECLS", "G_END_DECLS");
		} else {
			BalaCCodeFile* _tmp379_;
			const gchar* _tmp380_;
			const gchar* _tmp381_;
			gboolean _tmp382_;
			gboolean _tmp383_;
			_tmp379_ = self->header_file;
			_tmp380_ = bala_code_context_get_header_filename (context);
			_tmp381_ = _tmp380_;
			_tmp382_ = bala_code_context_get_version_header (context);
			_tmp383_ = _tmp382_;
			ret = bala_ccode_file_store (_tmp379_, _tmp381_, NULL, _tmp383_, FALSE, "#ifdef  __cplusplus\nextern \"C\" {\n#endif", "#ifdef  __cplusplus\n}\n#endif");
		}
		if (!ret) {
			const gchar* _tmp384_;
			const gchar* _tmp385_;
			gchar* _tmp386_;
			gchar* _tmp387_;
			_tmp384_ = bala_code_context_get_header_filename (context);
			_tmp385_ = _tmp384_;
			_tmp386_ = g_strdup_printf ("unable to open `%s' for writing", _tmp385_);
			_tmp387_ = _tmp386_;
			bala_report_error (NULL, _tmp387_);
			_g_free0 (_tmp387_);
		}
	}
	_tmp388_ = bala_code_context_get_internal_header_filename (context);
	_tmp389_ = _tmp388_;
	if (_tmp389_ != NULL) {
		gboolean ret = FALSE;
		BalaProfile _tmp390_;
		BalaProfile _tmp391_;
		_tmp390_ = bala_code_context_get_profile (context);
		_tmp391_ = _tmp390_;
		if (_tmp391_ == BALA_PROFILE_GOBJECT) {
			BalaCCodeFile* _tmp392_;
			BalaCCodeFile* _tmp393_;
			const gchar* _tmp394_;
			const gchar* _tmp395_;
			gboolean _tmp396_;
			gboolean _tmp397_;
			_tmp392_ = self->internal_header_file;
			bala_ccode_file_add_include (_tmp392_, "glib.h", FALSE);
			_tmp393_ = self->internal_header_file;
			_tmp394_ = bala_code_context_get_internal_header_filename (context);
			_tmp395_ = _tmp394_;
			_tmp396_ = bala_code_context_get_version_header (context);
			_tmp397_ = _tmp396_;
			ret = bala_ccode_file_store (_tmp393_, _tmp395_, NULL, _tmp397_, FALSE, "G_BEGIN_DECLS", "G_END_DECLS");
		} else {
			BalaCCodeFile* _tmp398_;
			const gchar* _tmp399_;
			const gchar* _tmp400_;
			gboolean _tmp401_;
			gboolean _tmp402_;
			_tmp398_ = self->internal_header_file;
			_tmp399_ = bala_code_context_get_internal_header_filename (context);
			_tmp400_ = _tmp399_;
			_tmp401_ = bala_code_context_get_version_header (context);
			_tmp402_ = _tmp401_;
			ret = bala_ccode_file_store (_tmp398_, _tmp400_, NULL, _tmp402_, FALSE, "#ifdef  __cplusplus\nextern \"C\" {\n#endif", "#ifdef  __cplusplus\n}\n#endif");
		}
		if (!ret) {
			const gchar* _tmp403_;
			const gchar* _tmp404_;
			gchar* _tmp405_;
			gchar* _tmp406_;
			_tmp403_ = bala_code_context_get_internal_header_filename (context);
			_tmp404_ = _tmp403_;
			_tmp405_ = g_strdup_printf ("unable to open `%s' for writing", _tmp404_);
			_tmp406_ = _tmp405_;
			bala_report_error (NULL, _tmp406_);
			_g_free0 (_tmp406_);
		}
	}
	bala_ccode_base_module_set_context (self, NULL);
	_bala_iterable_unref0 (source_files);
	_bala_code_node_unref0 (gtk_ns);
	_bala_code_node_unref0 (unichar_struct);
}

static gpointer
_bala_ccode_base_module_emit_context_ref0 (gpointer self)
{
	return self ? bala_ccode_base_module_emit_context_ref (self) : NULL;
}

void
bala_ccode_base_module_push_context (BalaCCodeBaseModule* self,
                                     BalaCCodeBaseModuleEmitContext* emit_context)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCCodeBaseModuleEmitContext* _tmp3_;
	BalaCCodeFunction* _tmp4_;
	BalaCCodeFunction* _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (emit_context != NULL);
	_tmp0_ = self->emit_context;
	if (_tmp0_ != NULL) {
		BalaList* _tmp1_;
		BalaCCodeBaseModuleEmitContext* _tmp2_;
		_tmp1_ = self->priv->emit_context_stack;
		_tmp2_ = self->emit_context;
		bala_collection_add ((BalaCollection*) _tmp1_, _tmp2_);
	}
	_tmp3_ = _bala_ccode_base_module_emit_context_ref0 (emit_context);
	_bala_ccode_base_module_emit_context_unref0 (self->emit_context);
	self->emit_context = _tmp3_;
	_tmp4_ = bala_ccode_base_module_get_ccode (self);
	_tmp5_ = _tmp4_;
	if (_tmp5_ != NULL) {
		BalaCCodeFunction* _tmp6_;
		BalaCCodeFunction* _tmp7_;
		BalaCCodeLineDirective* _tmp8_;
		_tmp6_ = bala_ccode_base_module_get_ccode (self);
		_tmp7_ = _tmp6_;
		_tmp8_ = self->current_line;
		bala_ccode_function_set_current_line (_tmp7_, _tmp8_);
	}
}

void
bala_ccode_base_module_pop_context (BalaCCodeBaseModule* self)
{
	BalaList* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->emit_context_stack;
	_tmp1_ = bala_collection_get_size ((BalaCollection*) _tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ > 0) {
		BalaList* _tmp3_;
		BalaList* _tmp4_;
		gint _tmp5_;
		gint _tmp6_;
		gpointer _tmp7_;
		BalaCCodeFunction* _tmp8_;
		BalaCCodeFunction* _tmp9_;
		_tmp3_ = self->priv->emit_context_stack;
		_tmp4_ = self->priv->emit_context_stack;
		_tmp5_ = bala_collection_get_size ((BalaCollection*) _tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = bala_list_remove_at (_tmp3_, _tmp6_ - 1);
		_bala_ccode_base_module_emit_context_unref0 (self->emit_context);
		self->emit_context = (BalaCCodeBaseModuleEmitContext*) _tmp7_;
		_tmp8_ = bala_ccode_base_module_get_ccode (self);
		_tmp9_ = _tmp8_;
		if (_tmp9_ != NULL) {
			BalaCCodeFunction* _tmp10_;
			BalaCCodeFunction* _tmp11_;
			BalaCCodeLineDirective* _tmp12_;
			_tmp10_ = bala_ccode_base_module_get_ccode (self);
			_tmp11_ = _tmp10_;
			_tmp12_ = self->current_line;
			bala_ccode_function_set_current_line (_tmp11_, _tmp12_);
		}
	} else {
		_bala_ccode_base_module_emit_context_unref0 (self->emit_context);
		self->emit_context = NULL;
	}
}

void
bala_ccode_base_module_push_line (BalaCCodeBaseModule* self,
                                  BalaSourceReference* source_reference)
{
	BalaList* _tmp0_;
	BalaCCodeLineDirective* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->line_directive_stack;
	_tmp1_ = self->current_line;
	bala_collection_add ((BalaCollection*) _tmp0_, _tmp1_);
	if (source_reference != NULL) {
		BalaSourceFile* _tmp2_;
		BalaSourceFile* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		BalaSourceLocation _tmp6_ = {0};
		BalaSourceLocation _tmp7_;
		BalaCCodeLineDirective* _tmp8_;
		BalaCCodeFunction* _tmp9_;
		BalaCCodeFunction* _tmp10_;
		_tmp2_ = bala_source_reference_get_file (source_reference);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_source_file_get_relative_filename (_tmp3_);
		_tmp5_ = _tmp4_;
		bala_source_reference_get_begin (source_reference, &_tmp6_);
		_tmp7_ = _tmp6_;
		_tmp8_ = bala_ccode_line_directive_new (_tmp5_, _tmp7_.line);
		_bala_ccode_node_unref0 (self->current_line);
		self->current_line = _tmp8_;
		_g_free0 (_tmp5_);
		_tmp9_ = bala_ccode_base_module_get_ccode (self);
		_tmp10_ = _tmp9_;
		if (_tmp10_ != NULL) {
			BalaCCodeFunction* _tmp11_;
			BalaCCodeFunction* _tmp12_;
			BalaCCodeLineDirective* _tmp13_;
			_tmp11_ = bala_ccode_base_module_get_ccode (self);
			_tmp12_ = _tmp11_;
			_tmp13_ = self->current_line;
			bala_ccode_function_set_current_line (_tmp12_, _tmp13_);
		}
	}
}

void
bala_ccode_base_module_pop_line (BalaCCodeBaseModule* self)
{
	BalaList* _tmp0_;
	BalaList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gpointer _tmp4_;
	BalaCCodeFunction* _tmp5_;
	BalaCCodeFunction* _tmp6_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->line_directive_stack;
	_tmp1_ = self->priv->line_directive_stack;
	_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_list_remove_at (_tmp0_, _tmp3_ - 1);
	_bala_ccode_node_unref0 (self->current_line);
	self->current_line = (BalaCCodeLineDirective*) _tmp4_;
	_tmp5_ = bala_ccode_base_module_get_ccode (self);
	_tmp6_ = _tmp5_;
	if (_tmp6_ != NULL) {
		BalaCCodeFunction* _tmp7_;
		BalaCCodeFunction* _tmp8_;
		BalaCCodeLineDirective* _tmp9_;
		_tmp7_ = bala_ccode_base_module_get_ccode (self);
		_tmp8_ = _tmp7_;
		_tmp9_ = self->current_line;
		bala_ccode_function_set_current_line (_tmp8_, _tmp9_);
	}
}

static gpointer
_bala_ccode_node_ref0 (gpointer self)
{
	return self ? bala_ccode_node_ref (self) : NULL;
}

void
bala_ccode_base_module_push_function (BalaCCodeBaseModule* self,
                                      BalaCCodeFunction* func)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaArrayList* _tmp1_;
	BalaCCodeFunction* _tmp2_;
	BalaCCodeFunction* _tmp3_;
	BalaCCodeBaseModuleEmitContext* _tmp4_;
	BalaCCodeFunction* _tmp5_;
	BalaCCodeFunction* _tmp6_;
	BalaCCodeFunction* _tmp7_;
	BalaCCodeLineDirective* _tmp8_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (func != NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = _tmp0_->ccode_stack;
	_tmp2_ = bala_ccode_base_module_get_ccode (self);
	_tmp3_ = _tmp2_;
	bala_collection_add ((BalaCollection*) _tmp1_, _tmp3_);
	_tmp4_ = self->emit_context;
	_tmp5_ = _bala_ccode_node_ref0 (func);
	_bala_ccode_node_unref0 (_tmp4_->ccode);
	_tmp4_->ccode = _tmp5_;
	_tmp6_ = bala_ccode_base_module_get_ccode (self);
	_tmp7_ = _tmp6_;
	_tmp8_ = self->current_line;
	bala_ccode_function_set_current_line (_tmp7_, _tmp8_);
}

void
bala_ccode_base_module_pop_function (BalaCCodeBaseModule* self)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCCodeBaseModuleEmitContext* _tmp1_;
	BalaArrayList* _tmp2_;
	BalaCCodeBaseModuleEmitContext* _tmp3_;
	BalaArrayList* _tmp4_;
	gint _tmp5_;
	gint _tmp6_;
	gpointer _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->emit_context;
	_tmp1_ = self->emit_context;
	_tmp2_ = _tmp1_->ccode_stack;
	_tmp3_ = self->emit_context;
	_tmp4_ = _tmp3_->ccode_stack;
	_tmp5_ = bala_collection_get_size ((BalaCollection*) _tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_list_remove_at ((BalaList*) _tmp2_, _tmp6_ - 1);
	_bala_ccode_node_unref0 (_tmp0_->ccode);
	_tmp0_->ccode = (BalaCCodeFunction*) _tmp7_;
	_tmp8_ = bala_ccode_base_module_get_ccode (self);
	_tmp9_ = _tmp8_;
	if (_tmp9_ != NULL) {
		BalaCCodeFunction* _tmp10_;
		BalaCCodeFunction* _tmp11_;
		BalaCCodeLineDirective* _tmp12_;
		_tmp10_ = bala_ccode_base_module_get_ccode (self);
		_tmp11_ = _tmp10_;
		_tmp12_ = self->current_line;
		bala_ccode_function_set_current_line (_tmp11_, _tmp12_);
	}
}

gboolean
bala_ccode_base_module_add_symbol_declaration (BalaCCodeBaseModule* self,
                                               BalaCCodeFile* decl_space,
                                               BalaSymbol* sym,
                                               const gchar* name)
{
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp15_ = FALSE;
	gboolean _tmp18_ = FALSE;
	gboolean _tmp19_ = FALSE;
	gboolean _tmp20_;
	gboolean _tmp21_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (decl_space != NULL, FALSE);
	g_return_val_if_fail (sym != NULL, FALSE);
	g_return_val_if_fail (name != NULL, FALSE);
	if (bala_ccode_file_add_declaration (decl_space, name)) {
		result = TRUE;
		return result;
	}
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) sym);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaSourceReference* _tmp2_;
		BalaSourceReference* _tmp3_;
		BalaSourceFile* _tmp4_;
		BalaSourceFile* _tmp5_;
		_tmp2_ = bala_code_node_get_source_reference ((BalaCodeNode*) sym);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_source_reference_get_file (_tmp3_);
		_tmp5_ = _tmp4_;
		bala_source_file_set_used (_tmp5_, TRUE);
	}
	_tmp6_ = bala_symbol_get_anonymous (sym);
	_tmp7_ = _tmp6_;
	if (_tmp7_) {
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_;
		gboolean _tmp10_;
		_tmp9_ = bala_ccode_file_get_is_header (decl_space);
		_tmp10_ = _tmp9_;
		if (!_tmp10_) {
			BalaCodeContext* _tmp11_;
			BalaCodeContext* _tmp12_;
			gboolean _tmp13_;
			gboolean _tmp14_;
			_tmp11_ = bala_code_context_get ();
			_tmp12_ = _tmp11_;
			_tmp13_ = bala_code_context_get_use_header (_tmp12_);
			_tmp14_ = _tmp13_;
			_tmp8_ = _tmp14_;
			_bala_code_context_unref0 (_tmp12_);
		} else {
			_tmp8_ = FALSE;
		}
		result = _tmp8_;
		return result;
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (sym, BALA_TYPE_CONSTANT)) {
		BalaExpression* _tmp16_;
		BalaExpression* _tmp17_;
		_tmp16_ = bala_constant_get_value (G_TYPE_CHECK_INSTANCE_CAST (sym, BALA_TYPE_CONSTANT, BalaConstant));
		_tmp17_ = _tmp16_;
		_tmp15_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_INITIALIZER_LIST);
	} else {
		_tmp15_ = FALSE;
	}
	if (_tmp15_) {
		result = FALSE;
		return result;
	}
	_tmp20_ = bala_symbol_get_external_package (sym);
	_tmp21_ = _tmp20_;
	if (_tmp21_) {
		_tmp19_ = TRUE;
	} else {
		gboolean _tmp22_ = FALSE;
		gboolean _tmp23_ = FALSE;
		gboolean _tmp24_;
		gboolean _tmp25_;
		_tmp24_ = bala_ccode_file_get_is_header (decl_space);
		_tmp25_ = _tmp24_;
		if (!_tmp25_) {
			BalaCodeContext* _tmp26_;
			BalaCodeContext* _tmp27_;
			gboolean _tmp28_;
			gboolean _tmp29_;
			_tmp26_ = bala_code_context_get ();
			_tmp27_ = _tmp26_;
			_tmp28_ = bala_code_context_get_use_header (_tmp27_);
			_tmp29_ = _tmp28_;
			_tmp23_ = _tmp29_;
			_bala_code_context_unref0 (_tmp27_);
		} else {
			_tmp23_ = FALSE;
		}
		if (_tmp23_) {
			_tmp22_ = !bala_symbol_is_internal_symbol (sym);
		} else {
			_tmp22_ = FALSE;
		}
		_tmp19_ = _tmp22_;
	}
	if (_tmp19_) {
		_tmp18_ = TRUE;
	} else {
		gboolean _tmp30_ = FALSE;
		gboolean _tmp31_;
		gboolean _tmp32_;
		_tmp31_ = bala_symbol_get_is_extern (sym);
		_tmp32_ = _tmp31_;
		if (_tmp32_) {
			gchar* _tmp33_;
			gchar* _tmp34_;
			gint _tmp35_;
			gint _tmp36_;
			_tmp33_ = bala_get_ccode_header_filenames (sym);
			_tmp34_ = _tmp33_;
			_tmp35_ = strlen (_tmp34_);
			_tmp36_ = _tmp35_;
			_tmp30_ = _tmp36_ > 0;
			_g_free0 (_tmp34_);
		} else {
			_tmp30_ = FALSE;
		}
		_tmp18_ = _tmp30_;
	}
	if (_tmp18_) {
		gchar* _tmp37_;
		gchar* _tmp38_;
		gchar** _tmp39_;
		gchar** _tmp40_;
		gchar** _tmp41_;
		gint _tmp41__length1;
		gchar* _tmp43_;
		gchar* _tmp44_;
		gchar** _tmp45_;
		gchar** _tmp46_;
		gchar** _tmp47_;
		gint _tmp47__length1;
		_tmp37_ = bala_get_ccode_feature_test_macros (sym);
		_tmp38_ = _tmp37_;
		_tmp40_ = _tmp39_ = g_strsplit (_tmp38_, ",", 0);
		_tmp41_ = _tmp40_;
		_tmp41__length1 = _bala_array_length (_tmp39_);
		_g_free0 (_tmp38_);
		{
			gchar** feature_test_macro_collection = NULL;
			gint feature_test_macro_collection_length1 = 0;
			gint _feature_test_macro_collection_size_ = 0;
			gint feature_test_macro_it = 0;
			feature_test_macro_collection = _tmp41_;
			feature_test_macro_collection_length1 = _tmp41__length1;
			for (feature_test_macro_it = 0; feature_test_macro_it < feature_test_macro_collection_length1; feature_test_macro_it = feature_test_macro_it + 1) {
				const gchar* feature_test_macro = NULL;
				feature_test_macro = feature_test_macro_collection[feature_test_macro_it];
				{
					const gchar* _tmp42_;
					_tmp42_ = feature_test_macro;
					bala_ccode_file_add_feature_test_macro (decl_space, _tmp42_);
				}
			}
			feature_test_macro_collection = (_bala_array_free (feature_test_macro_collection, feature_test_macro_collection_length1, (GDestroyNotify) g_free), NULL);
		}
		_tmp43_ = bala_get_ccode_header_filenames (sym);
		_tmp44_ = _tmp43_;
		_tmp46_ = _tmp45_ = g_strsplit (_tmp44_, ",", 0);
		_tmp47_ = _tmp46_;
		_tmp47__length1 = _bala_array_length (_tmp45_);
		_g_free0 (_tmp44_);
		{
			gchar** header_filename_collection = NULL;
			gint header_filename_collection_length1 = 0;
			gint _header_filename_collection_size_ = 0;
			gint header_filename_it = 0;
			header_filename_collection = _tmp47_;
			header_filename_collection_length1 = _tmp47__length1;
			for (header_filename_it = 0; header_filename_it < header_filename_collection_length1; header_filename_it = header_filename_it + 1) {
				const gchar* header_filename = NULL;
				header_filename = header_filename_collection[header_filename_it];
				{
					gboolean _tmp48_ = FALSE;
					gboolean _tmp49_;
					gboolean _tmp50_;
					const gchar* _tmp59_;
					_tmp49_ = bala_symbol_get_is_extern (sym);
					_tmp50_ = _tmp49_;
					if (!_tmp50_) {
						gboolean _tmp51_ = FALSE;
						gboolean _tmp52_;
						gboolean _tmp53_;
						_tmp52_ = bala_symbol_get_external_package (sym);
						_tmp53_ = _tmp52_;
						if (!_tmp53_) {
							_tmp51_ = TRUE;
						} else {
							gboolean _tmp54_ = FALSE;
							gboolean _tmp55_;
							gboolean _tmp56_;
							_tmp55_ = bala_symbol_get_external_package (sym);
							_tmp56_ = _tmp55_;
							if (_tmp56_) {
								gboolean _tmp57_;
								gboolean _tmp58_;
								_tmp57_ = bala_symbol_get_from_commandline (sym);
								_tmp58_ = _tmp57_;
								_tmp54_ = _tmp58_;
							} else {
								_tmp54_ = FALSE;
							}
							_tmp51_ = _tmp54_;
						}
						_tmp48_ = _tmp51_;
					} else {
						_tmp48_ = FALSE;
					}
					_tmp59_ = header_filename;
					bala_ccode_file_add_include (decl_space, _tmp59_, _tmp48_);
				}
			}
			header_filename_collection = (_bala_array_free (header_filename_collection, header_filename_collection_length1, (GDestroyNotify) g_free), NULL);
		}
		result = TRUE;
		return result;
	} else {
		result = FALSE;
		return result;
	}
}

static void
bala_ccode_base_module_real_append_bala_array_free (BalaCCodeBaseModule* self)
{
}

void
bala_ccode_base_module_append_bala_array_free (BalaCCodeBaseModule* self)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_bala_array_free (self);
}

static void
bala_ccode_base_module_real_append_bala_array_move (BalaCCodeBaseModule* self)
{
}

void
bala_ccode_base_module_append_bala_array_move (BalaCCodeBaseModule* self)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_bala_array_move (self);
}

static void
bala_ccode_base_module_real_append_bala_array_length (BalaCCodeBaseModule* self)
{
}

void
bala_ccode_base_module_append_bala_array_length (BalaCCodeBaseModule* self)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_bala_array_length (self);
}

static void
bala_ccode_base_module_real_append_params_array (BalaCCodeBaseModule* self,
                                                 BalaMethod* m)
{
	g_return_if_fail (m != NULL);
}

void
bala_ccode_base_module_append_params_array (BalaCCodeBaseModule* self,
                                            BalaMethod* m)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_params_array (self, m);
}

void
bala_ccode_base_module_append_bala_clear_mutex (BalaCCodeBaseModule* self,
                                                const gchar* typename,
                                                const gchar* funcprefix)
{
	BalaCCodeFile* _tmp0_;
	BalaCCodeFunction* fun = NULL;
	gchar* _tmp1_;
	gchar* _tmp2_;
	BalaCCodeFunction* _tmp3_;
	BalaCCodeFunction* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	BalaCCodeParameter* _tmp7_;
	BalaCCodeParameter* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaCCodeConstant* _tmp11_;
	BalaCCodeConstant* _tmp12_;
	BalaCCodeVariableDeclarator* _tmp13_;
	BalaCCodeVariableDeclarator* _tmp14_;
	BalaCCodeFunctionCall* cmp = NULL;
	BalaCCodeIdentifier* _tmp15_;
	BalaCCodeIdentifier* _tmp16_;
	BalaCCodeFunctionCall* _tmp17_;
	BalaCCodeFunctionCall* _tmp18_;
	BalaCCodeIdentifier* _tmp19_;
	BalaCCodeIdentifier* _tmp20_;
	BalaCCodeIdentifier* _tmp21_;
	BalaCCodeIdentifier* _tmp22_;
	BalaCCodeUnaryExpression* _tmp23_;
	BalaCCodeUnaryExpression* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	BalaCCodeIdentifier* _tmp29_;
	BalaCCodeIdentifier* _tmp30_;
	BalaCCodeFunction* _tmp31_;
	BalaCCodeFunction* _tmp32_;
	BalaCCodeFunctionCall* mutex_clear = NULL;
	gchar* _tmp33_;
	gchar* _tmp34_;
	BalaCCodeIdentifier* _tmp35_;
	BalaCCodeIdentifier* _tmp36_;
	BalaCCodeFunctionCall* _tmp37_;
	BalaCCodeFunctionCall* _tmp38_;
	BalaCCodeIdentifier* _tmp39_;
	BalaCCodeIdentifier* _tmp40_;
	BalaCCodeFunction* _tmp41_;
	BalaCCodeFunction* _tmp42_;
	BalaCCodeFunctionCall* mset = NULL;
	BalaCCodeIdentifier* _tmp43_;
	BalaCCodeIdentifier* _tmp44_;
	BalaCCodeFunctionCall* _tmp45_;
	BalaCCodeFunctionCall* _tmp46_;
	BalaCCodeIdentifier* _tmp47_;
	BalaCCodeIdentifier* _tmp48_;
	BalaCCodeConstant* _tmp49_;
	BalaCCodeConstant* _tmp50_;
	gchar* _tmp51_;
	gchar* _tmp52_;
	gchar* _tmp53_;
	gchar* _tmp54_;
	BalaCCodeIdentifier* _tmp55_;
	BalaCCodeIdentifier* _tmp56_;
	BalaCCodeFunction* _tmp57_;
	BalaCCodeFunction* _tmp58_;
	BalaCCodeFunction* _tmp59_;
	BalaCCodeFunction* _tmp60_;
	BalaCCodeFile* _tmp61_;
	BalaCCodeFile* _tmp62_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (typename != NULL);
	g_return_if_fail (funcprefix != NULL);
	_tmp0_ = self->cfile;
	bala_ccode_file_add_include (_tmp0_, "string.h", FALSE);
	_tmp1_ = g_strconcat ("_bala_clear_", typename, NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = bala_ccode_function_new (_tmp2_, "void");
	_tmp4_ = _tmp3_;
	_g_free0 (_tmp2_);
	fun = _tmp4_;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) fun, BALA_CCODE_MODIFIERS_STATIC);
	_tmp5_ = g_strconcat (typename, " *", NULL);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_ccode_parameter_new ("mutex", _tmp6_);
	_tmp8_ = _tmp7_;
	bala_ccode_function_add_parameter (fun, _tmp8_);
	_bala_ccode_node_unref0 (_tmp8_);
	_g_free0 (_tmp6_);
	bala_ccode_base_module_push_function (self, fun);
	_tmp9_ = bala_ccode_base_module_get_ccode (self);
	_tmp10_ = _tmp9_;
	_tmp11_ = bala_ccode_constant_new ("{ 0 }");
	_tmp12_ = _tmp11_;
	_tmp13_ = bala_ccode_variable_declarator_new_zero ("zero_mutex", (BalaCCodeExpression*) _tmp12_, NULL);
	_tmp14_ = _tmp13_;
	bala_ccode_function_add_declaration (_tmp10_, typename, (BalaCCodeDeclarator*) _tmp14_, 0);
	_bala_ccode_node_unref0 (_tmp14_);
	_bala_ccode_node_unref0 (_tmp12_);
	_tmp15_ = bala_ccode_identifier_new ("memcmp");
	_tmp16_ = _tmp15_;
	_tmp17_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp16_);
	_tmp18_ = _tmp17_;
	_bala_ccode_node_unref0 (_tmp16_);
	cmp = _tmp18_;
	_tmp19_ = bala_ccode_identifier_new ("mutex");
	_tmp20_ = _tmp19_;
	bala_ccode_function_call_add_argument (cmp, (BalaCCodeExpression*) _tmp20_);
	_bala_ccode_node_unref0 (_tmp20_);
	_tmp21_ = bala_ccode_identifier_new ("zero_mutex");
	_tmp22_ = _tmp21_;
	_tmp23_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp22_);
	_tmp24_ = _tmp23_;
	bala_ccode_function_call_add_argument (cmp, (BalaCCodeExpression*) _tmp24_);
	_bala_ccode_node_unref0 (_tmp24_);
	_bala_ccode_node_unref0 (_tmp22_);
	_tmp25_ = g_strconcat ("sizeof (", typename, NULL);
	_tmp26_ = _tmp25_;
	_tmp27_ = g_strconcat (_tmp26_, ")", NULL);
	_tmp28_ = _tmp27_;
	_tmp29_ = bala_ccode_identifier_new (_tmp28_);
	_tmp30_ = _tmp29_;
	bala_ccode_function_call_add_argument (cmp, (BalaCCodeExpression*) _tmp30_);
	_bala_ccode_node_unref0 (_tmp30_);
	_g_free0 (_tmp28_);
	_g_free0 (_tmp26_);
	_tmp31_ = bala_ccode_base_module_get_ccode (self);
	_tmp32_ = _tmp31_;
	bala_ccode_function_open_if (_tmp32_, (BalaCCodeExpression*) cmp);
	_tmp33_ = g_strconcat (funcprefix, "_clear", NULL);
	_tmp34_ = _tmp33_;
	_tmp35_ = bala_ccode_identifier_new (_tmp34_);
	_tmp36_ = _tmp35_;
	_tmp37_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp36_);
	_tmp38_ = _tmp37_;
	_bala_ccode_node_unref0 (_tmp36_);
	_g_free0 (_tmp34_);
	mutex_clear = _tmp38_;
	_tmp39_ = bala_ccode_identifier_new ("mutex");
	_tmp40_ = _tmp39_;
	bala_ccode_function_call_add_argument (mutex_clear, (BalaCCodeExpression*) _tmp40_);
	_bala_ccode_node_unref0 (_tmp40_);
	_tmp41_ = bala_ccode_base_module_get_ccode (self);
	_tmp42_ = _tmp41_;
	bala_ccode_function_add_expression (_tmp42_, (BalaCCodeExpression*) mutex_clear);
	_tmp43_ = bala_ccode_identifier_new ("memset");
	_tmp44_ = _tmp43_;
	_tmp45_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp44_);
	_tmp46_ = _tmp45_;
	_bala_ccode_node_unref0 (_tmp44_);
	mset = _tmp46_;
	_tmp47_ = bala_ccode_identifier_new ("mutex");
	_tmp48_ = _tmp47_;
	bala_ccode_function_call_add_argument (mset, (BalaCCodeExpression*) _tmp48_);
	_bala_ccode_node_unref0 (_tmp48_);
	_tmp49_ = bala_ccode_constant_new ("0");
	_tmp50_ = _tmp49_;
	bala_ccode_function_call_add_argument (mset, (BalaCCodeExpression*) _tmp50_);
	_bala_ccode_node_unref0 (_tmp50_);
	_tmp51_ = g_strconcat ("sizeof (", typename, NULL);
	_tmp52_ = _tmp51_;
	_tmp53_ = g_strconcat (_tmp52_, ")", NULL);
	_tmp54_ = _tmp53_;
	_tmp55_ = bala_ccode_identifier_new (_tmp54_);
	_tmp56_ = _tmp55_;
	bala_ccode_function_call_add_argument (mset, (BalaCCodeExpression*) _tmp56_);
	_bala_ccode_node_unref0 (_tmp56_);
	_g_free0 (_tmp54_);
	_g_free0 (_tmp52_);
	_tmp57_ = bala_ccode_base_module_get_ccode (self);
	_tmp58_ = _tmp57_;
	bala_ccode_function_add_expression (_tmp58_, (BalaCCodeExpression*) mset);
	_tmp59_ = bala_ccode_base_module_get_ccode (self);
	_tmp60_ = _tmp59_;
	bala_ccode_function_close (_tmp60_);
	bala_ccode_base_module_pop_function (self);
	_tmp61_ = self->cfile;
	bala_ccode_file_add_function_declaration (_tmp61_, fun);
	_tmp62_ = self->cfile;
	bala_ccode_file_add_function (_tmp62_, fun);
	_bala_ccode_node_unref0 (mset);
	_bala_ccode_node_unref0 (mutex_clear);
	_bala_ccode_node_unref0 (cmp);
	_bala_ccode_node_unref0 (fun);
}

static void
bala_ccode_base_module_real_visit_source_file (BalaCodeVisitor* base,
                                               BalaSourceFile* source_file)
{
	BalaCCodeBaseModule * self;
	BalaCCodeFile* _tmp0_;
	GHashFunc _tmp1_;
	GEqualFunc _tmp2_;
	BalaHashSet* _tmp3_;
	GHashFunc _tmp4_;
	GEqualFunc _tmp5_;
	BalaHashSet* _tmp6_;
	GHashFunc _tmp7_;
	GEqualFunc _tmp8_;
	BalaHashSet* _tmp9_;
	BalaCodeContext* _tmp10_;
	BalaReport* _tmp11_;
	BalaReport* _tmp12_;
	BalaSourceFileType _tmp13_;
	BalaSourceFileType _tmp14_;
	BalaList* comments = NULL;
	BalaList* _tmp40_;
	BalaList* _tmp41_;
	BalaList* _tmp42_;
	BalaCCodeFile* _tmp58_;
	gchar* _tmp59_;
	gchar* _tmp60_;
	const gchar* _tmp61_;
	const gchar* _tmp62_;
	BalaCodeContext* _tmp63_;
	gboolean _tmp64_;
	gboolean _tmp65_;
	BalaCodeContext* _tmp66_;
	gboolean _tmp67_;
	gboolean _tmp68_;
	gboolean _tmp69_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (source_file != NULL);
	_tmp0_ = bala_ccode_file_new (source_file);
	_bala_ccode_file_unref0 (self->cfile);
	self->cfile = _tmp0_;
	_tmp1_ = g_str_hash;
	_tmp2_ = g_str_equal;
	_tmp3_ = bala_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp1_, _tmp2_);
	_bala_iterable_unref0 (self->user_marshal_set);
	self->user_marshal_set = (BalaSet*) _tmp3_;
	self->next_regex_id = 0;
	self->requires_assert = FALSE;
	self->requires_array_free = FALSE;
	self->requires_array_move = FALSE;
	self->requires_array_length = FALSE;
	self->requires_array_n_elements = FALSE;
	self->requires_clear_mutex = FALSE;
	_tmp4_ = g_str_hash;
	_tmp5_ = g_str_equal;
	_tmp6_ = bala_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp4_, _tmp5_);
	_bala_iterable_unref0 (self->wrappers);
	self->wrappers = (BalaSet*) _tmp6_;
	_tmp7_ = g_direct_hash;
	_tmp8_ = g_direct_equal;
	_tmp9_ = bala_hash_set_new (BALA_TYPE_SYMBOL, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp7_, _tmp8_);
	_bala_iterable_unref0 (self->priv->generated_external_symbols);
	self->priv->generated_external_symbols = (BalaSet*) _tmp9_;
	bala_source_file_accept_children (source_file, (BalaCodeVisitor*) self);
	_tmp10_ = self->priv->_context;
	_tmp11_ = bala_code_context_get_report (_tmp10_);
	_tmp12_ = _tmp11_;
	if (bala_report_get_errors (_tmp12_) > 0) {
		return;
	}
	_tmp13_ = bala_source_file_get_file_type (source_file);
	_tmp14_ = _tmp13_;
	if (_tmp14_ == BALA_SOURCE_FILE_TYPE_FAST) {
		return;
	}
	if (self->requires_assert) {
		BalaCCodeFile* _tmp15_;
		BalaCCodeConstant* _tmp16_;
		BalaCCodeConstant* _tmp17_;
		BalaCCodeMacroReplacement* _tmp18_;
		BalaCCodeMacroReplacement* _tmp19_;
		BalaCCodeFile* _tmp20_;
		BalaCCodeConstant* _tmp21_;
		BalaCCodeConstant* _tmp22_;
		BalaCCodeMacroReplacement* _tmp23_;
		BalaCCodeMacroReplacement* _tmp24_;
		BalaCCodeFile* _tmp25_;
		BalaCCodeConstant* _tmp26_;
		BalaCCodeConstant* _tmp27_;
		BalaCCodeMacroReplacement* _tmp28_;
		BalaCCodeMacroReplacement* _tmp29_;
		BalaCCodeFile* _tmp30_;
		BalaCCodeConstant* _tmp31_;
		BalaCCodeConstant* _tmp32_;
		BalaCCodeMacroReplacement* _tmp33_;
		BalaCCodeMacroReplacement* _tmp34_;
		_tmp15_ = self->cfile;
		_tmp16_ = bala_ccode_constant_new ("if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FI" \
"LE__, __LINE__, G_STRFUNC, msg);");
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_macro_replacement_new_with_expression ("_bala_assert(expr, msg)", (BalaCCodeExpression*) _tmp17_);
		_tmp19_ = _tmp18_;
		bala_ccode_file_add_type_declaration (_tmp15_, (BalaCCodeNode*) _tmp19_);
		_bala_ccode_node_unref0 (_tmp19_);
		_bala_ccode_node_unref0 (_tmp17_);
		_tmp20_ = self->cfile;
		_tmp21_ = bala_ccode_constant_new ("if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_" \
"STRFUNC, msg); return; }");
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_ccode_macro_replacement_new_with_expression ("_bala_return_if_fail(expr, msg)", (BalaCCodeExpression*) _tmp22_);
		_tmp24_ = _tmp23_;
		bala_ccode_file_add_type_declaration (_tmp20_, (BalaCCodeNode*) _tmp24_);
		_bala_ccode_node_unref0 (_tmp24_);
		_bala_ccode_node_unref0 (_tmp22_);
		_tmp25_ = self->cfile;
		_tmp26_ = bala_ccode_constant_new ("if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_" \
"STRFUNC, msg); return val; }");
		_tmp27_ = _tmp26_;
		_tmp28_ = bala_ccode_macro_replacement_new_with_expression ("_bala_return_val_if_fail(expr, msg, val)", (BalaCCodeExpression*) _tmp27_);
		_tmp29_ = _tmp28_;
		bala_ccode_file_add_type_declaration (_tmp25_, (BalaCCodeNode*) _tmp29_);
		_bala_ccode_node_unref0 (_tmp29_);
		_bala_ccode_node_unref0 (_tmp27_);
		_tmp30_ = self->cfile;
		_tmp31_ = bala_ccode_constant_new ("if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LI" \
"NE__, G_STRFUNC, msg);");
		_tmp32_ = _tmp31_;
		_tmp33_ = bala_ccode_macro_replacement_new_with_expression ("_bala_warn_if_fail(expr, msg)", (BalaCCodeExpression*) _tmp32_);
		_tmp34_ = _tmp33_;
		bala_ccode_file_add_type_declaration (_tmp30_, (BalaCCodeNode*) _tmp34_);
		_bala_ccode_node_unref0 (_tmp34_);
		_bala_ccode_node_unref0 (_tmp32_);
	}
	if (self->requires_array_free) {
		bala_ccode_base_module_append_bala_array_free (self);
	}
	if (self->requires_array_move) {
		bala_ccode_base_module_append_bala_array_move (self);
	}
	if (self->requires_array_length) {
		bala_ccode_base_module_append_bala_array_length (self);
	}
	if (self->requires_array_n_elements) {
		BalaCCodeFile* _tmp35_;
		BalaCCodeConstant* _tmp36_;
		BalaCCodeConstant* _tmp37_;
		BalaCCodeMacroReplacement* _tmp38_;
		BalaCCodeMacroReplacement* _tmp39_;
		_tmp35_ = self->cfile;
		_tmp36_ = bala_ccode_constant_new ("(sizeof (arr) / sizeof ((arr)[0]))");
		_tmp37_ = _tmp36_;
		_tmp38_ = bala_ccode_macro_replacement_new_with_expression ("BALA_N_ELEMENTS(arr)", (BalaCCodeExpression*) _tmp37_);
		_tmp39_ = _tmp38_;
		bala_ccode_file_add_type_declaration (_tmp35_, (BalaCCodeNode*) _tmp39_);
		_bala_ccode_node_unref0 (_tmp39_);
		_bala_ccode_node_unref0 (_tmp37_);
	}
	if (self->requires_clear_mutex) {
		bala_ccode_base_module_append_bala_clear_mutex (self, "GMutex", "g_mutex");
		bala_ccode_base_module_append_bala_clear_mutex (self, "GRecMutex", "g_rec_mutex");
		bala_ccode_base_module_append_bala_clear_mutex (self, "GRWLock", "g_rw_lock");
		bala_ccode_base_module_append_bala_clear_mutex (self, "GCond", "g_cond");
	}
	_tmp40_ = bala_source_file_get_comments (source_file);
	_tmp41_ = _bala_iterable_ref0 (_tmp40_);
	comments = _tmp41_;
	_tmp42_ = comments;
	if (_tmp42_ != NULL) {
		{
			BalaList* _comment_list = NULL;
			BalaList* _tmp43_;
			BalaList* _tmp44_;
			gint _comment_size = 0;
			BalaList* _tmp45_;
			gint _tmp46_;
			gint _tmp47_;
			gint _comment_index = 0;
			_tmp43_ = comments;
			_tmp44_ = _bala_iterable_ref0 (_tmp43_);
			_comment_list = _tmp44_;
			_tmp45_ = _comment_list;
			_tmp46_ = bala_collection_get_size ((BalaCollection*) _tmp45_);
			_tmp47_ = _tmp46_;
			_comment_size = _tmp47_;
			_comment_index = -1;
			while (TRUE) {
				gint _tmp48_;
				gint _tmp49_;
				BalaComment* comment = NULL;
				BalaList* _tmp50_;
				gpointer _tmp51_;
				BalaCCodeComment* ccomment = NULL;
				BalaComment* _tmp52_;
				const gchar* _tmp53_;
				const gchar* _tmp54_;
				BalaCCodeComment* _tmp55_;
				BalaCCodeFile* _tmp56_;
				BalaCCodeComment* _tmp57_;
				_comment_index = _comment_index + 1;
				_tmp48_ = _comment_index;
				_tmp49_ = _comment_size;
				if (!(_tmp48_ < _tmp49_)) {
					break;
				}
				_tmp50_ = _comment_list;
				_tmp51_ = bala_list_get (_tmp50_, _comment_index);
				comment = (BalaComment*) _tmp51_;
				_tmp52_ = comment;
				_tmp53_ = bala_comment_get_content (_tmp52_);
				_tmp54_ = _tmp53_;
				_tmp55_ = bala_ccode_comment_new (_tmp54_);
				ccomment = _tmp55_;
				_tmp56_ = self->cfile;
				_tmp57_ = ccomment;
				bala_ccode_file_add_comment (_tmp56_, _tmp57_);
				_bala_ccode_node_unref0 (ccomment);
				_bala_comment_unref0 (comment);
			}
			_bala_iterable_unref0 (_comment_list);
		}
	}
	_tmp58_ = self->cfile;
	_tmp59_ = bala_source_file_get_csource_filename (source_file);
	_tmp60_ = _tmp59_;
	_tmp61_ = bala_source_file_get_filename (source_file);
	_tmp62_ = _tmp61_;
	_tmp63_ = self->priv->_context;
	_tmp64_ = bala_code_context_get_version_header (_tmp63_);
	_tmp65_ = _tmp64_;
	_tmp66_ = self->priv->_context;
	_tmp67_ = bala_code_context_get_debug (_tmp66_);
	_tmp68_ = _tmp67_;
	_tmp69_ = !bala_ccode_file_store (_tmp58_, _tmp60_, _tmp62_, _tmp65_, _tmp68_, NULL, NULL);
	_g_free0 (_tmp60_);
	if (_tmp69_) {
		gchar* _tmp70_;
		gchar* _tmp71_;
		gchar* _tmp72_;
		gchar* _tmp73_;
		_tmp70_ = bala_source_file_get_csource_filename (source_file);
		_tmp71_ = _tmp70_;
		_tmp72_ = g_strdup_printf ("unable to open `%s' for writing", _tmp71_);
		_tmp73_ = _tmp72_;
		bala_report_error (NULL, _tmp73_);
		_g_free0 (_tmp73_);
		_g_free0 (_tmp71_);
	}
	_bala_ccode_file_unref0 (self->cfile);
	self->cfile = NULL;
	_bala_iterable_unref0 (comments);
}

static gpointer
_bala_ccode_file_ref0 (gpointer self)
{
	return self ? bala_ccode_file_ref (self) : NULL;
}

static gboolean
bala_ccode_base_module_real_generate_enum_declaration (BalaCCodeBaseModule* self,
                                                       BalaEnum* en,
                                                       BalaCCodeFile* decl_space)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	BalaCCodeEnum* cenum = NULL;
	gchar* _tmp3_;
	gchar* _tmp4_;
	BalaCCodeEnum* _tmp5_;
	BalaCCodeEnum* _tmp6_;
	BalaVersionAttribute* _tmp7_;
	BalaVersionAttribute* _tmp8_;
	gboolean _tmp9_;
	gboolean _tmp10_;
	BalaCCodeFile* current_cfile = NULL;
	BalaCCodeFile* _tmp18_;
	BalaCCodeFile* _tmp19_;
	BalaCCodeFile* _tmp20_;
	gint flag_shift = 0;
	BalaCCodeFile* _tmp67_;
	BalaCCodeFile* _tmp68_;
	BalaCCodeEnum* _tmp69_;
	BalaCCodeNewline* _tmp70_;
	BalaCCodeNewline* _tmp71_;
	gboolean _tmp72_ = FALSE;
	BalaCodeContext* _tmp73_;
	BalaProfile _tmp74_;
	BalaProfile _tmp75_;
	BalaCCodeNewline* _tmp76_;
	BalaCCodeNewline* _tmp77_;
	gchar* fun_name = NULL;
	gchar* _tmp78_;
	gchar* macro = NULL;
	const gchar* _tmp79_;
	gchar* _tmp80_;
	gchar* _tmp81_;
	gchar* _tmp82_;
	const gchar* _tmp83_;
	BalaCCodeMacroReplacement* _tmp84_;
	BalaCCodeMacroReplacement* _tmp85_;
	BalaCCodeFunction* regfun = NULL;
	const gchar* _tmp86_;
	BalaCCodeFunction* _tmp87_;
	BalaCCodeFunction* _tmp88_;
	BalaCCodeFunction* _tmp101_;
	gboolean result = FALSE;
	g_return_val_if_fail (en != NULL, FALSE);
	g_return_val_if_fail (decl_space != NULL, FALSE);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) en);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) en, _tmp1_);
	_g_free0 (_tmp1_);
	if (_tmp2_) {
		result = FALSE;
		return result;
	}
	_tmp3_ = bala_get_ccode_name ((BalaCodeNode*) en);
	_tmp4_ = _tmp3_;
	_tmp5_ = bala_ccode_enum_new (_tmp4_);
	_tmp6_ = _tmp5_;
	_g_free0 (_tmp4_);
	cenum = _tmp6_;
	_tmp7_ = bala_symbol_get_version ((BalaSymbol*) en);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_version_attribute_get_deprecated (_tmp8_);
	_tmp10_ = _tmp9_;
	if (_tmp10_) {
		BalaCodeContext* _tmp11_;
		BalaProfile _tmp12_;
		BalaProfile _tmp13_;
		BalaCCodeEnum* _tmp14_;
		BalaCCodeEnum* _tmp15_;
		BalaCCodeModifiers _tmp16_;
		BalaCCodeModifiers _tmp17_;
		_tmp11_ = self->priv->_context;
		_tmp12_ = bala_code_context_get_profile (_tmp11_);
		_tmp13_ = _tmp12_;
		if (_tmp13_ == BALA_PROFILE_GOBJECT) {
			bala_ccode_file_add_include (decl_space, "glib.h", FALSE);
		}
		_tmp14_ = cenum;
		_tmp15_ = cenum;
		_tmp16_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp15_);
		_tmp17_ = _tmp16_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp15_, _tmp17_ | BALA_CCODE_MODIFIERS_DEPRECATED);
	}
	_tmp18_ = self->cfile;
	_tmp19_ = _bala_ccode_file_ref0 (_tmp18_);
	current_cfile = _tmp19_;
	_tmp20_ = _bala_ccode_file_ref0 (decl_space);
	_bala_ccode_file_unref0 (self->cfile);
	self->cfile = _tmp20_;
	flag_shift = 0;
	{
		BalaList* _ev_list = NULL;
		BalaList* _tmp21_;
		BalaList* _tmp22_;
		gint _ev_size = 0;
		BalaList* _tmp23_;
		gint _tmp24_;
		gint _tmp25_;
		gint _ev_index = 0;
		_tmp21_ = bala_enum_get_values (en);
		_tmp22_ = _bala_iterable_ref0 (_tmp21_);
		_ev_list = _tmp22_;
		_tmp23_ = _ev_list;
		_tmp24_ = bala_collection_get_size ((BalaCollection*) _tmp23_);
		_tmp25_ = _tmp24_;
		_ev_size = _tmp25_;
		_ev_index = -1;
		while (TRUE) {
			gint _tmp26_;
			gint _tmp27_;
			BalaEnumValue* ev = NULL;
			BalaList* _tmp28_;
			gpointer _tmp29_;
			BalaCCodeEnumValue* c_ev = NULL;
			BalaEnumValue* _tmp30_;
			BalaExpression* _tmp31_;
			BalaExpression* _tmp32_;
			BalaCCodeModifiers _tmp55_ = 0U;
			BalaEnumValue* _tmp56_;
			BalaVersionAttribute* _tmp57_;
			BalaVersionAttribute* _tmp58_;
			gboolean _tmp59_;
			gboolean _tmp60_;
			BalaCCodeEnumValue* _tmp61_;
			BalaCCodeEnumValue* _tmp62_;
			BalaCCodeModifiers _tmp63_;
			BalaCCodeModifiers _tmp64_;
			BalaCCodeEnum* _tmp65_;
			BalaCCodeEnumValue* _tmp66_;
			_ev_index = _ev_index + 1;
			_tmp26_ = _ev_index;
			_tmp27_ = _ev_size;
			if (!(_tmp26_ < _tmp27_)) {
				break;
			}
			_tmp28_ = _ev_list;
			_tmp29_ = bala_list_get (_tmp28_, _ev_index);
			ev = (BalaEnumValue*) _tmp29_;
			_tmp30_ = ev;
			_tmp31_ = bala_constant_get_value ((BalaConstant*) _tmp30_);
			_tmp32_ = _tmp31_;
			if (_tmp32_ == NULL) {
				BalaEnumValue* _tmp33_;
				gchar* _tmp34_;
				gchar* _tmp35_;
				BalaCCodeEnumValue* _tmp36_;
				gboolean _tmp37_;
				gboolean _tmp38_;
				_tmp33_ = ev;
				_tmp34_ = bala_get_ccode_name ((BalaCodeNode*) _tmp33_);
				_tmp35_ = _tmp34_;
				_tmp36_ = bala_ccode_enum_value_new (_tmp35_, NULL);
				_bala_ccode_node_unref0 (c_ev);
				c_ev = _tmp36_;
				_g_free0 (_tmp35_);
				_tmp37_ = bala_enum_get_is_flags (en);
				_tmp38_ = _tmp37_;
				if (_tmp38_) {
					BalaCCodeEnumValue* _tmp39_;
					gchar* _tmp40_;
					gchar* _tmp41_;
					BalaCCodeConstant* _tmp42_;
					BalaCCodeConstant* _tmp43_;
					_tmp39_ = c_ev;
					_tmp40_ = g_strdup_printf ("1 << %d", flag_shift);
					_tmp41_ = _tmp40_;
					_tmp42_ = bala_ccode_constant_new (_tmp41_);
					_tmp43_ = _tmp42_;
					bala_ccode_enum_value_set_value (_tmp39_, (BalaCCodeExpression*) _tmp43_);
					_bala_ccode_node_unref0 (_tmp43_);
					_g_free0 (_tmp41_);
					flag_shift += 1;
				}
			} else {
				BalaEnumValue* _tmp44_;
				BalaExpression* _tmp45_;
				BalaExpression* _tmp46_;
				BalaEnumValue* _tmp47_;
				gchar* _tmp48_;
				gchar* _tmp49_;
				BalaEnumValue* _tmp50_;
				BalaExpression* _tmp51_;
				BalaExpression* _tmp52_;
				BalaCCodeExpression* _tmp53_;
				BalaCCodeEnumValue* _tmp54_;
				_tmp44_ = ev;
				_tmp45_ = bala_constant_get_value ((BalaConstant*) _tmp44_);
				_tmp46_ = _tmp45_;
				bala_code_node_emit ((BalaCodeNode*) _tmp46_, (BalaCodeGenerator*) self);
				_tmp47_ = ev;
				_tmp48_ = bala_get_ccode_name ((BalaCodeNode*) _tmp47_);
				_tmp49_ = _tmp48_;
				_tmp50_ = ev;
				_tmp51_ = bala_constant_get_value ((BalaConstant*) _tmp50_);
				_tmp52_ = _tmp51_;
				_tmp53_ = bala_get_cvalue (_tmp52_);
				_tmp54_ = bala_ccode_enum_value_new (_tmp49_, _tmp53_);
				_bala_ccode_node_unref0 (c_ev);
				c_ev = _tmp54_;
				_g_free0 (_tmp49_);
			}
			_tmp56_ = ev;
			_tmp57_ = bala_symbol_get_version ((BalaSymbol*) _tmp56_);
			_tmp58_ = _tmp57_;
			_tmp59_ = bala_version_attribute_get_deprecated (_tmp58_);
			_tmp60_ = _tmp59_;
			if (_tmp60_) {
				_tmp55_ = BALA_CCODE_MODIFIERS_DEPRECATED;
			} else {
				_tmp55_ = 0;
			}
			_tmp61_ = c_ev;
			_tmp62_ = c_ev;
			_tmp63_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp62_);
			_tmp64_ = _tmp63_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp62_, _tmp64_ | _tmp55_);
			_tmp65_ = cenum;
			_tmp66_ = c_ev;
			bala_ccode_enum_add_value (_tmp65_, _tmp66_);
			_bala_ccode_node_unref0 (c_ev);
			_bala_code_node_unref0 (ev);
		}
		_bala_iterable_unref0 (_ev_list);
	}
	_tmp67_ = current_cfile;
	_tmp68_ = _bala_ccode_file_ref0 (_tmp67_);
	_bala_ccode_file_unref0 (self->cfile);
	self->cfile = _tmp68_;
	_tmp69_ = cenum;
	bala_ccode_file_add_type_declaration (decl_space, (BalaCCodeNode*) _tmp69_);
	_tmp70_ = bala_ccode_newline_new ();
	_tmp71_ = _tmp70_;
	bala_ccode_file_add_type_declaration (decl_space, (BalaCCodeNode*) _tmp71_);
	_bala_ccode_node_unref0 (_tmp71_);
	_tmp73_ = self->priv->_context;
	_tmp74_ = bala_code_context_get_profile (_tmp73_);
	_tmp75_ = _tmp74_;
	if (_tmp75_ != BALA_PROFILE_GOBJECT) {
		_tmp72_ = TRUE;
	} else {
		_tmp72_ = !bala_get_ccode_has_type_id ((BalaTypeSymbol*) en);
	}
	if (_tmp72_) {
		result = TRUE;
		_bala_ccode_file_unref0 (current_cfile);
		_bala_ccode_node_unref0 (cenum);
		return result;
	}
	bala_ccode_file_add_include (decl_space, "glib-object.h", FALSE);
	_tmp76_ = bala_ccode_newline_new ();
	_tmp77_ = _tmp76_;
	bala_ccode_file_add_type_declaration (decl_space, (BalaCCodeNode*) _tmp77_);
	_bala_ccode_node_unref0 (_tmp77_);
	_tmp78_ = bala_get_ccode_type_function ((BalaTypeSymbol*) en);
	fun_name = _tmp78_;
	_tmp79_ = fun_name;
	_tmp80_ = g_strdup_printf ("(%s ())", _tmp79_);
	macro = _tmp80_;
	_tmp81_ = bala_get_ccode_type_id ((BalaCodeNode*) en);
	_tmp82_ = _tmp81_;
	_tmp83_ = macro;
	_tmp84_ = bala_ccode_macro_replacement_new (_tmp82_, _tmp83_);
	_tmp85_ = _tmp84_;
	bala_ccode_file_add_type_declaration (decl_space, (BalaCCodeNode*) _tmp85_);
	_bala_ccode_node_unref0 (_tmp85_);
	_g_free0 (_tmp82_);
	_tmp86_ = fun_name;
	_tmp87_ = bala_ccode_function_new (_tmp86_, "GType");
	regfun = _tmp87_;
	_tmp88_ = regfun;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp88_, BALA_CCODE_MODIFIERS_CONST);
	if (bala_symbol_is_private_symbol ((BalaSymbol*) en)) {
		BalaCCodeFunction* _tmp89_;
		BalaCCodeFunction* _tmp90_;
		BalaCCodeModifiers _tmp91_;
		BalaCCodeModifiers _tmp92_;
		_tmp89_ = regfun;
		_tmp90_ = regfun;
		_tmp91_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp90_);
		_tmp92_ = _tmp91_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp90_, _tmp92_ | (BALA_CCODE_MODIFIERS_STATIC | BALA_CCODE_MODIFIERS_UNUSED));
	} else {
		gboolean _tmp93_ = FALSE;
		BalaCodeContext* _tmp94_;
		gboolean _tmp95_;
		gboolean _tmp96_;
		_tmp94_ = self->priv->_context;
		_tmp95_ = bala_code_context_get_hide_internal (_tmp94_);
		_tmp96_ = _tmp95_;
		if (_tmp96_) {
			_tmp93_ = bala_symbol_is_internal_symbol ((BalaSymbol*) en);
		} else {
			_tmp93_ = FALSE;
		}
		if (_tmp93_) {
			BalaCCodeFunction* _tmp97_;
			BalaCCodeFunction* _tmp98_;
			BalaCCodeModifiers _tmp99_;
			BalaCCodeModifiers _tmp100_;
			_tmp97_ = regfun;
			_tmp98_ = regfun;
			_tmp99_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp98_);
			_tmp100_ = _tmp99_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp98_, _tmp100_ | BALA_CCODE_MODIFIERS_INTERNAL);
		}
	}
	_tmp101_ = regfun;
	bala_ccode_file_add_function_declaration (decl_space, _tmp101_);
	result = TRUE;
	_bala_ccode_node_unref0 (regfun);
	_g_free0 (macro);
	_g_free0 (fun_name);
	_bala_ccode_file_unref0 (current_cfile);
	_bala_ccode_node_unref0 (cenum);
	return result;
}

gboolean
bala_ccode_base_module_generate_enum_declaration (BalaCCodeBaseModule* self,
                                                  BalaEnum* en,
                                                  BalaCCodeFile* decl_space)
{
	g_return_val_if_fail (self != NULL, FALSE);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_enum_declaration (self, en, decl_space);
}

static void
bala_ccode_base_module_real_visit_enum (BalaCodeVisitor* base,
                                        BalaEnum* en)
{
	BalaCCodeBaseModule * self;
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	BalaComment* _tmp2_;
	BalaComment* _tmp3_;
	BalaCCodeFile* _tmp11_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (en != NULL);
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) en);
	_tmp1_ = _tmp0_;
	bala_ccode_base_module_push_line (self, _tmp1_);
	_tmp2_ = bala_symbol_get_comment ((BalaSymbol*) en);
	_tmp3_ = _tmp2_;
	if (_tmp3_ != NULL) {
		BalaCCodeFile* _tmp4_;
		BalaComment* _tmp5_;
		BalaComment* _tmp6_;
		const gchar* _tmp7_;
		const gchar* _tmp8_;
		BalaCCodeComment* _tmp9_;
		BalaCCodeComment* _tmp10_;
		_tmp4_ = self->cfile;
		_tmp5_ = bala_symbol_get_comment ((BalaSymbol*) en);
		_tmp6_ = _tmp5_;
		_tmp7_ = bala_comment_get_content (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = bala_ccode_comment_new (_tmp8_);
		_tmp10_ = _tmp9_;
		bala_ccode_file_add_type_member_definition (_tmp4_, (BalaCCodeNode*) _tmp10_);
		_bala_ccode_node_unref0 (_tmp10_);
	}
	_tmp11_ = self->cfile;
	bala_ccode_base_module_generate_enum_declaration (self, en, _tmp11_);
	if (!bala_symbol_is_internal_symbol ((BalaSymbol*) en)) {
		BalaCCodeFile* _tmp12_;
		_tmp12_ = self->header_file;
		bala_ccode_base_module_generate_enum_declaration (self, en, _tmp12_);
	}
	if (!bala_symbol_is_private_symbol ((BalaSymbol*) en)) {
		BalaCCodeFile* _tmp13_;
		_tmp13_ = self->internal_header_file;
		bala_ccode_base_module_generate_enum_declaration (self, en, _tmp13_);
	}
	bala_code_node_accept_children ((BalaCodeNode*) en, (BalaCodeVisitor*) self);
	bala_ccode_base_module_pop_line (self);
}

void
bala_ccode_base_module_visit_member (BalaCCodeBaseModule* self,
                                     BalaSymbol* m)
{
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (m != NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (m, BALA_TYPE_LOCKABLE)) {
		gboolean _tmp1_;
		gboolean _tmp2_;
		_tmp1_ = bala_lockable_get_lock_used (G_TYPE_CHECK_INSTANCE_CAST (m, BALA_TYPE_LOCKABLE, BalaLockable));
		_tmp2_ = _tmp1_;
		_tmp0_ = _tmp2_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		BalaCCodeExpression* l = NULL;
		BalaCCodeIdentifier* _tmp3_;
		BalaCCodeBaseModuleEmitContext* init_context = NULL;
		BalaCCodeBaseModuleEmitContext* _tmp4_;
		BalaCCodeBaseModuleEmitContext* _tmp5_;
		BalaCCodeBaseModuleEmitContext* finalize_context = NULL;
		BalaCCodeBaseModuleEmitContext* _tmp6_;
		BalaCCodeBaseModuleEmitContext* _tmp7_;
		BalaCCodeBaseModuleEmitContext* _tmp48_;
		BalaCCodeFunctionCall* initf = NULL;
		BalaStruct* _tmp49_;
		BalaCreationMethod* _tmp50_;
		BalaCreationMethod* _tmp51_;
		gchar* _tmp52_;
		gchar* _tmp53_;
		BalaCCodeIdentifier* _tmp54_;
		BalaCCodeIdentifier* _tmp55_;
		BalaCCodeFunctionCall* _tmp56_;
		BalaCCodeFunctionCall* _tmp57_;
		BalaCCodeFunctionCall* _tmp58_;
		BalaCCodeExpression* _tmp59_;
		BalaCCodeUnaryExpression* _tmp60_;
		BalaCCodeUnaryExpression* _tmp61_;
		BalaCCodeFunction* _tmp62_;
		BalaCCodeFunction* _tmp63_;
		BalaCCodeFunctionCall* _tmp64_;
		BalaCCodeBaseModuleEmitContext* _tmp65_;
		_tmp3_ = bala_ccode_identifier_new ("self");
		l = (BalaCCodeExpression*) _tmp3_;
		_tmp4_ = self->class_init_context;
		_tmp5_ = _bala_ccode_base_module_emit_context_ref0 (_tmp4_);
		init_context = _tmp5_;
		_tmp6_ = self->class_finalize_context;
		_tmp7_ = _bala_ccode_base_module_emit_context_ref0 (_tmp6_);
		finalize_context = _tmp7_;
		if (bala_symbol_is_instance_member (m)) {
			BalaCCodeExpression* _tmp8_;
			BalaCCodeMemberAccess* _tmp9_;
			BalaCCodeMemberAccess* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			gchar* _tmp13_;
			gchar* _tmp14_;
			BalaCCodeMemberAccess* _tmp15_;
			BalaCCodeBaseModuleEmitContext* _tmp16_;
			BalaCCodeBaseModuleEmitContext* _tmp17_;
			BalaCCodeBaseModuleEmitContext* _tmp18_;
			BalaCCodeBaseModuleEmitContext* _tmp19_;
			_tmp8_ = l;
			_tmp9_ = bala_ccode_member_access_new_pointer (_tmp8_, "priv");
			_tmp10_ = _tmp9_;
			_tmp11_ = bala_get_ccode_name ((BalaCodeNode*) m);
			_tmp12_ = _tmp11_;
			_tmp13_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp12_);
			_tmp14_ = _tmp13_;
			_tmp15_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp10_, _tmp14_);
			_bala_ccode_node_unref0 (l);
			l = (BalaCCodeExpression*) _tmp15_;
			_g_free0 (_tmp14_);
			_g_free0 (_tmp12_);
			_bala_ccode_node_unref0 (_tmp10_);
			_tmp16_ = self->instance_init_context;
			_tmp17_ = _bala_ccode_base_module_emit_context_ref0 (_tmp16_);
			_bala_ccode_base_module_emit_context_unref0 (init_context);
			init_context = _tmp17_;
			_tmp18_ = self->instance_finalize_context;
			_tmp19_ = _bala_ccode_base_module_emit_context_ref0 (_tmp18_);
			_bala_ccode_base_module_emit_context_unref0 (finalize_context);
			finalize_context = _tmp19_;
		} else {
			if (bala_symbol_is_class_member (m)) {
				BalaCCodeFunctionCall* get_class_private_call = NULL;
				BalaSymbol* _tmp20_;
				BalaSymbol* _tmp21_;
				gchar* _tmp22_;
				gchar* _tmp23_;
				BalaCCodeIdentifier* _tmp24_;
				BalaCCodeIdentifier* _tmp25_;
				BalaCCodeFunctionCall* _tmp26_;
				BalaCCodeFunctionCall* _tmp27_;
				BalaCCodeFunctionCall* _tmp28_;
				BalaCCodeIdentifier* _tmp29_;
				BalaCCodeIdentifier* _tmp30_;
				BalaCCodeFunctionCall* _tmp31_;
				gchar* _tmp32_;
				gchar* _tmp33_;
				gchar* _tmp34_;
				gchar* _tmp35_;
				BalaCCodeMemberAccess* _tmp36_;
				_tmp20_ = bala_symbol_get_parent_symbol (m);
				_tmp21_ = _tmp20_;
				_tmp22_ = bala_get_ccode_class_get_private_function (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, BALA_TYPE_CLASS, BalaClass));
				_tmp23_ = _tmp22_;
				_tmp24_ = bala_ccode_identifier_new (_tmp23_);
				_tmp25_ = _tmp24_;
				_tmp26_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp25_);
				_tmp27_ = _tmp26_;
				_bala_ccode_node_unref0 (_tmp25_);
				_g_free0 (_tmp23_);
				get_class_private_call = _tmp27_;
				_tmp28_ = get_class_private_call;
				_tmp29_ = bala_ccode_identifier_new ("klass");
				_tmp30_ = _tmp29_;
				bala_ccode_function_call_add_argument (_tmp28_, (BalaCCodeExpression*) _tmp30_);
				_bala_ccode_node_unref0 (_tmp30_);
				_tmp31_ = get_class_private_call;
				_tmp32_ = bala_get_ccode_name ((BalaCodeNode*) m);
				_tmp33_ = _tmp32_;
				_tmp34_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp33_);
				_tmp35_ = _tmp34_;
				_tmp36_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp31_, _tmp35_);
				_bala_ccode_node_unref0 (l);
				l = (BalaCCodeExpression*) _tmp36_;
				_g_free0 (_tmp35_);
				_g_free0 (_tmp33_);
				_bala_ccode_node_unref0 (get_class_private_call);
			} else {
				BalaSymbol* _tmp37_;
				BalaSymbol* _tmp38_;
				gchar* _tmp39_;
				gchar* _tmp40_;
				gchar* _tmp41_;
				gchar* _tmp42_;
				gchar* _tmp43_;
				gchar* _tmp44_;
				gchar* _tmp45_;
				gchar* _tmp46_;
				BalaCCodeIdentifier* _tmp47_;
				_tmp37_ = bala_symbol_get_parent_symbol (m);
				_tmp38_ = _tmp37_;
				_tmp39_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp38_, NULL);
				_tmp40_ = _tmp39_;
				_tmp41_ = bala_get_ccode_name ((BalaCodeNode*) m);
				_tmp42_ = _tmp41_;
				_tmp43_ = g_strdup_printf ("%s_%s", _tmp40_, _tmp42_);
				_tmp44_ = _tmp43_;
				_tmp45_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp44_);
				_tmp46_ = _tmp45_;
				_tmp47_ = bala_ccode_identifier_new (_tmp46_);
				_bala_ccode_node_unref0 (l);
				l = (BalaCCodeExpression*) _tmp47_;
				_g_free0 (_tmp46_);
				_g_free0 (_tmp44_);
				_g_free0 (_tmp42_);
				_g_free0 (_tmp40_);
			}
		}
		_tmp48_ = init_context;
		bala_ccode_base_module_push_context (self, _tmp48_);
		_tmp49_ = self->mutex_type;
		_tmp50_ = bala_struct_get_default_construction_method (_tmp49_);
		_tmp51_ = _tmp50_;
		_tmp52_ = bala_get_ccode_name ((BalaCodeNode*) _tmp51_);
		_tmp53_ = _tmp52_;
		_tmp54_ = bala_ccode_identifier_new (_tmp53_);
		_tmp55_ = _tmp54_;
		_tmp56_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp55_);
		_tmp57_ = _tmp56_;
		_bala_ccode_node_unref0 (_tmp55_);
		_g_free0 (_tmp53_);
		initf = _tmp57_;
		_tmp58_ = initf;
		_tmp59_ = l;
		_tmp60_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp59_);
		_tmp61_ = _tmp60_;
		bala_ccode_function_call_add_argument (_tmp58_, (BalaCCodeExpression*) _tmp61_);
		_bala_ccode_node_unref0 (_tmp61_);
		_tmp62_ = bala_ccode_base_module_get_ccode (self);
		_tmp63_ = _tmp62_;
		_tmp64_ = initf;
		bala_ccode_function_add_expression (_tmp63_, (BalaCCodeExpression*) _tmp64_);
		bala_ccode_base_module_pop_context (self);
		_tmp65_ = finalize_context;
		if (_tmp65_ != NULL) {
			BalaCCodeBaseModuleEmitContext* _tmp66_;
			BalaCCodeFunctionCall* fc = NULL;
			BalaCCodeIdentifier* _tmp67_;
			BalaCCodeIdentifier* _tmp68_;
			BalaCCodeFunctionCall* _tmp69_;
			BalaCCodeFunctionCall* _tmp70_;
			BalaCCodeFunctionCall* _tmp71_;
			BalaCCodeExpression* _tmp72_;
			BalaCCodeUnaryExpression* _tmp73_;
			BalaCCodeUnaryExpression* _tmp74_;
			BalaCCodeFunction* _tmp75_;
			BalaCCodeFunction* _tmp76_;
			BalaCCodeFunctionCall* _tmp77_;
			_tmp66_ = finalize_context;
			bala_ccode_base_module_push_context (self, _tmp66_);
			_tmp67_ = bala_ccode_identifier_new ("g_rec_mutex_clear");
			_tmp68_ = _tmp67_;
			_tmp69_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp68_);
			_tmp70_ = _tmp69_;
			_bala_ccode_node_unref0 (_tmp68_);
			fc = _tmp70_;
			_tmp71_ = fc;
			_tmp72_ = l;
			_tmp73_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp72_);
			_tmp74_ = _tmp73_;
			bala_ccode_function_call_add_argument (_tmp71_, (BalaCCodeExpression*) _tmp74_);
			_bala_ccode_node_unref0 (_tmp74_);
			_tmp75_ = bala_ccode_base_module_get_ccode (self);
			_tmp76_ = _tmp75_;
			_tmp77_ = fc;
			bala_ccode_function_add_expression (_tmp76_, (BalaCCodeExpression*) _tmp77_);
			bala_ccode_base_module_pop_context (self);
			_bala_ccode_node_unref0 (fc);
		}
		_bala_ccode_node_unref0 (initf);
		_bala_ccode_base_module_emit_context_unref0 (finalize_context);
		_bala_ccode_base_module_emit_context_unref0 (init_context);
		_bala_ccode_node_unref0 (l);
	}
}

static void
bala_ccode_base_module_constant_array_ranks_sizes (BalaInitializerList* initializer_list,
                                                   gint* sizes,
                                                   gint sizes_length1,
                                                   gint rank)
{
	gint _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	g_return_if_fail (initializer_list != NULL);
	_tmp0_ = sizes[rank];
	_tmp1_ = bala_initializer_list_get_size (initializer_list);
	_tmp2_ = _tmp1_;
	sizes[rank] = MAX (_tmp0_, _tmp2_);
	_tmp3_ = rank;
	rank = _tmp3_ + 1;
	{
		BalaList* _expr_list = NULL;
		BalaList* _tmp4_;
		BalaList* _tmp5_;
		gint _expr_size = 0;
		BalaList* _tmp6_;
		gint _tmp7_;
		gint _tmp8_;
		gint _expr_index = 0;
		_tmp4_ = bala_initializer_list_get_initializers (initializer_list);
		_tmp5_ = _bala_iterable_ref0 (_tmp4_);
		_expr_list = _tmp5_;
		_tmp6_ = _expr_list;
		_tmp7_ = bala_collection_get_size ((BalaCollection*) _tmp6_);
		_tmp8_ = _tmp7_;
		_expr_size = _tmp8_;
		_expr_index = -1;
		while (TRUE) {
			gint _tmp9_;
			gint _tmp10_;
			BalaExpression* expr = NULL;
			BalaList* _tmp11_;
			gpointer _tmp12_;
			gboolean _tmp13_ = FALSE;
			BalaExpression* _tmp14_;
			_expr_index = _expr_index + 1;
			_tmp9_ = _expr_index;
			_tmp10_ = _expr_size;
			if (!(_tmp9_ < _tmp10_)) {
				break;
			}
			_tmp11_ = _expr_list;
			_tmp12_ = bala_list_get (_tmp11_, _expr_index);
			expr = (BalaExpression*) _tmp12_;
			_tmp14_ = expr;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp14_, BALA_TYPE_INITIALIZER_LIST)) {
				BalaExpression* _tmp15_;
				BalaDataType* _tmp16_;
				BalaDataType* _tmp17_;
				_tmp15_ = expr;
				_tmp16_ = bala_expression_get_target_type ((BalaExpression*) G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, BALA_TYPE_INITIALIZER_LIST, BalaInitializerList));
				_tmp17_ = _tmp16_;
				_tmp13_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_ARRAY_TYPE);
			} else {
				_tmp13_ = FALSE;
			}
			if (_tmp13_) {
				BalaExpression* _tmp18_;
				_tmp18_ = expr;
				bala_ccode_base_module_constant_array_ranks_sizes (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, BALA_TYPE_INITIALIZER_LIST, BalaInitializerList), sizes, (gint) sizes_length1, rank);
			}
			_bala_code_node_unref0 (expr);
		}
		_bala_iterable_unref0 (_expr_list);
	}
}

static BalaCCodeDeclaratorSuffix*
bala_ccode_base_module_get_constant_declarator_suffix (BalaCCodeBaseModule* self,
                                                       BalaConstant* c)
{
	BalaArrayType* array = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaInitializerList* initializer_list = NULL;
	BalaExpression* _tmp2_;
	BalaExpression* _tmp3_;
	gboolean _tmp4_ = FALSE;
	BalaArrayType* _tmp5_;
	BalaArrayList* lengths = NULL;
	GEqualFunc _tmp11_;
	BalaArrayList* _tmp12_;
	gint* sizes = NULL;
	BalaArrayType* _tmp13_;
	gint _tmp14_;
	gint _tmp15_;
	gint* _tmp16_;
	gint sizes_length1;
	gint _sizes_size_;
	BalaInitializerList* _tmp17_;
	gint* _tmp18_;
	gint _tmp18__length1;
	BalaArrayList* _tmp31_;
	BalaCCodeDeclaratorSuffix* _tmp32_;
	BalaCCodeDeclaratorSuffix* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (c != NULL, NULL);
	_tmp0_ = bala_constant_get_type_reference (c);
	_tmp1_ = _tmp0_;
	array = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp1_) : NULL;
	_tmp2_ = bala_constant_get_value (c);
	_tmp3_ = _tmp2_;
	initializer_list = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_INITIALIZER_LIST) ? ((BalaInitializerList*) _tmp3_) : NULL;
	_tmp5_ = array;
	if (_tmp5_ == NULL) {
		_tmp4_ = TRUE;
	} else {
		BalaInitializerList* _tmp6_;
		_tmp6_ = initializer_list;
		_tmp4_ = _tmp6_ == NULL;
	}
	if (_tmp4_) {
		BalaDataType* _tmp7_;
		BalaDataType* _tmp8_;
		BalaDataType* _tmp9_;
		_tmp7_ = bala_constant_get_type_reference (c);
		_tmp8_ = _tmp7_;
		_tmp9_ = self->string_type;
		if (bala_data_type_compatible (_tmp8_, _tmp9_)) {
			BalaCCodeDeclaratorSuffix* _tmp10_;
			_tmp10_ = bala_ccode_declarator_suffix_new_with_array (NULL);
			result = _tmp10_;
			return result;
		}
		result = NULL;
		return result;
	}
	_tmp11_ = g_direct_equal;
	_tmp12_ = bala_array_list_new (BALA_TYPE_CCODE_EXPRESSION, (GBoxedCopyFunc) bala_ccode_node_ref, (GDestroyNotify) bala_ccode_node_unref, _tmp11_);
	lengths = _tmp12_;
	_tmp13_ = array;
	_tmp14_ = bala_array_type_get_rank (_tmp13_);
	_tmp15_ = _tmp14_;
	_tmp16_ = g_new0 (gint, _tmp15_);
	sizes = _tmp16_;
	sizes_length1 = _tmp15_;
	_sizes_size_ = sizes_length1;
	_tmp17_ = initializer_list;
	_tmp18_ = sizes;
	_tmp18__length1 = sizes_length1;
	bala_ccode_base_module_constant_array_ranks_sizes (_tmp17_, _tmp18_, (gint) _tmp18__length1, 0);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp19_ = FALSE;
			_tmp19_ = TRUE;
			while (TRUE) {
				BalaArrayType* _tmp21_;
				gint _tmp22_;
				gint _tmp23_;
				BalaArrayList* _tmp24_;
				gint* _tmp25_;
				gint _tmp25__length1;
				gint _tmp26_;
				gchar* _tmp27_;
				gchar* _tmp28_;
				BalaCCodeConstant* _tmp29_;
				BalaCCodeConstant* _tmp30_;
				if (!_tmp19_) {
					gint _tmp20_;
					_tmp20_ = i;
					i = _tmp20_ + 1;
				}
				_tmp19_ = FALSE;
				_tmp21_ = array;
				_tmp22_ = bala_array_type_get_rank (_tmp21_);
				_tmp23_ = _tmp22_;
				if (!(i < _tmp23_)) {
					break;
				}
				_tmp24_ = lengths;
				_tmp25_ = sizes;
				_tmp25__length1 = sizes_length1;
				_tmp26_ = _tmp25_[i];
				_tmp27_ = g_strdup_printf ("%d", _tmp26_);
				_tmp28_ = _tmp27_;
				_tmp29_ = bala_ccode_constant_new (_tmp28_);
				_tmp30_ = _tmp29_;
				bala_collection_add ((BalaCollection*) _tmp24_, (BalaCCodeExpression*) _tmp30_);
				_bala_ccode_node_unref0 (_tmp30_);
				_g_free0 (_tmp28_);
			}
		}
	}
	_tmp31_ = lengths;
	_tmp32_ = bala_ccode_declarator_suffix_new_with_multi_array ((BalaList*) _tmp31_);
	result = _tmp32_;
	sizes = (g_free (sizes), NULL);
	_bala_iterable_unref0 (lengths);
	return result;
}

void
bala_ccode_base_module_generate_constant_declaration (BalaCCodeBaseModule* self,
                                                      BalaConstant* c,
                                                      BalaCCodeFile* decl_space,
                                                      gboolean definition)
{
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_;
	gboolean _tmp7_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (c != NULL);
	g_return_if_fail (decl_space != NULL);
	_tmp0_ = bala_symbol_get_parent_symbol ((BalaSymbol*) c);
	_tmp1_ = _tmp0_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_BLOCK)) {
		return;
	}
	_tmp2_ = bala_get_ccode_name ((BalaCodeNode*) c);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) c, _tmp3_);
	_g_free0 (_tmp3_);
	if (_tmp4_) {
		return;
	}
	_tmp6_ = bala_symbol_get_external ((BalaSymbol*) c);
	_tmp7_ = _tmp6_;
	if (!_tmp7_) {
		BalaExpression* _tmp8_;
		BalaExpression* _tmp9_;
		_tmp8_ = bala_constant_get_value (c);
		_tmp9_ = _tmp8_;
		_tmp5_ = _tmp9_ != NULL;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		BalaDataType* _tmp10_;
		BalaDataType* _tmp11_;
		BalaExpression* _tmp12_;
		BalaExpression* _tmp13_;
		BalaInitializerList* initializer_list = NULL;
		BalaExpression* _tmp14_;
		BalaExpression* _tmp15_;
		BalaInitializerList* _tmp16_;
		BalaInitializerList* _tmp17_;
		_tmp10_ = bala_constant_get_type_reference (c);
		_tmp11_ = _tmp10_;
		bala_ccode_base_module_generate_type_declaration (self, _tmp11_, decl_space);
		_tmp12_ = bala_constant_get_value (c);
		_tmp13_ = _tmp12_;
		bala_code_node_emit ((BalaCodeNode*) _tmp13_, (BalaCodeGenerator*) self);
		_tmp14_ = bala_constant_get_value (c);
		_tmp15_ = _tmp14_;
		_tmp16_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp15_, BALA_TYPE_INITIALIZER_LIST) ? ((BalaInitializerList*) _tmp15_) : NULL);
		initializer_list = _tmp16_;
		_tmp17_ = initializer_list;
		if (_tmp17_ != NULL) {
			BalaCCodeDeclaration* _cdecl_ = NULL;
			BalaDataType* _tmp18_;
			BalaDataType* _tmp19_;
			gchar* _tmp20_;
			gchar* _tmp21_;
			BalaCCodeDeclaration* _tmp22_;
			BalaCCodeDeclaration* _tmp23_;
			BalaCCodeExpression* cinitializer = NULL;
			BalaExpression* _tmp24_;
			BalaExpression* _tmp25_;
			BalaCCodeExpression* _tmp26_;
			BalaCCodeExpression* _tmp27_;
			BalaCCodeDeclaration* _tmp28_;
			gchar* _tmp29_;
			gchar* _tmp30_;
			BalaCCodeExpression* _tmp31_;
			BalaCCodeDeclaratorSuffix* _tmp32_;
			BalaCCodeDeclaratorSuffix* _tmp33_;
			BalaCCodeVariableDeclarator* _tmp34_;
			BalaCCodeVariableDeclarator* _tmp35_;
			BalaCCodeDeclaration* _tmp38_;
			_tmp18_ = bala_constant_get_type_reference (c);
			_tmp19_ = _tmp18_;
			_tmp20_ = bala_get_ccode_const_name ((BalaCodeNode*) _tmp19_);
			_tmp21_ = _tmp20_;
			_tmp22_ = bala_ccode_declaration_new (_tmp21_);
			_tmp23_ = _tmp22_;
			_g_free0 (_tmp21_);
			_cdecl_ = _tmp23_;
			_tmp24_ = bala_constant_get_value (c);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_get_cvalue (_tmp25_);
			_tmp27_ = _bala_ccode_node_ref0 (_tmp26_);
			cinitializer = _tmp27_;
			if (!definition) {
				_bala_ccode_node_unref0 (cinitializer);
				cinitializer = NULL;
			}
			_tmp28_ = _cdecl_;
			_tmp29_ = bala_get_ccode_name ((BalaCodeNode*) c);
			_tmp30_ = _tmp29_;
			_tmp31_ = cinitializer;
			_tmp32_ = bala_ccode_base_module_get_constant_declarator_suffix (self, c);
			_tmp33_ = _tmp32_;
			_tmp34_ = bala_ccode_variable_declarator_new (_tmp30_, _tmp31_, _tmp33_);
			_tmp35_ = _tmp34_;
			bala_ccode_declaration_add_declarator (_tmp28_, (BalaCCodeDeclarator*) _tmp35_);
			_bala_ccode_node_unref0 (_tmp35_);
			_bala_ccode_declarator_suffix_unref0 (_tmp33_);
			_g_free0 (_tmp30_);
			if (bala_symbol_is_private_symbol ((BalaSymbol*) c)) {
				BalaCCodeDeclaration* _tmp36_;
				_tmp36_ = _cdecl_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp36_, BALA_CCODE_MODIFIERS_STATIC);
			} else {
				BalaCCodeDeclaration* _tmp37_;
				_tmp37_ = _cdecl_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp37_, BALA_CCODE_MODIFIERS_EXTERN);
			}
			_tmp38_ = _cdecl_;
			bala_ccode_file_add_constant_declaration (decl_space, (BalaCCodeNode*) _tmp38_);
			_bala_ccode_node_unref0 (cinitializer);
			_bala_ccode_node_unref0 (_cdecl_);
		} else {
			gboolean _tmp39_ = FALSE;
			BalaExpression* _tmp40_;
			BalaExpression* _tmp41_;
			BalaCCodeMacroReplacement* cdefine = NULL;
			gchar* _tmp59_;
			gchar* _tmp60_;
			BalaExpression* _tmp61_;
			BalaExpression* _tmp62_;
			BalaCCodeExpression* _tmp63_;
			BalaCCodeMacroReplacement* _tmp64_;
			BalaCCodeMacroReplacement* _tmp65_;
			BalaCCodeMacroReplacement* _tmp66_;
			_tmp40_ = bala_constant_get_value (c);
			_tmp41_ = _tmp40_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp41_, BALA_TYPE_STRING_LITERAL)) {
				BalaExpression* _tmp42_;
				BalaExpression* _tmp43_;
				gboolean _tmp44_;
				gboolean _tmp45_;
				_tmp42_ = bala_constant_get_value (c);
				_tmp43_ = _tmp42_;
				_tmp44_ = bala_string_literal_get_translate (G_TYPE_CHECK_INSTANCE_CAST (_tmp43_, BALA_TYPE_STRING_LITERAL, BalaStringLiteral));
				_tmp45_ = _tmp44_;
				_tmp39_ = _tmp45_;
			} else {
				_tmp39_ = FALSE;
			}
			if (_tmp39_) {
				BalaMethod* m = NULL;
				BalaSymbol* _tmp46_;
				BalaScope* _tmp47_;
				BalaScope* _tmp48_;
				BalaSymbol* _tmp49_;
				BalaSymbol* _tmp50_;
				BalaScope* _tmp51_;
				BalaScope* _tmp52_;
				BalaSymbol* _tmp53_;
				BalaMethod* _tmp54_;
				BalaMethod* _tmp55_;
				BalaMethod* _tmp56_;
				gchar* _tmp57_;
				gchar* _tmp58_;
				_tmp46_ = self->root_symbol;
				_tmp47_ = bala_symbol_get_scope (_tmp46_);
				_tmp48_ = _tmp47_;
				_tmp49_ = bala_scope_lookup (_tmp48_, "GLib");
				_tmp50_ = _tmp49_;
				_tmp51_ = bala_symbol_get_scope (_tmp50_);
				_tmp52_ = _tmp51_;
				_tmp53_ = bala_scope_lookup (_tmp52_, "_");
				_tmp54_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp53_, BALA_TYPE_METHOD, BalaMethod);
				_bala_code_node_unref0 (_tmp50_);
				m = _tmp54_;
				_tmp55_ = m;
				_tmp56_ = m;
				_tmp57_ = bala_get_ccode_name ((BalaCodeNode*) _tmp56_);
				_tmp58_ = _tmp57_;
				bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) _tmp55_, _tmp58_);
				_g_free0 (_tmp58_);
				_bala_code_node_unref0 (m);
			}
			_tmp59_ = bala_get_ccode_name ((BalaCodeNode*) c);
			_tmp60_ = _tmp59_;
			_tmp61_ = bala_constant_get_value (c);
			_tmp62_ = _tmp61_;
			_tmp63_ = bala_get_cvalue (_tmp62_);
			_tmp64_ = bala_ccode_macro_replacement_new_with_expression (_tmp60_, _tmp63_);
			_tmp65_ = _tmp64_;
			_g_free0 (_tmp60_);
			cdefine = _tmp65_;
			_tmp66_ = cdefine;
			bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp66_);
			_bala_ccode_node_unref0 (cdefine);
		}
		_bala_code_node_unref0 (initializer_list);
	}
}

static void
bala_ccode_base_module_real_visit_constant (BalaCodeVisitor* base,
                                            BalaConstant* c)
{
	BalaCCodeBaseModule * self;
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (c != NULL);
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) c);
	_tmp1_ = _tmp0_;
	bala_ccode_base_module_push_line (self, _tmp1_);
	_tmp2_ = bala_symbol_get_parent_symbol ((BalaSymbol*) c);
	_tmp3_ = _tmp2_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_BLOCK)) {
		BalaDataType* _tmp4_;
		BalaDataType* _tmp5_;
		BalaCCodeFile* _tmp6_;
		BalaExpression* _tmp7_;
		BalaExpression* _tmp8_;
		gchar* type_name = NULL;
		BalaDataType* _tmp9_;
		BalaDataType* _tmp10_;
		BalaDataType* _tmp11_;
		BalaCCodeExpression* cinitializer = NULL;
		BalaExpression* _tmp16_;
		BalaExpression* _tmp17_;
		BalaCCodeExpression* _tmp18_;
		BalaCCodeExpression* _tmp19_;
		BalaCCodeFunction* _tmp20_;
		BalaCCodeFunction* _tmp21_;
		const gchar* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		BalaCCodeExpression* _tmp25_;
		BalaCCodeDeclaratorSuffix* _tmp26_;
		BalaCCodeDeclaratorSuffix* _tmp27_;
		BalaCCodeVariableDeclarator* _tmp28_;
		BalaCCodeVariableDeclarator* _tmp29_;
		_tmp4_ = bala_constant_get_type_reference (c);
		_tmp5_ = _tmp4_;
		_tmp6_ = self->cfile;
		bala_ccode_base_module_generate_type_declaration (self, _tmp5_, _tmp6_);
		_tmp7_ = bala_constant_get_value (c);
		_tmp8_ = _tmp7_;
		bala_code_node_emit ((BalaCodeNode*) _tmp8_, (BalaCodeGenerator*) self);
		_tmp9_ = bala_constant_get_type_reference (c);
		_tmp10_ = _tmp9_;
		_tmp11_ = self->string_type;
		if (bala_data_type_compatible (_tmp10_, _tmp11_)) {
			gchar* _tmp12_;
			_tmp12_ = g_strdup ("const char");
			_g_free0 (type_name);
			type_name = _tmp12_;
		} else {
			BalaDataType* _tmp13_;
			BalaDataType* _tmp14_;
			gchar* _tmp15_;
			_tmp13_ = bala_constant_get_type_reference (c);
			_tmp14_ = _tmp13_;
			_tmp15_ = bala_get_ccode_const_name ((BalaCodeNode*) _tmp14_);
			_g_free0 (type_name);
			type_name = _tmp15_;
		}
		_tmp16_ = bala_constant_get_value (c);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_get_cvalue (_tmp17_);
		_tmp19_ = _bala_ccode_node_ref0 (_tmp18_);
		cinitializer = _tmp19_;
		_tmp20_ = bala_ccode_base_module_get_ccode (self);
		_tmp21_ = _tmp20_;
		_tmp22_ = type_name;
		_tmp23_ = bala_get_ccode_name ((BalaCodeNode*) c);
		_tmp24_ = _tmp23_;
		_tmp25_ = cinitializer;
		_tmp26_ = bala_ccode_base_module_get_constant_declarator_suffix (self, c);
		_tmp27_ = _tmp26_;
		_tmp28_ = bala_ccode_variable_declarator_new (_tmp24_, _tmp25_, _tmp27_);
		_tmp29_ = _tmp28_;
		bala_ccode_function_add_declaration (_tmp21_, _tmp22_, (BalaCCodeDeclarator*) _tmp29_, BALA_CCODE_MODIFIERS_STATIC);
		_bala_ccode_node_unref0 (_tmp29_);
		_bala_ccode_declarator_suffix_unref0 (_tmp27_);
		_g_free0 (_tmp24_);
		_bala_ccode_node_unref0 (cinitializer);
		_g_free0 (type_name);
	} else {
		BalaCCodeFile* _tmp30_;
		_tmp30_ = self->cfile;
		bala_ccode_base_module_generate_constant_declaration (self, c, _tmp30_, TRUE);
		if (!bala_symbol_is_internal_symbol ((BalaSymbol*) c)) {
			BalaCCodeFile* _tmp31_;
			_tmp31_ = self->header_file;
			bala_ccode_base_module_generate_constant_declaration (self, c, _tmp31_, FALSE);
		}
		if (!bala_symbol_is_private_symbol ((BalaSymbol*) c)) {
			BalaCCodeFile* _tmp32_;
			_tmp32_ = self->internal_header_file;
			bala_ccode_base_module_generate_constant_declaration (self, c, _tmp32_, FALSE);
		}
	}
	bala_ccode_base_module_pop_line (self);
}

void
bala_ccode_base_module_append_field (BalaCCodeBaseModule* self,
                                     BalaCCodeStruct* ccode_struct,
                                     BalaField* f,
                                     BalaCCodeFile* decl_space)
{
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaCCodeModifiers _tmp2_ = 0U;
	gboolean _tmp3_;
	gboolean _tmp4_;
	BalaCCodeModifiers _tmp5_ = 0U;
	BalaVersionAttribute* _tmp6_;
	BalaVersionAttribute* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	BalaCCodeModifiers modifiers = 0U;
	BalaDataType* _tmp10_;
	BalaDataType* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	BalaCCodeModifiers _tmp16_;
	BalaDataType* _tmp17_;
	BalaDataType* _tmp18_;
	BalaCCodeDeclaratorSuffix* _tmp19_;
	BalaCCodeDeclaratorSuffix* _tmp20_;
	gboolean _tmp21_ = FALSE;
	BalaDataType* _tmp22_;
	BalaDataType* _tmp23_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (ccode_struct != NULL);
	g_return_if_fail (f != NULL);
	g_return_if_fail (decl_space != NULL);
	_tmp0_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp1_ = _tmp0_;
	bala_ccode_base_module_generate_type_declaration (self, _tmp1_, decl_space);
	_tmp3_ = bala_field_get_is_volatile (f);
	_tmp4_ = _tmp3_;
	if (_tmp4_) {
		_tmp2_ = BALA_CCODE_MODIFIERS_VOLATILE;
	} else {
		_tmp2_ = 0;
	}
	_tmp6_ = bala_symbol_get_version ((BalaSymbol*) f);
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_version_attribute_get_deprecated (_tmp7_);
	_tmp9_ = _tmp8_;
	if (_tmp9_) {
		_tmp5_ = BALA_CCODE_MODIFIERS_DEPRECATED;
	} else {
		_tmp5_ = 0;
	}
	modifiers = _tmp2_ | _tmp5_;
	_tmp10_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp11_ = _tmp10_;
	_tmp12_ = bala_get_ccode_name ((BalaCodeNode*) _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_get_ccode_name ((BalaCodeNode*) f);
	_tmp15_ = _tmp14_;
	_tmp16_ = modifiers;
	_tmp17_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp18_ = _tmp17_;
	_tmp19_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp18_);
	_tmp20_ = _tmp19_;
	bala_ccode_struct_add_field (ccode_struct, _tmp13_, _tmp15_, _tmp16_, _tmp20_);
	_bala_ccode_declarator_suffix_unref0 (_tmp20_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp13_);
	_tmp22_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp23_ = _tmp22_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp23_, BALA_TYPE_ARRAY_TYPE)) {
		_tmp21_ = bala_get_ccode_array_length ((BalaCodeNode*) f);
	} else {
		_tmp21_ = FALSE;
	}
	if (_tmp21_) {
		BalaArrayType* array_type = NULL;
		BalaDataType* _tmp24_;
		BalaDataType* _tmp25_;
		BalaArrayType* _tmp26_;
		BalaArrayType* _tmp27_;
		gboolean _tmp28_;
		gboolean _tmp29_;
		_tmp24_ = bala_variable_get_variable_type ((BalaVariable*) f);
		_tmp25_ = _tmp24_;
		_tmp26_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		array_type = _tmp26_;
		_tmp27_ = array_type;
		_tmp28_ = bala_array_type_get_fixed_length (_tmp27_);
		_tmp29_ = _tmp28_;
		if (!_tmp29_) {
			gchar* length_ctype = NULL;
			gchar* _tmp30_;
			gboolean _tmp39_ = FALSE;
			BalaArrayType* _tmp40_;
			gint _tmp41_;
			gint _tmp42_;
			_tmp30_ = bala_get_ccode_array_length_type ((BalaCodeNode*) f);
			length_ctype = _tmp30_;
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp31_ = FALSE;
					_tmp31_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp33_;
						gint _tmp34_;
						gint _tmp35_;
						gchar* length_cname = NULL;
						gchar* _tmp36_;
						const gchar* _tmp37_;
						const gchar* _tmp38_;
						if (!_tmp31_) {
							gint _tmp32_;
							_tmp32_ = dim;
							dim = _tmp32_ + 1;
						}
						_tmp31_ = FALSE;
						_tmp33_ = array_type;
						_tmp34_ = bala_array_type_get_rank (_tmp33_);
						_tmp35_ = _tmp34_;
						if (!(dim <= _tmp35_)) {
							break;
						}
						_tmp36_ = bala_ccode_base_module_get_variable_array_length_cname (self, (BalaVariable*) f, dim);
						length_cname = _tmp36_;
						_tmp37_ = length_ctype;
						_tmp38_ = length_cname;
						bala_ccode_struct_add_field (ccode_struct, _tmp37_, _tmp38_, 0, NULL);
						_g_free0 (length_cname);
					}
				}
			}
			_tmp40_ = array_type;
			_tmp41_ = bala_array_type_get_rank (_tmp40_);
			_tmp42_ = _tmp41_;
			if (_tmp42_ == 1) {
				_tmp39_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
			} else {
				_tmp39_ = FALSE;
			}
			if (_tmp39_) {
				const gchar* _tmp43_;
				gchar* _tmp44_;
				gchar* _tmp45_;
				gchar* _tmp46_;
				gchar* _tmp47_;
				_tmp43_ = length_ctype;
				_tmp44_ = bala_get_ccode_name ((BalaCodeNode*) f);
				_tmp45_ = _tmp44_;
				_tmp46_ = bala_ccode_base_module_get_array_size_cname (self, _tmp45_);
				_tmp47_ = _tmp46_;
				bala_ccode_struct_add_field (ccode_struct, _tmp43_, _tmp47_, 0, NULL);
				_g_free0 (_tmp47_);
				_g_free0 (_tmp45_);
			}
			_g_free0 (length_ctype);
		}
		_bala_code_node_unref0 (array_type);
	} else {
		if (bala_get_ccode_delegate_target ((BalaCodeNode*) f)) {
			BalaDelegateType* delegate_type = NULL;
			BalaDataType* _tmp48_;
			BalaDataType* _tmp49_;
			BalaDelegateType* _tmp50_;
			BalaDelegateType* _tmp51_;
			BalaDelegate* _tmp52_;
			BalaDelegate* _tmp53_;
			gboolean _tmp54_;
			gboolean _tmp55_;
			_tmp48_ = bala_variable_get_variable_type ((BalaVariable*) f);
			_tmp49_ = _tmp48_;
			_tmp50_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp49_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			delegate_type = _tmp50_;
			_tmp51_ = delegate_type;
			_tmp52_ = bala_delegate_type_get_delegate_symbol (_tmp51_);
			_tmp53_ = _tmp52_;
			_tmp54_ = bala_delegate_get_has_target (_tmp53_);
			_tmp55_ = _tmp54_;
			if (_tmp55_) {
				BalaDataType* _tmp56_;
				gchar* _tmp57_;
				gchar* _tmp58_;
				gchar* _tmp59_;
				gchar* _tmp60_;
				BalaDelegateType* _tmp61_;
				_tmp56_ = self->delegate_target_type;
				_tmp57_ = bala_get_ccode_name ((BalaCodeNode*) _tmp56_);
				_tmp58_ = _tmp57_;
				_tmp59_ = bala_get_ccode_delegate_target_name ((BalaVariable*) f);
				_tmp60_ = _tmp59_;
				bala_ccode_struct_add_field (ccode_struct, _tmp58_, _tmp60_, 0, NULL);
				_g_free0 (_tmp60_);
				_g_free0 (_tmp58_);
				_tmp61_ = delegate_type;
				if (bala_data_type_is_disposable ((BalaDataType*) _tmp61_)) {
					BalaDelegateType* _tmp62_;
					gchar* _tmp63_;
					gchar* _tmp64_;
					gchar* _tmp65_;
					gchar* _tmp66_;
					_tmp62_ = self->delegate_target_destroy_type;
					_tmp63_ = bala_get_ccode_name ((BalaCodeNode*) _tmp62_);
					_tmp64_ = _tmp63_;
					_tmp65_ = bala_get_ccode_delegate_target_destroy_notify_name ((BalaVariable*) f);
					_tmp66_ = _tmp65_;
					bala_ccode_struct_add_field (ccode_struct, _tmp64_, _tmp66_, 0, NULL);
					_g_free0 (_tmp66_);
					_g_free0 (_tmp64_);
				}
			}
			_bala_code_node_unref0 (delegate_type);
		}
	}
}

void
bala_ccode_base_module_generate_field_declaration (BalaCCodeBaseModule* self,
                                                   BalaField* f,
                                                   BalaCCodeFile* decl_space)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	BalaDataType* _tmp3_;
	BalaDataType* _tmp4_;
	BalaCCodeDeclaration* _cdecl_ = NULL;
	BalaDataType* _tmp5_;
	BalaDataType* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	BalaCCodeDeclaration* _tmp9_;
	BalaCCodeDeclaration* _tmp10_;
	BalaCCodeDeclaration* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	BalaDataType* _tmp14_;
	BalaDataType* _tmp15_;
	BalaCCodeDeclaratorSuffix* _tmp16_;
	BalaCCodeDeclaratorSuffix* _tmp17_;
	BalaCCodeVariableDeclarator* _tmp18_;
	BalaCCodeVariableDeclarator* _tmp19_;
	BalaVersionAttribute* _tmp22_;
	BalaVersionAttribute* _tmp23_;
	gboolean _tmp24_;
	gboolean _tmp25_;
	gboolean _tmp30_;
	gboolean _tmp31_;
	BalaCCodeDeclaration* _tmp36_;
	gboolean _tmp37_;
	gboolean _tmp38_;
	gboolean _tmp68_ = FALSE;
	BalaDataType* _tmp69_;
	BalaDataType* _tmp70_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (f != NULL);
	g_return_if_fail (decl_space != NULL);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) f);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) f, _tmp1_);
	_g_free0 (_tmp1_);
	if (_tmp2_) {
		return;
	}
	_tmp3_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp4_ = _tmp3_;
	bala_ccode_base_module_generate_type_declaration (self, _tmp4_, decl_space);
	_tmp5_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_get_ccode_name ((BalaCodeNode*) _tmp6_);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_ccode_declaration_new (_tmp8_);
	_tmp10_ = _tmp9_;
	_g_free0 (_tmp8_);
	_cdecl_ = _tmp10_;
	_tmp11_ = _cdecl_;
	_tmp12_ = bala_get_ccode_name ((BalaCodeNode*) f);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp15_ = _tmp14_;
	_tmp16_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp15_);
	_tmp17_ = _tmp16_;
	_tmp18_ = bala_ccode_variable_declarator_new (_tmp13_, NULL, _tmp17_);
	_tmp19_ = _tmp18_;
	bala_ccode_declaration_add_declarator (_tmp11_, (BalaCCodeDeclarator*) _tmp19_);
	_bala_ccode_node_unref0 (_tmp19_);
	_bala_ccode_declarator_suffix_unref0 (_tmp17_);
	_g_free0 (_tmp13_);
	if (bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
		BalaCCodeDeclaration* _tmp20_;
		_tmp20_ = _cdecl_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp20_, BALA_CCODE_MODIFIERS_STATIC);
	} else {
		BalaCCodeDeclaration* _tmp21_;
		_tmp21_ = _cdecl_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp21_, BALA_CCODE_MODIFIERS_EXTERN);
	}
	_tmp22_ = bala_symbol_get_version ((BalaSymbol*) f);
	_tmp23_ = _tmp22_;
	_tmp24_ = bala_version_attribute_get_deprecated (_tmp23_);
	_tmp25_ = _tmp24_;
	if (_tmp25_) {
		BalaCCodeDeclaration* _tmp26_;
		BalaCCodeDeclaration* _tmp27_;
		BalaCCodeModifiers _tmp28_;
		BalaCCodeModifiers _tmp29_;
		_tmp26_ = _cdecl_;
		_tmp27_ = _cdecl_;
		_tmp28_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp27_);
		_tmp29_ = _tmp28_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp27_, _tmp29_ | BALA_CCODE_MODIFIERS_DEPRECATED);
	}
	_tmp30_ = bala_field_get_is_volatile (f);
	_tmp31_ = _tmp30_;
	if (_tmp31_) {
		BalaCCodeDeclaration* _tmp32_;
		BalaCCodeDeclaration* _tmp33_;
		BalaCCodeModifiers _tmp34_;
		BalaCCodeModifiers _tmp35_;
		_tmp32_ = _cdecl_;
		_tmp33_ = _cdecl_;
		_tmp34_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp33_);
		_tmp35_ = _tmp34_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp33_, _tmp35_ | BALA_CCODE_MODIFIERS_VOLATILE);
	}
	_tmp36_ = _cdecl_;
	bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp36_);
	_tmp37_ = bala_lockable_get_lock_used ((BalaLockable*) f);
	_tmp38_ = _tmp37_;
	if (_tmp38_) {
		BalaCCodeDeclaration* flock = NULL;
		BalaStruct* _tmp39_;
		gchar* _tmp40_;
		gchar* _tmp41_;
		BalaCCodeDeclaration* _tmp42_;
		BalaCCodeDeclaration* _tmp43_;
		BalaCCodeVariableDeclarator* flock_decl = NULL;
		BalaSymbol* _tmp44_;
		BalaSymbol* _tmp45_;
		gchar* _tmp46_;
		gchar* _tmp47_;
		gchar* _tmp48_;
		gchar* _tmp49_;
		gchar* _tmp50_;
		gchar* _tmp51_;
		gchar* _tmp52_;
		gchar* _tmp53_;
		BalaCCodeConstant* _tmp54_;
		BalaCCodeConstant* _tmp55_;
		BalaCCodeVariableDeclarator* _tmp56_;
		BalaCCodeVariableDeclarator* _tmp57_;
		BalaCCodeDeclaration* _tmp58_;
		BalaCCodeVariableDeclarator* _tmp59_;
		BalaCCodeDeclaration* _tmp67_;
		_tmp39_ = self->mutex_type;
		_tmp40_ = bala_get_ccode_name ((BalaCodeNode*) _tmp39_);
		_tmp41_ = _tmp40_;
		_tmp42_ = bala_ccode_declaration_new (_tmp41_);
		_tmp43_ = _tmp42_;
		_g_free0 (_tmp41_);
		flock = _tmp43_;
		_tmp44_ = bala_symbol_get_parent_symbol ((BalaSymbol*) f);
		_tmp45_ = _tmp44_;
		_tmp46_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp45_, NULL);
		_tmp47_ = _tmp46_;
		_tmp48_ = bala_get_ccode_name ((BalaCodeNode*) f);
		_tmp49_ = _tmp48_;
		_tmp50_ = g_strdup_printf ("%s_%s", _tmp47_, _tmp49_);
		_tmp51_ = _tmp50_;
		_tmp52_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp51_);
		_tmp53_ = _tmp52_;
		_tmp54_ = bala_ccode_constant_new ("{0}");
		_tmp55_ = _tmp54_;
		_tmp56_ = bala_ccode_variable_declarator_new (_tmp53_, (BalaCCodeExpression*) _tmp55_, NULL);
		_tmp57_ = _tmp56_;
		_bala_ccode_node_unref0 (_tmp55_);
		_g_free0 (_tmp53_);
		_g_free0 (_tmp51_);
		_g_free0 (_tmp49_);
		_g_free0 (_tmp47_);
		flock_decl = _tmp57_;
		_tmp58_ = flock;
		_tmp59_ = flock_decl;
		bala_ccode_declaration_add_declarator (_tmp58_, (BalaCCodeDeclarator*) _tmp59_);
		if (bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
			BalaCCodeDeclaration* _tmp60_;
			_tmp60_ = flock;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp60_, BALA_CCODE_MODIFIERS_STATIC);
		} else {
			gboolean _tmp61_ = FALSE;
			BalaCodeContext* _tmp62_;
			gboolean _tmp63_;
			gboolean _tmp64_;
			_tmp62_ = self->priv->_context;
			_tmp63_ = bala_code_context_get_hide_internal (_tmp62_);
			_tmp64_ = _tmp63_;
			if (_tmp64_) {
				_tmp61_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
			} else {
				_tmp61_ = FALSE;
			}
			if (_tmp61_) {
				BalaCCodeDeclaration* _tmp65_;
				_tmp65_ = flock;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp65_, BALA_CCODE_MODIFIERS_INTERNAL);
			} else {
				BalaCCodeDeclaration* _tmp66_;
				_tmp66_ = flock;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp66_, BALA_CCODE_MODIFIERS_EXTERN);
			}
		}
		_tmp67_ = flock;
		bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp67_);
		_bala_ccode_node_unref0 (flock_decl);
		_bala_ccode_node_unref0 (flock);
	}
	_tmp69_ = bala_variable_get_variable_type ((BalaVariable*) f);
	_tmp70_ = _tmp69_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp70_, BALA_TYPE_ARRAY_TYPE)) {
		_tmp68_ = bala_get_ccode_array_length ((BalaCodeNode*) f);
	} else {
		_tmp68_ = FALSE;
	}
	if (_tmp68_) {
		BalaArrayType* array_type = NULL;
		BalaDataType* _tmp71_;
		BalaDataType* _tmp72_;
		BalaArrayType* _tmp73_;
		BalaArrayType* _tmp74_;
		gboolean _tmp75_;
		gboolean _tmp76_;
		_tmp71_ = bala_variable_get_variable_type ((BalaVariable*) f);
		_tmp72_ = _tmp71_;
		_tmp73_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp72_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		array_type = _tmp73_;
		_tmp74_ = array_type;
		_tmp75_ = bala_array_type_get_fixed_length (_tmp74_);
		_tmp76_ = _tmp75_;
		if (!_tmp76_) {
			gchar* length_ctype = NULL;
			gchar* _tmp77_;
			_tmp77_ = bala_get_ccode_array_length_type ((BalaCodeNode*) f);
			length_ctype = _tmp77_;
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp78_ = FALSE;
					_tmp78_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp80_;
						gint _tmp81_;
						gint _tmp82_;
						const gchar* _tmp83_;
						BalaCCodeDeclaration* _tmp84_;
						BalaCCodeDeclaration* _tmp85_;
						gchar* _tmp86_;
						gchar* _tmp87_;
						BalaCCodeVariableDeclarator* _tmp88_;
						BalaCCodeVariableDeclarator* _tmp89_;
						BalaCCodeDeclaration* _tmp97_;
						if (!_tmp78_) {
							gint _tmp79_;
							_tmp79_ = dim;
							dim = _tmp79_ + 1;
						}
						_tmp78_ = FALSE;
						_tmp80_ = array_type;
						_tmp81_ = bala_array_type_get_rank (_tmp80_);
						_tmp82_ = _tmp81_;
						if (!(dim <= _tmp82_)) {
							break;
						}
						_tmp83_ = length_ctype;
						_tmp84_ = bala_ccode_declaration_new (_tmp83_);
						_bala_ccode_node_unref0 (_cdecl_);
						_cdecl_ = _tmp84_;
						_tmp85_ = _cdecl_;
						_tmp86_ = bala_ccode_base_module_get_variable_array_length_cname (self, (BalaVariable*) f, dim);
						_tmp87_ = _tmp86_;
						_tmp88_ = bala_ccode_variable_declarator_new (_tmp87_, NULL, NULL);
						_tmp89_ = _tmp88_;
						bala_ccode_declaration_add_declarator (_tmp85_, (BalaCCodeDeclarator*) _tmp89_);
						_bala_ccode_node_unref0 (_tmp89_);
						_g_free0 (_tmp87_);
						if (bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
							BalaCCodeDeclaration* _tmp90_;
							_tmp90_ = _cdecl_;
							bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp90_, BALA_CCODE_MODIFIERS_STATIC);
						} else {
							gboolean _tmp91_ = FALSE;
							BalaCodeContext* _tmp92_;
							gboolean _tmp93_;
							gboolean _tmp94_;
							_tmp92_ = self->priv->_context;
							_tmp93_ = bala_code_context_get_hide_internal (_tmp92_);
							_tmp94_ = _tmp93_;
							if (_tmp94_) {
								_tmp91_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
							} else {
								_tmp91_ = FALSE;
							}
							if (_tmp91_) {
								BalaCCodeDeclaration* _tmp95_;
								_tmp95_ = _cdecl_;
								bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp95_, BALA_CCODE_MODIFIERS_INTERNAL);
							} else {
								BalaCCodeDeclaration* _tmp96_;
								_tmp96_ = _cdecl_;
								bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp96_, BALA_CCODE_MODIFIERS_EXTERN);
							}
						}
						_tmp97_ = _cdecl_;
						bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp97_);
					}
				}
			}
			_g_free0 (length_ctype);
		}
		_bala_code_node_unref0 (array_type);
	} else {
		if (bala_get_ccode_delegate_target ((BalaCodeNode*) f)) {
			BalaDelegateType* delegate_type = NULL;
			BalaDataType* _tmp98_;
			BalaDataType* _tmp99_;
			BalaDelegateType* _tmp100_;
			BalaDelegateType* _tmp101_;
			BalaDelegate* _tmp102_;
			BalaDelegate* _tmp103_;
			gboolean _tmp104_;
			gboolean _tmp105_;
			_tmp98_ = bala_variable_get_variable_type ((BalaVariable*) f);
			_tmp99_ = _tmp98_;
			_tmp100_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp99_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			delegate_type = _tmp100_;
			_tmp101_ = delegate_type;
			_tmp102_ = bala_delegate_type_get_delegate_symbol (_tmp101_);
			_tmp103_ = _tmp102_;
			_tmp104_ = bala_delegate_get_has_target (_tmp103_);
			_tmp105_ = _tmp104_;
			if (_tmp105_) {
				BalaDataType* _tmp106_;
				gchar* _tmp107_;
				gchar* _tmp108_;
				BalaCCodeDeclaration* _tmp109_;
				BalaCCodeDeclaration* _tmp110_;
				gchar* _tmp111_;
				gchar* _tmp112_;
				BalaCCodeVariableDeclarator* _tmp113_;
				BalaCCodeVariableDeclarator* _tmp114_;
				BalaCCodeDeclaration* _tmp122_;
				BalaDelegateType* _tmp123_;
				_tmp106_ = self->delegate_target_type;
				_tmp107_ = bala_get_ccode_name ((BalaCodeNode*) _tmp106_);
				_tmp108_ = _tmp107_;
				_tmp109_ = bala_ccode_declaration_new (_tmp108_);
				_bala_ccode_node_unref0 (_cdecl_);
				_cdecl_ = _tmp109_;
				_g_free0 (_tmp108_);
				_tmp110_ = _cdecl_;
				_tmp111_ = bala_get_ccode_delegate_target_name ((BalaVariable*) f);
				_tmp112_ = _tmp111_;
				_tmp113_ = bala_ccode_variable_declarator_new (_tmp112_, NULL, NULL);
				_tmp114_ = _tmp113_;
				bala_ccode_declaration_add_declarator (_tmp110_, (BalaCCodeDeclarator*) _tmp114_);
				_bala_ccode_node_unref0 (_tmp114_);
				_g_free0 (_tmp112_);
				if (bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
					BalaCCodeDeclaration* _tmp115_;
					_tmp115_ = _cdecl_;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp115_, BALA_CCODE_MODIFIERS_STATIC);
				} else {
					gboolean _tmp116_ = FALSE;
					BalaCodeContext* _tmp117_;
					gboolean _tmp118_;
					gboolean _tmp119_;
					_tmp117_ = self->priv->_context;
					_tmp118_ = bala_code_context_get_hide_internal (_tmp117_);
					_tmp119_ = _tmp118_;
					if (_tmp119_) {
						_tmp116_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
					} else {
						_tmp116_ = FALSE;
					}
					if (_tmp116_) {
						BalaCCodeDeclaration* _tmp120_;
						_tmp120_ = _cdecl_;
						bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp120_, BALA_CCODE_MODIFIERS_INTERNAL);
					} else {
						BalaCCodeDeclaration* _tmp121_;
						_tmp121_ = _cdecl_;
						bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp121_, BALA_CCODE_MODIFIERS_EXTERN);
					}
				}
				_tmp122_ = _cdecl_;
				bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp122_);
				_tmp123_ = delegate_type;
				if (bala_data_type_is_disposable ((BalaDataType*) _tmp123_)) {
					BalaDelegateType* _tmp124_;
					gchar* _tmp125_;
					gchar* _tmp126_;
					BalaCCodeDeclaration* _tmp127_;
					BalaCCodeDeclaration* _tmp128_;
					gchar* _tmp129_;
					gchar* _tmp130_;
					BalaCCodeVariableDeclarator* _tmp131_;
					BalaCCodeVariableDeclarator* _tmp132_;
					BalaCCodeDeclaration* _tmp140_;
					_tmp124_ = self->delegate_target_destroy_type;
					_tmp125_ = bala_get_ccode_name ((BalaCodeNode*) _tmp124_);
					_tmp126_ = _tmp125_;
					_tmp127_ = bala_ccode_declaration_new (_tmp126_);
					_bala_ccode_node_unref0 (_cdecl_);
					_cdecl_ = _tmp127_;
					_g_free0 (_tmp126_);
					_tmp128_ = _cdecl_;
					_tmp129_ = bala_get_ccode_delegate_target_destroy_notify_name ((BalaVariable*) f);
					_tmp130_ = _tmp129_;
					_tmp131_ = bala_ccode_variable_declarator_new (_tmp130_, NULL, NULL);
					_tmp132_ = _tmp131_;
					bala_ccode_declaration_add_declarator (_tmp128_, (BalaCCodeDeclarator*) _tmp132_);
					_bala_ccode_node_unref0 (_tmp132_);
					_g_free0 (_tmp130_);
					if (bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
						BalaCCodeDeclaration* _tmp133_;
						_tmp133_ = _cdecl_;
						bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp133_, BALA_CCODE_MODIFIERS_STATIC);
					} else {
						gboolean _tmp134_ = FALSE;
						BalaCodeContext* _tmp135_;
						gboolean _tmp136_;
						gboolean _tmp137_;
						_tmp135_ = self->priv->_context;
						_tmp136_ = bala_code_context_get_hide_internal (_tmp135_);
						_tmp137_ = _tmp136_;
						if (_tmp137_) {
							_tmp134_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
						} else {
							_tmp134_ = FALSE;
						}
						if (_tmp134_) {
							BalaCCodeDeclaration* _tmp138_;
							_tmp138_ = _cdecl_;
							bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp138_, BALA_CCODE_MODIFIERS_INTERNAL);
						} else {
							BalaCCodeDeclaration* _tmp139_;
							_tmp139_ = _cdecl_;
							bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp139_, BALA_CCODE_MODIFIERS_EXTERN);
						}
					}
					_tmp140_ = _cdecl_;
					bala_ccode_file_add_type_member_declaration (decl_space, (BalaCCodeNode*) _tmp140_);
				}
			}
			_bala_code_node_unref0 (delegate_type);
		}
	}
	_bala_ccode_node_unref0 (_cdecl_);
}

static gpointer
_bala_target_value_ref0 (gpointer self)
{
	return self ? bala_target_value_ref (self) : NULL;
}

static void
bala_ccode_base_module_real_visit_field (BalaCodeVisitor* base,
                                         BalaField* f)
{
	BalaCCodeBaseModule * self;
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	BalaClass* cl = NULL;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaClass* _tmp4_;
	gboolean _tmp5_ = FALSE;
	BalaClass* _tmp6_;
	gboolean is_gtypeinstance = FALSE;
	BalaCCodeExpression* lhs = NULL;
	BalaMemberBinding _tmp10_;
	BalaMemberBinding _tmp11_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (f != NULL);
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) f);
	_tmp1_ = _tmp0_;
	bala_ccode_base_module_push_line (self, _tmp1_);
	bala_ccode_base_module_visit_member (self, (BalaSymbol*) f);
	_tmp2_ = bala_symbol_get_parent_symbol ((BalaSymbol*) f);
	_tmp3_ = _tmp2_;
	_tmp4_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp3_) : NULL);
	cl = _tmp4_;
	_tmp6_ = cl;
	if (_tmp6_ != NULL) {
		BalaClass* _tmp7_;
		gboolean _tmp8_;
		gboolean _tmp9_;
		_tmp7_ = cl;
		_tmp8_ = bala_class_get_is_compact (_tmp7_);
		_tmp9_ = _tmp8_;
		_tmp5_ = !_tmp9_;
	} else {
		_tmp5_ = FALSE;
	}
	is_gtypeinstance = _tmp5_;
	lhs = NULL;
	_tmp10_ = bala_field_get_binding (f);
	_tmp11_ = _tmp10_;
	if (_tmp11_ == BALA_MEMBER_BINDING_INSTANCE) {
		gboolean _tmp12_ = FALSE;
		BalaExpression* _tmp27_;
		BalaExpression* _tmp28_;
		gboolean _tmp159_ = FALSE;
		gboolean _tmp160_ = FALSE;
		gboolean _tmp161_ = FALSE;
		BalaDataType* _tmp162_;
		BalaDataType* _tmp163_;
		if (is_gtypeinstance) {
			BalaSymbolAccessibility _tmp13_;
			BalaSymbolAccessibility _tmp14_;
			_tmp13_ = bala_symbol_get_access ((BalaSymbol*) f);
			_tmp14_ = _tmp13_;
			_tmp12_ = _tmp14_ == BALA_SYMBOL_ACCESSIBILITY_PRIVATE;
		} else {
			_tmp12_ = FALSE;
		}
		if (_tmp12_) {
			BalaCCodeIdentifier* _tmp15_;
			BalaCCodeIdentifier* _tmp16_;
			BalaCCodeMemberAccess* _tmp17_;
			BalaCCodeMemberAccess* _tmp18_;
			gchar* _tmp19_;
			gchar* _tmp20_;
			BalaCCodeMemberAccess* _tmp21_;
			_tmp15_ = bala_ccode_identifier_new ("self");
			_tmp16_ = _tmp15_;
			_tmp17_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp16_, "priv");
			_tmp18_ = _tmp17_;
			_tmp19_ = bala_get_ccode_name ((BalaCodeNode*) f);
			_tmp20_ = _tmp19_;
			_tmp21_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp18_, _tmp20_);
			_bala_ccode_node_unref0 (lhs);
			lhs = (BalaCCodeExpression*) _tmp21_;
			_g_free0 (_tmp20_);
			_bala_ccode_node_unref0 (_tmp18_);
			_bala_ccode_node_unref0 (_tmp16_);
		} else {
			BalaCCodeIdentifier* _tmp22_;
			BalaCCodeIdentifier* _tmp23_;
			gchar* _tmp24_;
			gchar* _tmp25_;
			BalaCCodeMemberAccess* _tmp26_;
			_tmp22_ = bala_ccode_identifier_new ("self");
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_get_ccode_name ((BalaCodeNode*) f);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp23_, _tmp25_);
			_bala_ccode_node_unref0 (lhs);
			lhs = (BalaCCodeExpression*) _tmp26_;
			_g_free0 (_tmp25_);
			_bala_ccode_node_unref0 (_tmp23_);
		}
		_tmp27_ = bala_variable_get_initializer ((BalaVariable*) f);
		_tmp28_ = _tmp27_;
		if (_tmp28_ != NULL) {
			BalaCCodeBaseModuleEmitContext* _tmp29_;
			BalaExpression* _tmp30_;
			BalaExpression* _tmp31_;
			BalaCCodeExpression* rhs = NULL;
			BalaExpression* _tmp32_;
			BalaExpression* _tmp33_;
			BalaCCodeExpression* _tmp34_;
			BalaCCodeExpression* _tmp35_;
			BalaExpression* _tmp36_;
			BalaExpression* _tmp37_;
			BalaArrayList* _tmp157_;
			BalaArrayList* _tmp158_;
			_tmp29_ = self->instance_init_context;
			bala_ccode_base_module_push_context (self, _tmp29_);
			_tmp30_ = bala_variable_get_initializer ((BalaVariable*) f);
			_tmp31_ = _tmp30_;
			bala_code_node_emit ((BalaCodeNode*) _tmp31_, (BalaCodeGenerator*) self);
			_tmp32_ = bala_variable_get_initializer ((BalaVariable*) f);
			_tmp33_ = _tmp32_;
			_tmp34_ = bala_get_cvalue (_tmp33_);
			_tmp35_ = _bala_ccode_node_ref0 (_tmp34_);
			rhs = _tmp35_;
			_tmp36_ = bala_variable_get_initializer ((BalaVariable*) f);
			_tmp37_ = _tmp36_;
			if (!bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) f, _tmp37_)) {
				BalaCCodeFunction* _tmp38_;
				BalaCCodeFunction* _tmp39_;
				BalaCCodeExpression* _tmp40_;
				BalaCCodeExpression* _tmp41_;
				gboolean _tmp42_ = FALSE;
				BalaDataType* _tmp43_;
				BalaDataType* _tmp44_;
				_tmp38_ = bala_ccode_base_module_get_ccode (self);
				_tmp39_ = _tmp38_;
				_tmp40_ = lhs;
				_tmp41_ = rhs;
				bala_ccode_function_add_assignment (_tmp39_, _tmp40_, _tmp41_);
				_tmp43_ = bala_variable_get_variable_type ((BalaVariable*) f);
				_tmp44_ = _tmp43_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp44_, BALA_TYPE_ARRAY_TYPE)) {
					_tmp42_ = bala_get_ccode_array_length ((BalaCodeNode*) f);
				} else {
					_tmp42_ = FALSE;
				}
				if (_tmp42_) {
					BalaArrayType* array_type = NULL;
					BalaDataType* _tmp45_;
					BalaDataType* _tmp46_;
					BalaArrayType* _tmp47_;
					BalaTargetValue* field_value = NULL;
					BalaSymbol* _tmp48_;
					BalaSymbol* _tmp49_;
					BalaTargetValue* _tmp50_;
					BalaTargetValue* _tmp51_;
					BalaTargetValue* _tmp52_;
					BalaTargetValue* _tmp53_;
					BalaGLibValue* glib_value = NULL;
					BalaExpression* _tmp54_;
					BalaExpression* _tmp55_;
					BalaTargetValue* _tmp56_;
					BalaTargetValue* _tmp57_;
					BalaGLibValue* _tmp58_;
					BalaGLibValue* _tmp59_;
					BalaList* _tmp60_;
					gboolean _tmp100_ = FALSE;
					BalaArrayType* _tmp101_;
					gint _tmp102_;
					gint _tmp103_;
					_tmp45_ = bala_variable_get_variable_type ((BalaVariable*) f);
					_tmp46_ = _tmp45_;
					_tmp47_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp46_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
					array_type = _tmp47_;
					_tmp48_ = bala_symbol_get_parent_symbol ((BalaSymbol*) f);
					_tmp49_ = _tmp48_;
					_tmp50_ = bala_ccode_base_module_load_this_parameter (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp49_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
					_tmp51_ = _tmp50_;
					_tmp52_ = bala_ccode_base_module_get_field_cvalue (self, f, _tmp51_);
					_tmp53_ = _tmp52_;
					_bala_target_value_unref0 (_tmp51_);
					field_value = _tmp53_;
					_tmp54_ = bala_variable_get_initializer ((BalaVariable*) f);
					_tmp55_ = _tmp54_;
					_tmp56_ = bala_expression_get_target_value (_tmp55_);
					_tmp57_ = _tmp56_;
					_tmp58_ = _bala_target_value_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
					glib_value = _tmp58_;
					_tmp59_ = glib_value;
					_tmp60_ = _tmp59_->array_length_cvalues;
					if (_tmp60_ != NULL) {
						{
							gint dim = 0;
							dim = 1;
							{
								gboolean _tmp61_ = FALSE;
								_tmp61_ = TRUE;
								while (TRUE) {
									BalaArrayType* _tmp63_;
									gint _tmp64_;
									gint _tmp65_;
									BalaCCodeExpression* array_len_lhs = NULL;
									BalaTargetValue* _tmp66_;
									BalaCCodeExpression* _tmp67_;
									BalaCCodeFunction* _tmp68_;
									BalaCCodeFunction* _tmp69_;
									BalaCCodeExpression* _tmp70_;
									BalaGLibValue* _tmp71_;
									BalaCCodeExpression* _tmp72_;
									BalaCCodeExpression* _tmp73_;
									if (!_tmp61_) {
										gint _tmp62_;
										_tmp62_ = dim;
										dim = _tmp62_ + 1;
									}
									_tmp61_ = FALSE;
									_tmp63_ = array_type;
									_tmp64_ = bala_array_type_get_rank (_tmp63_);
									_tmp65_ = _tmp64_;
									if (!(dim <= _tmp65_)) {
										break;
									}
									_tmp66_ = field_value;
									_tmp67_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp66_, dim);
									array_len_lhs = _tmp67_;
									_tmp68_ = bala_ccode_base_module_get_ccode (self);
									_tmp69_ = _tmp68_;
									_tmp70_ = array_len_lhs;
									_tmp71_ = glib_value;
									_tmp72_ = bala_ccode_base_module_get_array_length_cvalue (self, (BalaTargetValue*) _tmp71_, dim);
									_tmp73_ = _tmp72_;
									bala_ccode_function_add_assignment (_tmp69_, _tmp70_, _tmp73_);
									_bala_ccode_node_unref0 (_tmp73_);
									_bala_ccode_node_unref0 (array_len_lhs);
								}
							}
						}
					} else {
						BalaGLibValue* _tmp74_;
						_tmp74_ = glib_value;
						if (_tmp74_->array_null_terminated) {
							BalaCCodeFunctionCall* len_call = NULL;
							BalaCCodeIdentifier* _tmp75_;
							BalaCCodeIdentifier* _tmp76_;
							BalaCCodeFunctionCall* _tmp77_;
							BalaCCodeFunctionCall* _tmp78_;
							BalaCCodeFunctionCall* _tmp79_;
							BalaGLibValue* _tmp80_;
							BalaCCodeExpression* _tmp81_;
							BalaCCodeFunction* _tmp82_;
							BalaCCodeFunction* _tmp83_;
							BalaTargetValue* _tmp84_;
							BalaCCodeExpression* _tmp85_;
							BalaCCodeExpression* _tmp86_;
							BalaCCodeFunctionCall* _tmp87_;
							self->requires_array_length = TRUE;
							_tmp75_ = bala_ccode_identifier_new ("_bala_array_length");
							_tmp76_ = _tmp75_;
							_tmp77_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp76_);
							_tmp78_ = _tmp77_;
							_bala_ccode_node_unref0 (_tmp76_);
							len_call = _tmp78_;
							_tmp79_ = len_call;
							_tmp80_ = glib_value;
							_tmp81_ = bala_get_cvalue_ ((BalaTargetValue*) _tmp80_);
							bala_ccode_function_call_add_argument (_tmp79_, _tmp81_);
							_tmp82_ = bala_ccode_base_module_get_ccode (self);
							_tmp83_ = _tmp82_;
							_tmp84_ = field_value;
							_tmp85_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp84_, 1);
							_tmp86_ = _tmp85_;
							_tmp87_ = len_call;
							bala_ccode_function_add_assignment (_tmp83_, _tmp86_, (BalaCCodeExpression*) _tmp87_);
							_bala_ccode_node_unref0 (_tmp86_);
							_bala_ccode_node_unref0 (len_call);
						} else {
							{
								gint dim = 0;
								dim = 1;
								{
									gboolean _tmp88_ = FALSE;
									_tmp88_ = TRUE;
									while (TRUE) {
										BalaArrayType* _tmp90_;
										gint _tmp91_;
										gint _tmp92_;
										BalaCCodeFunction* _tmp93_;
										BalaCCodeFunction* _tmp94_;
										BalaTargetValue* _tmp95_;
										BalaCCodeExpression* _tmp96_;
										BalaCCodeExpression* _tmp97_;
										BalaCCodeConstant* _tmp98_;
										BalaCCodeConstant* _tmp99_;
										if (!_tmp88_) {
											gint _tmp89_;
											_tmp89_ = dim;
											dim = _tmp89_ + 1;
										}
										_tmp88_ = FALSE;
										_tmp90_ = array_type;
										_tmp91_ = bala_array_type_get_rank (_tmp90_);
										_tmp92_ = _tmp91_;
										if (!(dim <= _tmp92_)) {
											break;
										}
										_tmp93_ = bala_ccode_base_module_get_ccode (self);
										_tmp94_ = _tmp93_;
										_tmp95_ = field_value;
										_tmp96_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp95_, dim);
										_tmp97_ = _tmp96_;
										_tmp98_ = bala_ccode_constant_new ("-1");
										_tmp99_ = _tmp98_;
										bala_ccode_function_add_assignment (_tmp94_, _tmp97_, (BalaCCodeExpression*) _tmp99_);
										_bala_ccode_node_unref0 (_tmp99_);
										_bala_ccode_node_unref0 (_tmp97_);
									}
								}
							}
						}
					}
					_tmp101_ = array_type;
					_tmp102_ = bala_array_type_get_rank (_tmp101_);
					_tmp103_ = _tmp102_;
					if (_tmp103_ == 1) {
						_tmp100_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
					} else {
						_tmp100_ = FALSE;
					}
					if (_tmp100_) {
						BalaCCodeExpression* lhs_array_size = NULL;
						BalaTargetValue* _tmp104_;
						BalaCCodeExpression* _tmp105_;
						BalaCCodeExpression* _tmp106_;
						BalaCCodeExpression* rhs_array_len = NULL;
						BalaTargetValue* _tmp107_;
						BalaCCodeExpression* _tmp108_;
						BalaCCodeFunction* _tmp109_;
						BalaCCodeFunction* _tmp110_;
						BalaCCodeExpression* _tmp111_;
						BalaCCodeExpression* _tmp112_;
						_tmp104_ = field_value;
						_tmp105_ = bala_get_array_size_cvalue (_tmp104_);
						_tmp106_ = _bala_ccode_node_ref0 (_tmp105_);
						lhs_array_size = _tmp106_;
						_tmp107_ = field_value;
						_tmp108_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp107_, 1);
						rhs_array_len = _tmp108_;
						_tmp109_ = bala_ccode_base_module_get_ccode (self);
						_tmp110_ = _tmp109_;
						_tmp111_ = lhs_array_size;
						_tmp112_ = rhs_array_len;
						bala_ccode_function_add_assignment (_tmp110_, _tmp111_, _tmp112_);
						_bala_ccode_node_unref0 (rhs_array_len);
						_bala_ccode_node_unref0 (lhs_array_size);
					}
					_bala_target_value_unref0 (glib_value);
					_bala_target_value_unref0 (field_value);
					_bala_code_node_unref0 (array_type);
				} else {
					if (bala_get_ccode_delegate_target ((BalaCodeNode*) f)) {
						BalaDelegateType* delegate_type = NULL;
						BalaDataType* _tmp113_;
						BalaDataType* _tmp114_;
						BalaDelegateType* _tmp115_;
						BalaDelegateType* _tmp116_;
						BalaDelegate* _tmp117_;
						BalaDelegate* _tmp118_;
						gboolean _tmp119_;
						gboolean _tmp120_;
						_tmp113_ = bala_variable_get_variable_type ((BalaVariable*) f);
						_tmp114_ = _tmp113_;
						_tmp115_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp114_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
						delegate_type = _tmp115_;
						_tmp116_ = delegate_type;
						_tmp117_ = bala_delegate_type_get_delegate_symbol (_tmp116_);
						_tmp118_ = _tmp117_;
						_tmp119_ = bala_delegate_get_has_target (_tmp118_);
						_tmp120_ = _tmp119_;
						if (_tmp120_) {
							BalaTargetValue* field_value = NULL;
							BalaSymbol* _tmp121_;
							BalaSymbol* _tmp122_;
							BalaTargetValue* _tmp123_;
							BalaTargetValue* _tmp124_;
							BalaTargetValue* _tmp125_;
							BalaTargetValue* _tmp126_;
							BalaCCodeFunction* _tmp127_;
							BalaCCodeFunction* _tmp128_;
							BalaTargetValue* _tmp129_;
							BalaCCodeExpression* _tmp130_;
							BalaCCodeExpression* _tmp131_;
							BalaCCodeIdentifier* _tmp132_;
							BalaCCodeIdentifier* _tmp133_;
							BalaDelegateType* _tmp134_;
							_tmp121_ = bala_symbol_get_parent_symbol ((BalaSymbol*) f);
							_tmp122_ = _tmp121_;
							_tmp123_ = bala_ccode_base_module_load_this_parameter (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp122_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
							_tmp124_ = _tmp123_;
							_tmp125_ = bala_ccode_base_module_get_field_cvalue (self, f, _tmp124_);
							_tmp126_ = _tmp125_;
							_bala_target_value_unref0 (_tmp124_);
							field_value = _tmp126_;
							_tmp127_ = bala_ccode_base_module_get_ccode (self);
							_tmp128_ = _tmp127_;
							_tmp129_ = field_value;
							_tmp130_ = bala_ccode_base_module_get_delegate_target_cvalue (self, _tmp129_);
							_tmp131_ = _tmp130_;
							_tmp132_ = bala_ccode_identifier_new ("self");
							_tmp133_ = _tmp132_;
							bala_ccode_function_add_assignment (_tmp128_, _tmp131_, (BalaCCodeExpression*) _tmp133_);
							_bala_ccode_node_unref0 (_tmp133_);
							_bala_ccode_node_unref0 (_tmp131_);
							_tmp134_ = delegate_type;
							if (bala_data_type_is_disposable ((BalaDataType*) _tmp134_)) {
								BalaCCodeFunction* _tmp135_;
								BalaCCodeFunction* _tmp136_;
								BalaTargetValue* _tmp137_;
								BalaCCodeExpression* _tmp138_;
								BalaCCodeExpression* _tmp139_;
								BalaCCodeConstant* _tmp140_;
								BalaCCodeConstant* _tmp141_;
								_tmp135_ = bala_ccode_base_module_get_ccode (self);
								_tmp136_ = _tmp135_;
								_tmp137_ = field_value;
								_tmp138_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, _tmp137_);
								_tmp139_ = _tmp138_;
								_tmp140_ = bala_ccode_constant_new ("NULL");
								_tmp141_ = _tmp140_;
								bala_ccode_function_add_assignment (_tmp136_, _tmp139_, (BalaCCodeExpression*) _tmp141_);
								_bala_ccode_node_unref0 (_tmp141_);
								_bala_ccode_node_unref0 (_tmp139_);
							}
							_bala_target_value_unref0 (field_value);
						}
						_bala_code_node_unref0 (delegate_type);
					}
				}
			}
			{
				BalaArrayList* _value_list = NULL;
				BalaArrayList* _tmp142_;
				BalaArrayList* _tmp143_;
				BalaArrayList* _tmp144_;
				gint _value_size = 0;
				BalaArrayList* _tmp145_;
				gint _tmp146_;
				gint _tmp147_;
				gint _value_index = 0;
				_tmp142_ = bala_ccode_base_module_get_temp_ref_values (self);
				_tmp143_ = _tmp142_;
				_tmp144_ = _bala_iterable_ref0 (_tmp143_);
				_value_list = _tmp144_;
				_tmp145_ = _value_list;
				_tmp146_ = bala_collection_get_size ((BalaCollection*) _tmp145_);
				_tmp147_ = _tmp146_;
				_value_size = _tmp147_;
				_value_index = -1;
				while (TRUE) {
					gint _tmp148_;
					gint _tmp149_;
					BalaTargetValue* value = NULL;
					BalaArrayList* _tmp150_;
					gpointer _tmp151_;
					BalaCCodeFunction* _tmp152_;
					BalaCCodeFunction* _tmp153_;
					BalaTargetValue* _tmp154_;
					BalaCCodeExpression* _tmp155_;
					BalaCCodeExpression* _tmp156_;
					_value_index = _value_index + 1;
					_tmp148_ = _value_index;
					_tmp149_ = _value_size;
					if (!(_tmp148_ < _tmp149_)) {
						break;
					}
					_tmp150_ = _value_list;
					_tmp151_ = bala_list_get ((BalaList*) _tmp150_, _value_index);
					value = (BalaTargetValue*) _tmp151_;
					_tmp152_ = bala_ccode_base_module_get_ccode (self);
					_tmp153_ = _tmp152_;
					_tmp154_ = value;
					_tmp155_ = bala_ccode_base_module_destroy_value (self, _tmp154_, FALSE);
					_tmp156_ = _tmp155_;
					bala_ccode_function_add_expression (_tmp153_, _tmp156_);
					_bala_ccode_node_unref0 (_tmp156_);
					_bala_target_value_unref0 (value);
				}
				_bala_iterable_unref0 (_value_list);
			}
			_tmp157_ = bala_ccode_base_module_get_temp_ref_values (self);
			_tmp158_ = _tmp157_;
			bala_collection_clear ((BalaCollection*) _tmp158_);
			bala_ccode_base_module_pop_context (self);
			_bala_ccode_node_unref0 (rhs);
		}
		_tmp162_ = bala_variable_get_variable_type ((BalaVariable*) f);
		_tmp163_ = _tmp162_;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp163_, BALA_TYPE_DELEGATE_TYPE)) {
			_tmp161_ = TRUE;
		} else {
			_tmp161_ = bala_get_ccode_delegate_target ((BalaCodeNode*) f);
		}
		if (_tmp161_) {
			BalaDataType* _tmp164_;
			BalaDataType* _tmp165_;
			_tmp164_ = bala_variable_get_variable_type ((BalaVariable*) f);
			_tmp165_ = _tmp164_;
			_tmp160_ = bala_ccode_base_module_requires_destroy (_tmp165_);
		} else {
			_tmp160_ = FALSE;
		}
		if (_tmp160_) {
			BalaCCodeBaseModuleEmitContext* _tmp166_;
			_tmp166_ = self->instance_finalize_context;
			_tmp159_ = _tmp166_ != NULL;
		} else {
			_tmp159_ = FALSE;
		}
		if (_tmp159_) {
			BalaCCodeBaseModuleEmitContext* _tmp167_;
			BalaCCodeFunction* _tmp168_;
			BalaCCodeFunction* _tmp169_;
			BalaSymbol* _tmp170_;
			BalaSymbol* _tmp171_;
			BalaTargetValue* _tmp172_;
			BalaTargetValue* _tmp173_;
			BalaCCodeExpression* _tmp174_;
			BalaCCodeExpression* _tmp175_;
			_tmp167_ = self->instance_finalize_context;
			bala_ccode_base_module_push_context (self, _tmp167_);
			_tmp168_ = bala_ccode_base_module_get_ccode (self);
			_tmp169_ = _tmp168_;
			_tmp170_ = bala_symbol_get_parent_symbol ((BalaSymbol*) f);
			_tmp171_ = _tmp170_;
			_tmp172_ = bala_ccode_base_module_load_this_parameter (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp171_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
			_tmp173_ = _tmp172_;
			_tmp174_ = bala_ccode_base_module_destroy_field (self, f, _tmp173_);
			_tmp175_ = _tmp174_;
			bala_ccode_function_add_expression (_tmp169_, _tmp175_);
			_bala_ccode_node_unref0 (_tmp175_);
			_bala_target_value_unref0 (_tmp173_);
			bala_ccode_base_module_pop_context (self);
		}
	} else {
		BalaMemberBinding _tmp176_;
		BalaMemberBinding _tmp177_;
		_tmp176_ = bala_field_get_binding (f);
		_tmp177_ = _tmp176_;
		if (_tmp177_ == BALA_MEMBER_BINDING_CLASS) {
			BalaSymbolAccessibility _tmp178_;
			BalaSymbolAccessibility _tmp179_;
			BalaExpression* _tmp199_;
			BalaExpression* _tmp200_;
			_tmp178_ = bala_symbol_get_access ((BalaSymbol*) f);
			_tmp179_ = _tmp178_;
			if (_tmp179_ == BALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
				BalaCCodeFunctionCall* ccall = NULL;
				BalaClass* _tmp180_;
				gchar* _tmp181_;
				gchar* _tmp182_;
				BalaCCodeIdentifier* _tmp183_;
				BalaCCodeIdentifier* _tmp184_;
				BalaCCodeFunctionCall* _tmp185_;
				BalaCCodeFunctionCall* _tmp186_;
				BalaCCodeFunctionCall* _tmp187_;
				BalaCCodeIdentifier* _tmp188_;
				BalaCCodeIdentifier* _tmp189_;
				BalaCCodeFunctionCall* _tmp190_;
				gchar* _tmp191_;
				gchar* _tmp192_;
				BalaCCodeMemberAccess* _tmp193_;
				_tmp180_ = cl;
				_tmp181_ = bala_get_ccode_class_get_private_function (_tmp180_);
				_tmp182_ = _tmp181_;
				_tmp183_ = bala_ccode_identifier_new (_tmp182_);
				_tmp184_ = _tmp183_;
				_tmp185_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp184_);
				_tmp186_ = _tmp185_;
				_bala_ccode_node_unref0 (_tmp184_);
				_g_free0 (_tmp182_);
				ccall = _tmp186_;
				_tmp187_ = ccall;
				_tmp188_ = bala_ccode_identifier_new ("klass");
				_tmp189_ = _tmp188_;
				bala_ccode_function_call_add_argument (_tmp187_, (BalaCCodeExpression*) _tmp189_);
				_bala_ccode_node_unref0 (_tmp189_);
				_tmp190_ = ccall;
				_tmp191_ = bala_get_ccode_name ((BalaCodeNode*) f);
				_tmp192_ = _tmp191_;
				_tmp193_ = bala_ccode_member_access_new ((BalaCCodeExpression*) _tmp190_, _tmp192_, TRUE);
				_bala_ccode_node_unref0 (lhs);
				lhs = (BalaCCodeExpression*) _tmp193_;
				_g_free0 (_tmp192_);
				_bala_ccode_node_unref0 (ccall);
			} else {
				BalaCCodeIdentifier* _tmp194_;
				BalaCCodeIdentifier* _tmp195_;
				gchar* _tmp196_;
				gchar* _tmp197_;
				BalaCCodeMemberAccess* _tmp198_;
				_tmp194_ = bala_ccode_identifier_new ("klass");
				_tmp195_ = _tmp194_;
				_tmp196_ = bala_get_ccode_name ((BalaCodeNode*) f);
				_tmp197_ = _tmp196_;
				_tmp198_ = bala_ccode_member_access_new ((BalaCCodeExpression*) _tmp195_, _tmp197_, TRUE);
				_bala_ccode_node_unref0 (lhs);
				lhs = (BalaCCodeExpression*) _tmp198_;
				_g_free0 (_tmp197_);
				_bala_ccode_node_unref0 (_tmp195_);
			}
			_tmp199_ = bala_variable_get_initializer ((BalaVariable*) f);
			_tmp200_ = _tmp199_;
			if (_tmp200_ != NULL) {
				BalaCCodeBaseModuleEmitContext* _tmp201_;
				BalaExpression* _tmp202_;
				BalaExpression* _tmp203_;
				BalaCCodeExpression* rhs = NULL;
				BalaExpression* _tmp204_;
				BalaExpression* _tmp205_;
				BalaCCodeExpression* _tmp206_;
				BalaCCodeExpression* _tmp207_;
				BalaCCodeFunction* _tmp208_;
				BalaCCodeFunction* _tmp209_;
				BalaCCodeExpression* _tmp210_;
				BalaCCodeExpression* _tmp211_;
				BalaArrayList* _tmp227_;
				BalaArrayList* _tmp228_;
				_tmp201_ = self->class_init_context;
				bala_ccode_base_module_push_context (self, _tmp201_);
				_tmp202_ = bala_variable_get_initializer ((BalaVariable*) f);
				_tmp203_ = _tmp202_;
				bala_code_node_emit ((BalaCodeNode*) _tmp203_, (BalaCodeGenerator*) self);
				_tmp204_ = bala_variable_get_initializer ((BalaVariable*) f);
				_tmp205_ = _tmp204_;
				_tmp206_ = bala_get_cvalue (_tmp205_);
				_tmp207_ = _bala_ccode_node_ref0 (_tmp206_);
				rhs = _tmp207_;
				_tmp208_ = bala_ccode_base_module_get_ccode (self);
				_tmp209_ = _tmp208_;
				_tmp210_ = lhs;
				_tmp211_ = rhs;
				bala_ccode_function_add_assignment (_tmp209_, _tmp210_, _tmp211_);
				{
					BalaArrayList* _value_list = NULL;
					BalaArrayList* _tmp212_;
					BalaArrayList* _tmp213_;
					BalaArrayList* _tmp214_;
					gint _value_size = 0;
					BalaArrayList* _tmp215_;
					gint _tmp216_;
					gint _tmp217_;
					gint _value_index = 0;
					_tmp212_ = bala_ccode_base_module_get_temp_ref_values (self);
					_tmp213_ = _tmp212_;
					_tmp214_ = _bala_iterable_ref0 (_tmp213_);
					_value_list = _tmp214_;
					_tmp215_ = _value_list;
					_tmp216_ = bala_collection_get_size ((BalaCollection*) _tmp215_);
					_tmp217_ = _tmp216_;
					_value_size = _tmp217_;
					_value_index = -1;
					while (TRUE) {
						gint _tmp218_;
						gint _tmp219_;
						BalaTargetValue* value = NULL;
						BalaArrayList* _tmp220_;
						gpointer _tmp221_;
						BalaCCodeFunction* _tmp222_;
						BalaCCodeFunction* _tmp223_;
						BalaTargetValue* _tmp224_;
						BalaCCodeExpression* _tmp225_;
						BalaCCodeExpression* _tmp226_;
						_value_index = _value_index + 1;
						_tmp218_ = _value_index;
						_tmp219_ = _value_size;
						if (!(_tmp218_ < _tmp219_)) {
							break;
						}
						_tmp220_ = _value_list;
						_tmp221_ = bala_list_get ((BalaList*) _tmp220_, _value_index);
						value = (BalaTargetValue*) _tmp221_;
						_tmp222_ = bala_ccode_base_module_get_ccode (self);
						_tmp223_ = _tmp222_;
						_tmp224_ = value;
						_tmp225_ = bala_ccode_base_module_destroy_value (self, _tmp224_, FALSE);
						_tmp226_ = _tmp225_;
						bala_ccode_function_add_expression (_tmp223_, _tmp226_);
						_bala_ccode_node_unref0 (_tmp226_);
						_bala_target_value_unref0 (value);
					}
					_bala_iterable_unref0 (_value_list);
				}
				_tmp227_ = bala_ccode_base_module_get_temp_ref_values (self);
				_tmp228_ = _tmp227_;
				bala_collection_clear ((BalaCollection*) _tmp228_);
				bala_ccode_base_module_pop_context (self);
				_bala_ccode_node_unref0 (rhs);
			}
		} else {
			BalaCCodeFile* _tmp229_;
			gboolean _tmp232_;
			gboolean _tmp233_;
			_tmp229_ = self->cfile;
			bala_ccode_base_module_generate_field_declaration (self, f, _tmp229_);
			if (!bala_symbol_is_internal_symbol ((BalaSymbol*) f)) {
				BalaCCodeFile* _tmp230_;
				_tmp230_ = self->header_file;
				bala_ccode_base_module_generate_field_declaration (self, f, _tmp230_);
			}
			if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
				BalaCCodeFile* _tmp231_;
				_tmp231_ = self->internal_header_file;
				bala_ccode_base_module_generate_field_declaration (self, f, _tmp231_);
			}
			_tmp232_ = bala_symbol_get_external ((BalaSymbol*) f);
			_tmp233_ = _tmp232_;
			if (!_tmp233_) {
				gchar* _tmp234_;
				gchar* _tmp235_;
				BalaCCodeIdentifier* _tmp236_;
				BalaCCodeVariableDeclarator* var_decl = NULL;
				gchar* _tmp237_;
				gchar* _tmp238_;
				BalaDataType* _tmp239_;
				BalaDataType* _tmp240_;
				BalaCCodeDeclaratorSuffix* _tmp241_;
				BalaCCodeDeclaratorSuffix* _tmp242_;
				BalaCCodeVariableDeclarator* _tmp243_;
				BalaCCodeVariableDeclarator* _tmp244_;
				BalaCCodeVariableDeclarator* _tmp245_;
				BalaDataType* _tmp246_;
				BalaDataType* _tmp247_;
				BalaCCodeExpression* _tmp248_;
				BalaCCodeExpression* _tmp249_;
				BalaCCodeBaseModuleEmitContext* _tmp250_;
				BalaExpression* _tmp254_;
				BalaExpression* _tmp255_;
				BalaCCodeDeclaration* var_def = NULL;
				BalaDataType* _tmp265_;
				BalaDataType* _tmp266_;
				gchar* _tmp267_;
				gchar* _tmp268_;
				BalaCCodeDeclaration* _tmp269_;
				BalaCCodeDeclaration* _tmp270_;
				BalaCCodeDeclaration* _tmp271_;
				BalaCCodeVariableDeclarator* _tmp272_;
				BalaVersionAttribute* _tmp275_;
				BalaVersionAttribute* _tmp276_;
				gboolean _tmp277_;
				gboolean _tmp278_;
				gboolean _tmp283_;
				gboolean _tmp284_;
				BalaCCodeFile* _tmp289_;
				BalaCCodeDeclaration* _tmp290_;
				gboolean _tmp291_ = FALSE;
				BalaDataType* _tmp292_;
				BalaDataType* _tmp293_;
				BalaExpression* _tmp378_;
				BalaExpression* _tmp379_;
				_tmp234_ = bala_get_ccode_name ((BalaCodeNode*) f);
				_tmp235_ = _tmp234_;
				_tmp236_ = bala_ccode_identifier_new (_tmp235_);
				_bala_ccode_node_unref0 (lhs);
				lhs = (BalaCCodeExpression*) _tmp236_;
				_g_free0 (_tmp235_);
				_tmp237_ = bala_get_ccode_name ((BalaCodeNode*) f);
				_tmp238_ = _tmp237_;
				_tmp239_ = bala_variable_get_variable_type ((BalaVariable*) f);
				_tmp240_ = _tmp239_;
				_tmp241_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp240_);
				_tmp242_ = _tmp241_;
				_tmp243_ = bala_ccode_variable_declarator_new (_tmp238_, NULL, _tmp242_);
				_tmp244_ = _tmp243_;
				_bala_ccode_declarator_suffix_unref0 (_tmp242_);
				_g_free0 (_tmp238_);
				var_decl = _tmp244_;
				_tmp245_ = var_decl;
				_tmp246_ = bala_variable_get_variable_type ((BalaVariable*) f);
				_tmp247_ = _tmp246_;
				_tmp248_ = bala_ccode_base_module_default_value_for_type (self, _tmp247_, TRUE, FALSE);
				_tmp249_ = _tmp248_;
				bala_ccode_variable_declarator_set_initializer (_tmp245_, _tmp249_);
				_bala_ccode_node_unref0 (_tmp249_);
				_tmp250_ = self->class_init_context;
				if (_tmp250_ != NULL) {
					BalaCCodeBaseModuleEmitContext* _tmp251_;
					_tmp251_ = self->class_init_context;
					bala_ccode_base_module_push_context (self, _tmp251_);
				} else {
					BalaCCodeBaseModuleEmitContext* _tmp252_;
					BalaCCodeBaseModuleEmitContext* _tmp253_;
					_tmp252_ = bala_ccode_base_module_emit_context_new (NULL);
					_tmp253_ = _tmp252_;
					bala_ccode_base_module_push_context (self, _tmp253_);
					_bala_ccode_base_module_emit_context_unref0 (_tmp253_);
				}
				_tmp254_ = bala_variable_get_initializer ((BalaVariable*) f);
				_tmp255_ = _tmp254_;
				if (_tmp255_ != NULL) {
					BalaExpression* _tmp256_;
					BalaExpression* _tmp257_;
					BalaCCodeExpression* init = NULL;
					BalaExpression* _tmp258_;
					BalaExpression* _tmp259_;
					BalaCCodeExpression* _tmp260_;
					BalaCCodeExpression* _tmp261_;
					BalaCCodeExpression* _tmp262_;
					_tmp256_ = bala_variable_get_initializer ((BalaVariable*) f);
					_tmp257_ = _tmp256_;
					bala_code_node_emit ((BalaCodeNode*) _tmp257_, (BalaCodeGenerator*) self);
					_tmp258_ = bala_variable_get_initializer ((BalaVariable*) f);
					_tmp259_ = _tmp258_;
					_tmp260_ = bala_get_cvalue (_tmp259_);
					_tmp261_ = _bala_ccode_node_ref0 (_tmp260_);
					init = _tmp261_;
					_tmp262_ = init;
					if (bala_ccode_base_module_is_constant_ccode_expression (_tmp262_)) {
						BalaCCodeVariableDeclarator* _tmp263_;
						BalaCCodeExpression* _tmp264_;
						_tmp263_ = var_decl;
						_tmp264_ = init;
						bala_ccode_variable_declarator_set_initializer (_tmp263_, _tmp264_);
					}
					_bala_ccode_node_unref0 (init);
				}
				_tmp265_ = bala_variable_get_variable_type ((BalaVariable*) f);
				_tmp266_ = _tmp265_;
				_tmp267_ = bala_get_ccode_name ((BalaCodeNode*) _tmp266_);
				_tmp268_ = _tmp267_;
				_tmp269_ = bala_ccode_declaration_new (_tmp268_);
				_tmp270_ = _tmp269_;
				_g_free0 (_tmp268_);
				var_def = _tmp270_;
				_tmp271_ = var_def;
				_tmp272_ = var_decl;
				bala_ccode_declaration_add_declarator (_tmp271_, (BalaCCodeDeclarator*) _tmp272_);
				if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
					BalaCCodeDeclaration* _tmp273_;
					_tmp273_ = var_def;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp273_, BALA_CCODE_MODIFIERS_EXTERN);
				} else {
					BalaCCodeDeclaration* _tmp274_;
					_tmp274_ = var_def;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp274_, BALA_CCODE_MODIFIERS_STATIC);
				}
				_tmp275_ = bala_symbol_get_version ((BalaSymbol*) f);
				_tmp276_ = _tmp275_;
				_tmp277_ = bala_version_attribute_get_deprecated (_tmp276_);
				_tmp278_ = _tmp277_;
				if (_tmp278_) {
					BalaCCodeDeclaration* _tmp279_;
					BalaCCodeDeclaration* _tmp280_;
					BalaCCodeModifiers _tmp281_;
					BalaCCodeModifiers _tmp282_;
					_tmp279_ = var_def;
					_tmp280_ = var_def;
					_tmp281_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp280_);
					_tmp282_ = _tmp281_;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp280_, _tmp282_ | BALA_CCODE_MODIFIERS_DEPRECATED);
				}
				_tmp283_ = bala_field_get_is_volatile (f);
				_tmp284_ = _tmp283_;
				if (_tmp284_) {
					BalaCCodeDeclaration* _tmp285_;
					BalaCCodeDeclaration* _tmp286_;
					BalaCCodeModifiers _tmp287_;
					BalaCCodeModifiers _tmp288_;
					_tmp285_ = var_def;
					_tmp286_ = var_def;
					_tmp287_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp286_);
					_tmp288_ = _tmp287_;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp286_, _tmp288_ | BALA_CCODE_MODIFIERS_VOLATILE);
				}
				_tmp289_ = self->cfile;
				_tmp290_ = var_def;
				bala_ccode_file_add_type_member_declaration (_tmp289_, (BalaCCodeNode*) _tmp290_);
				_tmp292_ = bala_variable_get_variable_type ((BalaVariable*) f);
				_tmp293_ = _tmp292_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp293_, BALA_TYPE_ARRAY_TYPE)) {
					_tmp291_ = bala_get_ccode_array_length ((BalaCodeNode*) f);
				} else {
					_tmp291_ = FALSE;
				}
				if (_tmp291_) {
					BalaArrayType* array_type = NULL;
					BalaDataType* _tmp294_;
					BalaDataType* _tmp295_;
					BalaArrayType* _tmp296_;
					BalaArrayType* _tmp297_;
					gboolean _tmp298_;
					gboolean _tmp299_;
					_tmp294_ = bala_variable_get_variable_type ((BalaVariable*) f);
					_tmp295_ = _tmp294_;
					_tmp296_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp295_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
					array_type = _tmp296_;
					_tmp297_ = array_type;
					_tmp298_ = bala_array_type_get_fixed_length (_tmp297_);
					_tmp299_ = _tmp298_;
					if (!_tmp299_) {
						gchar* length_ctype = NULL;
						gchar* _tmp300_;
						gboolean _tmp319_ = FALSE;
						BalaArrayType* _tmp320_;
						gint _tmp321_;
						gint _tmp322_;
						_tmp300_ = bala_get_ccode_array_length_type ((BalaCodeNode*) f);
						length_ctype = _tmp300_;
						{
							gint dim = 0;
							dim = 1;
							{
								gboolean _tmp301_ = FALSE;
								_tmp301_ = TRUE;
								while (TRUE) {
									BalaArrayType* _tmp303_;
									gint _tmp304_;
									gint _tmp305_;
									BalaCCodeDeclaration* len_def = NULL;
									const gchar* _tmp306_;
									BalaCCodeDeclaration* _tmp307_;
									BalaCCodeDeclaration* _tmp308_;
									gchar* _tmp309_;
									gchar* _tmp310_;
									BalaCCodeConstant* _tmp311_;
									BalaCCodeConstant* _tmp312_;
									BalaCCodeVariableDeclarator* _tmp313_;
									BalaCCodeVariableDeclarator* _tmp314_;
									BalaCCodeFile* _tmp317_;
									BalaCCodeDeclaration* _tmp318_;
									if (!_tmp301_) {
										gint _tmp302_;
										_tmp302_ = dim;
										dim = _tmp302_ + 1;
									}
									_tmp301_ = FALSE;
									_tmp303_ = array_type;
									_tmp304_ = bala_array_type_get_rank (_tmp303_);
									_tmp305_ = _tmp304_;
									if (!(dim <= _tmp305_)) {
										break;
									}
									_tmp306_ = length_ctype;
									_tmp307_ = bala_ccode_declaration_new (_tmp306_);
									len_def = _tmp307_;
									_tmp308_ = len_def;
									_tmp309_ = bala_ccode_base_module_get_variable_array_length_cname (self, (BalaVariable*) f, dim);
									_tmp310_ = _tmp309_;
									_tmp311_ = bala_ccode_constant_new ("0");
									_tmp312_ = _tmp311_;
									_tmp313_ = bala_ccode_variable_declarator_new (_tmp310_, (BalaCCodeExpression*) _tmp312_, NULL);
									_tmp314_ = _tmp313_;
									bala_ccode_declaration_add_declarator (_tmp308_, (BalaCCodeDeclarator*) _tmp314_);
									_bala_ccode_node_unref0 (_tmp314_);
									_bala_ccode_node_unref0 (_tmp312_);
									_g_free0 (_tmp310_);
									if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
										BalaCCodeDeclaration* _tmp315_;
										_tmp315_ = len_def;
										bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp315_, BALA_CCODE_MODIFIERS_EXTERN);
									} else {
										BalaCCodeDeclaration* _tmp316_;
										_tmp316_ = len_def;
										bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp316_, BALA_CCODE_MODIFIERS_STATIC);
									}
									_tmp317_ = self->cfile;
									_tmp318_ = len_def;
									bala_ccode_file_add_type_member_declaration (_tmp317_, (BalaCCodeNode*) _tmp318_);
									_bala_ccode_node_unref0 (len_def);
								}
							}
						}
						_tmp320_ = array_type;
						_tmp321_ = bala_array_type_get_rank (_tmp320_);
						_tmp322_ = _tmp321_;
						if (_tmp322_ == 1) {
							_tmp319_ = bala_symbol_is_internal_symbol ((BalaSymbol*) f);
						} else {
							_tmp319_ = FALSE;
						}
						if (_tmp319_) {
							BalaCCodeDeclaration* _cdecl_ = NULL;
							const gchar* _tmp323_;
							BalaCCodeDeclaration* _tmp324_;
							BalaCCodeDeclaration* _tmp325_;
							gchar* _tmp326_;
							gchar* _tmp327_;
							gchar* _tmp328_;
							gchar* _tmp329_;
							BalaCCodeConstant* _tmp330_;
							BalaCCodeConstant* _tmp331_;
							BalaCCodeVariableDeclarator* _tmp332_;
							BalaCCodeVariableDeclarator* _tmp333_;
							BalaCCodeDeclaration* _tmp334_;
							BalaCCodeFile* _tmp335_;
							BalaCCodeDeclaration* _tmp336_;
							_tmp323_ = length_ctype;
							_tmp324_ = bala_ccode_declaration_new (_tmp323_);
							_cdecl_ = _tmp324_;
							_tmp325_ = _cdecl_;
							_tmp326_ = bala_get_ccode_name ((BalaCodeNode*) f);
							_tmp327_ = _tmp326_;
							_tmp328_ = bala_ccode_base_module_get_array_size_cname (self, _tmp327_);
							_tmp329_ = _tmp328_;
							_tmp330_ = bala_ccode_constant_new ("0");
							_tmp331_ = _tmp330_;
							_tmp332_ = bala_ccode_variable_declarator_new (_tmp329_, (BalaCCodeExpression*) _tmp331_, NULL);
							_tmp333_ = _tmp332_;
							bala_ccode_declaration_add_declarator (_tmp325_, (BalaCCodeDeclarator*) _tmp333_);
							_bala_ccode_node_unref0 (_tmp333_);
							_bala_ccode_node_unref0 (_tmp331_);
							_g_free0 (_tmp329_);
							_g_free0 (_tmp327_);
							_tmp334_ = _cdecl_;
							bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp334_, BALA_CCODE_MODIFIERS_STATIC);
							_tmp335_ = self->cfile;
							_tmp336_ = _cdecl_;
							bala_ccode_file_add_type_member_declaration (_tmp335_, (BalaCCodeNode*) _tmp336_);
							_bala_ccode_node_unref0 (_cdecl_);
						}
						_g_free0 (length_ctype);
					}
					_bala_code_node_unref0 (array_type);
				} else {
					if (bala_get_ccode_delegate_target ((BalaCodeNode*) f)) {
						BalaDelegateType* delegate_type = NULL;
						BalaDataType* _tmp337_;
						BalaDataType* _tmp338_;
						BalaDelegateType* _tmp339_;
						BalaDelegateType* _tmp340_;
						BalaDelegate* _tmp341_;
						BalaDelegate* _tmp342_;
						gboolean _tmp343_;
						gboolean _tmp344_;
						_tmp337_ = bala_variable_get_variable_type ((BalaVariable*) f);
						_tmp338_ = _tmp337_;
						_tmp339_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp338_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
						delegate_type = _tmp339_;
						_tmp340_ = delegate_type;
						_tmp341_ = bala_delegate_type_get_delegate_symbol (_tmp340_);
						_tmp342_ = _tmp341_;
						_tmp343_ = bala_delegate_get_has_target (_tmp342_);
						_tmp344_ = _tmp343_;
						if (_tmp344_) {
							BalaCCodeDeclaration* target_def = NULL;
							BalaDataType* _tmp345_;
							gchar* _tmp346_;
							gchar* _tmp347_;
							BalaCCodeDeclaration* _tmp348_;
							BalaCCodeDeclaration* _tmp349_;
							BalaCCodeDeclaration* _tmp350_;
							gchar* _tmp351_;
							gchar* _tmp352_;
							BalaCCodeConstant* _tmp353_;
							BalaCCodeConstant* _tmp354_;
							BalaCCodeVariableDeclarator* _tmp355_;
							BalaCCodeVariableDeclarator* _tmp356_;
							BalaCCodeFile* _tmp359_;
							BalaCCodeDeclaration* _tmp360_;
							BalaDelegateType* _tmp361_;
							_tmp345_ = self->delegate_target_type;
							_tmp346_ = bala_get_ccode_name ((BalaCodeNode*) _tmp345_);
							_tmp347_ = _tmp346_;
							_tmp348_ = bala_ccode_declaration_new (_tmp347_);
							_tmp349_ = _tmp348_;
							_g_free0 (_tmp347_);
							target_def = _tmp349_;
							_tmp350_ = target_def;
							_tmp351_ = bala_get_ccode_delegate_target_name ((BalaVariable*) f);
							_tmp352_ = _tmp351_;
							_tmp353_ = bala_ccode_constant_new ("NULL");
							_tmp354_ = _tmp353_;
							_tmp355_ = bala_ccode_variable_declarator_new (_tmp352_, (BalaCCodeExpression*) _tmp354_, NULL);
							_tmp356_ = _tmp355_;
							bala_ccode_declaration_add_declarator (_tmp350_, (BalaCCodeDeclarator*) _tmp356_);
							_bala_ccode_node_unref0 (_tmp356_);
							_bala_ccode_node_unref0 (_tmp354_);
							_g_free0 (_tmp352_);
							if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
								BalaCCodeDeclaration* _tmp357_;
								_tmp357_ = target_def;
								bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp357_, BALA_CCODE_MODIFIERS_EXTERN);
							} else {
								BalaCCodeDeclaration* _tmp358_;
								_tmp358_ = target_def;
								bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp358_, BALA_CCODE_MODIFIERS_STATIC);
							}
							_tmp359_ = self->cfile;
							_tmp360_ = target_def;
							bala_ccode_file_add_type_member_declaration (_tmp359_, (BalaCCodeNode*) _tmp360_);
							_tmp361_ = delegate_type;
							if (bala_data_type_is_disposable ((BalaDataType*) _tmp361_)) {
								BalaCCodeDeclaration* target_destroy_notify_def = NULL;
								BalaDelegateType* _tmp362_;
								gchar* _tmp363_;
								gchar* _tmp364_;
								BalaCCodeDeclaration* _tmp365_;
								BalaCCodeDeclaration* _tmp366_;
								BalaCCodeDeclaration* _tmp367_;
								gchar* _tmp368_;
								gchar* _tmp369_;
								BalaCCodeConstant* _tmp370_;
								BalaCCodeConstant* _tmp371_;
								BalaCCodeVariableDeclarator* _tmp372_;
								BalaCCodeVariableDeclarator* _tmp373_;
								BalaCCodeFile* _tmp376_;
								BalaCCodeDeclaration* _tmp377_;
								_tmp362_ = self->delegate_target_destroy_type;
								_tmp363_ = bala_get_ccode_name ((BalaCodeNode*) _tmp362_);
								_tmp364_ = _tmp363_;
								_tmp365_ = bala_ccode_declaration_new (_tmp364_);
								_tmp366_ = _tmp365_;
								_g_free0 (_tmp364_);
								target_destroy_notify_def = _tmp366_;
								_tmp367_ = target_destroy_notify_def;
								_tmp368_ = bala_get_ccode_delegate_target_destroy_notify_name ((BalaVariable*) f);
								_tmp369_ = _tmp368_;
								_tmp370_ = bala_ccode_constant_new ("NULL");
								_tmp371_ = _tmp370_;
								_tmp372_ = bala_ccode_variable_declarator_new (_tmp369_, (BalaCCodeExpression*) _tmp371_, NULL);
								_tmp373_ = _tmp372_;
								bala_ccode_declaration_add_declarator (_tmp367_, (BalaCCodeDeclarator*) _tmp373_);
								_bala_ccode_node_unref0 (_tmp373_);
								_bala_ccode_node_unref0 (_tmp371_);
								_g_free0 (_tmp369_);
								if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
									BalaCCodeDeclaration* _tmp374_;
									_tmp374_ = target_destroy_notify_def;
									bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp374_, BALA_CCODE_MODIFIERS_EXTERN);
								} else {
									BalaCCodeDeclaration* _tmp375_;
									_tmp375_ = target_destroy_notify_def;
									bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp375_, BALA_CCODE_MODIFIERS_STATIC);
								}
								_tmp376_ = self->cfile;
								_tmp377_ = target_destroy_notify_def;
								bala_ccode_file_add_type_member_declaration (_tmp376_, (BalaCCodeNode*) _tmp377_);
								_bala_ccode_node_unref0 (target_destroy_notify_def);
							}
							_bala_ccode_node_unref0 (target_def);
						}
						_bala_code_node_unref0 (delegate_type);
					}
				}
				_tmp378_ = bala_variable_get_initializer ((BalaVariable*) f);
				_tmp379_ = _tmp378_;
				if (_tmp379_ != NULL) {
					BalaCCodeExpression* rhs = NULL;
					BalaExpression* _tmp380_;
					BalaExpression* _tmp381_;
					BalaCCodeExpression* _tmp382_;
					BalaCCodeExpression* _tmp383_;
					BalaCCodeExpression* _tmp384_;
					_tmp380_ = bala_variable_get_initializer ((BalaVariable*) f);
					_tmp381_ = _tmp380_;
					_tmp382_ = bala_get_cvalue (_tmp381_);
					_tmp383_ = _bala_ccode_node_ref0 (_tmp382_);
					rhs = _tmp383_;
					_tmp384_ = rhs;
					if (!bala_ccode_base_module_is_constant_ccode_expression (_tmp384_)) {
						if (is_gtypeinstance) {
							BalaExpression* _tmp385_;
							BalaExpression* _tmp386_;
							gboolean _tmp422_ = FALSE;
							BalaDataType* _tmp423_;
							BalaDataType* _tmp424_;
							_tmp385_ = bala_variable_get_initializer ((BalaVariable*) f);
							_tmp386_ = _tmp385_;
							if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp386_, BALA_TYPE_INITIALIZER_LIST)) {
								BalaCCodeFunction* _tmp387_;
								BalaCCodeFunction* _tmp388_;
								BalaLocalVariable* temp_decl = NULL;
								BalaDataType* _tmp389_;
								BalaDataType* _tmp390_;
								BalaLocalVariable* _tmp391_;
								BalaCCodeVariableDeclarator* vardecl = NULL;
								BalaLocalVariable* _tmp392_;
								const gchar* _tmp393_;
								const gchar* _tmp394_;
								BalaCCodeExpression* _tmp395_;
								BalaCCodeVariableDeclarator* _tmp396_;
								BalaCCodeFunction* _tmp397_;
								BalaCCodeFunction* _tmp398_;
								BalaLocalVariable* _tmp399_;
								BalaDataType* _tmp400_;
								BalaDataType* _tmp401_;
								gchar* _tmp402_;
								gchar* _tmp403_;
								BalaCCodeVariableDeclarator* _tmp404_;
								BalaCCodeExpression* tmp = NULL;
								BalaLocalVariable* _tmp405_;
								const gchar* _tmp406_;
								const gchar* _tmp407_;
								gchar* _tmp408_;
								gchar* _tmp409_;
								BalaCCodeExpression* _tmp410_;
								BalaCCodeExpression* _tmp411_;
								BalaCCodeFunction* _tmp412_;
								BalaCCodeFunction* _tmp413_;
								BalaCCodeExpression* _tmp414_;
								BalaCCodeExpression* _tmp415_;
								BalaCCodeFunction* _tmp416_;
								BalaCCodeFunction* _tmp417_;
								_tmp387_ = bala_ccode_base_module_get_ccode (self);
								_tmp388_ = _tmp387_;
								bala_ccode_function_open_block (_tmp388_);
								_tmp389_ = bala_variable_get_variable_type ((BalaVariable*) f);
								_tmp390_ = _tmp389_;
								_tmp391_ = bala_ccode_base_module_get_temp_variable (self, _tmp390_, TRUE, NULL, FALSE);
								temp_decl = _tmp391_;
								_tmp392_ = temp_decl;
								_tmp393_ = bala_symbol_get_name ((BalaSymbol*) _tmp392_);
								_tmp394_ = _tmp393_;
								_tmp395_ = rhs;
								_tmp396_ = bala_ccode_variable_declarator_new_zero (_tmp394_, _tmp395_, NULL);
								vardecl = _tmp396_;
								_tmp397_ = bala_ccode_base_module_get_ccode (self);
								_tmp398_ = _tmp397_;
								_tmp399_ = temp_decl;
								_tmp400_ = bala_variable_get_variable_type ((BalaVariable*) _tmp399_);
								_tmp401_ = _tmp400_;
								_tmp402_ = bala_get_ccode_name ((BalaCodeNode*) _tmp401_);
								_tmp403_ = _tmp402_;
								_tmp404_ = vardecl;
								bala_ccode_function_add_declaration (_tmp398_, _tmp403_, (BalaCCodeDeclarator*) _tmp404_, 0);
								_g_free0 (_tmp403_);
								_tmp405_ = temp_decl;
								_tmp406_ = bala_symbol_get_name ((BalaSymbol*) _tmp405_);
								_tmp407_ = _tmp406_;
								_tmp408_ = bala_ccode_base_module_get_variable_cname (self, _tmp407_);
								_tmp409_ = _tmp408_;
								_tmp410_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp409_);
								_tmp411_ = _tmp410_;
								_g_free0 (_tmp409_);
								tmp = _tmp411_;
								_tmp412_ = bala_ccode_base_module_get_ccode (self);
								_tmp413_ = _tmp412_;
								_tmp414_ = lhs;
								_tmp415_ = tmp;
								bala_ccode_function_add_assignment (_tmp413_, _tmp414_, _tmp415_);
								_tmp416_ = bala_ccode_base_module_get_ccode (self);
								_tmp417_ = _tmp416_;
								bala_ccode_function_close (_tmp417_);
								_bala_ccode_node_unref0 (tmp);
								_bala_ccode_node_unref0 (vardecl);
								_bala_code_node_unref0 (temp_decl);
							} else {
								BalaCCodeFunction* _tmp418_;
								BalaCCodeFunction* _tmp419_;
								BalaCCodeExpression* _tmp420_;
								BalaCCodeExpression* _tmp421_;
								_tmp418_ = bala_ccode_base_module_get_ccode (self);
								_tmp419_ = _tmp418_;
								_tmp420_ = lhs;
								_tmp421_ = rhs;
								bala_ccode_function_add_assignment (_tmp419_, _tmp420_, _tmp421_);
							}
							_tmp423_ = bala_variable_get_variable_type ((BalaVariable*) f);
							_tmp424_ = _tmp423_;
							if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp424_, BALA_TYPE_ARRAY_TYPE)) {
								_tmp422_ = bala_get_ccode_array_length ((BalaCodeNode*) f);
							} else {
								_tmp422_ = FALSE;
							}
							if (_tmp422_) {
								BalaArrayType* array_type = NULL;
								BalaDataType* _tmp425_;
								BalaDataType* _tmp426_;
								BalaArrayType* _tmp427_;
								BalaTargetValue* field_value = NULL;
								BalaTargetValue* _tmp428_;
								BalaGLibValue* glib_value = NULL;
								BalaExpression* _tmp429_;
								BalaExpression* _tmp430_;
								BalaTargetValue* _tmp431_;
								BalaTargetValue* _tmp432_;
								BalaGLibValue* _tmp433_;
								BalaGLibValue* _tmp434_;
								BalaList* _tmp435_;
								_tmp425_ = bala_variable_get_variable_type ((BalaVariable*) f);
								_tmp426_ = _tmp425_;
								_tmp427_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp426_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
								array_type = _tmp427_;
								_tmp428_ = bala_ccode_base_module_get_field_cvalue (self, f, NULL);
								field_value = _tmp428_;
								_tmp429_ = bala_variable_get_initializer ((BalaVariable*) f);
								_tmp430_ = _tmp429_;
								_tmp431_ = bala_expression_get_target_value (_tmp430_);
								_tmp432_ = _tmp431_;
								_tmp433_ = _bala_target_value_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp432_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
								glib_value = _tmp433_;
								_tmp434_ = glib_value;
								_tmp435_ = _tmp434_->array_length_cvalues;
								if (_tmp435_ != NULL) {
									{
										gint dim = 0;
										dim = 1;
										{
											gboolean _tmp436_ = FALSE;
											_tmp436_ = TRUE;
											while (TRUE) {
												BalaArrayType* _tmp438_;
												gint _tmp439_;
												gint _tmp440_;
												BalaCCodeExpression* array_len_lhs = NULL;
												BalaTargetValue* _tmp441_;
												BalaCCodeExpression* _tmp442_;
												BalaCCodeFunction* _tmp443_;
												BalaCCodeFunction* _tmp444_;
												BalaCCodeExpression* _tmp445_;
												BalaGLibValue* _tmp446_;
												BalaCCodeExpression* _tmp447_;
												BalaCCodeExpression* _tmp448_;
												if (!_tmp436_) {
													gint _tmp437_;
													_tmp437_ = dim;
													dim = _tmp437_ + 1;
												}
												_tmp436_ = FALSE;
												_tmp438_ = array_type;
												_tmp439_ = bala_array_type_get_rank (_tmp438_);
												_tmp440_ = _tmp439_;
												if (!(dim <= _tmp440_)) {
													break;
												}
												_tmp441_ = field_value;
												_tmp442_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp441_, dim);
												array_len_lhs = _tmp442_;
												_tmp443_ = bala_ccode_base_module_get_ccode (self);
												_tmp444_ = _tmp443_;
												_tmp445_ = array_len_lhs;
												_tmp446_ = glib_value;
												_tmp447_ = bala_ccode_base_module_get_array_length_cvalue (self, (BalaTargetValue*) _tmp446_, dim);
												_tmp448_ = _tmp447_;
												bala_ccode_function_add_assignment (_tmp444_, _tmp445_, _tmp448_);
												_bala_ccode_node_unref0 (_tmp448_);
												_bala_ccode_node_unref0 (array_len_lhs);
											}
										}
									}
								} else {
									BalaGLibValue* _tmp449_;
									_tmp449_ = glib_value;
									if (_tmp449_->array_null_terminated) {
										BalaCCodeFunctionCall* len_call = NULL;
										BalaCCodeIdentifier* _tmp450_;
										BalaCCodeIdentifier* _tmp451_;
										BalaCCodeFunctionCall* _tmp452_;
										BalaCCodeFunctionCall* _tmp453_;
										BalaCCodeFunctionCall* _tmp454_;
										BalaGLibValue* _tmp455_;
										BalaCCodeExpression* _tmp456_;
										BalaCCodeFunction* _tmp457_;
										BalaCCodeFunction* _tmp458_;
										BalaTargetValue* _tmp459_;
										BalaCCodeExpression* _tmp460_;
										BalaCCodeExpression* _tmp461_;
										BalaCCodeFunctionCall* _tmp462_;
										self->requires_array_length = TRUE;
										_tmp450_ = bala_ccode_identifier_new ("_bala_array_length");
										_tmp451_ = _tmp450_;
										_tmp452_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp451_);
										_tmp453_ = _tmp452_;
										_bala_ccode_node_unref0 (_tmp451_);
										len_call = _tmp453_;
										_tmp454_ = len_call;
										_tmp455_ = glib_value;
										_tmp456_ = bala_get_cvalue_ ((BalaTargetValue*) _tmp455_);
										bala_ccode_function_call_add_argument (_tmp454_, _tmp456_);
										_tmp457_ = bala_ccode_base_module_get_ccode (self);
										_tmp458_ = _tmp457_;
										_tmp459_ = field_value;
										_tmp460_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp459_, 1);
										_tmp461_ = _tmp460_;
										_tmp462_ = len_call;
										bala_ccode_function_add_assignment (_tmp458_, _tmp461_, (BalaCCodeExpression*) _tmp462_);
										_bala_ccode_node_unref0 (_tmp461_);
										_bala_ccode_node_unref0 (len_call);
									} else {
										{
											gint dim = 0;
											dim = 1;
											{
												gboolean _tmp463_ = FALSE;
												_tmp463_ = TRUE;
												while (TRUE) {
													BalaArrayType* _tmp465_;
													gint _tmp466_;
													gint _tmp467_;
													BalaCCodeFunction* _tmp468_;
													BalaCCodeFunction* _tmp469_;
													BalaTargetValue* _tmp470_;
													BalaCCodeExpression* _tmp471_;
													BalaCCodeExpression* _tmp472_;
													BalaCCodeConstant* _tmp473_;
													BalaCCodeConstant* _tmp474_;
													if (!_tmp463_) {
														gint _tmp464_;
														_tmp464_ = dim;
														dim = _tmp464_ + 1;
													}
													_tmp463_ = FALSE;
													_tmp465_ = array_type;
													_tmp466_ = bala_array_type_get_rank (_tmp465_);
													_tmp467_ = _tmp466_;
													if (!(dim <= _tmp467_)) {
														break;
													}
													_tmp468_ = bala_ccode_base_module_get_ccode (self);
													_tmp469_ = _tmp468_;
													_tmp470_ = field_value;
													_tmp471_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp470_, dim);
													_tmp472_ = _tmp471_;
													_tmp473_ = bala_ccode_constant_new ("-1");
													_tmp474_ = _tmp473_;
													bala_ccode_function_add_assignment (_tmp469_, _tmp472_, (BalaCCodeExpression*) _tmp474_);
													_bala_ccode_node_unref0 (_tmp474_);
													_bala_ccode_node_unref0 (_tmp472_);
												}
											}
										}
									}
								}
								_bala_target_value_unref0 (glib_value);
								_bala_target_value_unref0 (field_value);
								_bala_code_node_unref0 (array_type);
							}
						} else {
							BalaSourceReference* _tmp475_;
							BalaSourceReference* _tmp476_;
							bala_code_node_set_error ((BalaCodeNode*) f, TRUE);
							_tmp475_ = bala_code_node_get_source_reference ((BalaCodeNode*) f);
							_tmp476_ = _tmp475_;
							bala_report_error (_tmp476_, "Non-constant field initializers not supported in this context");
							_bala_ccode_node_unref0 (rhs);
							_bala_ccode_node_unref0 (var_def);
							_bala_ccode_node_unref0 (var_decl);
							_bala_ccode_node_unref0 (lhs);
							_bala_code_node_unref0 (cl);
							return;
						}
					}
					_bala_ccode_node_unref0 (rhs);
				}
				bala_ccode_base_module_pop_context (self);
				_bala_ccode_node_unref0 (var_def);
				_bala_ccode_node_unref0 (var_decl);
			}
		}
	}
	bala_ccode_base_module_pop_line (self);
	_bala_ccode_node_unref0 (lhs);
	_bala_code_node_unref0 (cl);
}

gboolean
bala_ccode_base_module_is_constant_ccode_expression (BalaCCodeExpression* cexpr)
{
	BalaCCodeParenthesizedExpression* cparenthesized = NULL;
	BalaCCodeParenthesizedExpression* _tmp19_;
	gboolean _tmp20_ = FALSE;
	BalaCCodeParenthesizedExpression* _tmp21_;
	gboolean result = FALSE;
	g_return_val_if_fail (cexpr != NULL, FALSE);
	if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CONSTANT)) {
		result = TRUE;
		return result;
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
			BalaCCodeCastExpression* ccast = NULL;
			BalaCCodeCastExpression* _tmp0_;
			BalaCCodeCastExpression* _tmp1_;
			BalaCCodeExpression* _tmp2_;
			BalaCCodeExpression* _tmp3_;
			_tmp0_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
			ccast = _tmp0_;
			_tmp1_ = ccast;
			_tmp2_ = bala_ccode_cast_expression_get_inner (_tmp1_);
			_tmp3_ = _tmp2_;
			result = bala_ccode_base_module_is_constant_ccode_expression (_tmp3_);
			_bala_ccode_node_unref0 (ccast);
			return result;
		} else {
			if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_UNARY_EXPRESSION)) {
				BalaCCodeUnaryExpression* cunary = NULL;
				BalaCCodeUnaryExpression* _tmp4_;
				BalaCCodeUnaryExpression* _tmp5_;
				BalaCCodeUnaryOperator _tmp6_;
				BalaCCodeUnaryOperator _tmp7_;
				BalaCCodeUnaryExpression* _tmp8_;
				BalaCCodeExpression* _tmp9_;
				BalaCCodeExpression* _tmp10_;
				_tmp4_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_UNARY_EXPRESSION, BalaCCodeUnaryExpression));
				cunary = _tmp4_;
				_tmp5_ = cunary;
				_tmp6_ = bala_ccode_unary_expression_get_operator (_tmp5_);
				_tmp7_ = _tmp6_;
				switch (_tmp7_) {
					case BALA_CCODE_UNARY_OPERATOR_PREFIX_INCREMENT:
					case BALA_CCODE_UNARY_OPERATOR_PREFIX_DECREMENT:
					case BALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT:
					case BALA_CCODE_UNARY_OPERATOR_POSTFIX_DECREMENT:
					{
						result = FALSE;
						_bala_ccode_node_unref0 (cunary);
						return result;
					}
					default:
					{
						break;
					}
				}
				_tmp8_ = cunary;
				_tmp9_ = bala_ccode_unary_expression_get_inner (_tmp8_);
				_tmp10_ = _tmp9_;
				result = bala_ccode_base_module_is_constant_ccode_expression (_tmp10_);
				_bala_ccode_node_unref0 (cunary);
				return result;
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_BINARY_EXPRESSION)) {
					BalaCCodeBinaryExpression* cbinary = NULL;
					BalaCCodeBinaryExpression* _tmp11_;
					gboolean _tmp12_ = FALSE;
					BalaCCodeBinaryExpression* _tmp13_;
					BalaCCodeExpression* _tmp14_;
					BalaCCodeExpression* _tmp15_;
					_tmp11_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_BINARY_EXPRESSION, BalaCCodeBinaryExpression));
					cbinary = _tmp11_;
					_tmp13_ = cbinary;
					_tmp14_ = bala_ccode_binary_expression_get_left (_tmp13_);
					_tmp15_ = _tmp14_;
					if (bala_ccode_base_module_is_constant_ccode_expression (_tmp15_)) {
						BalaCCodeBinaryExpression* _tmp16_;
						BalaCCodeExpression* _tmp17_;
						BalaCCodeExpression* _tmp18_;
						_tmp16_ = cbinary;
						_tmp17_ = bala_ccode_binary_expression_get_right (_tmp16_);
						_tmp18_ = _tmp17_;
						_tmp12_ = bala_ccode_base_module_is_constant_ccode_expression (_tmp18_);
					} else {
						_tmp12_ = FALSE;
					}
					result = _tmp12_;
					_bala_ccode_node_unref0 (cbinary);
					return result;
				}
			}
		}
	}
	_tmp19_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_PARENTHESIZED_EXPRESSION) ? ((BalaCCodeParenthesizedExpression*) cexpr) : NULL);
	cparenthesized = _tmp19_;
	_tmp21_ = cparenthesized;
	if (NULL != _tmp21_) {
		BalaCCodeParenthesizedExpression* _tmp22_;
		BalaCCodeExpression* _tmp23_;
		BalaCCodeExpression* _tmp24_;
		_tmp22_ = cparenthesized;
		_tmp23_ = bala_ccode_parenthesized_expression_get_inner (_tmp22_);
		_tmp24_ = _tmp23_;
		_tmp20_ = bala_ccode_base_module_is_constant_ccode_expression (_tmp24_);
	} else {
		_tmp20_ = FALSE;
	}
	result = _tmp20_;
	_bala_ccode_node_unref0 (cparenthesized);
	return result;
}

gboolean
bala_ccode_base_module_is_constant_ccode (BalaCodeNode* expr)
{
	gboolean result = FALSE;
	g_return_val_if_fail (expr != NULL, FALSE);
	if (G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_CONSTANT)) {
		BalaSymbol* _tmp0_;
		BalaSymbol* _tmp1_;
		_tmp0_ = bala_symbol_get_parent_symbol ((BalaSymbol*) G_TYPE_CHECK_INSTANCE_CAST (expr, BALA_TYPE_CONSTANT, BalaConstant));
		_tmp1_ = _tmp0_;
		result = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_BLOCK);
		return result;
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_INTEGER_LITERAL)) {
			result = bala_expression_is_constant ((BalaExpression*) G_TYPE_CHECK_INSTANCE_CAST (expr, BALA_TYPE_INTEGER_LITERAL, BalaIntegerLiteral));
			return result;
		} else {
			if (G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_MEMBER_ACCESS)) {
				BalaSymbol* _tmp2_;
				BalaSymbol* _tmp3_;
				_tmp2_ = bala_expression_get_symbol_reference ((BalaExpression*) G_TYPE_CHECK_INSTANCE_CAST (expr, BALA_TYPE_MEMBER_ACCESS, BalaMemberAccess));
				_tmp3_ = _tmp2_;
				result = bala_ccode_base_module_is_constant_ccode ((BalaCodeNode*) _tmp3_);
				return result;
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_CAST_EXPRESSION)) {
					BalaExpression* _tmp4_;
					BalaExpression* _tmp5_;
					_tmp4_ = bala_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (expr, BALA_TYPE_CAST_EXPRESSION, BalaCastExpression));
					_tmp5_ = _tmp4_;
					result = bala_ccode_base_module_is_constant_ccode ((BalaCodeNode*) _tmp5_);
					return result;
				}
			}
		}
	}
	result = FALSE;
	return result;
}

/**
 * Returns whether the passed cexpr is a pure expression, i.e. an
 * expression without side-effects.
 */
gboolean
bala_ccode_base_module_is_pure_ccode_expression (BalaCCodeExpression* cexpr)
{
	gboolean _tmp0_ = FALSE;
	gboolean result = FALSE;
	g_return_val_if_fail (cexpr != NULL, FALSE);
	if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CONSTANT)) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_IDENTIFIER);
	}
	if (_tmp0_) {
		result = TRUE;
		return result;
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_BINARY_EXPRESSION)) {
			BalaCCodeBinaryExpression* cbinary = NULL;
			BalaCCodeBinaryExpression* _tmp1_;
			gboolean _tmp2_ = FALSE;
			BalaCCodeBinaryExpression* _tmp3_;
			BalaCCodeExpression* _tmp4_;
			BalaCCodeExpression* _tmp5_;
			_tmp1_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_BINARY_EXPRESSION, BalaCCodeBinaryExpression));
			cbinary = _tmp1_;
			_tmp3_ = cbinary;
			_tmp4_ = bala_ccode_binary_expression_get_left (_tmp3_);
			_tmp5_ = _tmp4_;
			if (bala_ccode_base_module_is_pure_ccode_expression (_tmp5_)) {
				BalaCCodeBinaryExpression* _tmp6_;
				BalaCCodeExpression* _tmp7_;
				BalaCCodeExpression* _tmp8_;
				_tmp6_ = cbinary;
				_tmp7_ = bala_ccode_binary_expression_get_right (_tmp6_);
				_tmp8_ = _tmp7_;
				_tmp2_ = bala_ccode_base_module_is_pure_ccode_expression (_tmp8_);
			} else {
				_tmp2_ = FALSE;
			}
			result = _tmp2_;
			_bala_ccode_node_unref0 (cbinary);
			return result;
		} else {
			if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_UNARY_EXPRESSION)) {
				BalaCCodeUnaryExpression* cunary = NULL;
				BalaCCodeUnaryExpression* _tmp9_;
				BalaCCodeUnaryExpression* _tmp10_;
				BalaCCodeUnaryOperator _tmp11_;
				BalaCCodeUnaryOperator _tmp12_;
				_tmp9_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_UNARY_EXPRESSION, BalaCCodeUnaryExpression));
				cunary = _tmp9_;
				_tmp10_ = cunary;
				_tmp11_ = bala_ccode_unary_expression_get_operator (_tmp10_);
				_tmp12_ = _tmp11_;
				switch (_tmp12_) {
					case BALA_CCODE_UNARY_OPERATOR_PREFIX_INCREMENT:
					case BALA_CCODE_UNARY_OPERATOR_PREFIX_DECREMENT:
					case BALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT:
					case BALA_CCODE_UNARY_OPERATOR_POSTFIX_DECREMENT:
					{
						result = FALSE;
						_bala_ccode_node_unref0 (cunary);
						return result;
					}
					default:
					{
						BalaCCodeUnaryExpression* _tmp13_;
						BalaCCodeExpression* _tmp14_;
						BalaCCodeExpression* _tmp15_;
						_tmp13_ = cunary;
						_tmp14_ = bala_ccode_unary_expression_get_inner (_tmp13_);
						_tmp15_ = _tmp14_;
						result = bala_ccode_base_module_is_pure_ccode_expression (_tmp15_);
						_bala_ccode_node_unref0 (cunary);
						return result;
					}
				}
				_bala_ccode_node_unref0 (cunary);
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_MEMBER_ACCESS)) {
					BalaCCodeMemberAccess* cma = NULL;
					BalaCCodeMemberAccess* _tmp16_;
					BalaCCodeMemberAccess* _tmp17_;
					BalaCCodeExpression* _tmp18_;
					BalaCCodeExpression* _tmp19_;
					_tmp16_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_MEMBER_ACCESS, BalaCCodeMemberAccess));
					cma = _tmp16_;
					_tmp17_ = cma;
					_tmp18_ = bala_ccode_member_access_get_inner (_tmp17_);
					_tmp19_ = _tmp18_;
					result = bala_ccode_base_module_is_pure_ccode_expression (_tmp19_);
					_bala_ccode_node_unref0 (cma);
					return result;
				} else {
					if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_ELEMENT_ACCESS)) {
						BalaCCodeElementAccess* cea = NULL;
						BalaCCodeElementAccess* _tmp20_;
						gboolean _tmp21_ = FALSE;
						BalaCCodeElementAccess* _tmp22_;
						BalaCCodeExpression* _tmp23_;
						BalaCCodeExpression* _tmp24_;
						_tmp20_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_ELEMENT_ACCESS, BalaCCodeElementAccess));
						cea = _tmp20_;
						_tmp22_ = cea;
						_tmp23_ = bala_ccode_element_access_get_container (_tmp22_);
						_tmp24_ = _tmp23_;
						if (bala_ccode_base_module_is_pure_ccode_expression (_tmp24_)) {
							BalaCCodeElementAccess* _tmp25_;
							BalaList* _tmp26_;
							BalaList* _tmp27_;
							gpointer _tmp28_;
							BalaCCodeExpression* _tmp29_;
							_tmp25_ = cea;
							_tmp26_ = bala_ccode_element_access_get_indices (_tmp25_);
							_tmp27_ = _tmp26_;
							_tmp28_ = bala_list_get (_tmp27_, 0);
							_tmp29_ = (BalaCCodeExpression*) _tmp28_;
							_tmp21_ = bala_ccode_base_module_is_pure_ccode_expression (_tmp29_);
							_bala_ccode_node_unref0 (_tmp29_);
						} else {
							_tmp21_ = FALSE;
						}
						result = _tmp21_;
						_bala_ccode_node_unref0 (cea);
						return result;
					} else {
						if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
							BalaCCodeCastExpression* ccast = NULL;
							BalaCCodeCastExpression* _tmp30_;
							BalaCCodeCastExpression* _tmp31_;
							BalaCCodeExpression* _tmp32_;
							BalaCCodeExpression* _tmp33_;
							_tmp30_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
							ccast = _tmp30_;
							_tmp31_ = ccast;
							_tmp32_ = bala_ccode_cast_expression_get_inner (_tmp31_);
							_tmp33_ = _tmp32_;
							result = bala_ccode_base_module_is_pure_ccode_expression (_tmp33_);
							_bala_ccode_node_unref0 (ccast);
							return result;
						} else {
							if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_PARENTHESIZED_EXPRESSION)) {
								BalaCCodeParenthesizedExpression* cparenthesized = NULL;
								BalaCCodeParenthesizedExpression* _tmp34_;
								BalaCCodeParenthesizedExpression* _tmp35_;
								BalaCCodeExpression* _tmp36_;
								BalaCCodeExpression* _tmp37_;
								_tmp34_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_PARENTHESIZED_EXPRESSION, BalaCCodeParenthesizedExpression));
								cparenthesized = _tmp34_;
								_tmp35_ = cparenthesized;
								_tmp36_ = bala_ccode_parenthesized_expression_get_inner (_tmp35_);
								_tmp37_ = _tmp36_;
								result = bala_ccode_base_module_is_pure_ccode_expression (_tmp37_);
								_bala_ccode_node_unref0 (cparenthesized);
								return result;
							}
						}
					}
				}
			}
		}
	}
	result = FALSE;
	return result;
}

static void
bala_ccode_base_module_real_visit_property (BalaCodeVisitor* base,
                                            BalaProperty* prop)
{
	BalaCCodeBaseModule * self;
	BalaPropertyAccessor* _tmp0_;
	BalaPropertyAccessor* _tmp1_;
	BalaPropertyAccessor* _tmp4_;
	BalaPropertyAccessor* _tmp5_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (prop != NULL);
	bala_ccode_base_module_visit_member (self, (BalaSymbol*) prop);
	_tmp0_ = bala_property_get_get_accessor (prop);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaPropertyAccessor* _tmp2_;
		BalaPropertyAccessor* _tmp3_;
		_tmp2_ = bala_property_get_get_accessor (prop);
		_tmp3_ = _tmp2_;
		bala_code_node_accept ((BalaCodeNode*) _tmp3_, (BalaCodeVisitor*) self);
	}
	_tmp4_ = bala_property_get_set_accessor (prop);
	_tmp5_ = _tmp4_;
	if (_tmp5_ != NULL) {
		BalaPropertyAccessor* _tmp6_;
		BalaPropertyAccessor* _tmp7_;
		_tmp6_ = bala_property_get_set_accessor (prop);
		_tmp7_ = _tmp6_;
		bala_code_node_accept ((BalaCodeNode*) _tmp7_, (BalaCodeVisitor*) self);
	}
}

void
bala_ccode_base_module_generate_type_declaration (BalaCCodeBaseModule* self,
                                                  BalaDataType* type,
                                                  BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (type != NULL);
	g_return_if_fail (decl_space != NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_OBJECT_TYPE)) {
		BalaObjectType* object_type = NULL;
		BalaObjectType* _tmp0_;
		BalaObjectType* _tmp1_;
		BalaTypeSymbol* _tmp2_;
		BalaTypeSymbol* _tmp3_;
		_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_OBJECT_TYPE, BalaObjectType));
		object_type = _tmp0_;
		_tmp1_ = object_type;
		_tmp2_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp1_);
		_tmp3_ = _tmp2_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_CLASS)) {
			BalaClass* cl = NULL;
			BalaObjectType* _tmp4_;
			BalaTypeSymbol* _tmp5_;
			BalaTypeSymbol* _tmp6_;
			BalaClass* _tmp7_;
			BalaClass* _tmp8_;
			gboolean _tmp9_ = FALSE;
			BalaClass* _tmp10_;
			gboolean _tmp11_;
			gboolean _tmp12_;
			_tmp4_ = object_type;
			_tmp5_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp4_);
			_tmp6_ = _tmp5_;
			_tmp7_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, BALA_TYPE_CLASS, BalaClass));
			cl = _tmp7_;
			_tmp8_ = cl;
			bala_ccode_base_module_generate_class_declaration (self, _tmp8_, decl_space);
			_tmp10_ = cl;
			_tmp11_ = bala_class_get_is_compact (_tmp10_);
			_tmp12_ = _tmp11_;
			if (!_tmp12_) {
				BalaClass* _tmp13_;
				_tmp13_ = cl;
				_tmp9_ = bala_object_type_symbol_has_type_parameters ((BalaObjectTypeSymbol*) _tmp13_);
			} else {
				_tmp9_ = FALSE;
			}
			if (_tmp9_) {
				BalaTypeSymbol* _tmp14_;
				_tmp14_ = self->gtype_type;
				bala_ccode_base_module_generate_struct_declaration (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, BALA_TYPE_STRUCT, BalaStruct), decl_space);
			}
			_bala_code_node_unref0 (cl);
		} else {
			BalaObjectType* _tmp15_;
			BalaTypeSymbol* _tmp16_;
			BalaTypeSymbol* _tmp17_;
			_tmp15_ = object_type;
			_tmp16_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp15_);
			_tmp17_ = _tmp16_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_INTERFACE)) {
				BalaInterface* iface = NULL;
				BalaObjectType* _tmp18_;
				BalaTypeSymbol* _tmp19_;
				BalaTypeSymbol* _tmp20_;
				BalaInterface* _tmp21_;
				BalaInterface* _tmp22_;
				BalaInterface* _tmp23_;
				_tmp18_ = object_type;
				_tmp19_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp18_);
				_tmp20_ = _tmp19_;
				_tmp21_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp20_, BALA_TYPE_INTERFACE, BalaInterface));
				iface = _tmp21_;
				_tmp22_ = iface;
				bala_ccode_base_module_generate_interface_declaration (self, _tmp22_, decl_space);
				_tmp23_ = iface;
				if (bala_object_type_symbol_has_type_parameters ((BalaObjectTypeSymbol*) _tmp23_)) {
					BalaTypeSymbol* _tmp24_;
					_tmp24_ = self->gtype_type;
					bala_ccode_base_module_generate_struct_declaration (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, BALA_TYPE_STRUCT, BalaStruct), decl_space);
				}
				_bala_code_node_unref0 (iface);
			}
		}
		_bala_code_node_unref0 (object_type);
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_DELEGATE_TYPE)) {
			BalaDelegateType* deleg_type = NULL;
			BalaDelegateType* _tmp25_;
			BalaDelegate* d = NULL;
			BalaDelegateType* _tmp26_;
			BalaDelegate* _tmp27_;
			BalaDelegate* _tmp28_;
			BalaDelegate* _tmp29_;
			BalaDelegate* _tmp30_;
			BalaDelegate* _tmp31_;
			gboolean _tmp32_;
			gboolean _tmp33_;
			_tmp25_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			deleg_type = _tmp25_;
			_tmp26_ = deleg_type;
			_tmp27_ = bala_delegate_type_get_delegate_symbol (_tmp26_);
			_tmp28_ = _tmp27_;
			_tmp29_ = _bala_code_node_ref0 (_tmp28_);
			d = _tmp29_;
			_tmp30_ = d;
			bala_ccode_base_module_generate_delegate_declaration (self, _tmp30_, decl_space);
			_tmp31_ = d;
			_tmp32_ = bala_delegate_get_has_target (_tmp31_);
			_tmp33_ = _tmp32_;
			if (_tmp33_) {
				BalaDataType* _tmp34_;
				BalaDelegateType* _tmp35_;
				_tmp34_ = self->delegate_target_type;
				bala_ccode_base_module_generate_type_declaration (self, _tmp34_, decl_space);
				_tmp35_ = deleg_type;
				if (bala_data_type_is_disposable ((BalaDataType*) _tmp35_)) {
					BalaDelegateType* _tmp36_;
					_tmp36_ = self->delegate_target_destroy_type;
					bala_ccode_base_module_generate_type_declaration (self, (BalaDataType*) _tmp36_, decl_space);
				}
			}
			_bala_code_node_unref0 (d);
			_bala_code_node_unref0 (deleg_type);
		} else {
			BalaTypeSymbol* _tmp37_;
			BalaTypeSymbol* _tmp38_;
			_tmp37_ = bala_data_type_get_type_symbol (type);
			_tmp38_ = _tmp37_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp38_, BALA_TYPE_ENUM)) {
				BalaEnum* en = NULL;
				BalaTypeSymbol* _tmp39_;
				BalaTypeSymbol* _tmp40_;
				BalaEnum* _tmp41_;
				BalaEnum* _tmp42_;
				_tmp39_ = bala_data_type_get_type_symbol (type);
				_tmp40_ = _tmp39_;
				_tmp41_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp40_, BALA_TYPE_ENUM, BalaEnum));
				en = _tmp41_;
				_tmp42_ = en;
				bala_ccode_base_module_generate_enum_declaration (self, _tmp42_, decl_space);
				_bala_code_node_unref0 (en);
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_VALUE_TYPE)) {
					BalaValueType* value_type = NULL;
					BalaValueType* _tmp43_;
					BalaValueType* _tmp44_;
					BalaTypeSymbol* _tmp45_;
					BalaTypeSymbol* _tmp46_;
					_tmp43_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_VALUE_TYPE, BalaValueType));
					value_type = _tmp43_;
					_tmp44_ = value_type;
					_tmp45_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp44_);
					_tmp46_ = _tmp45_;
					bala_ccode_base_module_generate_struct_declaration (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp46_, BALA_TYPE_STRUCT, BalaStruct), decl_space);
					_bala_code_node_unref0 (value_type);
				} else {
					if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE)) {
						BalaArrayType* array_type = NULL;
						BalaArrayType* _tmp47_;
						BalaArrayType* _tmp48_;
						BalaDataType* _tmp49_;
						BalaDataType* _tmp50_;
						BalaArrayType* _tmp51_;
						BalaDataType* _tmp52_;
						BalaDataType* _tmp53_;
						_tmp47_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
						array_type = _tmp47_;
						_tmp48_ = array_type;
						_tmp49_ = bala_array_type_get_element_type (_tmp48_);
						_tmp50_ = _tmp49_;
						bala_ccode_base_module_generate_type_declaration (self, _tmp50_, decl_space);
						_tmp51_ = array_type;
						_tmp52_ = bala_array_type_get_length_type (_tmp51_);
						_tmp53_ = _tmp52_;
						if (_tmp53_ != NULL) {
							BalaArrayType* _tmp54_;
							BalaDataType* _tmp55_;
							BalaDataType* _tmp56_;
							_tmp54_ = array_type;
							_tmp55_ = bala_array_type_get_length_type (_tmp54_);
							_tmp56_ = _tmp55_;
							bala_ccode_base_module_generate_type_declaration (self, _tmp56_, decl_space);
						}
						_bala_code_node_unref0 (array_type);
					} else {
						if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ERROR_TYPE)) {
							BalaErrorType* error_type = NULL;
							BalaErrorType* _tmp57_;
							BalaErrorType* _tmp58_;
							BalaErrorDomain* _tmp59_;
							BalaErrorDomain* _tmp60_;
							_tmp57_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_ERROR_TYPE, BalaErrorType));
							error_type = _tmp57_;
							_tmp58_ = error_type;
							_tmp59_ = bala_error_type_get_error_domain (_tmp58_);
							_tmp60_ = _tmp59_;
							if (_tmp60_ != NULL) {
								BalaErrorType* _tmp61_;
								BalaErrorDomain* _tmp62_;
								BalaErrorDomain* _tmp63_;
								_tmp61_ = error_type;
								_tmp62_ = bala_error_type_get_error_domain (_tmp61_);
								_tmp63_ = _tmp62_;
								bala_ccode_base_module_generate_error_domain_declaration (self, _tmp63_, decl_space);
							} else {
								BalaClass* _tmp64_;
								_tmp64_ = self->priv->gerror;
								bala_ccode_base_module_generate_class_declaration (self, _tmp64_, decl_space);
							}
							_bala_code_node_unref0 (error_type);
						} else {
							if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_POINTER_TYPE)) {
								BalaPointerType* pointer_type = NULL;
								BalaPointerType* _tmp65_;
								BalaPointerType* _tmp66_;
								BalaDataType* _tmp67_;
								BalaDataType* _tmp68_;
								_tmp65_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_POINTER_TYPE, BalaPointerType));
								pointer_type = _tmp65_;
								_tmp66_ = pointer_type;
								_tmp67_ = bala_pointer_type_get_base_type (_tmp66_);
								_tmp68_ = _tmp67_;
								bala_ccode_base_module_generate_type_declaration (self, _tmp68_, decl_space);
								_bala_code_node_unref0 (pointer_type);
							} else {
								if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_METHOD_TYPE)) {
									BalaMethod* method = NULL;
									BalaMethod* _tmp69_;
									BalaMethod* _tmp70_;
									BalaMethod* _tmp71_;
									gboolean _tmp72_ = FALSE;
									BalaMethod* _tmp73_;
									_tmp69_ = bala_method_type_get_method_symbol (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_METHOD_TYPE, BalaMethodType));
									_tmp70_ = _tmp69_;
									_tmp71_ = _bala_code_node_ref0 (_tmp70_);
									method = _tmp71_;
									_tmp73_ = method;
									if (bala_method_has_type_parameters (_tmp73_)) {
										BalaMethod* _tmp74_;
										_tmp74_ = method;
										_tmp72_ = !bala_get_ccode_simple_generics (_tmp74_);
									} else {
										_tmp72_ = FALSE;
									}
									if (_tmp72_) {
										BalaTypeSymbol* _tmp75_;
										_tmp75_ = self->gtype_type;
										bala_ccode_base_module_generate_struct_declaration (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp75_, BALA_TYPE_STRUCT, BalaStruct), decl_space);
									}
									_bala_code_node_unref0 (method);
								}
							}
						}
					}
				}
			}
		}
	}
	{
		BalaList* _type_arg_list = NULL;
		BalaList* _tmp76_;
		BalaList* _tmp77_;
		gint _type_arg_size = 0;
		BalaList* _tmp78_;
		gint _tmp79_;
		gint _tmp80_;
		gint _type_arg_index = 0;
		_tmp76_ = bala_data_type_get_type_arguments (type);
		_tmp77_ = _bala_iterable_ref0 (_tmp76_);
		_type_arg_list = _tmp77_;
		_tmp78_ = _type_arg_list;
		_tmp79_ = bala_collection_get_size ((BalaCollection*) _tmp78_);
		_tmp80_ = _tmp79_;
		_type_arg_size = _tmp80_;
		_type_arg_index = -1;
		while (TRUE) {
			gint _tmp81_;
			gint _tmp82_;
			BalaDataType* type_arg = NULL;
			BalaList* _tmp83_;
			gpointer _tmp84_;
			BalaDataType* _tmp85_;
			_type_arg_index = _type_arg_index + 1;
			_tmp81_ = _type_arg_index;
			_tmp82_ = _type_arg_size;
			if (!(_tmp81_ < _tmp82_)) {
				break;
			}
			_tmp83_ = _type_arg_list;
			_tmp84_ = bala_list_get (_tmp83_, _type_arg_index);
			type_arg = (BalaDataType*) _tmp84_;
			_tmp85_ = type_arg;
			bala_ccode_base_module_generate_type_declaration (self, _tmp85_, decl_space);
			_bala_code_node_unref0 (type_arg);
		}
		_bala_iterable_unref0 (_type_arg_list);
	}
}

static void
bala_ccode_base_module_real_generate_class_struct_declaration (BalaCCodeBaseModule* self,
                                                               BalaClass* cl,
                                                               BalaCCodeFile* decl_space)
{
	g_return_if_fail (cl != NULL);
	g_return_if_fail (decl_space != NULL);
}

void
bala_ccode_base_module_generate_class_struct_declaration (BalaCCodeBaseModule* self,
                                                          BalaClass* cl,
                                                          BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_class_struct_declaration (self, cl, decl_space);
}

static void
bala_ccode_base_module_real_generate_struct_declaration (BalaCCodeBaseModule* self,
                                                         BalaStruct* st,
                                                         BalaCCodeFile* decl_space)
{
	g_return_if_fail (st != NULL);
	g_return_if_fail (decl_space != NULL);
}

void
bala_ccode_base_module_generate_struct_declaration (BalaCCodeBaseModule* self,
                                                    BalaStruct* st,
                                                    BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_struct_declaration (self, st, decl_space);
}

static void
bala_ccode_base_module_real_generate_delegate_declaration (BalaCCodeBaseModule* self,
                                                           BalaDelegate* d,
                                                           BalaCCodeFile* decl_space)
{
	g_return_if_fail (d != NULL);
	g_return_if_fail (decl_space != NULL);
}

void
bala_ccode_base_module_generate_delegate_declaration (BalaCCodeBaseModule* self,
                                                      BalaDelegate* d,
                                                      BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_delegate_declaration (self, d, decl_space);
}

static void
bala_ccode_base_module_real_generate_cparameters (BalaCCodeBaseModule* self,
                                                  BalaMethod* m,
                                                  BalaCCodeFile* decl_space,
                                                  BalaMap* cparam_map,
                                                  BalaCCodeFunction* func,
                                                  BalaCCodeFunctionDeclarator* vdeclarator,
                                                  BalaMap* carg_map,
                                                  BalaCCodeFunctionCall* vcall,
                                                  gint direction)
{
	g_return_if_fail (m != NULL);
	g_return_if_fail (decl_space != NULL);
	g_return_if_fail (cparam_map != NULL);
	g_return_if_fail (func != NULL);
}

void
bala_ccode_base_module_generate_cparameters (BalaCCodeBaseModule* self,
                                             BalaMethod* m,
                                             BalaCCodeFile* decl_space,
                                             BalaMap* cparam_map,
                                             BalaCCodeFunction* func,
                                             BalaCCodeFunctionDeclarator* vdeclarator,
                                             BalaMap* carg_map,
                                             BalaCCodeFunctionCall* vcall,
                                             gint direction)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_cparameters (self, m, decl_space, cparam_map, func, vdeclarator, carg_map, vcall, direction);
}

void
bala_ccode_base_module_generate_property_accessor_declaration (BalaCCodeBaseModule* self,
                                                               BalaPropertyAccessor* acc,
                                                               BalaCCodeFile* decl_space)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	BalaProperty* prop = NULL;
	BalaProperty* _tmp3_;
	BalaProperty* _tmp4_;
	BalaProperty* _tmp5_;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_;
	gboolean _tmp8_;
	gboolean returns_real_struct = FALSE;
	BalaCCodeParameter* cvalueparam = NULL;
	BalaDataType* _tmp37_;
	BalaDataType* _tmp38_;
	BalaCCodeFunction* function = NULL;
	gboolean _tmp39_ = FALSE;
	gboolean _tmp40_;
	gboolean _tmp41_;
	BalaProperty* _tmp52_;
	BalaMemberBinding _tmp53_;
	BalaMemberBinding _tmp54_;
	gboolean _tmp78_ = FALSE;
	gboolean _tmp79_ = FALSE;
	gboolean _tmp80_;
	gboolean _tmp81_;
	gboolean _tmp86_ = FALSE;
	BalaDataType* _tmp87_;
	BalaDataType* _tmp88_;
	BalaProperty* _tmp158_;
	BalaVersionAttribute* _tmp159_;
	BalaVersionAttribute* _tmp160_;
	gboolean _tmp161_;
	gboolean _tmp162_;
	gboolean _tmp170_ = FALSE;
	BalaProperty* _tmp171_;
	gboolean _tmp172_;
	gboolean _tmp173_;
	BalaCCodeFunction* _tmp200_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (acc != NULL);
	g_return_if_fail (decl_space != NULL);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) acc);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) acc, _tmp1_);
	_g_free0 (_tmp1_);
	if (_tmp2_) {
		return;
	}
	_tmp3_ = bala_property_accessor_get_prop (acc);
	_tmp4_ = _tmp3_;
	_tmp5_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, BALA_TYPE_PROPERTY, BalaProperty));
	prop = _tmp5_;
	_tmp7_ = bala_property_accessor_get_readable (acc);
	_tmp8_ = _tmp7_;
	if (_tmp8_) {
		BalaProperty* _tmp9_;
		BalaDataType* _tmp10_;
		BalaDataType* _tmp11_;
		_tmp9_ = prop;
		_tmp10_ = bala_property_get_property_type (_tmp9_);
		_tmp11_ = _tmp10_;
		_tmp6_ = bala_data_type_is_real_non_null_struct_type (_tmp11_);
	} else {
		_tmp6_ = FALSE;
	}
	returns_real_struct = _tmp6_;
	if (returns_real_struct) {
		BalaDataType* _tmp12_;
		BalaDataType* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		gchar* _tmp17_;
		BalaCCodeParameter* _tmp18_;
		_tmp12_ = bala_property_accessor_get_value_type (acc);
		_tmp13_ = _tmp12_;
		_tmp14_ = bala_get_ccode_name ((BalaCodeNode*) _tmp13_);
		_tmp15_ = _tmp14_;
		_tmp16_ = g_strdup_printf ("%s *", _tmp15_);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_parameter_new ("result", _tmp17_);
		_bala_ccode_node_unref0 (cvalueparam);
		cvalueparam = _tmp18_;
		_g_free0 (_tmp17_);
		_g_free0 (_tmp15_);
	} else {
		gboolean _tmp19_ = FALSE;
		gboolean _tmp20_;
		gboolean _tmp21_;
		_tmp20_ = bala_property_accessor_get_readable (acc);
		_tmp21_ = _tmp20_;
		if (!_tmp21_) {
			BalaProperty* _tmp22_;
			BalaDataType* _tmp23_;
			BalaDataType* _tmp24_;
			_tmp22_ = prop;
			_tmp23_ = bala_property_get_property_type (_tmp22_);
			_tmp24_ = _tmp23_;
			_tmp19_ = bala_data_type_is_real_non_null_struct_type (_tmp24_);
		} else {
			_tmp19_ = FALSE;
		}
		if (_tmp19_) {
			BalaDataType* _tmp25_;
			BalaDataType* _tmp26_;
			gchar* _tmp27_;
			gchar* _tmp28_;
			gchar* _tmp29_;
			gchar* _tmp30_;
			BalaCCodeParameter* _tmp31_;
			_tmp25_ = bala_property_accessor_get_value_type (acc);
			_tmp26_ = _tmp25_;
			_tmp27_ = bala_get_ccode_name ((BalaCodeNode*) _tmp26_);
			_tmp28_ = _tmp27_;
			_tmp29_ = g_strdup_printf ("%s *", _tmp28_);
			_tmp30_ = _tmp29_;
			_tmp31_ = bala_ccode_parameter_new ("value", _tmp30_);
			_bala_ccode_node_unref0 (cvalueparam);
			cvalueparam = _tmp31_;
			_g_free0 (_tmp30_);
			_g_free0 (_tmp28_);
		} else {
			BalaDataType* _tmp32_;
			BalaDataType* _tmp33_;
			gchar* _tmp34_;
			gchar* _tmp35_;
			BalaCCodeParameter* _tmp36_;
			_tmp32_ = bala_property_accessor_get_value_type (acc);
			_tmp33_ = _tmp32_;
			_tmp34_ = bala_get_ccode_name ((BalaCodeNode*) _tmp33_);
			_tmp35_ = _tmp34_;
			_tmp36_ = bala_ccode_parameter_new ("value", _tmp35_);
			_bala_ccode_node_unref0 (cvalueparam);
			cvalueparam = _tmp36_;
			_g_free0 (_tmp35_);
		}
	}
	_tmp37_ = bala_property_accessor_get_value_type (acc);
	_tmp38_ = _tmp37_;
	bala_ccode_base_module_generate_type_declaration (self, _tmp38_, decl_space);
	_tmp40_ = bala_property_accessor_get_readable (acc);
	_tmp41_ = _tmp40_;
	if (_tmp41_) {
		_tmp39_ = !returns_real_struct;
	} else {
		_tmp39_ = FALSE;
	}
	if (_tmp39_) {
		gchar* _tmp42_;
		gchar* _tmp43_;
		BalaDataType* _tmp44_;
		BalaDataType* _tmp45_;
		gchar* _tmp46_;
		gchar* _tmp47_;
		BalaCCodeFunction* _tmp48_;
		_tmp42_ = bala_get_ccode_name ((BalaCodeNode*) acc);
		_tmp43_ = _tmp42_;
		_tmp44_ = bala_property_accessor_get_value_type (acc);
		_tmp45_ = _tmp44_;
		_tmp46_ = bala_get_ccode_name ((BalaCodeNode*) _tmp45_);
		_tmp47_ = _tmp46_;
		_tmp48_ = bala_ccode_function_new (_tmp43_, _tmp47_);
		_bala_ccode_node_unref0 (function);
		function = _tmp48_;
		_g_free0 (_tmp47_);
		_g_free0 (_tmp43_);
	} else {
		gchar* _tmp49_;
		gchar* _tmp50_;
		BalaCCodeFunction* _tmp51_;
		_tmp49_ = bala_get_ccode_name ((BalaCodeNode*) acc);
		_tmp50_ = _tmp49_;
		_tmp51_ = bala_ccode_function_new (_tmp50_, "void");
		_bala_ccode_node_unref0 (function);
		function = _tmp51_;
		_g_free0 (_tmp50_);
	}
	_tmp52_ = prop;
	_tmp53_ = bala_property_get_binding (_tmp52_);
	_tmp54_ = _tmp53_;
	if (_tmp54_ == BALA_MEMBER_BINDING_INSTANCE) {
		BalaTypeSymbol* t = NULL;
		BalaProperty* _tmp55_;
		BalaSymbol* _tmp56_;
		BalaSymbol* _tmp57_;
		BalaTypeSymbol* _tmp58_;
		BalaDataType* this_type = NULL;
		BalaTypeSymbol* _tmp59_;
		BalaDataType* _tmp60_;
		BalaDataType* _tmp61_;
		BalaCCodeParameter* cselfparam = NULL;
		BalaDataType* _tmp62_;
		gchar* _tmp63_;
		gchar* _tmp64_;
		BalaCCodeParameter* _tmp65_;
		BalaCCodeParameter* _tmp66_;
		gboolean _tmp67_ = FALSE;
		BalaTypeSymbol* _tmp68_;
		BalaCCodeFunction* _tmp76_;
		BalaCCodeParameter* _tmp77_;
		_tmp55_ = prop;
		_tmp56_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp55_);
		_tmp57_ = _tmp56_;
		_tmp58_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
		t = _tmp58_;
		_tmp59_ = t;
		_tmp60_ = bala_semantic_analyzer_get_data_type_for_symbol ((BalaSymbol*) _tmp59_);
		this_type = _tmp60_;
		_tmp61_ = this_type;
		bala_ccode_base_module_generate_type_declaration (self, _tmp61_, decl_space);
		_tmp62_ = this_type;
		_tmp63_ = bala_get_ccode_name ((BalaCodeNode*) _tmp62_);
		_tmp64_ = _tmp63_;
		_tmp65_ = bala_ccode_parameter_new ("self", _tmp64_);
		_tmp66_ = _tmp65_;
		_g_free0 (_tmp64_);
		cselfparam = _tmp66_;
		_tmp68_ = t;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp68_, BALA_TYPE_STRUCT)) {
			BalaTypeSymbol* _tmp69_;
			_tmp69_ = t;
			_tmp67_ = !bala_struct_is_simple_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp69_, BALA_TYPE_STRUCT, BalaStruct));
		} else {
			_tmp67_ = FALSE;
		}
		if (_tmp67_) {
			BalaCCodeParameter* _tmp70_;
			BalaCCodeParameter* _tmp71_;
			const gchar* _tmp72_;
			const gchar* _tmp73_;
			gchar* _tmp74_;
			gchar* _tmp75_;
			_tmp70_ = cselfparam;
			_tmp71_ = cselfparam;
			_tmp72_ = bala_ccode_parameter_get_type_name (_tmp71_);
			_tmp73_ = _tmp72_;
			_tmp74_ = g_strconcat (_tmp73_, "*", NULL);
			_tmp75_ = _tmp74_;
			bala_ccode_parameter_set_type_name (_tmp71_, _tmp75_);
			_g_free0 (_tmp75_);
		}
		_tmp76_ = function;
		_tmp77_ = cselfparam;
		bala_ccode_function_add_parameter (_tmp76_, _tmp77_);
		_bala_ccode_node_unref0 (cselfparam);
		_bala_code_node_unref0 (this_type);
		_bala_code_node_unref0 (t);
	}
	_tmp80_ = bala_property_accessor_get_writable (acc);
	_tmp81_ = _tmp80_;
	if (_tmp81_) {
		_tmp79_ = TRUE;
	} else {
		gboolean _tmp82_;
		gboolean _tmp83_;
		_tmp82_ = bala_property_accessor_get_construction (acc);
		_tmp83_ = _tmp82_;
		_tmp79_ = _tmp83_;
	}
	if (_tmp79_) {
		_tmp78_ = TRUE;
	} else {
		_tmp78_ = returns_real_struct;
	}
	if (_tmp78_) {
		BalaCCodeFunction* _tmp84_;
		BalaCCodeParameter* _tmp85_;
		_tmp84_ = function;
		_tmp85_ = cvalueparam;
		bala_ccode_function_add_parameter (_tmp84_, _tmp85_);
	}
	_tmp87_ = bala_property_accessor_get_value_type (acc);
	_tmp88_ = _tmp87_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp88_, BALA_TYPE_ARRAY_TYPE)) {
		BalaProperty* _tmp89_;
		_tmp89_ = prop;
		_tmp86_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp89_);
	} else {
		_tmp86_ = FALSE;
	}
	if (_tmp86_) {
		BalaArrayType* array_type = NULL;
		BalaDataType* _tmp90_;
		BalaDataType* _tmp91_;
		BalaArrayType* _tmp92_;
		gchar* length_ctype = NULL;
		BalaProperty* _tmp93_;
		gchar* _tmp94_;
		_tmp90_ = bala_property_accessor_get_value_type (acc);
		_tmp91_ = _tmp90_;
		_tmp92_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp91_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		array_type = _tmp92_;
		_tmp93_ = prop;
		_tmp94_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp93_);
		length_ctype = _tmp94_;
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp95_ = FALSE;
				_tmp95_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp97_;
					gint _tmp98_;
					gint _tmp99_;
					const gchar* _tmp100_ = NULL;
					gboolean _tmp101_;
					gboolean _tmp102_;
					gchar* _tmp103_ = NULL;
					gboolean _tmp104_;
					gboolean _tmp105_;
					BalaCCodeFunction* _tmp110_;
					gchar* _tmp111_;
					gchar* _tmp112_;
					BalaCCodeParameter* _tmp113_;
					BalaCCodeParameter* _tmp114_;
					if (!_tmp95_) {
						gint _tmp96_;
						_tmp96_ = dim;
						dim = _tmp96_ + 1;
					}
					_tmp95_ = FALSE;
					_tmp97_ = array_type;
					_tmp98_ = bala_array_type_get_rank (_tmp97_);
					_tmp99_ = _tmp98_;
					if (!(dim <= _tmp99_)) {
						break;
					}
					_tmp101_ = bala_property_accessor_get_readable (acc);
					_tmp102_ = _tmp101_;
					if (_tmp102_) {
						_tmp100_ = "result";
					} else {
						_tmp100_ = "value";
					}
					_tmp104_ = bala_property_accessor_get_readable (acc);
					_tmp105_ = _tmp104_;
					if (_tmp105_) {
						const gchar* _tmp106_;
						gchar* _tmp107_;
						_tmp106_ = length_ctype;
						_tmp107_ = g_strconcat (_tmp106_, "*", NULL);
						_g_free0 (_tmp103_);
						_tmp103_ = _tmp107_;
					} else {
						const gchar* _tmp108_;
						gchar* _tmp109_;
						_tmp108_ = length_ctype;
						_tmp109_ = g_strdup (_tmp108_);
						_g_free0 (_tmp103_);
						_tmp103_ = _tmp109_;
					}
					_tmp110_ = function;
					_tmp111_ = bala_ccode_base_module_get_array_length_cname (self, _tmp100_, dim);
					_tmp112_ = _tmp111_;
					_tmp113_ = bala_ccode_parameter_new (_tmp112_, _tmp103_);
					_tmp114_ = _tmp113_;
					bala_ccode_function_add_parameter (_tmp110_, _tmp114_);
					_bala_ccode_node_unref0 (_tmp114_);
					_g_free0 (_tmp112_);
					_g_free0 (_tmp103_);
				}
			}
		}
		_g_free0 (length_ctype);
		_bala_code_node_unref0 (array_type);
	} else {
		gboolean _tmp115_ = FALSE;
		gboolean _tmp116_ = FALSE;
		BalaDataType* _tmp117_;
		BalaDataType* _tmp118_;
		_tmp117_ = bala_property_accessor_get_value_type (acc);
		_tmp118_ = _tmp117_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp118_, BALA_TYPE_DELEGATE_TYPE)) {
			BalaProperty* _tmp119_;
			_tmp119_ = prop;
			_tmp116_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp119_);
		} else {
			_tmp116_ = FALSE;
		}
		if (_tmp116_) {
			BalaDataType* _tmp120_;
			BalaDataType* _tmp121_;
			BalaDelegate* _tmp122_;
			BalaDelegate* _tmp123_;
			gboolean _tmp124_;
			gboolean _tmp125_;
			_tmp120_ = bala_property_accessor_get_value_type (acc);
			_tmp121_ = _tmp120_;
			_tmp122_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp121_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			_tmp123_ = _tmp122_;
			_tmp124_ = bala_delegate_get_has_target (_tmp123_);
			_tmp125_ = _tmp124_;
			_tmp115_ = _tmp125_;
		} else {
			_tmp115_ = FALSE;
		}
		if (_tmp115_) {
			const gchar* _tmp126_ = NULL;
			gboolean _tmp127_;
			gboolean _tmp128_;
			gchar* _tmp129_ = NULL;
			gboolean _tmp130_;
			gboolean _tmp131_;
			BalaCCodeFunction* _tmp138_;
			gchar* _tmp139_;
			gchar* _tmp140_;
			BalaCCodeParameter* _tmp141_;
			BalaCCodeParameter* _tmp142_;
			gboolean _tmp143_ = FALSE;
			gboolean _tmp144_;
			gboolean _tmp145_;
			_tmp127_ = bala_property_accessor_get_readable (acc);
			_tmp128_ = _tmp127_;
			if (_tmp128_) {
				_tmp126_ = "result";
			} else {
				_tmp126_ = "value";
			}
			_tmp130_ = bala_property_accessor_get_readable (acc);
			_tmp131_ = _tmp130_;
			if (_tmp131_) {
				BalaDataType* _tmp132_;
				gchar* _tmp133_;
				gchar* _tmp134_;
				gchar* _tmp135_;
				_tmp132_ = self->delegate_target_type;
				_tmp133_ = bala_get_ccode_name ((BalaCodeNode*) _tmp132_);
				_tmp134_ = _tmp133_;
				_tmp135_ = g_strconcat (_tmp134_, "*", NULL);
				_g_free0 (_tmp129_);
				_tmp129_ = _tmp135_;
				_g_free0 (_tmp134_);
			} else {
				BalaDataType* _tmp136_;
				gchar* _tmp137_;
				_tmp136_ = self->delegate_target_type;
				_tmp137_ = bala_get_ccode_name ((BalaCodeNode*) _tmp136_);
				_g_free0 (_tmp129_);
				_tmp129_ = _tmp137_;
			}
			_tmp138_ = function;
			_tmp139_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp126_);
			_tmp140_ = _tmp139_;
			_tmp141_ = bala_ccode_parameter_new (_tmp140_, _tmp129_);
			_tmp142_ = _tmp141_;
			bala_ccode_function_add_parameter (_tmp138_, _tmp142_);
			_bala_ccode_node_unref0 (_tmp142_);
			_g_free0 (_tmp140_);
			_tmp144_ = bala_property_accessor_get_readable (acc);
			_tmp145_ = _tmp144_;
			if (!_tmp145_) {
				BalaDataType* _tmp146_;
				BalaDataType* _tmp147_;
				gboolean _tmp148_;
				gboolean _tmp149_;
				_tmp146_ = bala_property_accessor_get_value_type (acc);
				_tmp147_ = _tmp146_;
				_tmp148_ = bala_data_type_get_value_owned (_tmp147_);
				_tmp149_ = _tmp148_;
				_tmp143_ = _tmp149_;
			} else {
				_tmp143_ = FALSE;
			}
			if (_tmp143_) {
				BalaCCodeFunction* _tmp150_;
				gchar* _tmp151_;
				gchar* _tmp152_;
				BalaDelegateType* _tmp153_;
				gchar* _tmp154_;
				gchar* _tmp155_;
				BalaCCodeParameter* _tmp156_;
				BalaCCodeParameter* _tmp157_;
				_tmp150_ = function;
				_tmp151_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, "value");
				_tmp152_ = _tmp151_;
				_tmp153_ = self->delegate_target_destroy_type;
				_tmp154_ = bala_get_ccode_name ((BalaCodeNode*) _tmp153_);
				_tmp155_ = _tmp154_;
				_tmp156_ = bala_ccode_parameter_new (_tmp152_, _tmp155_);
				_tmp157_ = _tmp156_;
				bala_ccode_function_add_parameter (_tmp150_, _tmp157_);
				_bala_ccode_node_unref0 (_tmp157_);
				_g_free0 (_tmp155_);
				_g_free0 (_tmp152_);
			}
			_g_free0 (_tmp129_);
		}
	}
	_tmp158_ = prop;
	_tmp159_ = bala_symbol_get_version ((BalaSymbol*) _tmp158_);
	_tmp160_ = _tmp159_;
	_tmp161_ = bala_version_attribute_get_deprecated (_tmp160_);
	_tmp162_ = _tmp161_;
	if (_tmp162_) {
		BalaCodeContext* _tmp163_;
		BalaProfile _tmp164_;
		BalaProfile _tmp165_;
		BalaCCodeFunction* _tmp166_;
		BalaCCodeFunction* _tmp167_;
		BalaCCodeModifiers _tmp168_;
		BalaCCodeModifiers _tmp169_;
		_tmp163_ = self->priv->_context;
		_tmp164_ = bala_code_context_get_profile (_tmp163_);
		_tmp165_ = _tmp164_;
		if (_tmp165_ == BALA_PROFILE_GOBJECT) {
			bala_ccode_file_add_include (decl_space, "glib.h", FALSE);
		}
		_tmp166_ = function;
		_tmp167_ = function;
		_tmp168_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp167_);
		_tmp169_ = _tmp168_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp167_, _tmp169_ | BALA_CCODE_MODIFIERS_DEPRECATED);
	}
	_tmp171_ = prop;
	_tmp172_ = bala_property_get_is_abstract (_tmp171_);
	_tmp173_ = _tmp172_;
	if (!_tmp173_) {
		gboolean _tmp174_ = FALSE;
		gboolean _tmp175_ = FALSE;
		BalaProperty* _tmp176_;
		_tmp176_ = prop;
		if (bala_symbol_is_private_symbol ((BalaSymbol*) _tmp176_)) {
			_tmp175_ = TRUE;
		} else {
			gboolean _tmp177_ = FALSE;
			gboolean _tmp178_;
			gboolean _tmp179_;
			_tmp178_ = bala_property_accessor_get_readable (acc);
			_tmp179_ = _tmp178_;
			if (!_tmp179_) {
				gboolean _tmp180_;
				gboolean _tmp181_;
				_tmp180_ = bala_property_accessor_get_writable (acc);
				_tmp181_ = _tmp180_;
				_tmp177_ = !_tmp181_;
			} else {
				_tmp177_ = FALSE;
			}
			_tmp175_ = _tmp177_;
		}
		if (_tmp175_) {
			_tmp174_ = TRUE;
		} else {
			BalaSymbolAccessibility _tmp182_;
			BalaSymbolAccessibility _tmp183_;
			_tmp182_ = bala_symbol_get_access ((BalaSymbol*) acc);
			_tmp183_ = _tmp182_;
			_tmp174_ = _tmp183_ == BALA_SYMBOL_ACCESSIBILITY_PRIVATE;
		}
		_tmp170_ = _tmp174_;
	} else {
		_tmp170_ = FALSE;
	}
	if (_tmp170_) {
		BalaCCodeFunction* _tmp184_;
		BalaCCodeFunction* _tmp185_;
		BalaCCodeModifiers _tmp186_;
		BalaCCodeModifiers _tmp187_;
		_tmp184_ = function;
		_tmp185_ = function;
		_tmp186_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp185_);
		_tmp187_ = _tmp186_;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp185_, _tmp187_ | BALA_CCODE_MODIFIERS_STATIC);
	} else {
		gboolean _tmp188_ = FALSE;
		BalaCodeContext* _tmp189_;
		gboolean _tmp190_;
		gboolean _tmp191_;
		_tmp189_ = self->priv->_context;
		_tmp190_ = bala_code_context_get_hide_internal (_tmp189_);
		_tmp191_ = _tmp190_;
		if (_tmp191_) {
			gboolean _tmp192_ = FALSE;
			BalaProperty* _tmp193_;
			_tmp193_ = prop;
			if (bala_symbol_is_internal_symbol ((BalaSymbol*) _tmp193_)) {
				_tmp192_ = TRUE;
			} else {
				BalaSymbolAccessibility _tmp194_;
				BalaSymbolAccessibility _tmp195_;
				_tmp194_ = bala_symbol_get_access ((BalaSymbol*) acc);
				_tmp195_ = _tmp194_;
				_tmp192_ = _tmp195_ == BALA_SYMBOL_ACCESSIBILITY_INTERNAL;
			}
			_tmp188_ = _tmp192_;
		} else {
			_tmp188_ = FALSE;
		}
		if (_tmp188_) {
			BalaCCodeFunction* _tmp196_;
			BalaCCodeFunction* _tmp197_;
			BalaCCodeModifiers _tmp198_;
			BalaCCodeModifiers _tmp199_;
			_tmp196_ = function;
			_tmp197_ = function;
			_tmp198_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp197_);
			_tmp199_ = _tmp198_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp197_, _tmp199_ | BALA_CCODE_MODIFIERS_INTERNAL);
		}
	}
	_tmp200_ = function;
	bala_ccode_file_add_function_declaration (decl_space, _tmp200_);
	_bala_ccode_node_unref0 (function);
	_bala_ccode_node_unref0 (cvalueparam);
	_bala_code_node_unref0 (prop);
}

static void
bala_ccode_base_module_real_visit_property_accessor (BalaCodeVisitor* base,
                                                     BalaPropertyAccessor* acc)
{
	BalaCCodeBaseModule * self;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaCCodeBaseModuleEmitContext* _tmp1_;
	BalaSourceReference* _tmp2_;
	BalaSourceReference* _tmp3_;
	BalaProperty* prop = NULL;
	BalaProperty* _tmp4_;
	BalaProperty* _tmp5_;
	BalaProperty* _tmp6_;
	BalaComment* _tmp7_;
	BalaComment* _tmp8_;
	gboolean _tmp16_ = FALSE;
	gboolean _tmp17_;
	gboolean _tmp18_;
	gboolean returns_real_struct = FALSE;
	BalaLocalVariable* _tmp22_;
	BalaLocalVariable* _tmp23_;
	BalaTypeSymbol* t = NULL;
	BalaProperty* _tmp26_;
	BalaSymbol* _tmp27_;
	BalaSymbol* _tmp28_;
	BalaTypeSymbol* _tmp29_;
	gboolean _tmp30_ = FALSE;
	gboolean _tmp31_ = FALSE;
	BalaProperty* _tmp32_;
	gboolean _tmp33_;
	gboolean _tmp34_;
	BalaSourceFileType _tmp64_;
	BalaSourceFileType _tmp65_;
	BalaDataType* this_type = NULL;
	BalaTypeSymbol* _tmp66_;
	BalaDataType* _tmp67_;
	BalaCCodeParameter* cselfparam = NULL;
	BalaDataType* _tmp68_;
	gchar* _tmp69_;
	gchar* _tmp70_;
	BalaCCodeParameter* _tmp71_;
	BalaCCodeParameter* _tmp72_;
	gboolean _tmp73_ = FALSE;
	BalaTypeSymbol* _tmp74_;
	BalaCCodeParameter* cvalueparam = NULL;
	gboolean _tmp107_ = FALSE;
	BalaProperty* _tmp108_;
	gboolean _tmp109_;
	gboolean _tmp110_;
	gboolean _tmp408_ = FALSE;
	BalaProperty* _tmp409_;
	gboolean _tmp410_;
	gboolean _tmp411_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (acc != NULL);
	_tmp0_ = bala_ccode_base_module_emit_context_new ((BalaSymbol*) acc);
	_tmp1_ = _tmp0_;
	bala_ccode_base_module_push_context (self, _tmp1_);
	_bala_ccode_base_module_emit_context_unref0 (_tmp1_);
	_tmp2_ = bala_code_node_get_source_reference ((BalaCodeNode*) acc);
	_tmp3_ = _tmp2_;
	bala_ccode_base_module_push_line (self, _tmp3_);
	_tmp4_ = bala_property_accessor_get_prop (acc);
	_tmp5_ = _tmp4_;
	_tmp6_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, BALA_TYPE_PROPERTY, BalaProperty));
	prop = _tmp6_;
	_tmp7_ = bala_symbol_get_comment ((BalaSymbol*) acc);
	_tmp8_ = _tmp7_;
	if (_tmp8_ != NULL) {
		BalaCCodeFile* _tmp9_;
		BalaComment* _tmp10_;
		BalaComment* _tmp11_;
		const gchar* _tmp12_;
		const gchar* _tmp13_;
		BalaCCodeComment* _tmp14_;
		BalaCCodeComment* _tmp15_;
		_tmp9_ = self->cfile;
		_tmp10_ = bala_symbol_get_comment ((BalaSymbol*) acc);
		_tmp11_ = _tmp10_;
		_tmp12_ = bala_comment_get_content (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = bala_ccode_comment_new (_tmp13_);
		_tmp15_ = _tmp14_;
		bala_ccode_file_add_type_member_definition (_tmp9_, (BalaCCodeNode*) _tmp15_);
		_bala_ccode_node_unref0 (_tmp15_);
	}
	_tmp17_ = bala_property_accessor_get_readable (acc);
	_tmp18_ = _tmp17_;
	if (_tmp18_) {
		BalaProperty* _tmp19_;
		BalaDataType* _tmp20_;
		BalaDataType* _tmp21_;
		_tmp19_ = prop;
		_tmp20_ = bala_property_get_property_type (_tmp19_);
		_tmp21_ = _tmp20_;
		_tmp16_ = bala_data_type_is_real_non_null_struct_type (_tmp21_);
	} else {
		_tmp16_ = FALSE;
	}
	returns_real_struct = _tmp16_;
	_tmp22_ = bala_subroutine_get_result_var ((BalaSubroutine*) acc);
	_tmp23_ = _tmp22_;
	if (_tmp23_ != NULL) {
		BalaLocalVariable* _tmp24_;
		BalaLocalVariable* _tmp25_;
		_tmp24_ = bala_subroutine_get_result_var ((BalaSubroutine*) acc);
		_tmp25_ = _tmp24_;
		bala_code_node_accept ((BalaCodeNode*) _tmp25_, (BalaCodeVisitor*) self);
	}
	_tmp26_ = prop;
	_tmp27_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp26_);
	_tmp28_ = _tmp27_;
	_tmp29_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
	t = _tmp29_;
	_tmp32_ = prop;
	_tmp33_ = bala_property_get_is_abstract (_tmp32_);
	_tmp34_ = _tmp33_;
	if (_tmp34_) {
		_tmp31_ = TRUE;
	} else {
		BalaProperty* _tmp35_;
		gboolean _tmp36_;
		gboolean _tmp37_;
		_tmp35_ = prop;
		_tmp36_ = bala_property_get_is_virtual (_tmp35_);
		_tmp37_ = _tmp36_;
		_tmp31_ = _tmp37_;
	}
	if (_tmp31_) {
		_tmp30_ = TRUE;
	} else {
		gboolean _tmp38_ = FALSE;
		BalaProperty* _tmp39_;
		BalaProperty* _tmp40_;
		BalaProperty* _tmp41_;
		_tmp39_ = prop;
		_tmp40_ = bala_property_get_base_property (_tmp39_);
		_tmp41_ = _tmp40_;
		if (_tmp41_ == NULL) {
			BalaProperty* _tmp42_;
			BalaProperty* _tmp43_;
			BalaProperty* _tmp44_;
			_tmp42_ = prop;
			_tmp43_ = bala_property_get_base_interface_property (_tmp42_);
			_tmp44_ = _tmp43_;
			_tmp38_ = _tmp44_ == NULL;
		} else {
			_tmp38_ = FALSE;
		}
		_tmp30_ = _tmp38_;
	}
	if (_tmp30_) {
		BalaCCodeFile* _tmp45_;
		gboolean _tmp46_ = FALSE;
		gboolean _tmp47_;
		gboolean _tmp48_;
		_tmp45_ = self->cfile;
		bala_ccode_base_module_generate_property_accessor_declaration (self, acc, _tmp45_);
		_tmp47_ = bala_property_accessor_get_readable (acc);
		_tmp48_ = _tmp47_;
		if (_tmp48_) {
			_tmp46_ = TRUE;
		} else {
			gboolean _tmp49_;
			gboolean _tmp50_;
			_tmp49_ = bala_property_accessor_get_writable (acc);
			_tmp50_ = _tmp49_;
			_tmp46_ = _tmp50_;
		}
		if (_tmp46_) {
			gboolean _tmp51_ = FALSE;
			BalaProperty* _tmp52_;
			gboolean _tmp59_ = FALSE;
			BalaProperty* _tmp60_;
			_tmp52_ = prop;
			if (!bala_symbol_is_internal_symbol ((BalaSymbol*) _tmp52_)) {
				gboolean _tmp53_ = FALSE;
				BalaSymbolAccessibility _tmp54_;
				BalaSymbolAccessibility _tmp55_;
				_tmp54_ = bala_symbol_get_access ((BalaSymbol*) acc);
				_tmp55_ = _tmp54_;
				if (_tmp55_ == BALA_SYMBOL_ACCESSIBILITY_PUBLIC) {
					_tmp53_ = TRUE;
				} else {
					BalaSymbolAccessibility _tmp56_;
					BalaSymbolAccessibility _tmp57_;
					_tmp56_ = bala_symbol_get_access ((BalaSymbol*) acc);
					_tmp57_ = _tmp56_;
					_tmp53_ = _tmp57_ == BALA_SYMBOL_ACCESSIBILITY_PROTECTED;
				}
				_tmp51_ = _tmp53_;
			} else {
				_tmp51_ = FALSE;
			}
			if (_tmp51_) {
				BalaCCodeFile* _tmp58_;
				_tmp58_ = self->header_file;
				bala_ccode_base_module_generate_property_accessor_declaration (self, acc, _tmp58_);
			}
			_tmp60_ = prop;
			if (!bala_symbol_is_private_symbol ((BalaSymbol*) _tmp60_)) {
				BalaSymbolAccessibility _tmp61_;
				BalaSymbolAccessibility _tmp62_;
				_tmp61_ = bala_symbol_get_access ((BalaSymbol*) acc);
				_tmp62_ = _tmp61_;
				_tmp59_ = _tmp62_ != BALA_SYMBOL_ACCESSIBILITY_PRIVATE;
			} else {
				_tmp59_ = FALSE;
			}
			if (_tmp59_) {
				BalaCCodeFile* _tmp63_;
				_tmp63_ = self->internal_header_file;
				bala_ccode_base_module_generate_property_accessor_declaration (self, acc, _tmp63_);
			}
		}
	}
	_tmp64_ = bala_symbol_get_source_type ((BalaSymbol*) acc);
	_tmp65_ = _tmp64_;
	if (_tmp65_ == BALA_SOURCE_FILE_TYPE_FAST) {
		bala_ccode_base_module_pop_line (self);
		bala_ccode_base_module_pop_context (self);
		_bala_code_node_unref0 (t);
		_bala_code_node_unref0 (prop);
		return;
	}
	_tmp66_ = t;
	_tmp67_ = bala_semantic_analyzer_get_data_type_for_symbol ((BalaSymbol*) _tmp66_);
	this_type = _tmp67_;
	_tmp68_ = this_type;
	_tmp69_ = bala_get_ccode_name ((BalaCodeNode*) _tmp68_);
	_tmp70_ = _tmp69_;
	_tmp71_ = bala_ccode_parameter_new ("self", _tmp70_);
	_tmp72_ = _tmp71_;
	_g_free0 (_tmp70_);
	cselfparam = _tmp72_;
	_tmp74_ = t;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp74_, BALA_TYPE_STRUCT)) {
		BalaTypeSymbol* _tmp75_;
		_tmp75_ = t;
		_tmp73_ = !bala_struct_is_simple_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp75_, BALA_TYPE_STRUCT, BalaStruct));
	} else {
		_tmp73_ = FALSE;
	}
	if (_tmp73_) {
		BalaCCodeParameter* _tmp76_;
		BalaCCodeParameter* _tmp77_;
		const gchar* _tmp78_;
		const gchar* _tmp79_;
		gchar* _tmp80_;
		gchar* _tmp81_;
		_tmp76_ = cselfparam;
		_tmp77_ = cselfparam;
		_tmp78_ = bala_ccode_parameter_get_type_name (_tmp77_);
		_tmp79_ = _tmp78_;
		_tmp80_ = g_strconcat (_tmp79_, "*", NULL);
		_tmp81_ = _tmp80_;
		bala_ccode_parameter_set_type_name (_tmp77_, _tmp81_);
		_g_free0 (_tmp81_);
	}
	if (returns_real_struct) {
		BalaDataType* _tmp82_;
		BalaDataType* _tmp83_;
		gchar* _tmp84_;
		gchar* _tmp85_;
		gchar* _tmp86_;
		gchar* _tmp87_;
		BalaCCodeParameter* _tmp88_;
		_tmp82_ = bala_property_accessor_get_value_type (acc);
		_tmp83_ = _tmp82_;
		_tmp84_ = bala_get_ccode_name ((BalaCodeNode*) _tmp83_);
		_tmp85_ = _tmp84_;
		_tmp86_ = g_strdup_printf ("%s *", _tmp85_);
		_tmp87_ = _tmp86_;
		_tmp88_ = bala_ccode_parameter_new ("result", _tmp87_);
		_bala_ccode_node_unref0 (cvalueparam);
		cvalueparam = _tmp88_;
		_g_free0 (_tmp87_);
		_g_free0 (_tmp85_);
	} else {
		gboolean _tmp89_ = FALSE;
		gboolean _tmp90_;
		gboolean _tmp91_;
		_tmp90_ = bala_property_accessor_get_readable (acc);
		_tmp91_ = _tmp90_;
		if (!_tmp91_) {
			BalaProperty* _tmp92_;
			BalaDataType* _tmp93_;
			BalaDataType* _tmp94_;
			_tmp92_ = prop;
			_tmp93_ = bala_property_get_property_type (_tmp92_);
			_tmp94_ = _tmp93_;
			_tmp89_ = bala_data_type_is_real_non_null_struct_type (_tmp94_);
		} else {
			_tmp89_ = FALSE;
		}
		if (_tmp89_) {
			BalaDataType* _tmp95_;
			BalaDataType* _tmp96_;
			gchar* _tmp97_;
			gchar* _tmp98_;
			gchar* _tmp99_;
			gchar* _tmp100_;
			BalaCCodeParameter* _tmp101_;
			_tmp95_ = bala_property_accessor_get_value_type (acc);
			_tmp96_ = _tmp95_;
			_tmp97_ = bala_get_ccode_name ((BalaCodeNode*) _tmp96_);
			_tmp98_ = _tmp97_;
			_tmp99_ = g_strdup_printf ("%s *", _tmp98_);
			_tmp100_ = _tmp99_;
			_tmp101_ = bala_ccode_parameter_new ("value", _tmp100_);
			_bala_ccode_node_unref0 (cvalueparam);
			cvalueparam = _tmp101_;
			_g_free0 (_tmp100_);
			_g_free0 (_tmp98_);
		} else {
			BalaDataType* _tmp102_;
			BalaDataType* _tmp103_;
			gchar* _tmp104_;
			gchar* _tmp105_;
			BalaCCodeParameter* _tmp106_;
			_tmp102_ = bala_property_accessor_get_value_type (acc);
			_tmp103_ = _tmp102_;
			_tmp104_ = bala_get_ccode_name ((BalaCodeNode*) _tmp103_);
			_tmp105_ = _tmp104_;
			_tmp106_ = bala_ccode_parameter_new ("value", _tmp105_);
			_bala_ccode_node_unref0 (cvalueparam);
			cvalueparam = _tmp106_;
			_g_free0 (_tmp105_);
		}
	}
	_tmp108_ = prop;
	_tmp109_ = bala_property_get_is_abstract (_tmp108_);
	_tmp110_ = _tmp109_;
	if (_tmp110_) {
		_tmp107_ = TRUE;
	} else {
		BalaProperty* _tmp111_;
		gboolean _tmp112_;
		gboolean _tmp113_;
		_tmp111_ = prop;
		_tmp112_ = bala_property_get_is_virtual (_tmp111_);
		_tmp113_ = _tmp112_;
		_tmp107_ = _tmp113_;
	}
	if (_tmp107_) {
		BalaCCodeFunction* function = NULL;
		gboolean _tmp114_ = FALSE;
		gboolean _tmp115_;
		gboolean _tmp116_;
		BalaCCodeFunction* _tmp127_;
		BalaCCodeParameter* _tmp128_;
		gboolean _tmp129_ = FALSE;
		gboolean _tmp130_ = FALSE;
		gboolean _tmp131_;
		gboolean _tmp132_;
		gboolean _tmp137_ = FALSE;
		BalaDataType* _tmp138_;
		BalaDataType* _tmp139_;
		gboolean _tmp209_ = FALSE;
		BalaProperty* _tmp210_;
		gboolean _tmp211_;
		gboolean _tmp212_;
		BalaCCodeFunction* _tmp239_;
		BalaProperty* _tmp240_;
		BalaMemberBinding _tmp241_;
		BalaMemberBinding _tmp242_;
		BalaCCodeExpression* vcast = NULL;
		BalaProperty* _tmp250_;
		BalaSymbol* _tmp251_;
		BalaSymbol* _tmp252_;
		gboolean _tmp283_;
		gboolean _tmp284_;
		BalaCCodeFile* _tmp406_;
		BalaCCodeFunction* _tmp407_;
		_tmp115_ = bala_property_accessor_get_readable (acc);
		_tmp116_ = _tmp115_;
		if (_tmp116_) {
			_tmp114_ = !returns_real_struct;
		} else {
			_tmp114_ = FALSE;
		}
		if (_tmp114_) {
			gchar* _tmp117_;
			gchar* _tmp118_;
			BalaDataType* _tmp119_;
			BalaDataType* _tmp120_;
			gchar* _tmp121_;
			gchar* _tmp122_;
			BalaCCodeFunction* _tmp123_;
			_tmp117_ = bala_get_ccode_name ((BalaCodeNode*) acc);
			_tmp118_ = _tmp117_;
			_tmp119_ = bala_ccode_base_module_get_current_return_type (self);
			_tmp120_ = _tmp119_;
			_tmp121_ = bala_get_ccode_name ((BalaCodeNode*) _tmp120_);
			_tmp122_ = _tmp121_;
			_tmp123_ = bala_ccode_function_new (_tmp118_, _tmp122_);
			_bala_ccode_node_unref0 (function);
			function = _tmp123_;
			_g_free0 (_tmp122_);
			_g_free0 (_tmp118_);
		} else {
			gchar* _tmp124_;
			gchar* _tmp125_;
			BalaCCodeFunction* _tmp126_;
			_tmp124_ = bala_get_ccode_name ((BalaCodeNode*) acc);
			_tmp125_ = _tmp124_;
			_tmp126_ = bala_ccode_function_new (_tmp125_, "void");
			_bala_ccode_node_unref0 (function);
			function = _tmp126_;
			_g_free0 (_tmp125_);
		}
		_tmp127_ = function;
		_tmp128_ = cselfparam;
		bala_ccode_function_add_parameter (_tmp127_, _tmp128_);
		_tmp131_ = bala_property_accessor_get_writable (acc);
		_tmp132_ = _tmp131_;
		if (_tmp132_) {
			_tmp130_ = TRUE;
		} else {
			gboolean _tmp133_;
			gboolean _tmp134_;
			_tmp133_ = bala_property_accessor_get_construction (acc);
			_tmp134_ = _tmp133_;
			_tmp130_ = _tmp134_;
		}
		if (_tmp130_) {
			_tmp129_ = TRUE;
		} else {
			_tmp129_ = returns_real_struct;
		}
		if (_tmp129_) {
			BalaCCodeFunction* _tmp135_;
			BalaCCodeParameter* _tmp136_;
			_tmp135_ = function;
			_tmp136_ = cvalueparam;
			bala_ccode_function_add_parameter (_tmp135_, _tmp136_);
		}
		_tmp138_ = bala_property_accessor_get_value_type (acc);
		_tmp139_ = _tmp138_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp139_, BALA_TYPE_ARRAY_TYPE)) {
			BalaProperty* _tmp140_;
			_tmp140_ = prop;
			_tmp137_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp140_);
		} else {
			_tmp137_ = FALSE;
		}
		if (_tmp137_) {
			BalaArrayType* array_type = NULL;
			BalaDataType* _tmp141_;
			BalaDataType* _tmp142_;
			BalaArrayType* _tmp143_;
			gchar* length_ctype = NULL;
			BalaProperty* _tmp144_;
			gchar* _tmp145_;
			_tmp141_ = bala_property_accessor_get_value_type (acc);
			_tmp142_ = _tmp141_;
			_tmp143_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp142_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			array_type = _tmp143_;
			_tmp144_ = prop;
			_tmp145_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp144_);
			length_ctype = _tmp145_;
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp146_ = FALSE;
					_tmp146_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp148_;
						gint _tmp149_;
						gint _tmp150_;
						const gchar* _tmp151_ = NULL;
						gboolean _tmp152_;
						gboolean _tmp153_;
						gchar* _tmp154_ = NULL;
						gboolean _tmp155_;
						gboolean _tmp156_;
						BalaCCodeFunction* _tmp161_;
						gchar* _tmp162_;
						gchar* _tmp163_;
						BalaCCodeParameter* _tmp164_;
						BalaCCodeParameter* _tmp165_;
						if (!_tmp146_) {
							gint _tmp147_;
							_tmp147_ = dim;
							dim = _tmp147_ + 1;
						}
						_tmp146_ = FALSE;
						_tmp148_ = array_type;
						_tmp149_ = bala_array_type_get_rank (_tmp148_);
						_tmp150_ = _tmp149_;
						if (!(dim <= _tmp150_)) {
							break;
						}
						_tmp152_ = bala_property_accessor_get_readable (acc);
						_tmp153_ = _tmp152_;
						if (_tmp153_) {
							_tmp151_ = "result";
						} else {
							_tmp151_ = "value";
						}
						_tmp155_ = bala_property_accessor_get_readable (acc);
						_tmp156_ = _tmp155_;
						if (_tmp156_) {
							const gchar* _tmp157_;
							gchar* _tmp158_;
							_tmp157_ = length_ctype;
							_tmp158_ = g_strconcat (_tmp157_, "*", NULL);
							_g_free0 (_tmp154_);
							_tmp154_ = _tmp158_;
						} else {
							const gchar* _tmp159_;
							gchar* _tmp160_;
							_tmp159_ = length_ctype;
							_tmp160_ = g_strdup (_tmp159_);
							_g_free0 (_tmp154_);
							_tmp154_ = _tmp160_;
						}
						_tmp161_ = function;
						_tmp162_ = bala_ccode_base_module_get_array_length_cname (self, _tmp151_, dim);
						_tmp163_ = _tmp162_;
						_tmp164_ = bala_ccode_parameter_new (_tmp163_, _tmp154_);
						_tmp165_ = _tmp164_;
						bala_ccode_function_add_parameter (_tmp161_, _tmp165_);
						_bala_ccode_node_unref0 (_tmp165_);
						_g_free0 (_tmp163_);
						_g_free0 (_tmp154_);
					}
				}
			}
			_g_free0 (length_ctype);
			_bala_code_node_unref0 (array_type);
		} else {
			gboolean _tmp166_ = FALSE;
			gboolean _tmp167_ = FALSE;
			BalaDataType* _tmp168_;
			BalaDataType* _tmp169_;
			_tmp168_ = bala_property_accessor_get_value_type (acc);
			_tmp169_ = _tmp168_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp169_, BALA_TYPE_DELEGATE_TYPE)) {
				BalaProperty* _tmp170_;
				_tmp170_ = prop;
				_tmp167_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp170_);
			} else {
				_tmp167_ = FALSE;
			}
			if (_tmp167_) {
				BalaDataType* _tmp171_;
				BalaDataType* _tmp172_;
				BalaDelegate* _tmp173_;
				BalaDelegate* _tmp174_;
				gboolean _tmp175_;
				gboolean _tmp176_;
				_tmp171_ = bala_property_accessor_get_value_type (acc);
				_tmp172_ = _tmp171_;
				_tmp173_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp172_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
				_tmp174_ = _tmp173_;
				_tmp175_ = bala_delegate_get_has_target (_tmp174_);
				_tmp176_ = _tmp175_;
				_tmp166_ = _tmp176_;
			} else {
				_tmp166_ = FALSE;
			}
			if (_tmp166_) {
				const gchar* _tmp177_ = NULL;
				gboolean _tmp178_;
				gboolean _tmp179_;
				gchar* _tmp180_ = NULL;
				gboolean _tmp181_;
				gboolean _tmp182_;
				BalaCCodeFunction* _tmp189_;
				gchar* _tmp190_;
				gchar* _tmp191_;
				BalaCCodeParameter* _tmp192_;
				BalaCCodeParameter* _tmp193_;
				gboolean _tmp194_ = FALSE;
				gboolean _tmp195_;
				gboolean _tmp196_;
				_tmp178_ = bala_property_accessor_get_readable (acc);
				_tmp179_ = _tmp178_;
				if (_tmp179_) {
					_tmp177_ = "result";
				} else {
					_tmp177_ = "value";
				}
				_tmp181_ = bala_property_accessor_get_readable (acc);
				_tmp182_ = _tmp181_;
				if (_tmp182_) {
					BalaDataType* _tmp183_;
					gchar* _tmp184_;
					gchar* _tmp185_;
					gchar* _tmp186_;
					_tmp183_ = self->delegate_target_type;
					_tmp184_ = bala_get_ccode_name ((BalaCodeNode*) _tmp183_);
					_tmp185_ = _tmp184_;
					_tmp186_ = g_strconcat (_tmp185_, "*", NULL);
					_g_free0 (_tmp180_);
					_tmp180_ = _tmp186_;
					_g_free0 (_tmp185_);
				} else {
					BalaDataType* _tmp187_;
					gchar* _tmp188_;
					_tmp187_ = self->delegate_target_type;
					_tmp188_ = bala_get_ccode_name ((BalaCodeNode*) _tmp187_);
					_g_free0 (_tmp180_);
					_tmp180_ = _tmp188_;
				}
				_tmp189_ = function;
				_tmp190_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp177_);
				_tmp191_ = _tmp190_;
				_tmp192_ = bala_ccode_parameter_new (_tmp191_, _tmp180_);
				_tmp193_ = _tmp192_;
				bala_ccode_function_add_parameter (_tmp189_, _tmp193_);
				_bala_ccode_node_unref0 (_tmp193_);
				_g_free0 (_tmp191_);
				_tmp195_ = bala_property_accessor_get_readable (acc);
				_tmp196_ = _tmp195_;
				if (!_tmp196_) {
					BalaDataType* _tmp197_;
					BalaDataType* _tmp198_;
					gboolean _tmp199_;
					gboolean _tmp200_;
					_tmp197_ = bala_property_accessor_get_value_type (acc);
					_tmp198_ = _tmp197_;
					_tmp199_ = bala_data_type_get_value_owned (_tmp198_);
					_tmp200_ = _tmp199_;
					_tmp194_ = _tmp200_;
				} else {
					_tmp194_ = FALSE;
				}
				if (_tmp194_) {
					BalaCCodeFunction* _tmp201_;
					gchar* _tmp202_;
					gchar* _tmp203_;
					BalaDelegateType* _tmp204_;
					gchar* _tmp205_;
					gchar* _tmp206_;
					BalaCCodeParameter* _tmp207_;
					BalaCCodeParameter* _tmp208_;
					_tmp201_ = function;
					_tmp202_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, "value");
					_tmp203_ = _tmp202_;
					_tmp204_ = self->delegate_target_destroy_type;
					_tmp205_ = bala_get_ccode_name ((BalaCodeNode*) _tmp204_);
					_tmp206_ = _tmp205_;
					_tmp207_ = bala_ccode_parameter_new (_tmp203_, _tmp206_);
					_tmp208_ = _tmp207_;
					bala_ccode_function_add_parameter (_tmp201_, _tmp208_);
					_bala_ccode_node_unref0 (_tmp208_);
					_g_free0 (_tmp206_);
					_g_free0 (_tmp203_);
				}
				_g_free0 (_tmp180_);
			}
		}
		_tmp210_ = prop;
		_tmp211_ = bala_property_get_is_abstract (_tmp210_);
		_tmp212_ = _tmp211_;
		if (!_tmp212_) {
			gboolean _tmp213_ = FALSE;
			gboolean _tmp214_ = FALSE;
			BalaProperty* _tmp215_;
			_tmp215_ = prop;
			if (bala_symbol_is_private_symbol ((BalaSymbol*) _tmp215_)) {
				_tmp214_ = TRUE;
			} else {
				gboolean _tmp216_ = FALSE;
				gboolean _tmp217_;
				gboolean _tmp218_;
				_tmp217_ = bala_property_accessor_get_readable (acc);
				_tmp218_ = _tmp217_;
				if (_tmp218_) {
					_tmp216_ = TRUE;
				} else {
					gboolean _tmp219_;
					gboolean _tmp220_;
					_tmp219_ = bala_property_accessor_get_writable (acc);
					_tmp220_ = _tmp219_;
					_tmp216_ = _tmp220_;
				}
				_tmp214_ = !_tmp216_;
			}
			if (_tmp214_) {
				_tmp213_ = TRUE;
			} else {
				BalaSymbolAccessibility _tmp221_;
				BalaSymbolAccessibility _tmp222_;
				_tmp221_ = bala_symbol_get_access ((BalaSymbol*) acc);
				_tmp222_ = _tmp221_;
				_tmp213_ = _tmp222_ == BALA_SYMBOL_ACCESSIBILITY_PRIVATE;
			}
			_tmp209_ = _tmp213_;
		} else {
			_tmp209_ = FALSE;
		}
		if (_tmp209_) {
			BalaCCodeFunction* _tmp223_;
			BalaCCodeFunction* _tmp224_;
			BalaCCodeModifiers _tmp225_;
			BalaCCodeModifiers _tmp226_;
			_tmp223_ = function;
			_tmp224_ = function;
			_tmp225_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp224_);
			_tmp226_ = _tmp225_;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp224_, _tmp226_ | BALA_CCODE_MODIFIERS_STATIC);
		} else {
			gboolean _tmp227_ = FALSE;
			BalaCodeContext* _tmp228_;
			gboolean _tmp229_;
			gboolean _tmp230_;
			_tmp228_ = self->priv->_context;
			_tmp229_ = bala_code_context_get_hide_internal (_tmp228_);
			_tmp230_ = _tmp229_;
			if (_tmp230_) {
				gboolean _tmp231_ = FALSE;
				BalaProperty* _tmp232_;
				_tmp232_ = prop;
				if (bala_symbol_is_internal_symbol ((BalaSymbol*) _tmp232_)) {
					_tmp231_ = TRUE;
				} else {
					BalaSymbolAccessibility _tmp233_;
					BalaSymbolAccessibility _tmp234_;
					_tmp233_ = bala_symbol_get_access ((BalaSymbol*) acc);
					_tmp234_ = _tmp233_;
					_tmp231_ = _tmp234_ == BALA_SYMBOL_ACCESSIBILITY_INTERNAL;
				}
				_tmp227_ = _tmp231_;
			} else {
				_tmp227_ = FALSE;
			}
			if (_tmp227_) {
				BalaCCodeFunction* _tmp235_;
				BalaCCodeFunction* _tmp236_;
				BalaCCodeModifiers _tmp237_;
				BalaCCodeModifiers _tmp238_;
				_tmp235_ = function;
				_tmp236_ = function;
				_tmp237_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp236_);
				_tmp238_ = _tmp237_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp236_, _tmp238_ | BALA_CCODE_MODIFIERS_INTERNAL);
			}
		}
		_tmp239_ = function;
		bala_ccode_base_module_push_function (self, _tmp239_);
		_tmp240_ = prop;
		_tmp241_ = bala_property_get_binding (_tmp240_);
		_tmp242_ = _tmp241_;
		if (_tmp242_ == BALA_MEMBER_BINDING_INSTANCE) {
			gboolean _tmp243_ = FALSE;
			gboolean _tmp244_;
			gboolean _tmp245_;
			_tmp244_ = bala_property_accessor_get_readable (acc);
			_tmp245_ = _tmp244_;
			if (!_tmp245_) {
				_tmp243_ = TRUE;
			} else {
				_tmp243_ = returns_real_struct;
			}
			if (_tmp243_) {
				BalaProperty* _tmp246_;
				BalaTypeSymbol* _tmp247_;
				_tmp246_ = prop;
				_tmp247_ = t;
				bala_ccode_base_module_create_property_type_check_statement (self, _tmp246_, FALSE, _tmp247_, TRUE, "self");
			} else {
				BalaProperty* _tmp248_;
				BalaTypeSymbol* _tmp249_;
				_tmp248_ = prop;
				_tmp249_ = t;
				bala_ccode_base_module_create_property_type_check_statement (self, _tmp248_, TRUE, _tmp249_, TRUE, "self");
			}
		}
		_tmp250_ = prop;
		_tmp251_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp250_);
		_tmp252_ = _tmp251_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp252_, BALA_TYPE_INTERFACE)) {
			BalaInterface* iface = NULL;
			BalaProperty* _tmp253_;
			BalaSymbol* _tmp254_;
			BalaSymbol* _tmp255_;
			BalaInterface* _tmp256_;
			BalaInterface* _tmp257_;
			gchar* _tmp258_;
			gchar* _tmp259_;
			BalaCCodeIdentifier* _tmp260_;
			BalaCCodeIdentifier* _tmp261_;
			BalaCCodeFunctionCall* _tmp262_;
			BalaCCodeExpression* _tmp263_;
			BalaCCodeIdentifier* _tmp264_;
			BalaCCodeIdentifier* _tmp265_;
			_tmp253_ = prop;
			_tmp254_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp253_);
			_tmp255_ = _tmp254_;
			_tmp256_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp255_, BALA_TYPE_INTERFACE, BalaInterface));
			iface = _tmp256_;
			_tmp257_ = iface;
			_tmp258_ = bala_get_ccode_type_get_function ((BalaObjectTypeSymbol*) _tmp257_);
			_tmp259_ = _tmp258_;
			_tmp260_ = bala_ccode_identifier_new (_tmp259_);
			_tmp261_ = _tmp260_;
			_tmp262_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp261_);
			_bala_ccode_node_unref0 (vcast);
			vcast = (BalaCCodeExpression*) _tmp262_;
			_bala_ccode_node_unref0 (_tmp261_);
			_g_free0 (_tmp259_);
			_tmp263_ = vcast;
			_tmp264_ = bala_ccode_identifier_new ("self");
			_tmp265_ = _tmp264_;
			bala_ccode_function_call_add_argument (G_TYPE_CHECK_INSTANCE_CAST (_tmp263_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall), (BalaCCodeExpression*) _tmp265_);
			_bala_ccode_node_unref0 (_tmp265_);
			_bala_code_node_unref0 (iface);
		} else {
			BalaClass* cl = NULL;
			BalaProperty* _tmp266_;
			BalaSymbol* _tmp267_;
			BalaSymbol* _tmp268_;
			BalaClass* _tmp269_;
			BalaClass* _tmp270_;
			gboolean _tmp271_;
			gboolean _tmp272_;
			_tmp266_ = prop;
			_tmp267_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp266_);
			_tmp268_ = _tmp267_;
			_tmp269_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp268_, BALA_TYPE_CLASS, BalaClass));
			cl = _tmp269_;
			_tmp270_ = cl;
			_tmp271_ = bala_class_get_is_compact (_tmp270_);
			_tmp272_ = _tmp271_;
			if (!_tmp272_) {
				BalaClass* _tmp273_;
				gchar* _tmp274_;
				gchar* _tmp275_;
				BalaCCodeIdentifier* _tmp276_;
				BalaCCodeIdentifier* _tmp277_;
				BalaCCodeFunctionCall* _tmp278_;
				BalaCCodeExpression* _tmp279_;
				BalaCCodeIdentifier* _tmp280_;
				BalaCCodeIdentifier* _tmp281_;
				_tmp273_ = cl;
				_tmp274_ = bala_get_ccode_type_get_function ((BalaObjectTypeSymbol*) _tmp273_);
				_tmp275_ = _tmp274_;
				_tmp276_ = bala_ccode_identifier_new (_tmp275_);
				_tmp277_ = _tmp276_;
				_tmp278_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp277_);
				_bala_ccode_node_unref0 (vcast);
				vcast = (BalaCCodeExpression*) _tmp278_;
				_bala_ccode_node_unref0 (_tmp277_);
				_g_free0 (_tmp275_);
				_tmp279_ = vcast;
				_tmp280_ = bala_ccode_identifier_new ("self");
				_tmp281_ = _tmp280_;
				bala_ccode_function_call_add_argument (G_TYPE_CHECK_INSTANCE_CAST (_tmp279_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall), (BalaCCodeExpression*) _tmp281_);
				_bala_ccode_node_unref0 (_tmp281_);
			} else {
				BalaCCodeIdentifier* _tmp282_;
				_tmp282_ = bala_ccode_identifier_new ("self");
				_bala_ccode_node_unref0 (vcast);
				vcast = (BalaCCodeExpression*) _tmp282_;
			}
			_bala_code_node_unref0 (cl);
		}
		_tmp283_ = bala_property_accessor_get_readable (acc);
		_tmp284_ = _tmp283_;
		if (_tmp284_) {
			BalaCCodeFunctionCall* vcall = NULL;
			BalaCCodeExpression* _tmp285_;
			BalaProperty* _tmp286_;
			const gchar* _tmp287_;
			const gchar* _tmp288_;
			gchar* _tmp289_;
			gchar* _tmp290_;
			BalaCCodeMemberAccess* _tmp291_;
			BalaCCodeMemberAccess* _tmp292_;
			BalaCCodeFunctionCall* _tmp293_;
			BalaCCodeFunctionCall* _tmp294_;
			BalaCCodeFunctionCall* _tmp295_;
			BalaCCodeIdentifier* _tmp296_;
			BalaCCodeIdentifier* _tmp297_;
			_tmp285_ = vcast;
			_tmp286_ = prop;
			_tmp287_ = bala_symbol_get_name ((BalaSymbol*) _tmp286_);
			_tmp288_ = _tmp287_;
			_tmp289_ = g_strdup_printf ("get_%s", _tmp288_);
			_tmp290_ = _tmp289_;
			_tmp291_ = bala_ccode_member_access_new_pointer (_tmp285_, _tmp290_);
			_tmp292_ = _tmp291_;
			_tmp293_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp292_);
			_tmp294_ = _tmp293_;
			_bala_ccode_node_unref0 (_tmp292_);
			_g_free0 (_tmp290_);
			vcall = _tmp294_;
			_tmp295_ = vcall;
			_tmp296_ = bala_ccode_identifier_new ("self");
			_tmp297_ = _tmp296_;
			bala_ccode_function_call_add_argument (_tmp295_, (BalaCCodeExpression*) _tmp297_);
			_bala_ccode_node_unref0 (_tmp297_);
			if (returns_real_struct) {
				BalaCCodeFunctionCall* _tmp298_;
				BalaCCodeIdentifier* _tmp299_;
				BalaCCodeIdentifier* _tmp300_;
				BalaCCodeFunction* _tmp301_;
				BalaCCodeFunction* _tmp302_;
				BalaCCodeFunctionCall* _tmp303_;
				_tmp298_ = vcall;
				_tmp299_ = bala_ccode_identifier_new ("result");
				_tmp300_ = _tmp299_;
				bala_ccode_function_call_add_argument (_tmp298_, (BalaCCodeExpression*) _tmp300_);
				_bala_ccode_node_unref0 (_tmp300_);
				_tmp301_ = bala_ccode_base_module_get_ccode (self);
				_tmp302_ = _tmp301_;
				_tmp303_ = vcall;
				bala_ccode_function_add_expression (_tmp302_, (BalaCCodeExpression*) _tmp303_);
			} else {
				gboolean _tmp304_ = FALSE;
				BalaDataType* _tmp305_;
				BalaDataType* _tmp306_;
				BalaCCodeFunction* _tmp338_;
				BalaCCodeFunction* _tmp339_;
				BalaCCodeFunctionCall* _tmp340_;
				_tmp305_ = bala_property_accessor_get_value_type (acc);
				_tmp306_ = _tmp305_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp306_, BALA_TYPE_ARRAY_TYPE)) {
					BalaProperty* _tmp307_;
					_tmp307_ = prop;
					_tmp304_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp307_);
				} else {
					_tmp304_ = FALSE;
				}
				if (_tmp304_) {
					BalaArrayType* array_type = NULL;
					BalaDataType* _tmp308_;
					BalaDataType* _tmp309_;
					BalaArrayType* _tmp310_;
					_tmp308_ = bala_property_accessor_get_value_type (acc);
					_tmp309_ = _tmp308_;
					_tmp310_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp309_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
					array_type = _tmp310_;
					{
						gint dim = 0;
						dim = 1;
						{
							gboolean _tmp311_ = FALSE;
							_tmp311_ = TRUE;
							while (TRUE) {
								BalaArrayType* _tmp313_;
								gint _tmp314_;
								gint _tmp315_;
								BalaCCodeIdentifier* len_expr = NULL;
								gchar* _tmp316_;
								gchar* _tmp317_;
								BalaCCodeIdentifier* _tmp318_;
								BalaCCodeIdentifier* _tmp319_;
								BalaCCodeFunctionCall* _tmp320_;
								BalaCCodeIdentifier* _tmp321_;
								if (!_tmp311_) {
									gint _tmp312_;
									_tmp312_ = dim;
									dim = _tmp312_ + 1;
								}
								_tmp311_ = FALSE;
								_tmp313_ = array_type;
								_tmp314_ = bala_array_type_get_rank (_tmp313_);
								_tmp315_ = _tmp314_;
								if (!(dim <= _tmp315_)) {
									break;
								}
								_tmp316_ = bala_ccode_base_module_get_array_length_cname (self, "result", dim);
								_tmp317_ = _tmp316_;
								_tmp318_ = bala_ccode_identifier_new (_tmp317_);
								_tmp319_ = _tmp318_;
								_g_free0 (_tmp317_);
								len_expr = _tmp319_;
								_tmp320_ = vcall;
								_tmp321_ = len_expr;
								bala_ccode_function_call_add_argument (_tmp320_, (BalaCCodeExpression*) _tmp321_);
								_bala_ccode_node_unref0 (len_expr);
							}
						}
					}
					_bala_code_node_unref0 (array_type);
				} else {
					gboolean _tmp322_ = FALSE;
					gboolean _tmp323_ = FALSE;
					BalaDataType* _tmp324_;
					BalaDataType* _tmp325_;
					_tmp324_ = bala_property_accessor_get_value_type (acc);
					_tmp325_ = _tmp324_;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp325_, BALA_TYPE_DELEGATE_TYPE)) {
						BalaProperty* _tmp326_;
						_tmp326_ = prop;
						_tmp323_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp326_);
					} else {
						_tmp323_ = FALSE;
					}
					if (_tmp323_) {
						BalaDataType* _tmp327_;
						BalaDataType* _tmp328_;
						BalaDelegate* _tmp329_;
						BalaDelegate* _tmp330_;
						gboolean _tmp331_;
						gboolean _tmp332_;
						_tmp327_ = bala_property_accessor_get_value_type (acc);
						_tmp328_ = _tmp327_;
						_tmp329_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp328_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
						_tmp330_ = _tmp329_;
						_tmp331_ = bala_delegate_get_has_target (_tmp330_);
						_tmp332_ = _tmp331_;
						_tmp322_ = _tmp332_;
					} else {
						_tmp322_ = FALSE;
					}
					if (_tmp322_) {
						BalaCCodeFunctionCall* _tmp333_;
						gchar* _tmp334_;
						gchar* _tmp335_;
						BalaCCodeIdentifier* _tmp336_;
						BalaCCodeIdentifier* _tmp337_;
						_tmp333_ = vcall;
						_tmp334_ = bala_ccode_base_module_get_delegate_target_cname (self, "result");
						_tmp335_ = _tmp334_;
						_tmp336_ = bala_ccode_identifier_new (_tmp335_);
						_tmp337_ = _tmp336_;
						bala_ccode_function_call_add_argument (_tmp333_, (BalaCCodeExpression*) _tmp337_);
						_bala_ccode_node_unref0 (_tmp337_);
						_g_free0 (_tmp335_);
					}
				}
				_tmp338_ = bala_ccode_base_module_get_ccode (self);
				_tmp339_ = _tmp338_;
				_tmp340_ = vcall;
				bala_ccode_function_add_return (_tmp339_, (BalaCCodeExpression*) _tmp340_);
			}
			_bala_ccode_node_unref0 (vcall);
		} else {
			BalaCCodeFunctionCall* vcall = NULL;
			BalaCCodeExpression* _tmp341_;
			BalaProperty* _tmp342_;
			const gchar* _tmp343_;
			const gchar* _tmp344_;
			gchar* _tmp345_;
			gchar* _tmp346_;
			BalaCCodeMemberAccess* _tmp347_;
			BalaCCodeMemberAccess* _tmp348_;
			BalaCCodeFunctionCall* _tmp349_;
			BalaCCodeFunctionCall* _tmp350_;
			BalaCCodeFunctionCall* _tmp351_;
			BalaCCodeIdentifier* _tmp352_;
			BalaCCodeIdentifier* _tmp353_;
			BalaCCodeFunctionCall* _tmp354_;
			BalaCCodeIdentifier* _tmp355_;
			BalaCCodeIdentifier* _tmp356_;
			gboolean _tmp357_ = FALSE;
			BalaDataType* _tmp358_;
			BalaDataType* _tmp359_;
			BalaCCodeFunction* _tmp403_;
			BalaCCodeFunction* _tmp404_;
			BalaCCodeFunctionCall* _tmp405_;
			_tmp341_ = vcast;
			_tmp342_ = prop;
			_tmp343_ = bala_symbol_get_name ((BalaSymbol*) _tmp342_);
			_tmp344_ = _tmp343_;
			_tmp345_ = g_strdup_printf ("set_%s", _tmp344_);
			_tmp346_ = _tmp345_;
			_tmp347_ = bala_ccode_member_access_new_pointer (_tmp341_, _tmp346_);
			_tmp348_ = _tmp347_;
			_tmp349_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp348_);
			_tmp350_ = _tmp349_;
			_bala_ccode_node_unref0 (_tmp348_);
			_g_free0 (_tmp346_);
			vcall = _tmp350_;
			_tmp351_ = vcall;
			_tmp352_ = bala_ccode_identifier_new ("self");
			_tmp353_ = _tmp352_;
			bala_ccode_function_call_add_argument (_tmp351_, (BalaCCodeExpression*) _tmp353_);
			_bala_ccode_node_unref0 (_tmp353_);
			_tmp354_ = vcall;
			_tmp355_ = bala_ccode_identifier_new ("value");
			_tmp356_ = _tmp355_;
			bala_ccode_function_call_add_argument (_tmp354_, (BalaCCodeExpression*) _tmp356_);
			_bala_ccode_node_unref0 (_tmp356_);
			_tmp358_ = bala_property_accessor_get_value_type (acc);
			_tmp359_ = _tmp358_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp359_, BALA_TYPE_ARRAY_TYPE)) {
				BalaProperty* _tmp360_;
				_tmp360_ = prop;
				_tmp357_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp360_);
			} else {
				_tmp357_ = FALSE;
			}
			if (_tmp357_) {
				BalaArrayType* array_type = NULL;
				BalaDataType* _tmp361_;
				BalaDataType* _tmp362_;
				BalaArrayType* _tmp363_;
				_tmp361_ = bala_property_accessor_get_value_type (acc);
				_tmp362_ = _tmp361_;
				_tmp363_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp362_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
				array_type = _tmp363_;
				{
					gint dim = 0;
					dim = 1;
					{
						gboolean _tmp364_ = FALSE;
						_tmp364_ = TRUE;
						while (TRUE) {
							BalaArrayType* _tmp366_;
							gint _tmp367_;
							gint _tmp368_;
							BalaCCodeIdentifier* len_expr = NULL;
							gchar* _tmp369_;
							gchar* _tmp370_;
							BalaCCodeIdentifier* _tmp371_;
							BalaCCodeIdentifier* _tmp372_;
							BalaCCodeFunctionCall* _tmp373_;
							BalaCCodeIdentifier* _tmp374_;
							if (!_tmp364_) {
								gint _tmp365_;
								_tmp365_ = dim;
								dim = _tmp365_ + 1;
							}
							_tmp364_ = FALSE;
							_tmp366_ = array_type;
							_tmp367_ = bala_array_type_get_rank (_tmp366_);
							_tmp368_ = _tmp367_;
							if (!(dim <= _tmp368_)) {
								break;
							}
							_tmp369_ = bala_ccode_base_module_get_array_length_cname (self, "value", dim);
							_tmp370_ = _tmp369_;
							_tmp371_ = bala_ccode_identifier_new (_tmp370_);
							_tmp372_ = _tmp371_;
							_g_free0 (_tmp370_);
							len_expr = _tmp372_;
							_tmp373_ = vcall;
							_tmp374_ = len_expr;
							bala_ccode_function_call_add_argument (_tmp373_, (BalaCCodeExpression*) _tmp374_);
							_bala_ccode_node_unref0 (len_expr);
						}
					}
				}
				_bala_code_node_unref0 (array_type);
			} else {
				gboolean _tmp375_ = FALSE;
				gboolean _tmp376_ = FALSE;
				BalaDataType* _tmp377_;
				BalaDataType* _tmp378_;
				_tmp377_ = bala_property_accessor_get_value_type (acc);
				_tmp378_ = _tmp377_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp378_, BALA_TYPE_DELEGATE_TYPE)) {
					BalaProperty* _tmp379_;
					_tmp379_ = prop;
					_tmp376_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp379_);
				} else {
					_tmp376_ = FALSE;
				}
				if (_tmp376_) {
					BalaDataType* _tmp380_;
					BalaDataType* _tmp381_;
					BalaDelegate* _tmp382_;
					BalaDelegate* _tmp383_;
					gboolean _tmp384_;
					gboolean _tmp385_;
					_tmp380_ = bala_property_accessor_get_value_type (acc);
					_tmp381_ = _tmp380_;
					_tmp382_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp381_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
					_tmp383_ = _tmp382_;
					_tmp384_ = bala_delegate_get_has_target (_tmp383_);
					_tmp385_ = _tmp384_;
					_tmp375_ = _tmp385_;
				} else {
					_tmp375_ = FALSE;
				}
				if (_tmp375_) {
					BalaCCodeFunctionCall* _tmp386_;
					gchar* _tmp387_;
					gchar* _tmp388_;
					BalaCCodeIdentifier* _tmp389_;
					BalaCCodeIdentifier* _tmp390_;
					gboolean _tmp391_ = FALSE;
					gboolean _tmp392_;
					gboolean _tmp393_;
					_tmp386_ = vcall;
					_tmp387_ = bala_ccode_base_module_get_delegate_target_cname (self, "value");
					_tmp388_ = _tmp387_;
					_tmp389_ = bala_ccode_identifier_new (_tmp388_);
					_tmp390_ = _tmp389_;
					bala_ccode_function_call_add_argument (_tmp386_, (BalaCCodeExpression*) _tmp390_);
					_bala_ccode_node_unref0 (_tmp390_);
					_g_free0 (_tmp388_);
					_tmp392_ = bala_property_accessor_get_readable (acc);
					_tmp393_ = _tmp392_;
					if (!_tmp393_) {
						BalaDataType* _tmp394_;
						BalaDataType* _tmp395_;
						gboolean _tmp396_;
						gboolean _tmp397_;
						_tmp394_ = bala_property_accessor_get_value_type (acc);
						_tmp395_ = _tmp394_;
						_tmp396_ = bala_data_type_get_value_owned (_tmp395_);
						_tmp397_ = _tmp396_;
						_tmp391_ = _tmp397_;
					} else {
						_tmp391_ = FALSE;
					}
					if (_tmp391_) {
						BalaCCodeFunctionCall* _tmp398_;
						gchar* _tmp399_;
						gchar* _tmp400_;
						BalaCCodeIdentifier* _tmp401_;
						BalaCCodeIdentifier* _tmp402_;
						_tmp398_ = vcall;
						_tmp399_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, "value");
						_tmp400_ = _tmp399_;
						_tmp401_ = bala_ccode_identifier_new (_tmp400_);
						_tmp402_ = _tmp401_;
						bala_ccode_function_call_add_argument (_tmp398_, (BalaCCodeExpression*) _tmp402_);
						_bala_ccode_node_unref0 (_tmp402_);
						_g_free0 (_tmp400_);
					}
				}
			}
			_tmp403_ = bala_ccode_base_module_get_ccode (self);
			_tmp404_ = _tmp403_;
			_tmp405_ = vcall;
			bala_ccode_function_add_expression (_tmp404_, (BalaCCodeExpression*) _tmp405_);
			_bala_ccode_node_unref0 (vcall);
		}
		bala_ccode_base_module_pop_function (self);
		_tmp406_ = self->cfile;
		_tmp407_ = function;
		bala_ccode_file_add_function (_tmp406_, _tmp407_);
		_bala_ccode_node_unref0 (vcast);
		_bala_ccode_node_unref0 (function);
	}
	_tmp409_ = prop;
	_tmp410_ = bala_property_get_is_abstract (_tmp409_);
	_tmp411_ = _tmp410_;
	if (!_tmp411_) {
		BalaBlock* _tmp412_;
		BalaBlock* _tmp413_;
		_tmp412_ = bala_subroutine_get_body ((BalaSubroutine*) acc);
		_tmp413_ = _tmp412_;
		_tmp408_ = _tmp413_ != NULL;
	} else {
		_tmp408_ = FALSE;
	}
	if (_tmp408_) {
		gboolean _tmp414_ = FALSE;
		BalaProperty* _tmp415_;
		BalaProperty* _tmp416_;
		BalaProperty* _tmp417_;
		gboolean is_virtual = FALSE;
		gchar* cname = NULL;
		gchar* _tmp421_;
		BalaCCodeFunction* function = NULL;
		gboolean _tmp422_ = FALSE;
		gboolean _tmp423_ = FALSE;
		gboolean _tmp424_;
		gboolean _tmp425_;
		BalaObjectType* base_type = NULL;
		BalaProperty* _tmp436_;
		BalaMemberBinding _tmp437_;
		BalaMemberBinding _tmp438_;
		gboolean _tmp469_ = FALSE;
		gboolean _tmp470_ = FALSE;
		gboolean _tmp471_;
		gboolean _tmp472_;
		gboolean _tmp477_ = FALSE;
		BalaDataType* _tmp478_;
		BalaDataType* _tmp479_;
		BalaCCodeFunction* _tmp575_;
		gboolean _tmp576_ = FALSE;
		BalaProperty* _tmp577_;
		BalaMemberBinding _tmp578_;
		BalaMemberBinding _tmp579_;
		gboolean _tmp587_ = FALSE;
		gboolean _tmp588_;
		gboolean _tmp589_;
		gboolean _tmp626_ = FALSE;
		gboolean _tmp627_ = FALSE;
		BalaCodeContext* _tmp628_;
		BalaSemanticAnalyzer* _tmp629_;
		BalaSemanticAnalyzer* _tmp630_;
		BalaProperty* _tmp631_;
		gboolean _tmp866_;
		gboolean _tmp867_;
		BalaCCodeFile* _tmp878_;
		BalaCCodeFunction* _tmp879_;
		_tmp415_ = prop;
		_tmp416_ = bala_property_get_base_property (_tmp415_);
		_tmp417_ = _tmp416_;
		if (_tmp417_ != NULL) {
			_tmp414_ = TRUE;
		} else {
			BalaProperty* _tmp418_;
			BalaProperty* _tmp419_;
			BalaProperty* _tmp420_;
			_tmp418_ = prop;
			_tmp419_ = bala_property_get_base_interface_property (_tmp418_);
			_tmp420_ = _tmp419_;
			_tmp414_ = _tmp420_ != NULL;
		}
		is_virtual = _tmp414_;
		_tmp421_ = bala_get_ccode_real_name ((BalaSymbol*) acc);
		cname = _tmp421_;
		_tmp424_ = bala_property_accessor_get_writable (acc);
		_tmp425_ = _tmp424_;
		if (_tmp425_) {
			_tmp423_ = TRUE;
		} else {
			gboolean _tmp426_;
			gboolean _tmp427_;
			_tmp426_ = bala_property_accessor_get_construction (acc);
			_tmp427_ = _tmp426_;
			_tmp423_ = _tmp427_;
		}
		if (_tmp423_) {
			_tmp422_ = TRUE;
		} else {
			_tmp422_ = returns_real_struct;
		}
		if (_tmp422_) {
			const gchar* _tmp428_;
			BalaCCodeFunction* _tmp429_;
			_tmp428_ = cname;
			_tmp429_ = bala_ccode_function_new (_tmp428_, "void");
			_bala_ccode_node_unref0 (function);
			function = _tmp429_;
		} else {
			const gchar* _tmp430_;
			BalaDataType* _tmp431_;
			BalaDataType* _tmp432_;
			gchar* _tmp433_;
			gchar* _tmp434_;
			BalaCCodeFunction* _tmp435_;
			_tmp430_ = cname;
			_tmp431_ = bala_property_accessor_get_value_type (acc);
			_tmp432_ = _tmp431_;
			_tmp433_ = bala_get_ccode_name ((BalaCodeNode*) _tmp432_);
			_tmp434_ = _tmp433_;
			_tmp435_ = bala_ccode_function_new (_tmp430_, _tmp434_);
			_bala_ccode_node_unref0 (function);
			function = _tmp435_;
			_g_free0 (_tmp434_);
		}
		base_type = NULL;
		_tmp436_ = prop;
		_tmp437_ = bala_property_get_binding (_tmp436_);
		_tmp438_ = _tmp437_;
		if (_tmp438_ == BALA_MEMBER_BINDING_INSTANCE) {
			if (is_virtual) {
				BalaProperty* _tmp439_;
				BalaProperty* _tmp440_;
				BalaProperty* _tmp441_;
				BalaCCodeFunction* _tmp457_;
				BalaCCodeFunction* _tmp458_;
				BalaCCodeModifiers _tmp459_;
				BalaCCodeModifiers _tmp460_;
				BalaCCodeFunction* _tmp461_;
				BalaObjectType* _tmp462_;
				gchar* _tmp463_;
				gchar* _tmp464_;
				BalaCCodeParameter* _tmp465_;
				BalaCCodeParameter* _tmp466_;
				_tmp439_ = prop;
				_tmp440_ = bala_property_get_base_property (_tmp439_);
				_tmp441_ = _tmp440_;
				if (_tmp441_ != NULL) {
					BalaProperty* _tmp442_;
					BalaProperty* _tmp443_;
					BalaProperty* _tmp444_;
					BalaSymbol* _tmp445_;
					BalaSymbol* _tmp446_;
					BalaObjectType* _tmp447_;
					_tmp442_ = prop;
					_tmp443_ = bala_property_get_base_property (_tmp442_);
					_tmp444_ = _tmp443_;
					_tmp445_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp444_);
					_tmp446_ = _tmp445_;
					_tmp447_ = bala_object_type_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp446_, BALA_TYPE_OBJECT_TYPE_SYMBOL, BalaObjectTypeSymbol));
					_bala_code_node_unref0 (base_type);
					base_type = _tmp447_;
				} else {
					BalaProperty* _tmp448_;
					BalaProperty* _tmp449_;
					BalaProperty* _tmp450_;
					_tmp448_ = prop;
					_tmp449_ = bala_property_get_base_interface_property (_tmp448_);
					_tmp450_ = _tmp449_;
					if (_tmp450_ != NULL) {
						BalaProperty* _tmp451_;
						BalaProperty* _tmp452_;
						BalaProperty* _tmp453_;
						BalaSymbol* _tmp454_;
						BalaSymbol* _tmp455_;
						BalaObjectType* _tmp456_;
						_tmp451_ = prop;
						_tmp452_ = bala_property_get_base_interface_property (_tmp451_);
						_tmp453_ = _tmp452_;
						_tmp454_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp453_);
						_tmp455_ = _tmp454_;
						_tmp456_ = bala_object_type_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp455_, BALA_TYPE_OBJECT_TYPE_SYMBOL, BalaObjectTypeSymbol));
						_bala_code_node_unref0 (base_type);
						base_type = _tmp456_;
					}
				}
				_tmp457_ = function;
				_tmp458_ = function;
				_tmp459_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp458_);
				_tmp460_ = _tmp459_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp458_, _tmp460_ | BALA_CCODE_MODIFIERS_STATIC);
				_tmp461_ = function;
				_tmp462_ = base_type;
				_tmp463_ = bala_get_ccode_name ((BalaCodeNode*) _tmp462_);
				_tmp464_ = _tmp463_;
				_tmp465_ = bala_ccode_parameter_new ("base", _tmp464_);
				_tmp466_ = _tmp465_;
				bala_ccode_function_add_parameter (_tmp461_, _tmp466_);
				_bala_ccode_node_unref0 (_tmp466_);
				_g_free0 (_tmp464_);
			} else {
				BalaCCodeFunction* _tmp467_;
				BalaCCodeParameter* _tmp468_;
				_tmp467_ = function;
				_tmp468_ = cselfparam;
				bala_ccode_function_add_parameter (_tmp467_, _tmp468_);
			}
		}
		_tmp471_ = bala_property_accessor_get_writable (acc);
		_tmp472_ = _tmp471_;
		if (_tmp472_) {
			_tmp470_ = TRUE;
		} else {
			gboolean _tmp473_;
			gboolean _tmp474_;
			_tmp473_ = bala_property_accessor_get_construction (acc);
			_tmp474_ = _tmp473_;
			_tmp470_ = _tmp474_;
		}
		if (_tmp470_) {
			_tmp469_ = TRUE;
		} else {
			_tmp469_ = returns_real_struct;
		}
		if (_tmp469_) {
			BalaCCodeFunction* _tmp475_;
			BalaCCodeParameter* _tmp476_;
			_tmp475_ = function;
			_tmp476_ = cvalueparam;
			bala_ccode_function_add_parameter (_tmp475_, _tmp476_);
		}
		_tmp478_ = bala_property_accessor_get_value_type (acc);
		_tmp479_ = _tmp478_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp479_, BALA_TYPE_ARRAY_TYPE)) {
			BalaProperty* _tmp480_;
			_tmp480_ = prop;
			_tmp477_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp480_);
		} else {
			_tmp477_ = FALSE;
		}
		if (_tmp477_) {
			BalaArrayType* array_type = NULL;
			BalaDataType* _tmp481_;
			BalaDataType* _tmp482_;
			BalaArrayType* _tmp483_;
			gchar* length_ctype = NULL;
			BalaProperty* _tmp484_;
			gchar* _tmp485_;
			_tmp481_ = bala_property_accessor_get_value_type (acc);
			_tmp482_ = _tmp481_;
			_tmp483_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp482_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			array_type = _tmp483_;
			_tmp484_ = prop;
			_tmp485_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp484_);
			length_ctype = _tmp485_;
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp486_ = FALSE;
					_tmp486_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp488_;
						gint _tmp489_;
						gint _tmp490_;
						const gchar* _tmp491_ = NULL;
						gboolean _tmp492_;
						gboolean _tmp493_;
						gchar* _tmp494_ = NULL;
						gboolean _tmp495_;
						gboolean _tmp496_;
						BalaCCodeFunction* _tmp501_;
						gchar* _tmp502_;
						gchar* _tmp503_;
						BalaCCodeParameter* _tmp504_;
						BalaCCodeParameter* _tmp505_;
						if (!_tmp486_) {
							gint _tmp487_;
							_tmp487_ = dim;
							dim = _tmp487_ + 1;
						}
						_tmp486_ = FALSE;
						_tmp488_ = array_type;
						_tmp489_ = bala_array_type_get_rank (_tmp488_);
						_tmp490_ = _tmp489_;
						if (!(dim <= _tmp490_)) {
							break;
						}
						_tmp492_ = bala_property_accessor_get_readable (acc);
						_tmp493_ = _tmp492_;
						if (_tmp493_) {
							_tmp491_ = "result";
						} else {
							_tmp491_ = "value";
						}
						_tmp495_ = bala_property_accessor_get_readable (acc);
						_tmp496_ = _tmp495_;
						if (_tmp496_) {
							const gchar* _tmp497_;
							gchar* _tmp498_;
							_tmp497_ = length_ctype;
							_tmp498_ = g_strconcat (_tmp497_, "*", NULL);
							_g_free0 (_tmp494_);
							_tmp494_ = _tmp498_;
						} else {
							const gchar* _tmp499_;
							gchar* _tmp500_;
							_tmp499_ = length_ctype;
							_tmp500_ = g_strdup (_tmp499_);
							_g_free0 (_tmp494_);
							_tmp494_ = _tmp500_;
						}
						_tmp501_ = function;
						_tmp502_ = bala_ccode_base_module_get_array_length_cname (self, _tmp491_, dim);
						_tmp503_ = _tmp502_;
						_tmp504_ = bala_ccode_parameter_new (_tmp503_, _tmp494_);
						_tmp505_ = _tmp504_;
						bala_ccode_function_add_parameter (_tmp501_, _tmp505_);
						_bala_ccode_node_unref0 (_tmp505_);
						_g_free0 (_tmp503_);
						_g_free0 (_tmp494_);
					}
				}
			}
			_g_free0 (length_ctype);
			_bala_code_node_unref0 (array_type);
		} else {
			gboolean _tmp506_ = FALSE;
			gboolean _tmp507_ = FALSE;
			BalaDataType* _tmp508_;
			BalaDataType* _tmp509_;
			_tmp508_ = bala_property_accessor_get_value_type (acc);
			_tmp509_ = _tmp508_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp509_, BALA_TYPE_DELEGATE_TYPE)) {
				BalaProperty* _tmp510_;
				_tmp510_ = prop;
				_tmp507_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp510_);
			} else {
				_tmp507_ = FALSE;
			}
			if (_tmp507_) {
				BalaDataType* _tmp511_;
				BalaDataType* _tmp512_;
				BalaDelegate* _tmp513_;
				BalaDelegate* _tmp514_;
				gboolean _tmp515_;
				gboolean _tmp516_;
				_tmp511_ = bala_property_accessor_get_value_type (acc);
				_tmp512_ = _tmp511_;
				_tmp513_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp512_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
				_tmp514_ = _tmp513_;
				_tmp515_ = bala_delegate_get_has_target (_tmp514_);
				_tmp516_ = _tmp515_;
				_tmp506_ = _tmp516_;
			} else {
				_tmp506_ = FALSE;
			}
			if (_tmp506_) {
				const gchar* _tmp517_ = NULL;
				gboolean _tmp518_;
				gboolean _tmp519_;
				gchar* _tmp520_ = NULL;
				gboolean _tmp521_;
				gboolean _tmp522_;
				BalaCCodeFunction* _tmp529_;
				gchar* _tmp530_;
				gchar* _tmp531_;
				BalaCCodeParameter* _tmp532_;
				BalaCCodeParameter* _tmp533_;
				gboolean _tmp534_ = FALSE;
				gboolean _tmp535_;
				gboolean _tmp536_;
				_tmp518_ = bala_property_accessor_get_readable (acc);
				_tmp519_ = _tmp518_;
				if (_tmp519_) {
					_tmp517_ = "result";
				} else {
					_tmp517_ = "value";
				}
				_tmp521_ = bala_property_accessor_get_readable (acc);
				_tmp522_ = _tmp521_;
				if (_tmp522_) {
					BalaDataType* _tmp523_;
					gchar* _tmp524_;
					gchar* _tmp525_;
					gchar* _tmp526_;
					_tmp523_ = self->delegate_target_type;
					_tmp524_ = bala_get_ccode_name ((BalaCodeNode*) _tmp523_);
					_tmp525_ = _tmp524_;
					_tmp526_ = g_strconcat (_tmp525_, "*", NULL);
					_g_free0 (_tmp520_);
					_tmp520_ = _tmp526_;
					_g_free0 (_tmp525_);
				} else {
					BalaDataType* _tmp527_;
					gchar* _tmp528_;
					_tmp527_ = self->delegate_target_type;
					_tmp528_ = bala_get_ccode_name ((BalaCodeNode*) _tmp527_);
					_g_free0 (_tmp520_);
					_tmp520_ = _tmp528_;
				}
				_tmp529_ = function;
				_tmp530_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp517_);
				_tmp531_ = _tmp530_;
				_tmp532_ = bala_ccode_parameter_new (_tmp531_, _tmp520_);
				_tmp533_ = _tmp532_;
				bala_ccode_function_add_parameter (_tmp529_, _tmp533_);
				_bala_ccode_node_unref0 (_tmp533_);
				_g_free0 (_tmp531_);
				_tmp535_ = bala_property_accessor_get_readable (acc);
				_tmp536_ = _tmp535_;
				if (!_tmp536_) {
					BalaDataType* _tmp537_;
					BalaDataType* _tmp538_;
					gboolean _tmp539_;
					gboolean _tmp540_;
					_tmp537_ = bala_property_accessor_get_value_type (acc);
					_tmp538_ = _tmp537_;
					_tmp539_ = bala_data_type_get_value_owned (_tmp538_);
					_tmp540_ = _tmp539_;
					_tmp534_ = _tmp540_;
				} else {
					_tmp534_ = FALSE;
				}
				if (_tmp534_) {
					BalaCCodeFunction* _tmp541_;
					gchar* _tmp542_;
					gchar* _tmp543_;
					BalaDelegateType* _tmp544_;
					gchar* _tmp545_;
					gchar* _tmp546_;
					BalaCCodeParameter* _tmp547_;
					BalaCCodeParameter* _tmp548_;
					_tmp541_ = function;
					_tmp542_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, "value");
					_tmp543_ = _tmp542_;
					_tmp544_ = self->delegate_target_destroy_type;
					_tmp545_ = bala_get_ccode_name ((BalaCodeNode*) _tmp544_);
					_tmp546_ = _tmp545_;
					_tmp547_ = bala_ccode_parameter_new (_tmp543_, _tmp546_);
					_tmp548_ = _tmp547_;
					bala_ccode_function_add_parameter (_tmp541_, _tmp548_);
					_bala_ccode_node_unref0 (_tmp548_);
					_g_free0 (_tmp546_);
					_g_free0 (_tmp543_);
				}
				_g_free0 (_tmp520_);
			}
		}
		if (!is_virtual) {
			gboolean _tmp549_ = FALSE;
			gboolean _tmp550_ = FALSE;
			BalaProperty* _tmp551_;
			_tmp551_ = prop;
			if (bala_symbol_is_private_symbol ((BalaSymbol*) _tmp551_)) {
				_tmp550_ = TRUE;
			} else {
				gboolean _tmp552_ = FALSE;
				gboolean _tmp553_;
				gboolean _tmp554_;
				_tmp553_ = bala_property_accessor_get_readable (acc);
				_tmp554_ = _tmp553_;
				if (_tmp554_) {
					_tmp552_ = TRUE;
				} else {
					gboolean _tmp555_;
					gboolean _tmp556_;
					_tmp555_ = bala_property_accessor_get_writable (acc);
					_tmp556_ = _tmp555_;
					_tmp552_ = _tmp556_;
				}
				_tmp550_ = !_tmp552_;
			}
			if (_tmp550_) {
				_tmp549_ = TRUE;
			} else {
				BalaSymbolAccessibility _tmp557_;
				BalaSymbolAccessibility _tmp558_;
				_tmp557_ = bala_symbol_get_access ((BalaSymbol*) acc);
				_tmp558_ = _tmp557_;
				_tmp549_ = _tmp558_ == BALA_SYMBOL_ACCESSIBILITY_PRIVATE;
			}
			if (_tmp549_) {
				BalaCCodeFunction* _tmp559_;
				BalaCCodeFunction* _tmp560_;
				BalaCCodeModifiers _tmp561_;
				BalaCCodeModifiers _tmp562_;
				_tmp559_ = function;
				_tmp560_ = function;
				_tmp561_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp560_);
				_tmp562_ = _tmp561_;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp560_, _tmp562_ | BALA_CCODE_MODIFIERS_STATIC);
			} else {
				gboolean _tmp563_ = FALSE;
				BalaCodeContext* _tmp564_;
				gboolean _tmp565_;
				gboolean _tmp566_;
				_tmp564_ = self->priv->_context;
				_tmp565_ = bala_code_context_get_hide_internal (_tmp564_);
				_tmp566_ = _tmp565_;
				if (_tmp566_) {
					gboolean _tmp567_ = FALSE;
					BalaProperty* _tmp568_;
					_tmp568_ = prop;
					if (bala_symbol_is_internal_symbol ((BalaSymbol*) _tmp568_)) {
						_tmp567_ = TRUE;
					} else {
						BalaSymbolAccessibility _tmp569_;
						BalaSymbolAccessibility _tmp570_;
						_tmp569_ = bala_symbol_get_access ((BalaSymbol*) acc);
						_tmp570_ = _tmp569_;
						_tmp567_ = _tmp570_ == BALA_SYMBOL_ACCESSIBILITY_INTERNAL;
					}
					_tmp563_ = _tmp567_;
				} else {
					_tmp563_ = FALSE;
				}
				if (_tmp563_) {
					BalaCCodeFunction* _tmp571_;
					BalaCCodeFunction* _tmp572_;
					BalaCCodeModifiers _tmp573_;
					BalaCCodeModifiers _tmp574_;
					_tmp571_ = function;
					_tmp572_ = function;
					_tmp573_ = bala_ccode_node_get_modifiers ((BalaCCodeNode*) _tmp572_);
					_tmp574_ = _tmp573_;
					bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp572_, _tmp574_ | BALA_CCODE_MODIFIERS_INTERNAL);
				}
			}
		}
		_tmp575_ = function;
		bala_ccode_base_module_push_function (self, _tmp575_);
		_tmp577_ = prop;
		_tmp578_ = bala_property_get_binding (_tmp577_);
		_tmp579_ = _tmp578_;
		if (_tmp579_ == BALA_MEMBER_BINDING_INSTANCE) {
			_tmp576_ = !is_virtual;
		} else {
			_tmp576_ = FALSE;
		}
		if (_tmp576_) {
			gboolean _tmp580_ = FALSE;
			gboolean _tmp581_;
			gboolean _tmp582_;
			_tmp581_ = bala_property_accessor_get_readable (acc);
			_tmp582_ = _tmp581_;
			if (!_tmp582_) {
				_tmp580_ = TRUE;
			} else {
				_tmp580_ = returns_real_struct;
			}
			if (_tmp580_) {
				BalaProperty* _tmp583_;
				BalaTypeSymbol* _tmp584_;
				_tmp583_ = prop;
				_tmp584_ = t;
				bala_ccode_base_module_create_property_type_check_statement (self, _tmp583_, FALSE, _tmp584_, TRUE, "self");
			} else {
				BalaProperty* _tmp585_;
				BalaTypeSymbol* _tmp586_;
				_tmp585_ = prop;
				_tmp586_ = t;
				bala_ccode_base_module_create_property_type_check_statement (self, _tmp585_, TRUE, _tmp586_, TRUE, "self");
			}
		}
		_tmp588_ = bala_property_accessor_get_readable (acc);
		_tmp589_ = _tmp588_;
		if (_tmp589_) {
			_tmp587_ = !returns_real_struct;
		} else {
			_tmp587_ = FALSE;
		}
		if (_tmp587_) {
			gboolean _tmp590_ = FALSE;
			BalaBasicBlock* _tmp591_;
			BalaBasicBlock* _tmp592_;
			_tmp591_ = bala_subroutine_get_return_block ((BalaSubroutine*) acc);
			_tmp592_ = _tmp591_;
			if (_tmp592_ == NULL) {
				_tmp590_ = TRUE;
			} else {
				BalaBasicBlock* _tmp593_;
				BalaBasicBlock* _tmp594_;
				BalaList* _tmp595_;
				gint _tmp596_;
				gint _tmp597_;
				_tmp593_ = bala_subroutine_get_return_block ((BalaSubroutine*) acc);
				_tmp594_ = _tmp593_;
				_tmp595_ = bala_basic_block_get_predecessors (_tmp594_);
				_tmp596_ = bala_collection_get_size ((BalaCollection*) _tmp595_);
				_tmp597_ = _tmp596_;
				_tmp590_ = _tmp597_ > 0;
			}
			if (_tmp590_) {
				BalaCCodeFunction* _tmp598_;
				BalaCCodeFunction* _tmp599_;
				BalaDataType* _tmp600_;
				BalaDataType* _tmp601_;
				gchar* _tmp602_;
				gchar* _tmp603_;
				BalaCCodeVariableDeclarator* _tmp604_;
				BalaCCodeVariableDeclarator* _tmp605_;
				_tmp598_ = bala_ccode_base_module_get_ccode (self);
				_tmp599_ = _tmp598_;
				_tmp600_ = bala_property_accessor_get_value_type (acc);
				_tmp601_ = _tmp600_;
				_tmp602_ = bala_get_ccode_name ((BalaCodeNode*) _tmp601_);
				_tmp603_ = _tmp602_;
				_tmp604_ = bala_ccode_variable_declarator_new ("result", NULL, NULL);
				_tmp605_ = _tmp604_;
				bala_ccode_function_add_declaration (_tmp599_, _tmp603_, (BalaCCodeDeclarator*) _tmp605_, 0);
				_bala_ccode_node_unref0 (_tmp605_);
				_g_free0 (_tmp603_);
			}
		}
		if (is_virtual) {
			BalaCCodeFunction* _tmp606_;
			BalaCCodeFunction* _tmp607_;
			BalaDataType* _tmp608_;
			gchar* _tmp609_;
			gchar* _tmp610_;
			BalaCCodeVariableDeclarator* _tmp611_;
			BalaCCodeVariableDeclarator* _tmp612_;
			BalaCCodeFunction* _tmp613_;
			BalaCCodeFunction* _tmp614_;
			BalaCCodeIdentifier* _tmp615_;
			BalaCCodeIdentifier* _tmp616_;
			BalaObjectType* _tmp617_;
			BalaCCodeIdentifier* _tmp618_;
			BalaCCodeIdentifier* _tmp619_;
			BalaGLibValue* _tmp620_;
			BalaGLibValue* _tmp621_;
			BalaDataType* _tmp622_;
			BalaTargetValue* _tmp623_;
			BalaTargetValue* _tmp624_;
			BalaCCodeExpression* _tmp625_;
			_tmp606_ = bala_ccode_base_module_get_ccode (self);
			_tmp607_ = _tmp606_;
			_tmp608_ = this_type;
			_tmp609_ = bala_get_ccode_name ((BalaCodeNode*) _tmp608_);
			_tmp610_ = _tmp609_;
			_tmp611_ = bala_ccode_variable_declarator_new ("self", NULL, NULL);
			_tmp612_ = _tmp611_;
			bala_ccode_function_add_declaration (_tmp607_, _tmp610_, (BalaCCodeDeclarator*) _tmp612_, 0);
			_bala_ccode_node_unref0 (_tmp612_);
			_g_free0 (_tmp610_);
			_tmp613_ = bala_ccode_base_module_get_ccode (self);
			_tmp614_ = _tmp613_;
			_tmp615_ = bala_ccode_identifier_new ("self");
			_tmp616_ = _tmp615_;
			_tmp617_ = base_type;
			_tmp618_ = bala_ccode_identifier_new ("base");
			_tmp619_ = _tmp618_;
			_tmp620_ = bala_glib_value_new ((BalaDataType*) _tmp617_, (BalaCCodeExpression*) _tmp619_, TRUE);
			_tmp621_ = _tmp620_;
			_tmp622_ = this_type;
			_tmp623_ = bala_ccode_base_module_transform_value (self, (BalaTargetValue*) _tmp621_, _tmp622_, (BalaCodeNode*) acc);
			_tmp624_ = _tmp623_;
			_tmp625_ = bala_get_cvalue_ (_tmp624_);
			bala_ccode_function_add_assignment (_tmp614_, (BalaCCodeExpression*) _tmp616_, _tmp625_);
			_bala_target_value_unref0 (_tmp624_);
			_bala_target_value_unref0 (_tmp621_);
			_bala_ccode_node_unref0 (_tmp619_);
			_bala_ccode_node_unref0 (_tmp616_);
		}
		_tmp628_ = self->priv->_context;
		_tmp629_ = bala_code_context_get_analyzer (_tmp628_);
		_tmp630_ = _tmp629_;
		_tmp631_ = prop;
		if (bala_semantic_analyzer_is_gobject_property (_tmp630_, _tmp631_)) {
			BalaProperty* _tmp632_;
			gboolean _tmp633_;
			gboolean _tmp634_;
			_tmp632_ = prop;
			_tmp633_ = bala_property_get_notify (_tmp632_);
			_tmp634_ = _tmp633_;
			_tmp627_ = _tmp634_;
		} else {
			_tmp627_ = FALSE;
		}
		if (_tmp627_) {
			gboolean _tmp635_ = FALSE;
			gboolean _tmp636_;
			gboolean _tmp637_;
			_tmp636_ = bala_property_accessor_get_writable (acc);
			_tmp637_ = _tmp636_;
			if (_tmp637_) {
				_tmp635_ = TRUE;
			} else {
				gboolean _tmp638_;
				gboolean _tmp639_;
				_tmp638_ = bala_property_accessor_get_construction (acc);
				_tmp639_ = _tmp638_;
				_tmp635_ = _tmp639_;
			}
			_tmp626_ = _tmp635_;
		} else {
			_tmp626_ = FALSE;
		}
		if (_tmp626_) {
			BalaCCodeFunctionCall* notify_call = NULL;
			BalaCCodeIdentifier* _tmp640_;
			BalaCCodeIdentifier* _tmp641_;
			BalaCCodeFunctionCall* _tmp642_;
			BalaCCodeFunctionCall* _tmp643_;
			BalaCCodeFunctionCall* _tmp644_;
			BalaCCodeIdentifier* _tmp645_;
			BalaCCodeIdentifier* _tmp646_;
			BalaCCodeCastExpression* _tmp647_;
			BalaCCodeCastExpression* _tmp648_;
			BalaCCodeFunctionCall* _tmp649_;
			BalaProperty* _tmp650_;
			BalaCCodeExpression* _tmp651_;
			BalaCCodeExpression* _tmp652_;
			BalaPropertyAccessor* get_accessor = NULL;
			BalaProperty* _tmp653_;
			BalaPropertyAccessor* _tmp654_;
			BalaPropertyAccessor* _tmp655_;
			BalaPropertyAccessor* _tmp656_;
			gboolean _tmp657_ = FALSE;
			BalaPropertyAccessor* _tmp658_;
			_tmp640_ = bala_ccode_identifier_new ("g_object_notify_by_pspec");
			_tmp641_ = _tmp640_;
			_tmp642_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp641_);
			_tmp643_ = _tmp642_;
			_bala_ccode_node_unref0 (_tmp641_);
			notify_call = _tmp643_;
			_tmp644_ = notify_call;
			_tmp645_ = bala_ccode_identifier_new ("self");
			_tmp646_ = _tmp645_;
			_tmp647_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp646_, "GObject *");
			_tmp648_ = _tmp647_;
			bala_ccode_function_call_add_argument (_tmp644_, (BalaCCodeExpression*) _tmp648_);
			_bala_ccode_node_unref0 (_tmp648_);
			_bala_ccode_node_unref0 (_tmp646_);
			_tmp649_ = notify_call;
			_tmp650_ = prop;
			_tmp651_ = bala_ccode_base_module_get_param_spec_cexpression (self, _tmp650_);
			_tmp652_ = _tmp651_;
			bala_ccode_function_call_add_argument (_tmp649_, _tmp652_);
			_bala_ccode_node_unref0 (_tmp652_);
			_tmp653_ = prop;
			_tmp654_ = bala_property_get_get_accessor (_tmp653_);
			_tmp655_ = _tmp654_;
			_tmp656_ = _bala_code_node_ref0 (_tmp655_);
			get_accessor = _tmp656_;
			_tmp658_ = get_accessor;
			if (_tmp658_ != NULL) {
				BalaPropertyAccessor* _tmp659_;
				gboolean _tmp660_;
				gboolean _tmp661_;
				_tmp659_ = get_accessor;
				_tmp660_ = bala_property_accessor_get_automatic_body (_tmp659_);
				_tmp661_ = _tmp660_;
				_tmp657_ = _tmp661_;
			} else {
				_tmp657_ = FALSE;
			}
			if (_tmp657_) {
				BalaDataType* property_type = NULL;
				BalaProperty* _tmp662_;
				BalaDataType* _tmp663_;
				BalaDataType* _tmp664_;
				BalaDataType* _tmp665_;
				BalaCCodeFunctionCall* get_call = NULL;
				BalaPropertyAccessor* _tmp666_;
				gchar* _tmp667_;
				gchar* _tmp668_;
				BalaCCodeIdentifier* _tmp669_;
				BalaCCodeIdentifier* _tmp670_;
				BalaCCodeFunctionCall* _tmp671_;
				BalaCCodeFunctionCall* _tmp672_;
				const gchar* _tmp673_ = NULL;
				BalaCCodeFunctionCall* _tmp674_;
				BalaCCodeIdentifier* _tmp675_;
				BalaCCodeIdentifier* _tmp676_;
				gboolean _tmp677_ = FALSE;
				BalaDataType* _tmp678_;
				BalaBlock* _tmp827_;
				BalaBlock* _tmp828_;
				BalaCCodeFunction* _tmp829_;
				BalaCCodeFunction* _tmp830_;
				BalaCCodeFunctionCall* _tmp831_;
				BalaCCodeFunction* _tmp832_;
				BalaCCodeFunction* _tmp833_;
				BalaProperty* _tmp834_;
				BalaPropertyAccessor* _tmp835_;
				BalaPropertyAccessor* _tmp836_;
				BalaDataType* _tmp837_;
				BalaDataType* _tmp838_;
				_tmp662_ = prop;
				_tmp663_ = bala_property_get_property_type (_tmp662_);
				_tmp664_ = _tmp663_;
				_tmp665_ = _bala_code_node_ref0 (_tmp664_);
				property_type = _tmp665_;
				_tmp666_ = get_accessor;
				_tmp667_ = bala_get_ccode_real_name ((BalaSymbol*) _tmp666_);
				_tmp668_ = _tmp667_;
				_tmp669_ = bala_ccode_identifier_new (_tmp668_);
				_tmp670_ = _tmp669_;
				_tmp671_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp670_);
				_tmp672_ = _tmp671_;
				_bala_ccode_node_unref0 (_tmp670_);
				_g_free0 (_tmp668_);
				get_call = _tmp672_;
				if (is_virtual) {
					_tmp673_ = "base";
				} else {
					_tmp673_ = "self";
				}
				_tmp674_ = get_call;
				_tmp675_ = bala_ccode_identifier_new (_tmp673_);
				_tmp676_ = _tmp675_;
				bala_ccode_function_call_add_argument (_tmp674_, (BalaCCodeExpression*) _tmp676_);
				_bala_ccode_node_unref0 (_tmp676_);
				_tmp678_ = property_type;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp678_, BALA_TYPE_ARRAY_TYPE)) {
					BalaProperty* _tmp679_;
					_tmp679_ = prop;
					_tmp677_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp679_);
				} else {
					_tmp677_ = FALSE;
				}
				if (_tmp677_) {
					BalaCCodeFunction* _tmp680_;
					BalaCCodeFunction* _tmp681_;
					BalaDataType* _tmp682_;
					gchar* _tmp683_;
					gchar* _tmp684_;
					BalaCCodeVariableDeclarator* _tmp685_;
					BalaCCodeVariableDeclarator* _tmp686_;
					BalaCCodeFunction* _tmp687_;
					BalaCCodeFunction* _tmp688_;
					BalaProperty* _tmp689_;
					gchar* _tmp690_;
					gchar* _tmp691_;
					BalaCCodeVariableDeclarator* _tmp692_;
					BalaCCodeVariableDeclarator* _tmp693_;
					BalaCCodeFunctionCall* _tmp694_;
					BalaCCodeIdentifier* _tmp695_;
					BalaCCodeIdentifier* _tmp696_;
					BalaCCodeUnaryExpression* _tmp697_;
					BalaCCodeUnaryExpression* _tmp698_;
					BalaCCodeFunction* _tmp699_;
					BalaCCodeFunction* _tmp700_;
					BalaCCodeIdentifier* _tmp701_;
					BalaCCodeIdentifier* _tmp702_;
					BalaCCodeFunctionCall* _tmp703_;
					BalaCCodeFunction* _tmp704_;
					BalaCCodeFunction* _tmp705_;
					BalaCCodeIdentifier* _tmp706_;
					BalaCCodeIdentifier* _tmp707_;
					BalaCCodeIdentifier* _tmp708_;
					BalaCCodeIdentifier* _tmp709_;
					BalaCCodeBinaryExpression* _tmp710_;
					BalaCCodeBinaryExpression* _tmp711_;
					_tmp680_ = bala_ccode_base_module_get_ccode (self);
					_tmp681_ = _tmp680_;
					_tmp682_ = property_type;
					_tmp683_ = bala_get_ccode_name ((BalaCodeNode*) _tmp682_);
					_tmp684_ = _tmp683_;
					_tmp685_ = bala_ccode_variable_declarator_new ("old_value", NULL, NULL);
					_tmp686_ = _tmp685_;
					bala_ccode_function_add_declaration (_tmp681_, _tmp684_, (BalaCCodeDeclarator*) _tmp686_, 0);
					_bala_ccode_node_unref0 (_tmp686_);
					_g_free0 (_tmp684_);
					_tmp687_ = bala_ccode_base_module_get_ccode (self);
					_tmp688_ = _tmp687_;
					_tmp689_ = prop;
					_tmp690_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp689_);
					_tmp691_ = _tmp690_;
					_tmp692_ = bala_ccode_variable_declarator_new ("old_value_length", NULL, NULL);
					_tmp693_ = _tmp692_;
					bala_ccode_function_add_declaration (_tmp688_, _tmp691_, (BalaCCodeDeclarator*) _tmp693_, 0);
					_bala_ccode_node_unref0 (_tmp693_);
					_g_free0 (_tmp691_);
					_tmp694_ = get_call;
					_tmp695_ = bala_ccode_identifier_new ("old_value_length");
					_tmp696_ = _tmp695_;
					_tmp697_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp696_);
					_tmp698_ = _tmp697_;
					bala_ccode_function_call_add_argument (_tmp694_, (BalaCCodeExpression*) _tmp698_);
					_bala_ccode_node_unref0 (_tmp698_);
					_bala_ccode_node_unref0 (_tmp696_);
					_tmp699_ = bala_ccode_base_module_get_ccode (self);
					_tmp700_ = _tmp699_;
					_tmp701_ = bala_ccode_identifier_new ("old_value");
					_tmp702_ = _tmp701_;
					_tmp703_ = get_call;
					bala_ccode_function_add_assignment (_tmp700_, (BalaCCodeExpression*) _tmp702_, (BalaCCodeExpression*) _tmp703_);
					_bala_ccode_node_unref0 (_tmp702_);
					_tmp704_ = bala_ccode_base_module_get_ccode (self);
					_tmp705_ = _tmp704_;
					_tmp706_ = bala_ccode_identifier_new ("old_value");
					_tmp707_ = _tmp706_;
					_tmp708_ = bala_ccode_identifier_new ("value");
					_tmp709_ = _tmp708_;
					_tmp710_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, (BalaCCodeExpression*) _tmp707_, (BalaCCodeExpression*) _tmp709_);
					_tmp711_ = _tmp710_;
					bala_ccode_function_open_if (_tmp705_, (BalaCCodeExpression*) _tmp711_);
					_bala_ccode_node_unref0 (_tmp711_);
					_bala_ccode_node_unref0 (_tmp709_);
					_bala_ccode_node_unref0 (_tmp707_);
				} else {
					BalaDataType* _tmp712_;
					BalaDataType* _tmp713_;
					_tmp712_ = property_type;
					_tmp713_ = self->string_type;
					if (bala_data_type_compatible (_tmp712_, _tmp713_)) {
						BalaCCodeFunction* _tmp714_;
						BalaCCodeFunction* _tmp715_;
						BalaDataType* _tmp716_;
						gchar* _tmp717_;
						gchar* _tmp718_;
						BalaCCodeVariableDeclarator* _tmp719_;
						BalaCCodeVariableDeclarator* _tmp720_;
						BalaCCodeFunction* _tmp721_;
						BalaCCodeFunction* _tmp722_;
						BalaCCodeIdentifier* _tmp723_;
						BalaCCodeIdentifier* _tmp724_;
						BalaCCodeFunctionCall* _tmp725_;
						BalaCCodeFunctionCall* ccall = NULL;
						BalaCodeContext* _tmp726_;
						BalaProfile _tmp727_;
						BalaProfile _tmp728_;
						BalaCCodeFunctionCall* _tmp740_;
						BalaCCodeIdentifier* _tmp741_;
						BalaCCodeIdentifier* _tmp742_;
						BalaCCodeFunctionCall* _tmp743_;
						BalaCCodeIdentifier* _tmp744_;
						BalaCCodeIdentifier* _tmp745_;
						BalaCCodeFunction* _tmp746_;
						BalaCCodeFunction* _tmp747_;
						BalaCCodeFunctionCall* _tmp748_;
						BalaCCodeConstant* _tmp749_;
						BalaCCodeConstant* _tmp750_;
						BalaCCodeBinaryExpression* _tmp751_;
						BalaCCodeBinaryExpression* _tmp752_;
						_tmp714_ = bala_ccode_base_module_get_ccode (self);
						_tmp715_ = _tmp714_;
						_tmp716_ = property_type;
						_tmp717_ = bala_get_ccode_name ((BalaCodeNode*) _tmp716_);
						_tmp718_ = _tmp717_;
						_tmp719_ = bala_ccode_variable_declarator_new ("old_value", NULL, NULL);
						_tmp720_ = _tmp719_;
						bala_ccode_function_add_declaration (_tmp715_, _tmp718_, (BalaCCodeDeclarator*) _tmp720_, 0);
						_bala_ccode_node_unref0 (_tmp720_);
						_g_free0 (_tmp718_);
						_tmp721_ = bala_ccode_base_module_get_ccode (self);
						_tmp722_ = _tmp721_;
						_tmp723_ = bala_ccode_identifier_new ("old_value");
						_tmp724_ = _tmp723_;
						_tmp725_ = get_call;
						bala_ccode_function_add_assignment (_tmp722_, (BalaCCodeExpression*) _tmp724_, (BalaCCodeExpression*) _tmp725_);
						_bala_ccode_node_unref0 (_tmp724_);
						_tmp726_ = self->priv->_context;
						_tmp727_ = bala_code_context_get_profile (_tmp726_);
						_tmp728_ = _tmp727_;
						if (_tmp728_ == BALA_PROFILE_POSIX) {
							BalaCCodeFile* _tmp729_;
							BalaCCodeIdentifier* _tmp730_;
							BalaCCodeIdentifier* _tmp731_;
							gchar* _tmp732_;
							gchar* _tmp733_;
							BalaCCodeIdentifier* _tmp734_;
							BalaCCodeIdentifier* _tmp735_;
							BalaCCodeFunctionCall* _tmp736_;
							_tmp729_ = self->cfile;
							bala_ccode_file_add_include (_tmp729_, "string.h", FALSE);
							_tmp730_ = bala_ccode_identifier_new ("strcmp");
							_tmp731_ = _tmp730_;
							_tmp732_ = bala_ccode_base_module_generate_cmp_wrapper (self, _tmp731_);
							_tmp733_ = _tmp732_;
							_tmp734_ = bala_ccode_identifier_new (_tmp733_);
							_tmp735_ = _tmp734_;
							_tmp736_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp735_);
							_bala_ccode_node_unref0 (ccall);
							ccall = _tmp736_;
							_bala_ccode_node_unref0 (_tmp735_);
							_g_free0 (_tmp733_);
							_bala_ccode_node_unref0 (_tmp731_);
						} else {
							BalaCCodeIdentifier* _tmp737_;
							BalaCCodeIdentifier* _tmp738_;
							BalaCCodeFunctionCall* _tmp739_;
							_tmp737_ = bala_ccode_identifier_new ("g_strcmp0");
							_tmp738_ = _tmp737_;
							_tmp739_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp738_);
							_bala_ccode_node_unref0 (ccall);
							ccall = _tmp739_;
							_bala_ccode_node_unref0 (_tmp738_);
						}
						_tmp740_ = ccall;
						_tmp741_ = bala_ccode_identifier_new ("value");
						_tmp742_ = _tmp741_;
						bala_ccode_function_call_add_argument (_tmp740_, (BalaCCodeExpression*) _tmp742_);
						_bala_ccode_node_unref0 (_tmp742_);
						_tmp743_ = ccall;
						_tmp744_ = bala_ccode_identifier_new ("old_value");
						_tmp745_ = _tmp744_;
						bala_ccode_function_call_add_argument (_tmp743_, (BalaCCodeExpression*) _tmp745_);
						_bala_ccode_node_unref0 (_tmp745_);
						_tmp746_ = bala_ccode_base_module_get_ccode (self);
						_tmp747_ = _tmp746_;
						_tmp748_ = ccall;
						_tmp749_ = bala_ccode_constant_new ("0");
						_tmp750_ = _tmp749_;
						_tmp751_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, (BalaCCodeExpression*) _tmp748_, (BalaCCodeExpression*) _tmp750_);
						_tmp752_ = _tmp751_;
						bala_ccode_function_open_if (_tmp747_, (BalaCCodeExpression*) _tmp752_);
						_bala_ccode_node_unref0 (_tmp752_);
						_bala_ccode_node_unref0 (_tmp750_);
						_bala_ccode_node_unref0 (ccall);
					} else {
						BalaDataType* _tmp753_;
						_tmp753_ = property_type;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp753_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
							BalaCCodeFunction* _tmp754_;
							BalaCCodeFunction* _tmp755_;
							BalaDataType* _tmp756_;
							gchar* _tmp757_;
							gchar* _tmp758_;
							BalaCCodeVariableDeclarator* _tmp759_;
							BalaCCodeVariableDeclarator* _tmp760_;
							BalaDataType* _tmp761_;
							gboolean _tmp762_;
							gboolean _tmp763_;
							gchar* equalfunc = NULL;
							BalaDataType* _tmp777_;
							BalaTypeSymbol* _tmp778_;
							BalaTypeSymbol* _tmp779_;
							gchar* _tmp780_;
							BalaCCodeFunctionCall* ccall = NULL;
							const gchar* _tmp781_;
							BalaCCodeIdentifier* _tmp782_;
							BalaCCodeIdentifier* _tmp783_;
							BalaCCodeFunctionCall* _tmp784_;
							BalaCCodeFunctionCall* _tmp785_;
							BalaCCodeFunctionCall* _tmp786_;
							BalaCCodeIdentifier* _tmp787_;
							BalaCCodeIdentifier* _tmp788_;
							BalaDataType* _tmp789_;
							gboolean _tmp790_;
							gboolean _tmp791_;
							BalaCCodeFunction* _tmp800_;
							BalaCCodeFunction* _tmp801_;
							BalaCCodeFunctionCall* _tmp802_;
							BalaCCodeConstant* _tmp803_;
							BalaCCodeConstant* _tmp804_;
							BalaCCodeBinaryExpression* _tmp805_;
							BalaCCodeBinaryExpression* _tmp806_;
							_tmp754_ = bala_ccode_base_module_get_ccode (self);
							_tmp755_ = _tmp754_;
							_tmp756_ = property_type;
							_tmp757_ = bala_get_ccode_name ((BalaCodeNode*) _tmp756_);
							_tmp758_ = _tmp757_;
							_tmp759_ = bala_ccode_variable_declarator_new ("old_value", NULL, NULL);
							_tmp760_ = _tmp759_;
							bala_ccode_function_add_declaration (_tmp755_, _tmp758_, (BalaCCodeDeclarator*) _tmp760_, 0);
							_bala_ccode_node_unref0 (_tmp760_);
							_g_free0 (_tmp758_);
							_tmp761_ = property_type;
							_tmp762_ = bala_data_type_get_nullable (_tmp761_);
							_tmp763_ = _tmp762_;
							if (_tmp763_) {
								BalaCCodeFunction* _tmp764_;
								BalaCCodeFunction* _tmp765_;
								BalaCCodeIdentifier* _tmp766_;
								BalaCCodeIdentifier* _tmp767_;
								BalaCCodeFunctionCall* _tmp768_;
								_tmp764_ = bala_ccode_base_module_get_ccode (self);
								_tmp765_ = _tmp764_;
								_tmp766_ = bala_ccode_identifier_new ("old_value");
								_tmp767_ = _tmp766_;
								_tmp768_ = get_call;
								bala_ccode_function_add_assignment (_tmp765_, (BalaCCodeExpression*) _tmp767_, (BalaCCodeExpression*) _tmp768_);
								_bala_ccode_node_unref0 (_tmp767_);
							} else {
								BalaCCodeFunctionCall* _tmp769_;
								BalaCCodeIdentifier* _tmp770_;
								BalaCCodeIdentifier* _tmp771_;
								BalaCCodeUnaryExpression* _tmp772_;
								BalaCCodeUnaryExpression* _tmp773_;
								BalaCCodeFunction* _tmp774_;
								BalaCCodeFunction* _tmp775_;
								BalaCCodeFunctionCall* _tmp776_;
								_tmp769_ = get_call;
								_tmp770_ = bala_ccode_identifier_new ("old_value");
								_tmp771_ = _tmp770_;
								_tmp772_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp771_);
								_tmp773_ = _tmp772_;
								bala_ccode_function_call_add_argument (_tmp769_, (BalaCCodeExpression*) _tmp773_);
								_bala_ccode_node_unref0 (_tmp773_);
								_bala_ccode_node_unref0 (_tmp771_);
								_tmp774_ = bala_ccode_base_module_get_ccode (self);
								_tmp775_ = _tmp774_;
								_tmp776_ = get_call;
								bala_ccode_function_add_expression (_tmp775_, (BalaCCodeExpression*) _tmp776_);
							}
							_tmp777_ = property_type;
							_tmp778_ = bala_data_type_get_type_symbol (_tmp777_);
							_tmp779_ = _tmp778_;
							_tmp780_ = bala_ccode_base_module_generate_struct_equal_function (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp779_, BALA_TYPE_STRUCT, BalaStruct));
							equalfunc = _tmp780_;
							_tmp781_ = equalfunc;
							_tmp782_ = bala_ccode_identifier_new (_tmp781_);
							_tmp783_ = _tmp782_;
							_tmp784_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp783_);
							_tmp785_ = _tmp784_;
							_bala_ccode_node_unref0 (_tmp783_);
							ccall = _tmp785_;
							_tmp786_ = ccall;
							_tmp787_ = bala_ccode_identifier_new ("value");
							_tmp788_ = _tmp787_;
							bala_ccode_function_call_add_argument (_tmp786_, (BalaCCodeExpression*) _tmp788_);
							_bala_ccode_node_unref0 (_tmp788_);
							_tmp789_ = property_type;
							_tmp790_ = bala_data_type_get_nullable (_tmp789_);
							_tmp791_ = _tmp790_;
							if (_tmp791_) {
								BalaCCodeFunctionCall* _tmp792_;
								BalaCCodeIdentifier* _tmp793_;
								BalaCCodeIdentifier* _tmp794_;
								_tmp792_ = ccall;
								_tmp793_ = bala_ccode_identifier_new ("old_value");
								_tmp794_ = _tmp793_;
								bala_ccode_function_call_add_argument (_tmp792_, (BalaCCodeExpression*) _tmp794_);
								_bala_ccode_node_unref0 (_tmp794_);
							} else {
								BalaCCodeFunctionCall* _tmp795_;
								BalaCCodeIdentifier* _tmp796_;
								BalaCCodeIdentifier* _tmp797_;
								BalaCCodeUnaryExpression* _tmp798_;
								BalaCCodeUnaryExpression* _tmp799_;
								_tmp795_ = ccall;
								_tmp796_ = bala_ccode_identifier_new ("old_value");
								_tmp797_ = _tmp796_;
								_tmp798_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp797_);
								_tmp799_ = _tmp798_;
								bala_ccode_function_call_add_argument (_tmp795_, (BalaCCodeExpression*) _tmp799_);
								_bala_ccode_node_unref0 (_tmp799_);
								_bala_ccode_node_unref0 (_tmp797_);
							}
							_tmp800_ = bala_ccode_base_module_get_ccode (self);
							_tmp801_ = _tmp800_;
							_tmp802_ = ccall;
							_tmp803_ = bala_ccode_constant_new ("TRUE");
							_tmp804_ = _tmp803_;
							_tmp805_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, (BalaCCodeExpression*) _tmp802_, (BalaCCodeExpression*) _tmp804_);
							_tmp806_ = _tmp805_;
							bala_ccode_function_open_if (_tmp801_, (BalaCCodeExpression*) _tmp806_);
							_bala_ccode_node_unref0 (_tmp806_);
							_bala_ccode_node_unref0 (_tmp804_);
							_bala_ccode_node_unref0 (ccall);
							_g_free0 (equalfunc);
						} else {
							BalaCCodeFunction* _tmp807_;
							BalaCCodeFunction* _tmp808_;
							BalaDataType* _tmp809_;
							gchar* _tmp810_;
							gchar* _tmp811_;
							BalaCCodeVariableDeclarator* _tmp812_;
							BalaCCodeVariableDeclarator* _tmp813_;
							BalaCCodeFunction* _tmp814_;
							BalaCCodeFunction* _tmp815_;
							BalaCCodeIdentifier* _tmp816_;
							BalaCCodeIdentifier* _tmp817_;
							BalaCCodeFunctionCall* _tmp818_;
							BalaCCodeFunction* _tmp819_;
							BalaCCodeFunction* _tmp820_;
							BalaCCodeIdentifier* _tmp821_;
							BalaCCodeIdentifier* _tmp822_;
							BalaCCodeIdentifier* _tmp823_;
							BalaCCodeIdentifier* _tmp824_;
							BalaCCodeBinaryExpression* _tmp825_;
							BalaCCodeBinaryExpression* _tmp826_;
							_tmp807_ = bala_ccode_base_module_get_ccode (self);
							_tmp808_ = _tmp807_;
							_tmp809_ = property_type;
							_tmp810_ = bala_get_ccode_name ((BalaCodeNode*) _tmp809_);
							_tmp811_ = _tmp810_;
							_tmp812_ = bala_ccode_variable_declarator_new ("old_value", NULL, NULL);
							_tmp813_ = _tmp812_;
							bala_ccode_function_add_declaration (_tmp808_, _tmp811_, (BalaCCodeDeclarator*) _tmp813_, 0);
							_bala_ccode_node_unref0 (_tmp813_);
							_g_free0 (_tmp811_);
							_tmp814_ = bala_ccode_base_module_get_ccode (self);
							_tmp815_ = _tmp814_;
							_tmp816_ = bala_ccode_identifier_new ("old_value");
							_tmp817_ = _tmp816_;
							_tmp818_ = get_call;
							bala_ccode_function_add_assignment (_tmp815_, (BalaCCodeExpression*) _tmp817_, (BalaCCodeExpression*) _tmp818_);
							_bala_ccode_node_unref0 (_tmp817_);
							_tmp819_ = bala_ccode_base_module_get_ccode (self);
							_tmp820_ = _tmp819_;
							_tmp821_ = bala_ccode_identifier_new ("old_value");
							_tmp822_ = _tmp821_;
							_tmp823_ = bala_ccode_identifier_new ("value");
							_tmp824_ = _tmp823_;
							_tmp825_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, (BalaCCodeExpression*) _tmp822_, (BalaCCodeExpression*) _tmp824_);
							_tmp826_ = _tmp825_;
							bala_ccode_function_open_if (_tmp820_, (BalaCCodeExpression*) _tmp826_);
							_bala_ccode_node_unref0 (_tmp826_);
							_bala_ccode_node_unref0 (_tmp824_);
							_bala_ccode_node_unref0 (_tmp822_);
						}
					}
				}
				_tmp827_ = bala_subroutine_get_body ((BalaSubroutine*) acc);
				_tmp828_ = _tmp827_;
				bala_code_node_emit ((BalaCodeNode*) _tmp828_, (BalaCodeGenerator*) self);
				_tmp829_ = bala_ccode_base_module_get_ccode (self);
				_tmp830_ = _tmp829_;
				_tmp831_ = notify_call;
				bala_ccode_function_add_expression (_tmp830_, (BalaCCodeExpression*) _tmp831_);
				_tmp832_ = bala_ccode_base_module_get_ccode (self);
				_tmp833_ = _tmp832_;
				bala_ccode_function_close (_tmp833_);
				_tmp834_ = prop;
				_tmp835_ = bala_property_get_get_accessor (_tmp834_);
				_tmp836_ = _tmp835_;
				_tmp837_ = bala_property_accessor_get_value_type (_tmp836_);
				_tmp838_ = _tmp837_;
				if (bala_data_type_is_disposable (_tmp838_)) {
					BalaGLibValue* old_value = NULL;
					BalaProperty* _tmp839_;
					BalaPropertyAccessor* _tmp840_;
					BalaPropertyAccessor* _tmp841_;
					BalaDataType* _tmp842_;
					BalaDataType* _tmp843_;
					BalaCCodeIdentifier* _tmp844_;
					BalaCCodeIdentifier* _tmp845_;
					BalaGLibValue* _tmp846_;
					BalaGLibValue* _tmp847_;
					gboolean _tmp848_ = FALSE;
					BalaDataType* _tmp849_;
					BalaCCodeFunction* _tmp854_;
					BalaCCodeFunction* _tmp855_;
					BalaGLibValue* _tmp856_;
					BalaCCodeExpression* _tmp857_;
					BalaCCodeExpression* _tmp858_;
					_tmp839_ = prop;
					_tmp840_ = bala_property_get_get_accessor (_tmp839_);
					_tmp841_ = _tmp840_;
					_tmp842_ = bala_property_accessor_get_value_type (_tmp841_);
					_tmp843_ = _tmp842_;
					_tmp844_ = bala_ccode_identifier_new ("old_value");
					_tmp845_ = _tmp844_;
					_tmp846_ = bala_glib_value_new (_tmp843_, (BalaCCodeExpression*) _tmp845_, TRUE);
					_tmp847_ = _tmp846_;
					_bala_ccode_node_unref0 (_tmp845_);
					old_value = _tmp847_;
					_tmp849_ = property_type;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp849_, BALA_TYPE_ARRAY_TYPE)) {
						BalaProperty* _tmp850_;
						_tmp850_ = prop;
						_tmp848_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp850_);
					} else {
						_tmp848_ = FALSE;
					}
					if (_tmp848_) {
						BalaGLibValue* _tmp851_;
						BalaCCodeIdentifier* _tmp852_;
						BalaCCodeIdentifier* _tmp853_;
						_tmp851_ = old_value;
						_tmp852_ = bala_ccode_identifier_new ("old_value_length");
						_tmp853_ = _tmp852_;
						bala_glib_value_append_array_length_cvalue (_tmp851_, (BalaCCodeExpression*) _tmp853_);
						_bala_ccode_node_unref0 (_tmp853_);
					}
					_tmp854_ = bala_ccode_base_module_get_ccode (self);
					_tmp855_ = _tmp854_;
					_tmp856_ = old_value;
					_tmp857_ = bala_ccode_base_module_destroy_value (self, (BalaTargetValue*) _tmp856_, FALSE);
					_tmp858_ = _tmp857_;
					bala_ccode_function_add_expression (_tmp855_, _tmp858_);
					_bala_ccode_node_unref0 (_tmp858_);
					_bala_target_value_unref0 (old_value);
				}
				_bala_ccode_node_unref0 (get_call);
				_bala_code_node_unref0 (property_type);
			} else {
				BalaBlock* _tmp859_;
				BalaBlock* _tmp860_;
				BalaCCodeFunction* _tmp861_;
				BalaCCodeFunction* _tmp862_;
				BalaCCodeFunctionCall* _tmp863_;
				_tmp859_ = bala_subroutine_get_body ((BalaSubroutine*) acc);
				_tmp860_ = _tmp859_;
				bala_code_node_emit ((BalaCodeNode*) _tmp860_, (BalaCodeGenerator*) self);
				_tmp861_ = bala_ccode_base_module_get_ccode (self);
				_tmp862_ = _tmp861_;
				_tmp863_ = notify_call;
				bala_ccode_function_add_expression (_tmp862_, (BalaCCodeExpression*) _tmp863_);
			}
			_bala_code_node_unref0 (get_accessor);
			_bala_ccode_node_unref0 (notify_call);
		} else {
			BalaBlock* _tmp864_;
			BalaBlock* _tmp865_;
			_tmp864_ = bala_subroutine_get_body ((BalaSubroutine*) acc);
			_tmp865_ = _tmp864_;
			bala_code_node_emit ((BalaCodeNode*) _tmp865_, (BalaCodeGenerator*) self);
		}
		_tmp866_ = bala_ccode_base_module_get_current_method_inner_error (self);
		_tmp867_ = _tmp866_;
		if (_tmp867_) {
			BalaCCodeFunction* _tmp868_;
			BalaCCodeFunction* _tmp869_;
			gint _tmp870_;
			gint _tmp871_;
			gchar* _tmp872_;
			gchar* _tmp873_;
			BalaCCodeConstant* _tmp874_;
			BalaCCodeConstant* _tmp875_;
			BalaCCodeVariableDeclarator* _tmp876_;
			BalaCCodeVariableDeclarator* _tmp877_;
			_tmp868_ = bala_ccode_base_module_get_ccode (self);
			_tmp869_ = _tmp868_;
			_tmp870_ = bala_ccode_base_module_get_current_inner_error_id (self);
			_tmp871_ = _tmp870_;
			_tmp872_ = g_strdup_printf ("_inner_error%d_", _tmp871_);
			_tmp873_ = _tmp872_;
			_tmp874_ = bala_ccode_constant_new ("NULL");
			_tmp875_ = _tmp874_;
			_tmp876_ = bala_ccode_variable_declarator_new_zero (_tmp873_, (BalaCCodeExpression*) _tmp875_, NULL);
			_tmp877_ = _tmp876_;
			bala_ccode_function_add_declaration (_tmp869_, "GError*", (BalaCCodeDeclarator*) _tmp877_, 0);
			_bala_ccode_node_unref0 (_tmp877_);
			_bala_ccode_node_unref0 (_tmp875_);
			_g_free0 (_tmp873_);
		}
		bala_ccode_base_module_pop_function (self);
		_tmp878_ = self->cfile;
		_tmp879_ = function;
		bala_ccode_file_add_function (_tmp878_, _tmp879_);
		_bala_code_node_unref0 (base_type);
		_bala_ccode_node_unref0 (function);
		_g_free0 (cname);
	}
	bala_ccode_base_module_pop_line (self);
	bala_ccode_base_module_pop_context (self);
	_bala_ccode_node_unref0 (cvalueparam);
	_bala_ccode_node_unref0 (cselfparam);
	_bala_code_node_unref0 (this_type);
	_bala_code_node_unref0 (t);
	_bala_code_node_unref0 (prop);
}

static void
bala_ccode_base_module_real_visit_destructor (BalaCodeVisitor* base,
                                              BalaDestructor* d)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_ = FALSE;
	BalaMemberBinding _tmp1_;
	BalaMemberBinding _tmp2_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (d != NULL);
	_tmp1_ = bala_destructor_get_binding (d);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == BALA_MEMBER_BINDING_STATIC) {
		_tmp0_ = !self->in_plugin;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		BalaSourceReference* _tmp3_;
		BalaSourceReference* _tmp4_;
		_tmp3_ = bala_code_node_get_source_reference ((BalaCodeNode*) d);
		_tmp4_ = _tmp3_;
		bala_report_error (_tmp4_, "static destructors are only supported for dynamic types");
		bala_code_node_set_error ((BalaCodeNode*) d, TRUE);
		return;
	}
}

gint
bala_ccode_base_module_get_block_id (BalaCCodeBaseModule* self,
                                     BalaBlock* b)
{
	gint _result_ = 0;
	BalaMap* _tmp0_;
	gpointer _tmp1_;
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (b != NULL, 0);
	_tmp0_ = self->priv->block_map;
	_tmp1_ = bala_map_get (_tmp0_, b);
	_result_ = (gint) ((gintptr) _tmp1_);
	if (_result_ == 0) {
		gint _tmp2_;
		BalaMap* _tmp3_;
		self->priv->next_block_id = self->priv->next_block_id + 1;
		_tmp2_ = self->priv->next_block_id;
		_result_ = _tmp2_;
		_tmp3_ = self->priv->block_map;
		bala_map_set (_tmp3_, b, (gpointer) ((gintptr) _result_));
	}
	result = _result_;
	return result;
}

gboolean
bala_ccode_base_module_no_implicit_copy (BalaCCodeBaseModule* self,
                                         BalaDataType* type)
{
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (type != NULL, FALSE);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp1_) : NULL;
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_DELEGATE_TYPE)) {
		_tmp3_ = TRUE;
	} else {
		_tmp3_ = G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE);
	}
	if (_tmp3_) {
		_tmp2_ = TRUE;
	} else {
		gboolean _tmp4_ = FALSE;
		gboolean _tmp5_ = FALSE;
		gboolean _tmp6_ = FALSE;
		BalaClass* _tmp7_;
		_tmp7_ = cl;
		if (_tmp7_ != NULL) {
			BalaClass* _tmp8_;
			gboolean _tmp9_;
			gboolean _tmp10_;
			_tmp8_ = cl;
			_tmp9_ = bala_class_get_is_immutable (_tmp8_);
			_tmp10_ = _tmp9_;
			_tmp6_ = !_tmp10_;
		} else {
			_tmp6_ = FALSE;
		}
		if (_tmp6_) {
			BalaClass* _tmp11_;
			_tmp11_ = cl;
			_tmp5_ = !bala_is_reference_counting ((BalaTypeSymbol*) _tmp11_);
		} else {
			_tmp5_ = FALSE;
		}
		if (_tmp5_) {
			BalaClass* _tmp12_;
			_tmp12_ = cl;
			_tmp4_ = !bala_get_ccode_is_gboxed ((BalaTypeSymbol*) _tmp12_);
		} else {
			_tmp4_ = FALSE;
		}
		_tmp2_ = _tmp4_;
	}
	result = _tmp2_;
	return result;
}

static void
bala_ccode_base_module_capture_parameter (BalaCCodeBaseModule* self,
                                          BalaParameter* param,
                                          BalaCCodeStruct* data,
                                          gint block_id)
{
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaCCodeFile* _tmp2_;
	BalaDataType* param_type = NULL;
	BalaDataType* _tmp3_;
	BalaDataType* _tmp4_;
	BalaDataType* _tmp5_;
	BalaDataType* _tmp6_;
	BalaDataType* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	BalaDataType* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	BalaDataType* _tmp18_;
	BalaCCodeDeclaratorSuffix* _tmp19_;
	BalaCCodeDeclaratorSuffix* _tmp20_;
	BalaTargetValue* value = NULL;
	BalaTargetValue* _tmp21_;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp22_;
	BalaDataType* _tmp23_;
	BalaArrayType* _tmp24_;
	BalaDelegateType* deleg_type = NULL;
	BalaDataType* _tmp25_;
	BalaDataType* _tmp26_;
	BalaDelegateType* _tmp27_;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp29_ = FALSE;
	BalaArrayType* _tmp30_;
	BalaTargetValue* _tmp66_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (param != NULL);
	g_return_if_fail (data != NULL);
	_tmp0_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp1_ = _tmp0_;
	_tmp2_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, _tmp1_, _tmp2_);
	_tmp3_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp4_ = _tmp3_;
	_tmp5_ = bala_data_type_copy (_tmp4_);
	param_type = _tmp5_;
	_tmp6_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_data_type_get_value_owned (_tmp7_);
	_tmp9_ = _tmp8_;
	if (!_tmp9_) {
		BalaDataType* _tmp10_;
		BalaDataType* _tmp11_;
		BalaDataType* _tmp12_;
		_tmp10_ = param_type;
		_tmp11_ = bala_variable_get_variable_type ((BalaVariable*) param);
		_tmp12_ = _tmp11_;
		bala_data_type_set_value_owned (_tmp10_, !bala_ccode_base_module_no_implicit_copy (self, _tmp12_));
	}
	_tmp13_ = param_type;
	_tmp14_ = bala_get_ccode_name ((BalaCodeNode*) _tmp13_);
	_tmp15_ = _tmp14_;
	_tmp16_ = bala_get_ccode_name ((BalaCodeNode*) param);
	_tmp17_ = _tmp16_;
	_tmp18_ = param_type;
	_tmp19_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp18_);
	_tmp20_ = _tmp19_;
	bala_ccode_struct_add_field (data, _tmp15_, _tmp17_, 0, _tmp20_);
	_bala_ccode_declarator_suffix_unref0 (_tmp20_);
	_g_free0 (_tmp17_);
	_g_free0 (_tmp15_);
	bala_parameter_set_captured (param, FALSE);
	_tmp21_ = bala_code_generator_load_parameter ((BalaCodeGenerator*) self, param, NULL);
	value = _tmp21_;
	_tmp22_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp23_ = _tmp22_;
	_tmp24_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp23_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp23_) : NULL);
	array_type = _tmp24_;
	_tmp25_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp26_ = _tmp25_;
	_tmp27_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp26_, BALA_TYPE_DELEGATE_TYPE) ? ((BalaDelegateType*) _tmp26_) : NULL);
	deleg_type = _tmp27_;
	_tmp30_ = array_type;
	if (_tmp30_ != NULL) {
		_tmp29_ = bala_get_ccode_array_length ((BalaCodeNode*) param);
	} else {
		_tmp29_ = FALSE;
	}
	if (_tmp29_) {
		BalaArrayType* _tmp31_;
		gboolean _tmp32_;
		gboolean _tmp33_;
		_tmp31_ = array_type;
		_tmp32_ = bala_array_type_get_fixed_length (G_TYPE_CHECK_INSTANCE_CAST (_tmp31_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		_tmp33_ = _tmp32_;
		_tmp28_ = !_tmp33_;
	} else {
		_tmp28_ = FALSE;
	}
	if (_tmp28_) {
		gchar* length_ctype = NULL;
		gchar* _tmp34_;
		_tmp34_ = bala_get_ccode_array_length_type ((BalaCodeNode*) param);
		length_ctype = _tmp34_;
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp35_ = FALSE;
				_tmp35_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp37_;
					gint _tmp38_;
					gint _tmp39_;
					const gchar* _tmp40_;
					gchar* _tmp41_;
					gchar* _tmp42_;
					if (!_tmp35_) {
						gint _tmp36_;
						_tmp36_ = dim;
						dim = _tmp36_ + 1;
					}
					_tmp35_ = FALSE;
					_tmp37_ = array_type;
					_tmp38_ = bala_array_type_get_rank (_tmp37_);
					_tmp39_ = _tmp38_;
					if (!(dim <= _tmp39_)) {
						break;
					}
					_tmp40_ = length_ctype;
					_tmp41_ = bala_ccode_base_module_get_variable_array_length_cname (self, (BalaVariable*) param, dim);
					_tmp42_ = _tmp41_;
					bala_ccode_struct_add_field (data, _tmp40_, _tmp42_, 0, NULL);
					_g_free0 (_tmp42_);
				}
			}
		}
		_g_free0 (length_ctype);
	} else {
		gboolean _tmp43_ = FALSE;
		BalaDelegateType* _tmp44_;
		_tmp44_ = deleg_type;
		if (_tmp44_ != NULL) {
			BalaDelegateType* _tmp45_;
			BalaDelegate* _tmp46_;
			BalaDelegate* _tmp47_;
			gboolean _tmp48_;
			gboolean _tmp49_;
			_tmp45_ = deleg_type;
			_tmp46_ = bala_delegate_type_get_delegate_symbol (_tmp45_);
			_tmp47_ = _tmp46_;
			_tmp48_ = bala_delegate_get_has_target (_tmp47_);
			_tmp49_ = _tmp48_;
			_tmp43_ = _tmp49_;
		} else {
			_tmp43_ = FALSE;
		}
		if (_tmp43_) {
			BalaDataType* _tmp50_;
			gchar* _tmp51_;
			gchar* _tmp52_;
			gchar* _tmp53_;
			gchar* _tmp54_;
			BalaDataType* _tmp55_;
			BalaDataType* _tmp56_;
			_tmp50_ = self->delegate_target_type;
			_tmp51_ = bala_get_ccode_name ((BalaCodeNode*) _tmp50_);
			_tmp52_ = _tmp51_;
			_tmp53_ = bala_get_ccode_delegate_target_name ((BalaVariable*) param);
			_tmp54_ = _tmp53_;
			bala_ccode_struct_add_field (data, _tmp52_, _tmp54_, 0, NULL);
			_g_free0 (_tmp54_);
			_g_free0 (_tmp52_);
			_tmp55_ = bala_variable_get_variable_type ((BalaVariable*) param);
			_tmp56_ = _tmp55_;
			if (bala_data_type_is_disposable (_tmp56_)) {
				BalaDelegateType* _tmp57_;
				gchar* _tmp58_;
				gchar* _tmp59_;
				gchar* _tmp60_;
				gchar* _tmp61_;
				BalaTargetValue* lvalue = NULL;
				BalaTargetValue* _tmp62_;
				BalaTargetValue* _tmp63_;
				BalaTargetValue* _tmp64_;
				BalaCCodeExpression* _tmp65_;
				_tmp57_ = self->delegate_target_destroy_type;
				_tmp58_ = bala_get_ccode_name ((BalaCodeNode*) _tmp57_);
				_tmp59_ = _tmp58_;
				_tmp60_ = bala_get_ccode_delegate_target_destroy_notify_name ((BalaVariable*) param);
				_tmp61_ = _tmp60_;
				bala_ccode_struct_add_field (data, _tmp59_, _tmp61_, 0, NULL);
				_g_free0 (_tmp61_);
				_g_free0 (_tmp59_);
				_tmp62_ = bala_ccode_base_module_get_parameter_cvalue (self, param);
				lvalue = _tmp62_;
				_tmp63_ = value;
				_tmp64_ = lvalue;
				_tmp65_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, _tmp64_);
				_bala_ccode_node_unref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp63_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->delegate_target_destroy_notify_cvalue);
				G_TYPE_CHECK_INSTANCE_CAST (_tmp63_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->delegate_target_destroy_notify_cvalue = _tmp65_;
				_bala_target_value_unref0 (lvalue);
			}
		}
	}
	bala_parameter_set_captured (param, TRUE);
	_tmp66_ = value;
	bala_code_generator_store_parameter ((BalaCodeGenerator*) self, param, _tmp66_, TRUE, NULL);
	_bala_code_node_unref0 (deleg_type);
	_bala_code_node_unref0 (array_type);
	_bala_target_value_unref0 (value);
	_bala_code_node_unref0 (param_type);
}

static void
bala_ccode_base_module_real_visit_block (BalaCodeVisitor* base,
                                         BalaBlock* b)
{
	BalaCCodeBaseModule * self;
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	BalaList* local_vars = NULL;
	BalaList* _tmp1_;
	BalaList* _tmp2_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	BalaCodeNode* _tmp5_;
	BalaCodeNode* _tmp6_;
	gboolean _tmp13_ = FALSE;
	BalaCodeNode* _tmp14_;
	BalaCodeNode* _tmp15_;
	gboolean _tmp59_;
	gboolean _tmp60_;
	gboolean reachable_exit_block = FALSE;
	gboolean _tmp1011_ = FALSE;
	gboolean _tmp1012_ = FALSE;
	BalaCodeNode* _tmp1013_;
	BalaCodeNode* _tmp1014_;
	BalaCCodeBaseModuleEmitContext* _tmp1021_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (b != NULL);
	_tmp0_ = self->emit_context;
	bala_ccode_base_module_emit_context_push_symbol (_tmp0_, (BalaSymbol*) b);
	_tmp1_ = bala_block_get_local_variables (b);
	_tmp2_ = _bala_iterable_ref0 (_tmp1_);
	local_vars = _tmp2_;
	_tmp5_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
	_tmp6_ = _tmp5_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_BLOCK)) {
		_tmp4_ = TRUE;
	} else {
		BalaCodeNode* _tmp7_;
		BalaCodeNode* _tmp8_;
		_tmp7_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp8_ = _tmp7_;
		_tmp4_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_SWITCH_STATEMENT);
	}
	if (_tmp4_) {
		_tmp3_ = TRUE;
	} else {
		BalaCodeNode* _tmp9_;
		BalaCodeNode* _tmp10_;
		_tmp9_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp10_ = _tmp9_;
		_tmp3_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_TRY_STATEMENT);
	}
	if (_tmp3_) {
		BalaCCodeFunction* _tmp11_;
		BalaCCodeFunction* _tmp12_;
		_tmp11_ = bala_ccode_base_module_get_ccode (self);
		_tmp12_ = _tmp11_;
		bala_ccode_function_open_block (_tmp12_);
	}
	_tmp14_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
	_tmp15_ = _tmp14_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp15_, BALA_TYPE_TRY_STATEMENT)) {
		BalaCodeNode* _tmp16_;
		BalaCodeNode* _tmp17_;
		BalaBlock* _tmp18_;
		BalaBlock* _tmp19_;
		_tmp16_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_try_statement_get_finally_body (G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, BALA_TYPE_TRY_STATEMENT, BalaTryStatement));
		_tmp19_ = _tmp18_;
		_tmp13_ = b == _tmp19_;
	} else {
		_tmp13_ = FALSE;
	}
	if (_tmp13_) {
		BalaCodeNode* _tmp20_;
		BalaCodeNode* _tmp21_;
		BalaBlock* _tmp22_;
		BalaBlock* _tmp23_;
		gboolean _tmp24_;
		gboolean _tmp25_;
		_tmp20_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp21_ = _tmp20_;
		_tmp22_ = bala_try_statement_get_body (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, BALA_TYPE_TRY_STATEMENT, BalaTryStatement));
		_tmp23_ = _tmp22_;
		_tmp24_ = bala_code_node_get_tree_can_fail ((BalaCodeNode*) _tmp23_);
		_tmp25_ = _tmp24_;
		if (_tmp25_) {
			if (bala_ccode_base_module_is_in_coroutine (self)) {
				gboolean _tmp26_ = FALSE;
				gint _tmp27_;
				gint _tmp28_;
				_tmp27_ = bala_ccode_base_module_get_current_inner_error_id (self);
				_tmp28_ = _tmp27_;
				if (_tmp28_ > 0) {
					gboolean _tmp29_ = FALSE;
					BalaMap* _tmp30_;
					BalaMethod* _tmp31_;
					BalaMethod* _tmp32_;
					_tmp30_ = self->priv->method_inner_error_var_count;
					_tmp31_ = bala_ccode_base_module_get_current_method (self);
					_tmp32_ = _tmp31_;
					if (!bala_map_contains (_tmp30_, _tmp32_)) {
						_tmp29_ = TRUE;
					} else {
						BalaMap* _tmp33_;
						BalaMethod* _tmp34_;
						BalaMethod* _tmp35_;
						gpointer _tmp36_;
						gint _tmp37_;
						gint _tmp38_;
						_tmp33_ = self->priv->method_inner_error_var_count;
						_tmp34_ = bala_ccode_base_module_get_current_method (self);
						_tmp35_ = _tmp34_;
						_tmp36_ = bala_map_get (_tmp33_, _tmp35_);
						_tmp37_ = bala_ccode_base_module_get_current_inner_error_id (self);
						_tmp38_ = _tmp37_;
						_tmp29_ = ((gint) ((gintptr) _tmp36_)) < _tmp38_;
					}
					_tmp26_ = _tmp29_;
				} else {
					_tmp26_ = FALSE;
				}
				if (_tmp26_) {
					BalaCCodeStruct* _tmp39_;
					gint _tmp40_;
					gint _tmp41_;
					gchar* _tmp42_;
					gchar* _tmp43_;
					BalaMap* _tmp44_;
					BalaMethod* _tmp45_;
					BalaMethod* _tmp46_;
					gint _tmp47_;
					gint _tmp48_;
					_tmp39_ = self->closure_struct;
					_tmp40_ = bala_ccode_base_module_get_current_inner_error_id (self);
					_tmp41_ = _tmp40_;
					_tmp42_ = g_strdup_printf ("_inner_error%d_", _tmp41_);
					_tmp43_ = _tmp42_;
					bala_ccode_struct_add_field (_tmp39_, "GError*", _tmp43_, 0, NULL);
					_g_free0 (_tmp43_);
					_tmp44_ = self->priv->method_inner_error_var_count;
					_tmp45_ = bala_ccode_base_module_get_current_method (self);
					_tmp46_ = _tmp45_;
					_tmp47_ = bala_ccode_base_module_get_current_inner_error_id (self);
					_tmp48_ = _tmp47_;
					bala_map_set (_tmp44_, _tmp46_, (gpointer) ((gintptr) _tmp48_));
				}
			} else {
				BalaCCodeFunction* _tmp49_;
				BalaCCodeFunction* _tmp50_;
				gint _tmp51_;
				gint _tmp52_;
				gchar* _tmp53_;
				gchar* _tmp54_;
				BalaCCodeConstant* _tmp55_;
				BalaCCodeConstant* _tmp56_;
				BalaCCodeVariableDeclarator* _tmp57_;
				BalaCCodeVariableDeclarator* _tmp58_;
				_tmp49_ = bala_ccode_base_module_get_ccode (self);
				_tmp50_ = _tmp49_;
				_tmp51_ = bala_ccode_base_module_get_current_inner_error_id (self);
				_tmp52_ = _tmp51_;
				_tmp53_ = g_strdup_printf ("_inner_error%d_", _tmp52_);
				_tmp54_ = _tmp53_;
				_tmp55_ = bala_ccode_constant_new ("NULL");
				_tmp56_ = _tmp55_;
				_tmp57_ = bala_ccode_variable_declarator_new_zero (_tmp54_, (BalaCCodeExpression*) _tmp56_, NULL);
				_tmp58_ = _tmp57_;
				bala_ccode_function_add_declaration (_tmp50_, "GError*", (BalaCCodeDeclarator*) _tmp58_, 0);
				_bala_ccode_node_unref0 (_tmp58_);
				_bala_ccode_node_unref0 (_tmp56_);
				_g_free0 (_tmp54_);
			}
		}
	}
	_tmp59_ = bala_block_get_captured (b);
	_tmp60_ = _tmp59_;
	if (_tmp60_) {
		BalaBlock* parent_block = NULL;
		BalaSymbol* _tmp61_;
		BalaSymbol* _tmp62_;
		BalaBlock* _tmp63_;
		BalaBlock* _tmp64_;
		gint block_id = 0;
		gchar* struct_name = NULL;
		gchar* _tmp65_;
		BalaCCodeStruct* data = NULL;
		const gchar* _tmp66_;
		gchar* _tmp67_;
		gchar* _tmp68_;
		BalaCCodeStruct* _tmp69_;
		BalaCCodeStruct* _tmp70_;
		BalaCCodeStruct* _tmp71_;
		BalaBlock* _tmp72_;
		BalaCCodeFunctionCall* data_alloc = NULL;
		BalaCCodeIdentifier* _tmp237_;
		BalaCCodeIdentifier* _tmp238_;
		BalaCCodeFunctionCall* _tmp239_;
		BalaCCodeFunctionCall* _tmp240_;
		BalaCCodeFunctionCall* _tmp241_;
		const gchar* _tmp242_;
		BalaCCodeIdentifier* _tmp243_;
		BalaCCodeIdentifier* _tmp244_;
		BalaCCodeFunction* _tmp260_;
		BalaCCodeFunction* _tmp261_;
		gchar* _tmp262_;
		gchar* _tmp263_;
		BalaCCodeExpression* _tmp264_;
		BalaCCodeExpression* _tmp265_;
		BalaCCodeFunctionCall* _tmp266_;
		BalaCCodeFunction* _tmp267_;
		BalaCCodeFunction* _tmp268_;
		gchar* _tmp269_;
		gchar* _tmp270_;
		BalaCCodeExpression* _tmp271_;
		BalaCCodeExpression* _tmp272_;
		BalaCCodeMemberAccess* _tmp273_;
		BalaCCodeMemberAccess* _tmp274_;
		BalaCCodeIdentifier* _tmp275_;
		BalaCCodeIdentifier* _tmp276_;
		BalaBlock* _tmp277_;
		BalaSymbol* _tmp382_;
		BalaSymbol* _tmp383_;
		BalaCCodeTypeDefinition* _typedef_ = NULL;
		const gchar* _tmp490_;
		gchar* _tmp491_;
		gchar* _tmp492_;
		const gchar* _tmp493_;
		BalaCCodeVariableDeclarator* _tmp494_;
		BalaCCodeVariableDeclarator* _tmp495_;
		BalaCCodeTypeDefinition* _tmp496_;
		BalaCCodeTypeDefinition* _tmp497_;
		BalaCCodeFile* _tmp498_;
		BalaCCodeTypeDefinition* _tmp499_;
		BalaCCodeFile* _tmp500_;
		BalaCCodeStruct* _tmp501_;
		BalaCCodeFunction* ref_fun = NULL;
		gchar* _tmp502_;
		gchar* _tmp503_;
		const gchar* _tmp504_;
		gchar* _tmp505_;
		gchar* _tmp506_;
		BalaCCodeFunction* _tmp507_;
		BalaCCodeFunction* _tmp508_;
		BalaCCodeFunction* _tmp509_;
		gchar* _tmp510_;
		gchar* _tmp511_;
		const gchar* _tmp512_;
		gchar* _tmp513_;
		gchar* _tmp514_;
		BalaCCodeParameter* _tmp515_;
		BalaCCodeParameter* _tmp516_;
		BalaCCodeFunction* _tmp517_;
		BalaCCodeFunction* _tmp518_;
		BalaCCodeFunctionCall* ccall = NULL;
		BalaCCodeIdentifier* _tmp519_;
		BalaCCodeIdentifier* _tmp520_;
		BalaCCodeFunctionCall* _tmp521_;
		BalaCCodeFunctionCall* _tmp522_;
		BalaCCodeFunctionCall* _tmp523_;
		gchar* _tmp524_;
		gchar* _tmp525_;
		BalaCCodeIdentifier* _tmp526_;
		BalaCCodeIdentifier* _tmp527_;
		BalaCCodeMemberAccess* _tmp528_;
		BalaCCodeMemberAccess* _tmp529_;
		BalaCCodeUnaryExpression* _tmp530_;
		BalaCCodeUnaryExpression* _tmp531_;
		BalaCCodeFunction* _tmp532_;
		BalaCCodeFunction* _tmp533_;
		BalaCCodeFunctionCall* _tmp534_;
		BalaCCodeFunction* _tmp535_;
		BalaCCodeFunction* _tmp536_;
		gchar* _tmp537_;
		gchar* _tmp538_;
		BalaCCodeIdentifier* _tmp539_;
		BalaCCodeIdentifier* _tmp540_;
		BalaCCodeFile* _tmp541_;
		BalaCCodeFunction* _tmp542_;
		BalaCCodeFile* _tmp543_;
		BalaCCodeFunction* _tmp544_;
		BalaCCodeFunction* unref_fun = NULL;
		gchar* _tmp545_;
		gchar* _tmp546_;
		BalaCCodeFunction* _tmp547_;
		BalaCCodeFunction* _tmp548_;
		BalaCCodeFunction* _tmp549_;
		BalaCCodeParameter* _tmp550_;
		BalaCCodeParameter* _tmp551_;
		BalaCCodeFunction* _tmp552_;
		BalaCCodeFunction* _tmp553_;
		BalaCCodeFunction* _tmp554_;
		BalaCCodeFunction* _tmp555_;
		const gchar* _tmp556_;
		gchar* _tmp557_;
		gchar* _tmp558_;
		gchar* _tmp559_;
		gchar* _tmp560_;
		BalaCCodeIdentifier* _tmp561_;
		BalaCCodeIdentifier* _tmp562_;
		const gchar* _tmp563_;
		gchar* _tmp564_;
		gchar* _tmp565_;
		BalaCCodeCastExpression* _tmp566_;
		BalaCCodeCastExpression* _tmp567_;
		BalaCCodeVariableDeclarator* _tmp568_;
		BalaCCodeVariableDeclarator* _tmp569_;
		BalaCCodeIdentifier* _tmp570_;
		BalaCCodeIdentifier* _tmp571_;
		BalaCCodeFunctionCall* _tmp572_;
		BalaCCodeFunctionCall* _tmp573_;
		gchar* _tmp574_;
		gchar* _tmp575_;
		BalaCCodeIdentifier* _tmp576_;
		BalaCCodeIdentifier* _tmp577_;
		BalaCCodeMemberAccess* _tmp578_;
		BalaCCodeMemberAccess* _tmp579_;
		BalaCCodeUnaryExpression* _tmp580_;
		BalaCCodeUnaryExpression* _tmp581_;
		BalaCCodeFunction* _tmp582_;
		BalaCCodeFunction* _tmp583_;
		BalaCCodeFunctionCall* _tmp584_;
		BalaCCodeExpression* outer_block = NULL;
		gchar* _tmp585_;
		gchar* _tmp586_;
		BalaCCodeIdentifier* _tmp587_;
		BalaCCodeExpression* _tmp588_;
		BalaBlock* parent_closure_block = NULL;
		BalaDataType* this_type = NULL;
		BalaDataType* _tmp599_;
		BalaDataType* _tmp600_;
		BalaDataType* _tmp601_;
		BalaMethod* _tmp616_;
		BalaMethod* _tmp617_;
		BalaSymbol* _tmp717_;
		BalaSymbol* _tmp718_;
		BalaBlock* _tmp789_;
		BalaCCodeFunctionCall* data_free = NULL;
		BalaCCodeIdentifier* _tmp839_;
		BalaCCodeIdentifier* _tmp840_;
		BalaCCodeFunctionCall* _tmp841_;
		BalaCCodeFunctionCall* _tmp842_;
		BalaCCodeFunctionCall* _tmp843_;
		const gchar* _tmp844_;
		BalaCCodeIdentifier* _tmp845_;
		BalaCCodeIdentifier* _tmp846_;
		BalaCCodeFunctionCall* _tmp847_;
		gchar* _tmp848_;
		gchar* _tmp849_;
		BalaCCodeIdentifier* _tmp850_;
		BalaCCodeIdentifier* _tmp851_;
		BalaCCodeFunction* _tmp852_;
		BalaCCodeFunction* _tmp853_;
		BalaCCodeFunctionCall* _tmp854_;
		BalaCCodeFunction* _tmp855_;
		BalaCCodeFunction* _tmp856_;
		BalaCCodeFile* _tmp857_;
		BalaCCodeFunction* _tmp858_;
		BalaCCodeFile* _tmp859_;
		BalaCCodeFunction* _tmp860_;
		_tmp61_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
		_tmp62_ = _tmp61_;
		_tmp63_ = bala_ccode_base_module_next_closure_block (self, _tmp62_);
		_tmp64_ = _bala_code_node_ref0 (_tmp63_);
		parent_block = _tmp64_;
		block_id = bala_ccode_base_module_get_block_id (self, b);
		_tmp65_ = g_strdup_printf ("Block%dData", block_id);
		struct_name = _tmp65_;
		_tmp66_ = struct_name;
		_tmp67_ = g_strconcat ("_", _tmp66_, NULL);
		_tmp68_ = _tmp67_;
		_tmp69_ = bala_ccode_struct_new (_tmp68_);
		_tmp70_ = _tmp69_;
		_g_free0 (_tmp68_);
		data = _tmp70_;
		_tmp71_ = data;
		bala_ccode_struct_add_field (_tmp71_, "int", "_ref_count_", 0, NULL);
		_tmp72_ = parent_block;
		if (_tmp72_ != NULL) {
			gint parent_block_id = 0;
			BalaBlock* _tmp73_;
			BalaCCodeStruct* _tmp74_;
			gchar* _tmp75_;
			gchar* _tmp76_;
			gchar* _tmp77_;
			gchar* _tmp78_;
			_tmp73_ = parent_block;
			parent_block_id = bala_ccode_base_module_get_block_id (self, _tmp73_);
			_tmp74_ = data;
			_tmp75_ = g_strdup_printf ("Block%dData *", parent_block_id);
			_tmp76_ = _tmp75_;
			_tmp77_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp78_ = _tmp77_;
			bala_ccode_struct_add_field (_tmp74_, _tmp76_, _tmp78_, 0, NULL);
			_g_free0 (_tmp78_);
			_g_free0 (_tmp76_);
		} else {
			BalaDataType* this_type = NULL;
			BalaDataType* _tmp79_;
			BalaDataType* _tmp80_;
			BalaMethod* _tmp85_;
			BalaMethod* _tmp86_;
			_tmp79_ = bala_ccode_base_module_get_this_type (self);
			this_type = _tmp79_;
			_tmp80_ = this_type;
			if (_tmp80_ != NULL) {
				BalaCCodeStruct* _tmp81_;
				BalaDataType* _tmp82_;
				gchar* _tmp83_;
				gchar* _tmp84_;
				_tmp81_ = data;
				_tmp82_ = this_type;
				_tmp83_ = bala_get_ccode_name ((BalaCodeNode*) _tmp82_);
				_tmp84_ = _tmp83_;
				bala_ccode_struct_add_field (_tmp81_, _tmp84_, "self", 0, NULL);
				_g_free0 (_tmp84_);
			}
			_tmp85_ = bala_ccode_base_module_get_current_method (self);
			_tmp86_ = _tmp85_;
			if (_tmp86_ != NULL) {
				{
					BalaList* _type_param_list = NULL;
					BalaMethod* _tmp87_;
					BalaMethod* _tmp88_;
					BalaList* _tmp89_;
					BalaList* _tmp90_;
					gint _type_param_size = 0;
					BalaList* _tmp91_;
					gint _tmp92_;
					gint _tmp93_;
					gint _type_param_index = 0;
					_tmp87_ = bala_ccode_base_module_get_current_method (self);
					_tmp88_ = _tmp87_;
					_tmp89_ = bala_method_get_type_parameters (_tmp88_);
					_tmp90_ = _bala_iterable_ref0 (_tmp89_);
					_type_param_list = _tmp90_;
					_tmp91_ = _type_param_list;
					_tmp92_ = bala_collection_get_size ((BalaCollection*) _tmp91_);
					_tmp93_ = _tmp92_;
					_type_param_size = _tmp93_;
					_type_param_index = -1;
					while (TRUE) {
						gint _tmp94_;
						gint _tmp95_;
						BalaTypeParameter* type_param = NULL;
						BalaList* _tmp96_;
						gpointer _tmp97_;
						gchar* func_name = NULL;
						BalaTypeParameter* _tmp98_;
						const gchar* _tmp99_;
						const gchar* _tmp100_;
						gchar* _tmp101_;
						gchar* _tmp102_;
						gchar* _tmp103_;
						BalaCCodeStruct* _tmp104_;
						const gchar* _tmp105_;
						BalaTypeParameter* _tmp106_;
						const gchar* _tmp107_;
						const gchar* _tmp108_;
						gchar* _tmp109_;
						gchar* _tmp110_;
						gchar* _tmp111_;
						BalaCCodeStruct* _tmp112_;
						const gchar* _tmp113_;
						BalaTypeParameter* _tmp114_;
						const gchar* _tmp115_;
						const gchar* _tmp116_;
						gchar* _tmp117_;
						gchar* _tmp118_;
						gchar* _tmp119_;
						BalaCCodeStruct* _tmp120_;
						const gchar* _tmp121_;
						_type_param_index = _type_param_index + 1;
						_tmp94_ = _type_param_index;
						_tmp95_ = _type_param_size;
						if (!(_tmp94_ < _tmp95_)) {
							break;
						}
						_tmp96_ = _type_param_list;
						_tmp97_ = bala_list_get (_tmp96_, _type_param_index);
						type_param = (BalaTypeParameter*) _tmp97_;
						_tmp98_ = type_param;
						_tmp99_ = bala_symbol_get_name ((BalaSymbol*) _tmp98_);
						_tmp100_ = _tmp99_;
						_tmp101_ = g_ascii_strdown (_tmp100_, (gssize) -1);
						_tmp102_ = _tmp101_;
						_tmp103_ = g_strdup_printf ("%s_type", _tmp102_);
						_g_free0 (func_name);
						func_name = _tmp103_;
						_g_free0 (_tmp102_);
						_tmp104_ = data;
						_tmp105_ = func_name;
						bala_ccode_struct_add_field (_tmp104_, "GType", _tmp105_, 0, NULL);
						_tmp106_ = type_param;
						_tmp107_ = bala_symbol_get_name ((BalaSymbol*) _tmp106_);
						_tmp108_ = _tmp107_;
						_tmp109_ = g_ascii_strdown (_tmp108_, (gssize) -1);
						_tmp110_ = _tmp109_;
						_tmp111_ = g_strdup_printf ("%s_dup_func", _tmp110_);
						_g_free0 (func_name);
						func_name = _tmp111_;
						_g_free0 (_tmp110_);
						_tmp112_ = data;
						_tmp113_ = func_name;
						bala_ccode_struct_add_field (_tmp112_, "GBoxedCopyFunc", _tmp113_, 0, NULL);
						_tmp114_ = type_param;
						_tmp115_ = bala_symbol_get_name ((BalaSymbol*) _tmp114_);
						_tmp116_ = _tmp115_;
						_tmp117_ = g_ascii_strdown (_tmp116_, (gssize) -1);
						_tmp118_ = _tmp117_;
						_tmp119_ = g_strdup_printf ("%s_destroy_func", _tmp118_);
						_g_free0 (func_name);
						func_name = _tmp119_;
						_g_free0 (_tmp118_);
						_tmp120_ = data;
						_tmp121_ = func_name;
						bala_ccode_struct_add_field (_tmp120_, "GDestroyNotify", _tmp121_, 0, NULL);
						_g_free0 (func_name);
						_bala_code_node_unref0 (type_param);
					}
					_bala_iterable_unref0 (_type_param_list);
				}
			}
		}
		{
			BalaList* _local_list = NULL;
			BalaList* _tmp122_;
			BalaList* _tmp123_;
			gint _local_size = 0;
			BalaList* _tmp124_;
			gint _tmp125_;
			gint _tmp126_;
			gint _local_index = 0;
			_tmp122_ = local_vars;
			_tmp123_ = _bala_iterable_ref0 (_tmp122_);
			_local_list = _tmp123_;
			_tmp124_ = _local_list;
			_tmp125_ = bala_collection_get_size ((BalaCollection*) _tmp124_);
			_tmp126_ = _tmp125_;
			_local_size = _tmp126_;
			_local_index = -1;
			while (TRUE) {
				gint _tmp127_;
				gint _tmp128_;
				BalaLocalVariable* local = NULL;
				BalaList* _tmp129_;
				gpointer _tmp130_;
				BalaLocalVariable* _tmp131_;
				gboolean _tmp132_;
				gboolean _tmp133_;
				_local_index = _local_index + 1;
				_tmp127_ = _local_index;
				_tmp128_ = _local_size;
				if (!(_tmp127_ < _tmp128_)) {
					break;
				}
				_tmp129_ = _local_list;
				_tmp130_ = bala_list_get (_tmp129_, _local_index);
				local = (BalaLocalVariable*) _tmp130_;
				_tmp131_ = local;
				_tmp132_ = bala_local_variable_get_captured (_tmp131_);
				_tmp133_ = _tmp132_;
				if (_tmp133_) {
					BalaLocalVariable* _tmp134_;
					BalaDataType* _tmp135_;
					BalaDataType* _tmp136_;
					BalaCCodeFile* _tmp137_;
					BalaCCodeStruct* _tmp138_;
					BalaLocalVariable* _tmp139_;
					BalaDataType* _tmp140_;
					BalaDataType* _tmp141_;
					gchar* _tmp142_;
					gchar* _tmp143_;
					BalaLocalVariable* _tmp144_;
					gchar* _tmp145_;
					gchar* _tmp146_;
					BalaLocalVariable* _tmp147_;
					BalaDataType* _tmp148_;
					BalaDataType* _tmp149_;
					BalaCCodeDeclaratorSuffix* _tmp150_;
					BalaCCodeDeclaratorSuffix* _tmp151_;
					gboolean _tmp152_ = FALSE;
					BalaLocalVariable* _tmp153_;
					BalaDataType* _tmp154_;
					BalaDataType* _tmp155_;
					_tmp134_ = local;
					_tmp135_ = bala_variable_get_variable_type ((BalaVariable*) _tmp134_);
					_tmp136_ = _tmp135_;
					_tmp137_ = self->cfile;
					bala_ccode_base_module_generate_type_declaration (self, _tmp136_, _tmp137_);
					_tmp138_ = data;
					_tmp139_ = local;
					_tmp140_ = bala_variable_get_variable_type ((BalaVariable*) _tmp139_);
					_tmp141_ = _tmp140_;
					_tmp142_ = bala_get_ccode_name ((BalaCodeNode*) _tmp141_);
					_tmp143_ = _tmp142_;
					_tmp144_ = local;
					_tmp145_ = bala_ccode_base_module_get_local_cname (self, _tmp144_);
					_tmp146_ = _tmp145_;
					_tmp147_ = local;
					_tmp148_ = bala_variable_get_variable_type ((BalaVariable*) _tmp147_);
					_tmp149_ = _tmp148_;
					_tmp150_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp149_);
					_tmp151_ = _tmp150_;
					bala_ccode_struct_add_field (_tmp138_, _tmp143_, _tmp146_, 0, _tmp151_);
					_bala_ccode_declarator_suffix_unref0 (_tmp151_);
					_g_free0 (_tmp146_);
					_g_free0 (_tmp143_);
					_tmp153_ = local;
					_tmp154_ = bala_variable_get_variable_type ((BalaVariable*) _tmp153_);
					_tmp155_ = _tmp154_;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp155_, BALA_TYPE_ARRAY_TYPE)) {
						BalaLocalVariable* _tmp156_;
						BalaDataType* _tmp157_;
						BalaDataType* _tmp158_;
						gboolean _tmp159_;
						gboolean _tmp160_;
						_tmp156_ = local;
						_tmp157_ = bala_variable_get_variable_type ((BalaVariable*) _tmp156_);
						_tmp158_ = _tmp157_;
						_tmp159_ = bala_array_type_get_fixed_length (G_TYPE_CHECK_INSTANCE_CAST (_tmp158_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
						_tmp160_ = _tmp159_;
						_tmp152_ = !_tmp160_;
					} else {
						_tmp152_ = FALSE;
					}
					if (_tmp152_) {
						BalaArrayType* array_type = NULL;
						BalaLocalVariable* _tmp161_;
						BalaDataType* _tmp162_;
						BalaDataType* _tmp163_;
						BalaArrayType* _tmp164_;
						gchar* length_ctype = NULL;
						BalaArrayType* _tmp165_;
						gchar* _tmp166_;
						BalaCCodeStruct* _tmp179_;
						const gchar* _tmp180_;
						BalaLocalVariable* _tmp181_;
						gchar* _tmp182_;
						gchar* _tmp183_;
						gchar* _tmp184_;
						gchar* _tmp185_;
						_tmp161_ = local;
						_tmp162_ = bala_variable_get_variable_type ((BalaVariable*) _tmp161_);
						_tmp163_ = _tmp162_;
						_tmp164_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp163_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
						array_type = _tmp164_;
						_tmp165_ = array_type;
						_tmp166_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp165_);
						length_ctype = _tmp166_;
						{
							gint dim = 0;
							dim = 1;
							{
								gboolean _tmp167_ = FALSE;
								_tmp167_ = TRUE;
								while (TRUE) {
									BalaArrayType* _tmp169_;
									gint _tmp170_;
									gint _tmp171_;
									BalaCCodeStruct* _tmp172_;
									const gchar* _tmp173_;
									BalaLocalVariable* _tmp174_;
									gchar* _tmp175_;
									gchar* _tmp176_;
									gchar* _tmp177_;
									gchar* _tmp178_;
									if (!_tmp167_) {
										gint _tmp168_;
										_tmp168_ = dim;
										dim = _tmp168_ + 1;
									}
									_tmp167_ = FALSE;
									_tmp169_ = array_type;
									_tmp170_ = bala_array_type_get_rank (_tmp169_);
									_tmp171_ = _tmp170_;
									if (!(dim <= _tmp171_)) {
										break;
									}
									_tmp172_ = data;
									_tmp173_ = length_ctype;
									_tmp174_ = local;
									_tmp175_ = bala_ccode_base_module_get_local_cname (self, _tmp174_);
									_tmp176_ = _tmp175_;
									_tmp177_ = bala_ccode_base_module_get_array_length_cname (self, _tmp176_, dim);
									_tmp178_ = _tmp177_;
									bala_ccode_struct_add_field (_tmp172_, _tmp173_, _tmp178_, 0, NULL);
									_g_free0 (_tmp178_);
									_g_free0 (_tmp176_);
								}
							}
						}
						_tmp179_ = data;
						_tmp180_ = length_ctype;
						_tmp181_ = local;
						_tmp182_ = bala_ccode_base_module_get_local_cname (self, _tmp181_);
						_tmp183_ = _tmp182_;
						_tmp184_ = bala_ccode_base_module_get_array_size_cname (self, _tmp183_);
						_tmp185_ = _tmp184_;
						bala_ccode_struct_add_field (_tmp179_, _tmp180_, _tmp185_, 0, NULL);
						_g_free0 (_tmp185_);
						_g_free0 (_tmp183_);
						_g_free0 (length_ctype);
						_bala_code_node_unref0 (array_type);
					} else {
						gboolean _tmp186_ = FALSE;
						BalaLocalVariable* _tmp187_;
						BalaDataType* _tmp188_;
						BalaDataType* _tmp189_;
						_tmp187_ = local;
						_tmp188_ = bala_variable_get_variable_type ((BalaVariable*) _tmp187_);
						_tmp189_ = _tmp188_;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp189_, BALA_TYPE_DELEGATE_TYPE)) {
							BalaLocalVariable* _tmp190_;
							BalaDataType* _tmp191_;
							BalaDataType* _tmp192_;
							BalaDelegate* _tmp193_;
							BalaDelegate* _tmp194_;
							gboolean _tmp195_;
							gboolean _tmp196_;
							_tmp190_ = local;
							_tmp191_ = bala_variable_get_variable_type ((BalaVariable*) _tmp190_);
							_tmp192_ = _tmp191_;
							_tmp193_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp192_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
							_tmp194_ = _tmp193_;
							_tmp195_ = bala_delegate_get_has_target (_tmp194_);
							_tmp196_ = _tmp195_;
							_tmp186_ = _tmp196_;
						} else {
							_tmp186_ = FALSE;
						}
						if (_tmp186_) {
							BalaCCodeStruct* _tmp197_;
							BalaDataType* _tmp198_;
							gchar* _tmp199_;
							gchar* _tmp200_;
							BalaLocalVariable* _tmp201_;
							gchar* _tmp202_;
							gchar* _tmp203_;
							gchar* _tmp204_;
							gchar* _tmp205_;
							BalaLocalVariable* _tmp206_;
							BalaDataType* _tmp207_;
							BalaDataType* _tmp208_;
							_tmp197_ = data;
							_tmp198_ = self->delegate_target_type;
							_tmp199_ = bala_get_ccode_name ((BalaCodeNode*) _tmp198_);
							_tmp200_ = _tmp199_;
							_tmp201_ = local;
							_tmp202_ = bala_ccode_base_module_get_local_cname (self, _tmp201_);
							_tmp203_ = _tmp202_;
							_tmp204_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp203_);
							_tmp205_ = _tmp204_;
							bala_ccode_struct_add_field (_tmp197_, _tmp200_, _tmp205_, 0, NULL);
							_g_free0 (_tmp205_);
							_g_free0 (_tmp203_);
							_g_free0 (_tmp200_);
							_tmp206_ = local;
							_tmp207_ = bala_variable_get_variable_type ((BalaVariable*) _tmp206_);
							_tmp208_ = _tmp207_;
							if (bala_data_type_is_disposable (_tmp208_)) {
								BalaCCodeStruct* _tmp209_;
								BalaDelegateType* _tmp210_;
								gchar* _tmp211_;
								gchar* _tmp212_;
								BalaLocalVariable* _tmp213_;
								gchar* _tmp214_;
								gchar* _tmp215_;
								gchar* _tmp216_;
								gchar* _tmp217_;
								_tmp209_ = data;
								_tmp210_ = self->delegate_target_destroy_type;
								_tmp211_ = bala_get_ccode_name ((BalaCodeNode*) _tmp210_);
								_tmp212_ = _tmp211_;
								_tmp213_ = local;
								_tmp214_ = bala_ccode_base_module_get_local_cname (self, _tmp213_);
								_tmp215_ = _tmp214_;
								_tmp216_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, _tmp215_);
								_tmp217_ = _tmp216_;
								bala_ccode_struct_add_field (_tmp209_, _tmp212_, _tmp217_, 0, NULL);
								_g_free0 (_tmp217_);
								_g_free0 (_tmp215_);
								_g_free0 (_tmp212_);
							}
						} else {
							BalaLocalVariable* _tmp218_;
							BalaDataType* _tmp219_;
							BalaDataType* _tmp220_;
							BalaTypeSymbol* _tmp221_;
							BalaTypeSymbol* _tmp222_;
							BalaCodeContext* _tmp223_;
							BalaSemanticAnalyzer* _tmp224_;
							BalaSemanticAnalyzer* _tmp225_;
							BalaDataType* _tmp226_;
							BalaTypeSymbol* _tmp227_;
							BalaTypeSymbol* _tmp228_;
							_tmp218_ = local;
							_tmp219_ = bala_variable_get_variable_type ((BalaVariable*) _tmp218_);
							_tmp220_ = _tmp219_;
							_tmp221_ = bala_data_type_get_type_symbol (_tmp220_);
							_tmp222_ = _tmp221_;
							_tmp223_ = self->priv->_context;
							_tmp224_ = bala_code_context_get_analyzer (_tmp223_);
							_tmp225_ = _tmp224_;
							_tmp226_ = _tmp225_->va_list_type;
							_tmp227_ = bala_data_type_get_type_symbol (_tmp226_);
							_tmp228_ = _tmp227_;
							if (_tmp222_ == _tmp228_) {
								BalaLocalVariable* _tmp229_;
								BalaSourceReference* _tmp230_;
								BalaSourceReference* _tmp231_;
								BalaLocalVariable* _tmp232_;
								gchar* _tmp233_;
								gchar* _tmp234_;
								gchar* _tmp235_;
								gchar* _tmp236_;
								_tmp229_ = local;
								_tmp230_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp229_);
								_tmp231_ = _tmp230_;
								_tmp232_ = local;
								_tmp233_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp232_);
								_tmp234_ = _tmp233_;
								_tmp235_ = g_strdup_printf ("internal: Capturing `va_list' variable `%s' is not allowed", _tmp234_);
								_tmp236_ = _tmp235_;
								bala_report_error (_tmp231_, _tmp236_);
								_g_free0 (_tmp236_);
								_g_free0 (_tmp234_);
								bala_code_node_set_error ((BalaCodeNode*) b, TRUE);
							}
						}
					}
				}
				_bala_code_node_unref0 (local);
			}
			_bala_iterable_unref0 (_local_list);
		}
		_tmp237_ = bala_ccode_identifier_new ("g_slice_new0");
		_tmp238_ = _tmp237_;
		_tmp239_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp238_);
		_tmp240_ = _tmp239_;
		_bala_ccode_node_unref0 (_tmp238_);
		data_alloc = _tmp240_;
		_tmp241_ = data_alloc;
		_tmp242_ = struct_name;
		_tmp243_ = bala_ccode_identifier_new (_tmp242_);
		_tmp244_ = _tmp243_;
		bala_ccode_function_call_add_argument (_tmp241_, (BalaCCodeExpression*) _tmp244_);
		_bala_ccode_node_unref0 (_tmp244_);
		if (bala_ccode_base_module_is_in_coroutine (self)) {
			BalaCCodeStruct* _tmp245_;
			const gchar* _tmp246_;
			gchar* _tmp247_;
			gchar* _tmp248_;
			gchar* _tmp249_;
			gchar* _tmp250_;
			_tmp245_ = self->closure_struct;
			_tmp246_ = struct_name;
			_tmp247_ = g_strconcat (_tmp246_, "*", NULL);
			_tmp248_ = _tmp247_;
			_tmp249_ = g_strdup_printf ("_data%d_", block_id);
			_tmp250_ = _tmp249_;
			bala_ccode_struct_add_field (_tmp245_, _tmp248_, _tmp250_, 0, NULL);
			_g_free0 (_tmp250_);
			_g_free0 (_tmp248_);
		} else {
			BalaCCodeFunction* _tmp251_;
			BalaCCodeFunction* _tmp252_;
			const gchar* _tmp253_;
			gchar* _tmp254_;
			gchar* _tmp255_;
			gchar* _tmp256_;
			gchar* _tmp257_;
			BalaCCodeVariableDeclarator* _tmp258_;
			BalaCCodeVariableDeclarator* _tmp259_;
			_tmp251_ = bala_ccode_base_module_get_ccode (self);
			_tmp252_ = _tmp251_;
			_tmp253_ = struct_name;
			_tmp254_ = g_strconcat (_tmp253_, "*", NULL);
			_tmp255_ = _tmp254_;
			_tmp256_ = g_strdup_printf ("_data%d_", block_id);
			_tmp257_ = _tmp256_;
			_tmp258_ = bala_ccode_variable_declarator_new (_tmp257_, NULL, NULL);
			_tmp259_ = _tmp258_;
			bala_ccode_function_add_declaration (_tmp252_, _tmp255_, (BalaCCodeDeclarator*) _tmp259_, 0);
			_bala_ccode_node_unref0 (_tmp259_);
			_g_free0 (_tmp257_);
			_g_free0 (_tmp255_);
		}
		_tmp260_ = bala_ccode_base_module_get_ccode (self);
		_tmp261_ = _tmp260_;
		_tmp262_ = g_strdup_printf ("_data%d_", block_id);
		_tmp263_ = _tmp262_;
		_tmp264_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp263_);
		_tmp265_ = _tmp264_;
		_tmp266_ = data_alloc;
		bala_ccode_function_add_assignment (_tmp261_, _tmp265_, (BalaCCodeExpression*) _tmp266_);
		_bala_ccode_node_unref0 (_tmp265_);
		_g_free0 (_tmp263_);
		_tmp267_ = bala_ccode_base_module_get_ccode (self);
		_tmp268_ = _tmp267_;
		_tmp269_ = g_strdup_printf ("_data%d_", block_id);
		_tmp270_ = _tmp269_;
		_tmp271_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp270_);
		_tmp272_ = _tmp271_;
		_tmp273_ = bala_ccode_member_access_new_pointer (_tmp272_, "_ref_count_");
		_tmp274_ = _tmp273_;
		_tmp275_ = bala_ccode_identifier_new ("1");
		_tmp276_ = _tmp275_;
		bala_ccode_function_add_assignment (_tmp268_, (BalaCCodeExpression*) _tmp274_, (BalaCCodeExpression*) _tmp276_);
		_bala_ccode_node_unref0 (_tmp276_);
		_bala_ccode_node_unref0 (_tmp274_);
		_bala_ccode_node_unref0 (_tmp272_);
		_g_free0 (_tmp270_);
		_tmp277_ = parent_block;
		if (_tmp277_ != NULL) {
			gint parent_block_id = 0;
			BalaBlock* _tmp278_;
			BalaCCodeFunctionCall* ref_call = NULL;
			gchar* _tmp279_;
			gchar* _tmp280_;
			BalaCCodeIdentifier* _tmp281_;
			BalaCCodeIdentifier* _tmp282_;
			BalaCCodeFunctionCall* _tmp283_;
			BalaCCodeFunctionCall* _tmp284_;
			BalaCCodeFunctionCall* _tmp285_;
			gchar* _tmp286_;
			gchar* _tmp287_;
			BalaCCodeExpression* _tmp288_;
			BalaCCodeExpression* _tmp289_;
			BalaCCodeFunction* _tmp290_;
			BalaCCodeFunction* _tmp291_;
			gchar* _tmp292_;
			gchar* _tmp293_;
			BalaCCodeExpression* _tmp294_;
			BalaCCodeExpression* _tmp295_;
			gchar* _tmp296_;
			gchar* _tmp297_;
			BalaCCodeMemberAccess* _tmp298_;
			BalaCCodeMemberAccess* _tmp299_;
			BalaCCodeFunctionCall* _tmp300_;
			_tmp278_ = parent_block;
			parent_block_id = bala_ccode_base_module_get_block_id (self, _tmp278_);
			_tmp279_ = g_strdup_printf ("block%d_data_ref", parent_block_id);
			_tmp280_ = _tmp279_;
			_tmp281_ = bala_ccode_identifier_new (_tmp280_);
			_tmp282_ = _tmp281_;
			_tmp283_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp282_);
			_tmp284_ = _tmp283_;
			_bala_ccode_node_unref0 (_tmp282_);
			_g_free0 (_tmp280_);
			ref_call = _tmp284_;
			_tmp285_ = ref_call;
			_tmp286_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp287_ = _tmp286_;
			_tmp288_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp287_);
			_tmp289_ = _tmp288_;
			bala_ccode_function_call_add_argument (_tmp285_, _tmp289_);
			_bala_ccode_node_unref0 (_tmp289_);
			_g_free0 (_tmp287_);
			_tmp290_ = bala_ccode_base_module_get_ccode (self);
			_tmp291_ = _tmp290_;
			_tmp292_ = g_strdup_printf ("_data%d_", block_id);
			_tmp293_ = _tmp292_;
			_tmp294_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp293_);
			_tmp295_ = _tmp294_;
			_tmp296_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp297_ = _tmp296_;
			_tmp298_ = bala_ccode_member_access_new_pointer (_tmp295_, _tmp297_);
			_tmp299_ = _tmp298_;
			_tmp300_ = ref_call;
			bala_ccode_function_add_assignment (_tmp291_, (BalaCCodeExpression*) _tmp299_, (BalaCCodeExpression*) _tmp300_);
			_bala_ccode_node_unref0 (_tmp299_);
			_g_free0 (_tmp297_);
			_bala_ccode_node_unref0 (_tmp295_);
			_g_free0 (_tmp293_);
			_bala_ccode_node_unref0 (ref_call);
		} else {
			gboolean _tmp301_ = FALSE;
			gboolean _tmp302_ = FALSE;
			BalaMethod* _tmp303_;
			BalaMethod* _tmp304_;
			gboolean in_creation_method_with_chainup = FALSE;
			BalaDataType* this_type = NULL;
			BalaDataType* _tmp311_;
			gboolean _tmp312_ = FALSE;
			BalaDataType* _tmp313_;
			BalaMethod* _tmp343_;
			BalaMethod* _tmp344_;
			_tmp303_ = bala_ccode_base_module_get_current_method (self);
			_tmp304_ = _tmp303_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp304_, BALA_TYPE_CREATION_METHOD)) {
				BalaClass* _tmp305_;
				BalaClass* _tmp306_;
				_tmp305_ = bala_ccode_base_module_get_current_class (self);
				_tmp306_ = _tmp305_;
				_tmp302_ = _tmp306_ != NULL;
			} else {
				_tmp302_ = FALSE;
			}
			if (_tmp302_) {
				BalaClass* _tmp307_;
				BalaClass* _tmp308_;
				BalaClass* _tmp309_;
				BalaClass* _tmp310_;
				_tmp307_ = bala_ccode_base_module_get_current_class (self);
				_tmp308_ = _tmp307_;
				_tmp309_ = bala_class_get_base_class (_tmp308_);
				_tmp310_ = _tmp309_;
				_tmp301_ = _tmp310_ != NULL;
			} else {
				_tmp301_ = FALSE;
			}
			in_creation_method_with_chainup = _tmp301_;
			_tmp311_ = bala_ccode_base_module_get_this_type (self);
			this_type = _tmp311_;
			_tmp313_ = this_type;
			if (_tmp313_ != NULL) {
				gboolean _tmp314_ = FALSE;
				if (!in_creation_method_with_chainup) {
					_tmp314_ = TRUE;
				} else {
					BalaMethod* _tmp315_;
					BalaMethod* _tmp316_;
					BalaBlock* _tmp317_;
					BalaBlock* _tmp318_;
					_tmp315_ = bala_ccode_base_module_get_current_method (self);
					_tmp316_ = _tmp315_;
					_tmp317_ = bala_subroutine_get_body ((BalaSubroutine*) _tmp316_);
					_tmp318_ = _tmp317_;
					_tmp314_ = _tmp318_ != b;
				}
				_tmp312_ = _tmp314_;
			} else {
				_tmp312_ = FALSE;
			}
			if (_tmp312_) {
				BalaCCodeFunctionCall* ref_call = NULL;
				BalaDataType* _tmp319_;
				BalaSourceReference* _tmp320_;
				BalaSourceReference* _tmp321_;
				BalaCCodeExpression* _tmp322_;
				BalaCCodeExpression* _tmp323_;
				BalaCCodeFunctionCall* _tmp324_;
				BalaCCodeFunctionCall* _tmp325_;
				BalaCCodeFunctionCall* _tmp326_;
				BalaCCodeExpression* _tmp327_;
				BalaCCodeExpression* _tmp328_;
				BalaCCodeExpression* _tmp329_ = NULL;
				BalaCCodeExpression* instance = NULL;
				BalaCCodeExpression* _tmp333_;
				BalaCCodeFunction* _tmp334_;
				BalaCCodeFunction* _tmp335_;
				gchar* _tmp336_;
				gchar* _tmp337_;
				BalaCCodeExpression* _tmp338_;
				BalaCCodeExpression* _tmp339_;
				BalaCCodeMemberAccess* _tmp340_;
				BalaCCodeMemberAccess* _tmp341_;
				BalaCCodeExpression* _tmp342_;
				_tmp319_ = this_type;
				_tmp320_ = bala_code_node_get_source_reference ((BalaCodeNode*) b);
				_tmp321_ = _tmp320_;
				_tmp322_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp319_, _tmp321_, FALSE);
				_tmp323_ = _tmp322_;
				_tmp324_ = bala_ccode_function_call_new (_tmp323_);
				_tmp325_ = _tmp324_;
				_bala_ccode_node_unref0 (_tmp323_);
				ref_call = _tmp325_;
				_tmp326_ = ref_call;
				_tmp327_ = bala_ccode_base_module_get_this_cexpression (self);
				_tmp328_ = _tmp327_;
				bala_ccode_function_call_add_argument (_tmp326_, _tmp328_);
				_bala_ccode_node_unref0 (_tmp328_);
				if (bala_ccode_base_module_is_in_destructor (self)) {
					BalaCCodeIdentifier* _tmp330_;
					_tmp330_ = bala_ccode_identifier_new ("self");
					_bala_ccode_node_unref0 (_tmp329_);
					_tmp329_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp330_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression);
				} else {
					BalaCCodeFunctionCall* _tmp331_;
					BalaCCodeExpression* _tmp332_;
					_tmp331_ = ref_call;
					_tmp332_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp331_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression));
					_bala_ccode_node_unref0 (_tmp329_);
					_tmp329_ = _tmp332_;
				}
				_tmp333_ = _bala_ccode_node_ref0 (_tmp329_);
				instance = _tmp333_;
				_tmp334_ = bala_ccode_base_module_get_ccode (self);
				_tmp335_ = _tmp334_;
				_tmp336_ = g_strdup_printf ("_data%d_", block_id);
				_tmp337_ = _tmp336_;
				_tmp338_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp337_);
				_tmp339_ = _tmp338_;
				_tmp340_ = bala_ccode_member_access_new_pointer (_tmp339_, "self");
				_tmp341_ = _tmp340_;
				_tmp342_ = instance;
				bala_ccode_function_add_assignment (_tmp335_, (BalaCCodeExpression*) _tmp341_, _tmp342_);
				_bala_ccode_node_unref0 (_tmp341_);
				_bala_ccode_node_unref0 (_tmp339_);
				_g_free0 (_tmp337_);
				_bala_ccode_node_unref0 (instance);
				_bala_ccode_node_unref0 (_tmp329_);
				_bala_ccode_node_unref0 (ref_call);
			}
			_tmp343_ = bala_ccode_base_module_get_current_method (self);
			_tmp344_ = _tmp343_;
			if (_tmp344_ != NULL) {
				gchar** suffices = NULL;
				gchar* _tmp345_;
				gchar* _tmp346_;
				gchar* _tmp347_;
				gchar** _tmp348_;
				gint suffices_length1;
				gint _suffices_size_;
				_tmp345_ = g_strdup ("type");
				_tmp346_ = g_strdup ("dup_func");
				_tmp347_ = g_strdup ("destroy_func");
				_tmp348_ = g_new0 (gchar*, 3 + 1);
				_tmp348_[0] = _tmp345_;
				_tmp348_[1] = _tmp346_;
				_tmp348_[2] = _tmp347_;
				suffices = _tmp348_;
				suffices_length1 = 3;
				_suffices_size_ = suffices_length1;
				{
					BalaList* _type_param_list = NULL;
					BalaMethod* _tmp349_;
					BalaMethod* _tmp350_;
					BalaList* _tmp351_;
					BalaList* _tmp352_;
					gint _type_param_size = 0;
					BalaList* _tmp353_;
					gint _tmp354_;
					gint _tmp355_;
					gint _type_param_index = 0;
					_tmp349_ = bala_ccode_base_module_get_current_method (self);
					_tmp350_ = _tmp349_;
					_tmp351_ = bala_method_get_type_parameters (_tmp350_);
					_tmp352_ = _bala_iterable_ref0 (_tmp351_);
					_type_param_list = _tmp352_;
					_tmp353_ = _type_param_list;
					_tmp354_ = bala_collection_get_size ((BalaCollection*) _tmp353_);
					_tmp355_ = _tmp354_;
					_type_param_size = _tmp355_;
					_type_param_index = -1;
					while (TRUE) {
						gint _tmp356_;
						gint _tmp357_;
						BalaTypeParameter* type_param = NULL;
						BalaList* _tmp358_;
						gpointer _tmp359_;
						gchar** _tmp360_;
						gint _tmp360__length1;
						_type_param_index = _type_param_index + 1;
						_tmp356_ = _type_param_index;
						_tmp357_ = _type_param_size;
						if (!(_tmp356_ < _tmp357_)) {
							break;
						}
						_tmp358_ = _type_param_list;
						_tmp359_ = bala_list_get (_tmp358_, _type_param_index);
						type_param = (BalaTypeParameter*) _tmp359_;
						_tmp360_ = suffices;
						_tmp360__length1 = suffices_length1;
						{
							gchar** suffix_collection = NULL;
							gint suffix_collection_length1 = 0;
							gint _suffix_collection_size_ = 0;
							gint suffix_it = 0;
							suffix_collection = _tmp360_;
							suffix_collection_length1 = _tmp360__length1;
							for (suffix_it = 0; suffix_it < suffix_collection_length1; suffix_it = suffix_it + 1) {
								gchar* _tmp361_;
								gchar* suffix = NULL;
								_tmp361_ = g_strdup (suffix_collection[suffix_it]);
								suffix = _tmp361_;
								{
									gchar* func_name = NULL;
									BalaTypeParameter* _tmp362_;
									const gchar* _tmp363_;
									const gchar* _tmp364_;
									gchar* _tmp365_;
									gchar* _tmp366_;
									const gchar* _tmp367_;
									gchar* _tmp368_;
									gchar* _tmp369_;
									BalaCCodeFunction* _tmp370_;
									BalaCCodeFunction* _tmp371_;
									gchar* _tmp372_;
									gchar* _tmp373_;
									BalaCCodeExpression* _tmp374_;
									BalaCCodeExpression* _tmp375_;
									const gchar* _tmp376_;
									BalaCCodeMemberAccess* _tmp377_;
									BalaCCodeMemberAccess* _tmp378_;
									const gchar* _tmp379_;
									BalaCCodeExpression* _tmp380_;
									BalaCCodeExpression* _tmp381_;
									_tmp362_ = type_param;
									_tmp363_ = bala_symbol_get_name ((BalaSymbol*) _tmp362_);
									_tmp364_ = _tmp363_;
									_tmp365_ = g_ascii_strdown (_tmp364_, (gssize) -1);
									_tmp366_ = _tmp365_;
									_tmp367_ = suffix;
									_tmp368_ = g_strdup_printf ("%s_%s", _tmp366_, _tmp367_);
									_tmp369_ = _tmp368_;
									_g_free0 (_tmp366_);
									func_name = _tmp369_;
									_tmp370_ = bala_ccode_base_module_get_ccode (self);
									_tmp371_ = _tmp370_;
									_tmp372_ = g_strdup_printf ("_data%d_", block_id);
									_tmp373_ = _tmp372_;
									_tmp374_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp373_);
									_tmp375_ = _tmp374_;
									_tmp376_ = func_name;
									_tmp377_ = bala_ccode_member_access_new_pointer (_tmp375_, _tmp376_);
									_tmp378_ = _tmp377_;
									_tmp379_ = func_name;
									_tmp380_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp379_);
									_tmp381_ = _tmp380_;
									bala_ccode_function_add_assignment (_tmp371_, (BalaCCodeExpression*) _tmp378_, _tmp381_);
									_bala_ccode_node_unref0 (_tmp381_);
									_bala_ccode_node_unref0 (_tmp378_);
									_bala_ccode_node_unref0 (_tmp375_);
									_g_free0 (_tmp373_);
									_g_free0 (func_name);
									_g_free0 (suffix);
								}
							}
						}
						_bala_code_node_unref0 (type_param);
					}
					_bala_iterable_unref0 (_type_param_list);
				}
				suffices = (_bala_array_free (suffices, suffices_length1, (GDestroyNotify) g_free), NULL);
			}
		}
		_tmp382_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
		_tmp383_ = _tmp382_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp383_, BALA_TYPE_METHOD)) {
			BalaMethod* m = NULL;
			BalaSymbol* _tmp384_;
			BalaSymbol* _tmp385_;
			BalaMethod* _tmp386_;
			BalaMethod* _tmp421_;
			gboolean _tmp422_;
			gboolean _tmp423_;
			_tmp384_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp385_ = _tmp384_;
			_tmp386_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp385_, BALA_TYPE_METHOD, BalaMethod));
			m = _tmp386_;
			{
				BalaList* _param_list = NULL;
				BalaMethod* _tmp387_;
				BalaList* _tmp388_;
				BalaList* _tmp389_;
				gint _param_size = 0;
				BalaList* _tmp390_;
				gint _tmp391_;
				gint _tmp392_;
				gint _param_index = 0;
				_tmp387_ = m;
				_tmp388_ = bala_callable_get_parameters ((BalaCallable*) _tmp387_);
				_tmp389_ = _bala_iterable_ref0 (_tmp388_);
				_param_list = _tmp389_;
				_tmp390_ = _param_list;
				_tmp391_ = bala_collection_get_size ((BalaCollection*) _tmp390_);
				_tmp392_ = _tmp391_;
				_param_size = _tmp392_;
				_param_index = -1;
				while (TRUE) {
					gint _tmp393_;
					gint _tmp394_;
					BalaParameter* param = NULL;
					BalaList* _tmp395_;
					gpointer _tmp396_;
					BalaParameter* _tmp397_;
					gboolean _tmp398_;
					gboolean _tmp399_;
					_param_index = _param_index + 1;
					_tmp393_ = _param_index;
					_tmp394_ = _param_size;
					if (!(_tmp393_ < _tmp394_)) {
						break;
					}
					_tmp395_ = _param_list;
					_tmp396_ = bala_list_get (_tmp395_, _param_index);
					param = (BalaParameter*) _tmp396_;
					_tmp397_ = param;
					_tmp398_ = bala_parameter_get_captured (_tmp397_);
					_tmp399_ = _tmp398_;
					if (_tmp399_) {
						BalaParameter* _tmp400_;
						BalaCCodeStruct* _tmp401_;
						BalaParameter* _tmp402_;
						BalaDataType* _tmp403_;
						BalaDataType* _tmp404_;
						BalaTypeSymbol* _tmp405_;
						BalaTypeSymbol* _tmp406_;
						BalaCodeContext* _tmp407_;
						BalaSemanticAnalyzer* _tmp408_;
						BalaSemanticAnalyzer* _tmp409_;
						BalaDataType* _tmp410_;
						BalaTypeSymbol* _tmp411_;
						BalaTypeSymbol* _tmp412_;
						_tmp400_ = param;
						_tmp401_ = data;
						bala_ccode_base_module_capture_parameter (self, _tmp400_, _tmp401_, block_id);
						_tmp402_ = param;
						_tmp403_ = bala_variable_get_variable_type ((BalaVariable*) _tmp402_);
						_tmp404_ = _tmp403_;
						_tmp405_ = bala_data_type_get_type_symbol (_tmp404_);
						_tmp406_ = _tmp405_;
						_tmp407_ = self->priv->_context;
						_tmp408_ = bala_code_context_get_analyzer (_tmp407_);
						_tmp409_ = _tmp408_;
						_tmp410_ = _tmp409_->va_list_type;
						_tmp411_ = bala_data_type_get_type_symbol (_tmp410_);
						_tmp412_ = _tmp411_;
						if (_tmp406_ == _tmp412_) {
							BalaParameter* _tmp413_;
							BalaSourceReference* _tmp414_;
							BalaSourceReference* _tmp415_;
							BalaParameter* _tmp416_;
							gchar* _tmp417_;
							gchar* _tmp418_;
							gchar* _tmp419_;
							gchar* _tmp420_;
							_tmp413_ = param;
							_tmp414_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp413_);
							_tmp415_ = _tmp414_;
							_tmp416_ = param;
							_tmp417_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp416_);
							_tmp418_ = _tmp417_;
							_tmp419_ = g_strdup_printf ("internal: Capturing `va_list' parameter `%s' is not allowed", _tmp418_);
							_tmp420_ = _tmp419_;
							bala_report_error (_tmp415_, _tmp420_);
							_g_free0 (_tmp420_);
							_g_free0 (_tmp418_);
							bala_code_node_set_error ((BalaCodeNode*) b, TRUE);
						}
					}
					_bala_code_node_unref0 (param);
				}
				_bala_iterable_unref0 (_param_list);
			}
			_tmp421_ = m;
			_tmp422_ = bala_method_get_coroutine (_tmp421_);
			_tmp423_ = _tmp422_;
			if (_tmp423_) {
				BalaCCodeStruct* _tmp424_;
				BalaDataType* _tmp425_;
				gchar* _tmp426_;
				gchar* _tmp427_;
				BalaCCodeFunction* _tmp428_;
				BalaCCodeFunction* _tmp429_;
				gchar* _tmp430_;
				gchar* _tmp431_;
				BalaCCodeExpression* _tmp432_;
				BalaCCodeExpression* _tmp433_;
				BalaCCodeMemberAccess* _tmp434_;
				BalaCCodeMemberAccess* _tmp435_;
				BalaCCodeIdentifier* _tmp436_;
				BalaCCodeIdentifier* _tmp437_;
				_tmp424_ = data;
				_tmp425_ = self->pointer_type;
				_tmp426_ = bala_get_ccode_name ((BalaCodeNode*) _tmp425_);
				_tmp427_ = _tmp426_;
				bala_ccode_struct_add_field (_tmp424_, _tmp427_, "_async_data_", 0, NULL);
				_g_free0 (_tmp427_);
				_tmp428_ = bala_ccode_base_module_get_ccode (self);
				_tmp429_ = _tmp428_;
				_tmp430_ = g_strdup_printf ("_data%d_", block_id);
				_tmp431_ = _tmp430_;
				_tmp432_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp431_);
				_tmp433_ = _tmp432_;
				_tmp434_ = bala_ccode_member_access_new_pointer (_tmp433_, "_async_data_");
				_tmp435_ = _tmp434_;
				_tmp436_ = bala_ccode_identifier_new ("_data_");
				_tmp437_ = _tmp436_;
				bala_ccode_function_add_assignment (_tmp429_, (BalaCCodeExpression*) _tmp435_, (BalaCCodeExpression*) _tmp437_);
				_bala_ccode_node_unref0 (_tmp437_);
				_bala_ccode_node_unref0 (_tmp435_);
				_bala_ccode_node_unref0 (_tmp433_);
				_g_free0 (_tmp431_);
			}
			_bala_code_node_unref0 (m);
		} else {
			BalaSymbol* _tmp438_;
			BalaSymbol* _tmp439_;
			_tmp438_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp439_ = _tmp438_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp439_, BALA_TYPE_PROPERTY_ACCESSOR)) {
				BalaPropertyAccessor* acc = NULL;
				BalaSymbol* _tmp440_;
				BalaSymbol* _tmp441_;
				BalaPropertyAccessor* _tmp442_;
				gboolean _tmp443_ = FALSE;
				BalaPropertyAccessor* _tmp444_;
				gboolean _tmp445_;
				gboolean _tmp446_;
				_tmp440_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
				_tmp441_ = _tmp440_;
				_tmp442_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp441_, BALA_TYPE_PROPERTY_ACCESSOR, BalaPropertyAccessor));
				acc = _tmp442_;
				_tmp444_ = acc;
				_tmp445_ = bala_property_accessor_get_readable (_tmp444_);
				_tmp446_ = _tmp445_;
				if (!_tmp446_) {
					BalaPropertyAccessor* _tmp447_;
					BalaParameter* _tmp448_;
					BalaParameter* _tmp449_;
					gboolean _tmp450_;
					gboolean _tmp451_;
					_tmp447_ = acc;
					_tmp448_ = bala_property_accessor_get_value_parameter (_tmp447_);
					_tmp449_ = _tmp448_;
					_tmp450_ = bala_parameter_get_captured (_tmp449_);
					_tmp451_ = _tmp450_;
					_tmp443_ = _tmp451_;
				} else {
					_tmp443_ = FALSE;
				}
				if (_tmp443_) {
					BalaPropertyAccessor* _tmp452_;
					BalaParameter* _tmp453_;
					BalaParameter* _tmp454_;
					BalaCCodeStruct* _tmp455_;
					_tmp452_ = acc;
					_tmp453_ = bala_property_accessor_get_value_parameter (_tmp452_);
					_tmp454_ = _tmp453_;
					_tmp455_ = data;
					bala_ccode_base_module_capture_parameter (self, _tmp454_, _tmp455_, block_id);
				}
				_bala_code_node_unref0 (acc);
			} else {
				BalaSymbol* _tmp456_;
				BalaSymbol* _tmp457_;
				_tmp456_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
				_tmp457_ = _tmp456_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp457_, BALA_TYPE_FOREACH_STATEMENT)) {
					BalaForeachStatement* stmt = NULL;
					BalaSymbol* _tmp458_;
					BalaSymbol* _tmp459_;
					BalaForeachStatement* _tmp460_;
					gboolean _tmp461_ = FALSE;
					BalaForeachStatement* _tmp462_;
					gboolean _tmp463_;
					gboolean _tmp464_;
					_tmp458_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
					_tmp459_ = _tmp458_;
					_tmp460_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp459_, BALA_TYPE_FOREACH_STATEMENT, BalaForeachStatement));
					stmt = _tmp460_;
					_tmp462_ = stmt;
					_tmp463_ = bala_foreach_statement_get_use_iterator (_tmp462_);
					_tmp464_ = _tmp463_;
					if (!_tmp464_) {
						BalaForeachStatement* _tmp465_;
						BalaLocalVariable* _tmp466_;
						BalaLocalVariable* _tmp467_;
						gboolean _tmp468_;
						gboolean _tmp469_;
						_tmp465_ = stmt;
						_tmp466_ = bala_foreach_statement_get_element_variable (_tmp465_);
						_tmp467_ = _tmp466_;
						_tmp468_ = bala_local_variable_get_captured (_tmp467_);
						_tmp469_ = _tmp468_;
						_tmp461_ = _tmp469_;
					} else {
						_tmp461_ = FALSE;
					}
					if (_tmp461_) {
						BalaCCodeFunction* _tmp470_;
						BalaCCodeFunction* _tmp471_;
						gchar* _tmp472_;
						gchar* _tmp473_;
						BalaCCodeExpression* _tmp474_;
						BalaCCodeExpression* _tmp475_;
						BalaForeachStatement* _tmp476_;
						BalaLocalVariable* _tmp477_;
						BalaLocalVariable* _tmp478_;
						gchar* _tmp479_;
						gchar* _tmp480_;
						BalaCCodeMemberAccess* _tmp481_;
						BalaCCodeMemberAccess* _tmp482_;
						BalaForeachStatement* _tmp483_;
						BalaLocalVariable* _tmp484_;
						BalaLocalVariable* _tmp485_;
						gchar* _tmp486_;
						gchar* _tmp487_;
						BalaCCodeExpression* _tmp488_;
						BalaCCodeExpression* _tmp489_;
						_tmp470_ = bala_ccode_base_module_get_ccode (self);
						_tmp471_ = _tmp470_;
						_tmp472_ = g_strdup_printf ("_data%d_", block_id);
						_tmp473_ = _tmp472_;
						_tmp474_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp473_);
						_tmp475_ = _tmp474_;
						_tmp476_ = stmt;
						_tmp477_ = bala_foreach_statement_get_element_variable (_tmp476_);
						_tmp478_ = _tmp477_;
						_tmp479_ = bala_ccode_base_module_get_local_cname (self, _tmp478_);
						_tmp480_ = _tmp479_;
						_tmp481_ = bala_ccode_member_access_new_pointer (_tmp475_, _tmp480_);
						_tmp482_ = _tmp481_;
						_tmp483_ = stmt;
						_tmp484_ = bala_foreach_statement_get_element_variable (_tmp483_);
						_tmp485_ = _tmp484_;
						_tmp486_ = bala_ccode_base_module_get_local_cname (self, _tmp485_);
						_tmp487_ = _tmp486_;
						_tmp488_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp487_);
						_tmp489_ = _tmp488_;
						bala_ccode_function_add_assignment (_tmp471_, (BalaCCodeExpression*) _tmp482_, _tmp489_);
						_bala_ccode_node_unref0 (_tmp489_);
						_g_free0 (_tmp487_);
						_bala_ccode_node_unref0 (_tmp482_);
						_g_free0 (_tmp480_);
						_bala_ccode_node_unref0 (_tmp475_);
						_g_free0 (_tmp473_);
					}
					_bala_code_node_unref0 (stmt);
				}
			}
		}
		_tmp490_ = struct_name;
		_tmp491_ = g_strconcat ("struct _", _tmp490_, NULL);
		_tmp492_ = _tmp491_;
		_tmp493_ = struct_name;
		_tmp494_ = bala_ccode_variable_declarator_new (_tmp493_, NULL, NULL);
		_tmp495_ = _tmp494_;
		_tmp496_ = bala_ccode_type_definition_new (_tmp492_, (BalaCCodeDeclarator*) _tmp495_);
		_tmp497_ = _tmp496_;
		_bala_ccode_node_unref0 (_tmp495_);
		_g_free0 (_tmp492_);
		_typedef_ = _tmp497_;
		_tmp498_ = self->cfile;
		_tmp499_ = _typedef_;
		bala_ccode_file_add_type_declaration (_tmp498_, (BalaCCodeNode*) _tmp499_);
		_tmp500_ = self->cfile;
		_tmp501_ = data;
		bala_ccode_file_add_type_definition (_tmp500_, (BalaCCodeNode*) _tmp501_);
		_tmp502_ = g_strdup_printf ("block%d_data_ref", block_id);
		_tmp503_ = _tmp502_;
		_tmp504_ = struct_name;
		_tmp505_ = g_strconcat (_tmp504_, "*", NULL);
		_tmp506_ = _tmp505_;
		_tmp507_ = bala_ccode_function_new (_tmp503_, _tmp506_);
		_tmp508_ = _tmp507_;
		_g_free0 (_tmp506_);
		_g_free0 (_tmp503_);
		ref_fun = _tmp508_;
		_tmp509_ = ref_fun;
		_tmp510_ = g_strdup_printf ("_data%d_", block_id);
		_tmp511_ = _tmp510_;
		_tmp512_ = struct_name;
		_tmp513_ = g_strconcat (_tmp512_, "*", NULL);
		_tmp514_ = _tmp513_;
		_tmp515_ = bala_ccode_parameter_new (_tmp511_, _tmp514_);
		_tmp516_ = _tmp515_;
		bala_ccode_function_add_parameter (_tmp509_, _tmp516_);
		_bala_ccode_node_unref0 (_tmp516_);
		_g_free0 (_tmp514_);
		_g_free0 (_tmp511_);
		_tmp517_ = ref_fun;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp517_, BALA_CCODE_MODIFIERS_STATIC);
		_tmp518_ = ref_fun;
		bala_ccode_base_module_push_function (self, _tmp518_);
		_tmp519_ = bala_ccode_identifier_new ("g_atomic_int_inc");
		_tmp520_ = _tmp519_;
		_tmp521_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp520_);
		_tmp522_ = _tmp521_;
		_bala_ccode_node_unref0 (_tmp520_);
		ccall = _tmp522_;
		_tmp523_ = ccall;
		_tmp524_ = g_strdup_printf ("_data%d_", block_id);
		_tmp525_ = _tmp524_;
		_tmp526_ = bala_ccode_identifier_new (_tmp525_);
		_tmp527_ = _tmp526_;
		_tmp528_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp527_, "_ref_count_");
		_tmp529_ = _tmp528_;
		_tmp530_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp529_);
		_tmp531_ = _tmp530_;
		bala_ccode_function_call_add_argument (_tmp523_, (BalaCCodeExpression*) _tmp531_);
		_bala_ccode_node_unref0 (_tmp531_);
		_bala_ccode_node_unref0 (_tmp529_);
		_bala_ccode_node_unref0 (_tmp527_);
		_g_free0 (_tmp525_);
		_tmp532_ = bala_ccode_base_module_get_ccode (self);
		_tmp533_ = _tmp532_;
		_tmp534_ = ccall;
		bala_ccode_function_add_expression (_tmp533_, (BalaCCodeExpression*) _tmp534_);
		_tmp535_ = bala_ccode_base_module_get_ccode (self);
		_tmp536_ = _tmp535_;
		_tmp537_ = g_strdup_printf ("_data%d_", block_id);
		_tmp538_ = _tmp537_;
		_tmp539_ = bala_ccode_identifier_new (_tmp538_);
		_tmp540_ = _tmp539_;
		bala_ccode_function_add_return (_tmp536_, (BalaCCodeExpression*) _tmp540_);
		_bala_ccode_node_unref0 (_tmp540_);
		_g_free0 (_tmp538_);
		bala_ccode_base_module_pop_function (self);
		_tmp541_ = self->cfile;
		_tmp542_ = ref_fun;
		bala_ccode_file_add_function_declaration (_tmp541_, _tmp542_);
		_tmp543_ = self->cfile;
		_tmp544_ = ref_fun;
		bala_ccode_file_add_function (_tmp543_, _tmp544_);
		_tmp545_ = g_strdup_printf ("block%d_data_unref", block_id);
		_tmp546_ = _tmp545_;
		_tmp547_ = bala_ccode_function_new (_tmp546_, "void");
		_tmp548_ = _tmp547_;
		_g_free0 (_tmp546_);
		unref_fun = _tmp548_;
		_tmp549_ = unref_fun;
		_tmp550_ = bala_ccode_parameter_new ("_userdata_", "void *");
		_tmp551_ = _tmp550_;
		bala_ccode_function_add_parameter (_tmp549_, _tmp551_);
		_bala_ccode_node_unref0 (_tmp551_);
		_tmp552_ = unref_fun;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp552_, BALA_CCODE_MODIFIERS_STATIC);
		_tmp553_ = unref_fun;
		bala_ccode_base_module_push_function (self, _tmp553_);
		_tmp554_ = bala_ccode_base_module_get_ccode (self);
		_tmp555_ = _tmp554_;
		_tmp556_ = struct_name;
		_tmp557_ = g_strconcat (_tmp556_, "*", NULL);
		_tmp558_ = _tmp557_;
		_tmp559_ = g_strdup_printf ("_data%d_", block_id);
		_tmp560_ = _tmp559_;
		_tmp561_ = bala_ccode_identifier_new ("_userdata_");
		_tmp562_ = _tmp561_;
		_tmp563_ = struct_name;
		_tmp564_ = g_strconcat (_tmp563_, "*", NULL);
		_tmp565_ = _tmp564_;
		_tmp566_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp562_, _tmp565_);
		_tmp567_ = _tmp566_;
		_tmp568_ = bala_ccode_variable_declarator_new (_tmp560_, (BalaCCodeExpression*) _tmp567_, NULL);
		_tmp569_ = _tmp568_;
		bala_ccode_function_add_declaration (_tmp555_, _tmp558_, (BalaCCodeDeclarator*) _tmp569_, 0);
		_bala_ccode_node_unref0 (_tmp569_);
		_bala_ccode_node_unref0 (_tmp567_);
		_g_free0 (_tmp565_);
		_bala_ccode_node_unref0 (_tmp562_);
		_g_free0 (_tmp560_);
		_g_free0 (_tmp558_);
		_tmp570_ = bala_ccode_identifier_new ("g_atomic_int_dec_and_test");
		_tmp571_ = _tmp570_;
		_tmp572_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp571_);
		_bala_ccode_node_unref0 (ccall);
		ccall = _tmp572_;
		_bala_ccode_node_unref0 (_tmp571_);
		_tmp573_ = ccall;
		_tmp574_ = g_strdup_printf ("_data%d_", block_id);
		_tmp575_ = _tmp574_;
		_tmp576_ = bala_ccode_identifier_new (_tmp575_);
		_tmp577_ = _tmp576_;
		_tmp578_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp577_, "_ref_count_");
		_tmp579_ = _tmp578_;
		_tmp580_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp579_);
		_tmp581_ = _tmp580_;
		bala_ccode_function_call_add_argument (_tmp573_, (BalaCCodeExpression*) _tmp581_);
		_bala_ccode_node_unref0 (_tmp581_);
		_bala_ccode_node_unref0 (_tmp579_);
		_bala_ccode_node_unref0 (_tmp577_);
		_g_free0 (_tmp575_);
		_tmp582_ = bala_ccode_base_module_get_ccode (self);
		_tmp583_ = _tmp582_;
		_tmp584_ = ccall;
		bala_ccode_function_open_if (_tmp583_, (BalaCCodeExpression*) _tmp584_);
		_tmp585_ = g_strdup_printf ("_data%d_", block_id);
		_tmp586_ = _tmp585_;
		_tmp587_ = bala_ccode_identifier_new (_tmp586_);
		_tmp588_ = (BalaCCodeExpression*) _tmp587_;
		_g_free0 (_tmp586_);
		outer_block = _tmp588_;
		parent_closure_block = b;
		while (TRUE) {
			BalaBlock* _tmp589_;
			BalaSymbol* _tmp590_;
			BalaSymbol* _tmp591_;
			BalaBlock* _tmp592_;
			BalaBlock* _tmp593_;
			gint parent_block_id = 0;
			BalaBlock* _tmp594_;
			BalaCCodeExpression* _tmp595_;
			gchar* _tmp596_;
			gchar* _tmp597_;
			BalaCCodeMemberAccess* _tmp598_;
			_tmp589_ = parent_closure_block;
			_tmp590_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp589_);
			_tmp591_ = _tmp590_;
			_tmp592_ = bala_ccode_base_module_next_closure_block (self, _tmp591_);
			parent_closure_block = _tmp592_;
			_tmp593_ = parent_closure_block;
			if (_tmp593_ == NULL) {
				break;
			}
			_tmp594_ = parent_closure_block;
			parent_block_id = bala_ccode_base_module_get_block_id (self, _tmp594_);
			_tmp595_ = outer_block;
			_tmp596_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp597_ = _tmp596_;
			_tmp598_ = bala_ccode_member_access_new_pointer (_tmp595_, _tmp597_);
			_bala_ccode_node_unref0 (outer_block);
			outer_block = (BalaCCodeExpression*) _tmp598_;
			_g_free0 (_tmp597_);
		}
		_tmp599_ = bala_ccode_base_module_get_this_type (self);
		_tmp600_ = _bala_code_node_ref0 (_tmp599_);
		this_type = _tmp600_;
		_tmp601_ = this_type;
		if (_tmp601_ != NULL) {
			BalaCCodeFunction* _tmp602_;
			BalaCCodeFunction* _tmp603_;
			BalaDataType* _tmp604_;
			gchar* _tmp605_;
			gchar* _tmp606_;
			BalaCCodeVariableDeclarator* _tmp607_;
			BalaCCodeVariableDeclarator* _tmp608_;
			BalaCCodeFunction* _tmp609_;
			BalaCCodeFunction* _tmp610_;
			BalaCCodeIdentifier* _tmp611_;
			BalaCCodeIdentifier* _tmp612_;
			BalaCCodeExpression* _tmp613_;
			BalaCCodeMemberAccess* _tmp614_;
			BalaCCodeMemberAccess* _tmp615_;
			_tmp602_ = bala_ccode_base_module_get_ccode (self);
			_tmp603_ = _tmp602_;
			_tmp604_ = this_type;
			_tmp605_ = bala_get_ccode_name ((BalaCodeNode*) _tmp604_);
			_tmp606_ = _tmp605_;
			_tmp607_ = bala_ccode_variable_declarator_new ("self", NULL, NULL);
			_tmp608_ = _tmp607_;
			bala_ccode_function_add_declaration (_tmp603_, _tmp606_, (BalaCCodeDeclarator*) _tmp608_, 0);
			_bala_ccode_node_unref0 (_tmp608_);
			_g_free0 (_tmp606_);
			_tmp609_ = bala_ccode_base_module_get_ccode (self);
			_tmp610_ = _tmp609_;
			_tmp611_ = bala_ccode_identifier_new ("self");
			_tmp612_ = _tmp611_;
			_tmp613_ = outer_block;
			_tmp614_ = bala_ccode_member_access_new_pointer (_tmp613_, "self");
			_tmp615_ = _tmp614_;
			bala_ccode_function_add_assignment (_tmp610_, (BalaCCodeExpression*) _tmp612_, (BalaCCodeExpression*) _tmp615_);
			_bala_ccode_node_unref0 (_tmp615_);
			_bala_ccode_node_unref0 (_tmp612_);
		}
		_tmp616_ = bala_ccode_base_module_get_current_method (self);
		_tmp617_ = _tmp616_;
		if (_tmp617_ != NULL) {
			{
				BalaList* _type_param_list = NULL;
				BalaMethod* _tmp618_;
				BalaMethod* _tmp619_;
				BalaList* _tmp620_;
				BalaList* _tmp621_;
				gint _type_param_size = 0;
				BalaList* _tmp622_;
				gint _tmp623_;
				gint _tmp624_;
				gint _type_param_index = 0;
				_tmp618_ = bala_ccode_base_module_get_current_method (self);
				_tmp619_ = _tmp618_;
				_tmp620_ = bala_method_get_type_parameters (_tmp619_);
				_tmp621_ = _bala_iterable_ref0 (_tmp620_);
				_type_param_list = _tmp621_;
				_tmp622_ = _type_param_list;
				_tmp623_ = bala_collection_get_size ((BalaCollection*) _tmp622_);
				_tmp624_ = _tmp623_;
				_type_param_size = _tmp624_;
				_type_param_index = -1;
				while (TRUE) {
					gint _tmp625_;
					gint _tmp626_;
					BalaTypeParameter* type_param = NULL;
					BalaList* _tmp627_;
					gpointer _tmp628_;
					gchar* func_name = NULL;
					BalaTypeParameter* _tmp629_;
					const gchar* _tmp630_;
					const gchar* _tmp631_;
					gchar* _tmp632_;
					gchar* _tmp633_;
					gchar* _tmp634_;
					BalaCCodeFunction* _tmp635_;
					BalaCCodeFunction* _tmp636_;
					const gchar* _tmp637_;
					BalaCCodeVariableDeclarator* _tmp638_;
					BalaCCodeVariableDeclarator* _tmp639_;
					BalaCCodeFunction* _tmp640_;
					BalaCCodeFunction* _tmp641_;
					const gchar* _tmp642_;
					BalaCCodeIdentifier* _tmp643_;
					BalaCCodeIdentifier* _tmp644_;
					BalaCCodeExpression* _tmp645_;
					const gchar* _tmp646_;
					BalaCCodeMemberAccess* _tmp647_;
					BalaCCodeMemberAccess* _tmp648_;
					BalaTypeParameter* _tmp649_;
					const gchar* _tmp650_;
					const gchar* _tmp651_;
					gchar* _tmp652_;
					gchar* _tmp653_;
					gchar* _tmp654_;
					BalaCCodeFunction* _tmp655_;
					BalaCCodeFunction* _tmp656_;
					const gchar* _tmp657_;
					BalaCCodeVariableDeclarator* _tmp658_;
					BalaCCodeVariableDeclarator* _tmp659_;
					BalaCCodeFunction* _tmp660_;
					BalaCCodeFunction* _tmp661_;
					const gchar* _tmp662_;
					BalaCCodeIdentifier* _tmp663_;
					BalaCCodeIdentifier* _tmp664_;
					BalaCCodeExpression* _tmp665_;
					const gchar* _tmp666_;
					BalaCCodeMemberAccess* _tmp667_;
					BalaCCodeMemberAccess* _tmp668_;
					BalaTypeParameter* _tmp669_;
					const gchar* _tmp670_;
					const gchar* _tmp671_;
					gchar* _tmp672_;
					gchar* _tmp673_;
					gchar* _tmp674_;
					BalaCCodeFunction* _tmp675_;
					BalaCCodeFunction* _tmp676_;
					const gchar* _tmp677_;
					BalaCCodeVariableDeclarator* _tmp678_;
					BalaCCodeVariableDeclarator* _tmp679_;
					BalaCCodeFunction* _tmp680_;
					BalaCCodeFunction* _tmp681_;
					const gchar* _tmp682_;
					BalaCCodeIdentifier* _tmp683_;
					BalaCCodeIdentifier* _tmp684_;
					BalaCCodeExpression* _tmp685_;
					const gchar* _tmp686_;
					BalaCCodeMemberAccess* _tmp687_;
					BalaCCodeMemberAccess* _tmp688_;
					_type_param_index = _type_param_index + 1;
					_tmp625_ = _type_param_index;
					_tmp626_ = _type_param_size;
					if (!(_tmp625_ < _tmp626_)) {
						break;
					}
					_tmp627_ = _type_param_list;
					_tmp628_ = bala_list_get (_tmp627_, _type_param_index);
					type_param = (BalaTypeParameter*) _tmp628_;
					_tmp629_ = type_param;
					_tmp630_ = bala_symbol_get_name ((BalaSymbol*) _tmp629_);
					_tmp631_ = _tmp630_;
					_tmp632_ = g_ascii_strdown (_tmp631_, (gssize) -1);
					_tmp633_ = _tmp632_;
					_tmp634_ = g_strdup_printf ("%s_type", _tmp633_);
					_g_free0 (func_name);
					func_name = _tmp634_;
					_g_free0 (_tmp633_);
					_tmp635_ = bala_ccode_base_module_get_ccode (self);
					_tmp636_ = _tmp635_;
					_tmp637_ = func_name;
					_tmp638_ = bala_ccode_variable_declarator_new (_tmp637_, NULL, NULL);
					_tmp639_ = _tmp638_;
					bala_ccode_function_add_declaration (_tmp636_, "GType", (BalaCCodeDeclarator*) _tmp639_, 0);
					_bala_ccode_node_unref0 (_tmp639_);
					_tmp640_ = bala_ccode_base_module_get_ccode (self);
					_tmp641_ = _tmp640_;
					_tmp642_ = func_name;
					_tmp643_ = bala_ccode_identifier_new (_tmp642_);
					_tmp644_ = _tmp643_;
					_tmp645_ = outer_block;
					_tmp646_ = func_name;
					_tmp647_ = bala_ccode_member_access_new_pointer (_tmp645_, _tmp646_);
					_tmp648_ = _tmp647_;
					bala_ccode_function_add_assignment (_tmp641_, (BalaCCodeExpression*) _tmp644_, (BalaCCodeExpression*) _tmp648_);
					_bala_ccode_node_unref0 (_tmp648_);
					_bala_ccode_node_unref0 (_tmp644_);
					_tmp649_ = type_param;
					_tmp650_ = bala_symbol_get_name ((BalaSymbol*) _tmp649_);
					_tmp651_ = _tmp650_;
					_tmp652_ = g_ascii_strdown (_tmp651_, (gssize) -1);
					_tmp653_ = _tmp652_;
					_tmp654_ = g_strdup_printf ("%s_dup_func", _tmp653_);
					_g_free0 (func_name);
					func_name = _tmp654_;
					_g_free0 (_tmp653_);
					_tmp655_ = bala_ccode_base_module_get_ccode (self);
					_tmp656_ = _tmp655_;
					_tmp657_ = func_name;
					_tmp658_ = bala_ccode_variable_declarator_new (_tmp657_, NULL, NULL);
					_tmp659_ = _tmp658_;
					bala_ccode_function_add_declaration (_tmp656_, "GBoxedCopyFunc", (BalaCCodeDeclarator*) _tmp659_, 0);
					_bala_ccode_node_unref0 (_tmp659_);
					_tmp660_ = bala_ccode_base_module_get_ccode (self);
					_tmp661_ = _tmp660_;
					_tmp662_ = func_name;
					_tmp663_ = bala_ccode_identifier_new (_tmp662_);
					_tmp664_ = _tmp663_;
					_tmp665_ = outer_block;
					_tmp666_ = func_name;
					_tmp667_ = bala_ccode_member_access_new_pointer (_tmp665_, _tmp666_);
					_tmp668_ = _tmp667_;
					bala_ccode_function_add_assignment (_tmp661_, (BalaCCodeExpression*) _tmp664_, (BalaCCodeExpression*) _tmp668_);
					_bala_ccode_node_unref0 (_tmp668_);
					_bala_ccode_node_unref0 (_tmp664_);
					_tmp669_ = type_param;
					_tmp670_ = bala_symbol_get_name ((BalaSymbol*) _tmp669_);
					_tmp671_ = _tmp670_;
					_tmp672_ = g_ascii_strdown (_tmp671_, (gssize) -1);
					_tmp673_ = _tmp672_;
					_tmp674_ = g_strdup_printf ("%s_destroy_func", _tmp673_);
					_g_free0 (func_name);
					func_name = _tmp674_;
					_g_free0 (_tmp673_);
					_tmp675_ = bala_ccode_base_module_get_ccode (self);
					_tmp676_ = _tmp675_;
					_tmp677_ = func_name;
					_tmp678_ = bala_ccode_variable_declarator_new (_tmp677_, NULL, NULL);
					_tmp679_ = _tmp678_;
					bala_ccode_function_add_declaration (_tmp676_, "GDestroyNotify", (BalaCCodeDeclarator*) _tmp679_, 0);
					_bala_ccode_node_unref0 (_tmp679_);
					_tmp680_ = bala_ccode_base_module_get_ccode (self);
					_tmp681_ = _tmp680_;
					_tmp682_ = func_name;
					_tmp683_ = bala_ccode_identifier_new (_tmp682_);
					_tmp684_ = _tmp683_;
					_tmp685_ = outer_block;
					_tmp686_ = func_name;
					_tmp687_ = bala_ccode_member_access_new_pointer (_tmp685_, _tmp686_);
					_tmp688_ = _tmp687_;
					bala_ccode_function_add_assignment (_tmp681_, (BalaCCodeExpression*) _tmp684_, (BalaCCodeExpression*) _tmp688_);
					_bala_ccode_node_unref0 (_tmp688_);
					_bala_ccode_node_unref0 (_tmp684_);
					_g_free0 (func_name);
					_bala_code_node_unref0 (type_param);
				}
				_bala_iterable_unref0 (_type_param_list);
			}
		}
		{
			gint i = 0;
			BalaList* _tmp689_;
			gint _tmp690_;
			gint _tmp691_;
			_tmp689_ = local_vars;
			_tmp690_ = bala_collection_get_size ((BalaCollection*) _tmp689_);
			_tmp691_ = _tmp690_;
			i = _tmp691_ - 1;
			{
				gboolean _tmp692_ = FALSE;
				_tmp692_ = TRUE;
				while (TRUE) {
					BalaLocalVariable* local = NULL;
					BalaList* _tmp694_;
					gpointer _tmp695_;
					BalaLocalVariable* _tmp696_;
					gboolean _tmp697_;
					gboolean _tmp698_;
					if (!_tmp692_) {
						gint _tmp693_;
						_tmp693_ = i;
						i = _tmp693_ - 1;
					}
					_tmp692_ = FALSE;
					if (!(i >= 0)) {
						break;
					}
					_tmp694_ = local_vars;
					_tmp695_ = bala_list_get (_tmp694_, i);
					local = (BalaLocalVariable*) _tmp695_;
					_tmp696_ = local;
					_tmp697_ = bala_local_variable_get_captured (_tmp696_);
					_tmp698_ = _tmp697_;
					if (_tmp698_) {
						BalaLocalVariable* _tmp699_;
						BalaDataType* _tmp700_;
						BalaDataType* _tmp701_;
						_tmp699_ = local;
						_tmp700_ = bala_variable_get_variable_type ((BalaVariable*) _tmp699_);
						_tmp701_ = _tmp700_;
						if (bala_ccode_base_module_requires_destroy (_tmp701_)) {
							gboolean old_coroutine = FALSE;
							BalaMethod* _tmp702_;
							BalaMethod* _tmp703_;
							BalaCCodeFunction* _tmp710_;
							BalaCCodeFunction* _tmp711_;
							BalaLocalVariable* _tmp712_;
							BalaCCodeExpression* _tmp713_;
							BalaCCodeExpression* _tmp714_;
							old_coroutine = FALSE;
							_tmp702_ = bala_ccode_base_module_get_current_method (self);
							_tmp703_ = _tmp702_;
							if (_tmp703_ != NULL) {
								BalaMethod* _tmp704_;
								BalaMethod* _tmp705_;
								gboolean _tmp706_;
								gboolean _tmp707_;
								BalaMethod* _tmp708_;
								BalaMethod* _tmp709_;
								_tmp704_ = bala_ccode_base_module_get_current_method (self);
								_tmp705_ = _tmp704_;
								_tmp706_ = bala_method_get_coroutine (_tmp705_);
								_tmp707_ = _tmp706_;
								old_coroutine = _tmp707_;
								_tmp708_ = bala_ccode_base_module_get_current_method (self);
								_tmp709_ = _tmp708_;
								bala_method_set_coroutine (_tmp709_, FALSE);
							}
							_tmp710_ = bala_ccode_base_module_get_ccode (self);
							_tmp711_ = _tmp710_;
							_tmp712_ = local;
							_tmp713_ = bala_ccode_base_module_destroy_local (self, _tmp712_);
							_tmp714_ = _tmp713_;
							bala_ccode_function_add_expression (_tmp711_, _tmp714_);
							_bala_ccode_node_unref0 (_tmp714_);
							if (old_coroutine) {
								BalaMethod* _tmp715_;
								BalaMethod* _tmp716_;
								_tmp715_ = bala_ccode_base_module_get_current_method (self);
								_tmp716_ = _tmp715_;
								bala_method_set_coroutine (_tmp716_, TRUE);
							}
						}
					}
					_bala_code_node_unref0 (local);
				}
			}
		}
		_tmp717_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
		_tmp718_ = _tmp717_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp718_, BALA_TYPE_METHOD)) {
			BalaMethod* m = NULL;
			BalaSymbol* _tmp719_;
			BalaSymbol* _tmp720_;
			BalaMethod* _tmp721_;
			_tmp719_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp720_ = _tmp719_;
			_tmp721_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp720_, BALA_TYPE_METHOD, BalaMethod));
			m = _tmp721_;
			{
				BalaList* _param_list = NULL;
				BalaMethod* _tmp722_;
				BalaList* _tmp723_;
				BalaList* _tmp724_;
				gint _param_size = 0;
				BalaList* _tmp725_;
				gint _tmp726_;
				gint _tmp727_;
				gint _param_index = 0;
				_tmp722_ = m;
				_tmp723_ = bala_callable_get_parameters ((BalaCallable*) _tmp722_);
				_tmp724_ = _bala_iterable_ref0 (_tmp723_);
				_param_list = _tmp724_;
				_tmp725_ = _param_list;
				_tmp726_ = bala_collection_get_size ((BalaCollection*) _tmp725_);
				_tmp727_ = _tmp726_;
				_param_size = _tmp727_;
				_param_index = -1;
				while (TRUE) {
					gint _tmp728_;
					gint _tmp729_;
					BalaParameter* param = NULL;
					BalaList* _tmp730_;
					gpointer _tmp731_;
					BalaParameter* _tmp732_;
					gboolean _tmp733_;
					gboolean _tmp734_;
					_param_index = _param_index + 1;
					_tmp728_ = _param_index;
					_tmp729_ = _param_size;
					if (!(_tmp728_ < _tmp729_)) {
						break;
					}
					_tmp730_ = _param_list;
					_tmp731_ = bala_list_get (_tmp730_, _param_index);
					param = (BalaParameter*) _tmp731_;
					_tmp732_ = param;
					_tmp733_ = bala_parameter_get_captured (_tmp732_);
					_tmp734_ = _tmp733_;
					if (_tmp734_) {
						BalaDataType* param_type = NULL;
						BalaParameter* _tmp735_;
						BalaDataType* _tmp736_;
						BalaDataType* _tmp737_;
						BalaDataType* _tmp738_;
						BalaDataType* _tmp739_;
						gboolean _tmp740_;
						gboolean _tmp741_;
						BalaDataType* _tmp744_;
						_tmp735_ = param;
						_tmp736_ = bala_variable_get_variable_type ((BalaVariable*) _tmp735_);
						_tmp737_ = _tmp736_;
						_tmp738_ = bala_data_type_copy (_tmp737_);
						param_type = _tmp738_;
						_tmp739_ = param_type;
						_tmp740_ = bala_data_type_get_value_owned (_tmp739_);
						_tmp741_ = _tmp740_;
						if (!_tmp741_) {
							BalaDataType* _tmp742_;
							BalaDataType* _tmp743_;
							_tmp742_ = param_type;
							_tmp743_ = param_type;
							bala_data_type_set_value_owned (_tmp742_, !bala_ccode_base_module_no_implicit_copy (self, _tmp743_));
						}
						_tmp744_ = param_type;
						if (bala_ccode_base_module_requires_destroy (_tmp744_)) {
							gboolean old_coroutine = FALSE;
							BalaMethod* _tmp745_;
							BalaCCodeFunction* _tmp750_;
							BalaCCodeFunction* _tmp751_;
							BalaParameter* _tmp752_;
							BalaCCodeExpression* _tmp753_;
							BalaCCodeExpression* _tmp754_;
							old_coroutine = FALSE;
							_tmp745_ = m;
							if (_tmp745_ != NULL) {
								BalaMethod* _tmp746_;
								gboolean _tmp747_;
								gboolean _tmp748_;
								BalaMethod* _tmp749_;
								_tmp746_ = m;
								_tmp747_ = bala_method_get_coroutine (_tmp746_);
								_tmp748_ = _tmp747_;
								old_coroutine = _tmp748_;
								_tmp749_ = m;
								bala_method_set_coroutine (_tmp749_, FALSE);
							}
							_tmp750_ = bala_ccode_base_module_get_ccode (self);
							_tmp751_ = _tmp750_;
							_tmp752_ = param;
							_tmp753_ = bala_ccode_base_module_destroy_parameter (self, _tmp752_);
							_tmp754_ = _tmp753_;
							bala_ccode_function_add_expression (_tmp751_, _tmp754_);
							_bala_ccode_node_unref0 (_tmp754_);
							if (old_coroutine) {
								BalaMethod* _tmp755_;
								_tmp755_ = m;
								bala_method_set_coroutine (_tmp755_, TRUE);
							}
						}
						_bala_code_node_unref0 (param_type);
					}
					_bala_code_node_unref0 (param);
				}
				_bala_iterable_unref0 (_param_list);
			}
			_bala_code_node_unref0 (m);
		} else {
			BalaSymbol* _tmp756_;
			BalaSymbol* _tmp757_;
			_tmp756_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp757_ = _tmp756_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp757_, BALA_TYPE_PROPERTY_ACCESSOR)) {
				BalaPropertyAccessor* acc = NULL;
				BalaSymbol* _tmp758_;
				BalaSymbol* _tmp759_;
				BalaPropertyAccessor* _tmp760_;
				gboolean _tmp761_ = FALSE;
				BalaPropertyAccessor* _tmp762_;
				gboolean _tmp763_;
				gboolean _tmp764_;
				_tmp758_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
				_tmp759_ = _tmp758_;
				_tmp760_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp759_, BALA_TYPE_PROPERTY_ACCESSOR, BalaPropertyAccessor));
				acc = _tmp760_;
				_tmp762_ = acc;
				_tmp763_ = bala_property_accessor_get_readable (_tmp762_);
				_tmp764_ = _tmp763_;
				if (!_tmp764_) {
					BalaPropertyAccessor* _tmp765_;
					BalaParameter* _tmp766_;
					BalaParameter* _tmp767_;
					gboolean _tmp768_;
					gboolean _tmp769_;
					_tmp765_ = acc;
					_tmp766_ = bala_property_accessor_get_value_parameter (_tmp765_);
					_tmp767_ = _tmp766_;
					_tmp768_ = bala_parameter_get_captured (_tmp767_);
					_tmp769_ = _tmp768_;
					_tmp761_ = _tmp769_;
				} else {
					_tmp761_ = FALSE;
				}
				if (_tmp761_) {
					BalaDataType* param_type = NULL;
					BalaPropertyAccessor* _tmp770_;
					BalaParameter* _tmp771_;
					BalaParameter* _tmp772_;
					BalaDataType* _tmp773_;
					BalaDataType* _tmp774_;
					BalaDataType* _tmp775_;
					BalaDataType* _tmp776_;
					gboolean _tmp777_;
					gboolean _tmp778_;
					BalaDataType* _tmp781_;
					_tmp770_ = acc;
					_tmp771_ = bala_property_accessor_get_value_parameter (_tmp770_);
					_tmp772_ = _tmp771_;
					_tmp773_ = bala_variable_get_variable_type ((BalaVariable*) _tmp772_);
					_tmp774_ = _tmp773_;
					_tmp775_ = bala_data_type_copy (_tmp774_);
					param_type = _tmp775_;
					_tmp776_ = param_type;
					_tmp777_ = bala_data_type_get_value_owned (_tmp776_);
					_tmp778_ = _tmp777_;
					if (!_tmp778_) {
						BalaDataType* _tmp779_;
						BalaDataType* _tmp780_;
						_tmp779_ = param_type;
						_tmp780_ = param_type;
						bala_data_type_set_value_owned (_tmp779_, !bala_ccode_base_module_no_implicit_copy (self, _tmp780_));
					}
					_tmp781_ = param_type;
					if (bala_ccode_base_module_requires_destroy (_tmp781_)) {
						BalaCCodeFunction* _tmp782_;
						BalaCCodeFunction* _tmp783_;
						BalaPropertyAccessor* _tmp784_;
						BalaParameter* _tmp785_;
						BalaParameter* _tmp786_;
						BalaCCodeExpression* _tmp787_;
						BalaCCodeExpression* _tmp788_;
						_tmp782_ = bala_ccode_base_module_get_ccode (self);
						_tmp783_ = _tmp782_;
						_tmp784_ = acc;
						_tmp785_ = bala_property_accessor_get_value_parameter (_tmp784_);
						_tmp786_ = _tmp785_;
						_tmp787_ = bala_ccode_base_module_destroy_parameter (self, _tmp786_);
						_tmp788_ = _tmp787_;
						bala_ccode_function_add_expression (_tmp783_, _tmp788_);
						_bala_ccode_node_unref0 (_tmp788_);
					}
					_bala_code_node_unref0 (param_type);
				}
				_bala_code_node_unref0 (acc);
			}
		}
		_tmp789_ = parent_block;
		if (_tmp789_ != NULL) {
			gint parent_block_id = 0;
			BalaBlock* _tmp790_;
			BalaCCodeFunctionCall* unref_call = NULL;
			gchar* _tmp791_;
			gchar* _tmp792_;
			BalaCCodeIdentifier* _tmp793_;
			BalaCCodeIdentifier* _tmp794_;
			BalaCCodeFunctionCall* _tmp795_;
			BalaCCodeFunctionCall* _tmp796_;
			BalaCCodeFunctionCall* _tmp797_;
			gchar* _tmp798_;
			gchar* _tmp799_;
			BalaCCodeIdentifier* _tmp800_;
			BalaCCodeIdentifier* _tmp801_;
			gchar* _tmp802_;
			gchar* _tmp803_;
			BalaCCodeMemberAccess* _tmp804_;
			BalaCCodeMemberAccess* _tmp805_;
			BalaCCodeFunction* _tmp806_;
			BalaCCodeFunction* _tmp807_;
			BalaCCodeFunctionCall* _tmp808_;
			BalaCCodeFunction* _tmp809_;
			BalaCCodeFunction* _tmp810_;
			gchar* _tmp811_;
			gchar* _tmp812_;
			BalaCCodeIdentifier* _tmp813_;
			BalaCCodeIdentifier* _tmp814_;
			gchar* _tmp815_;
			gchar* _tmp816_;
			BalaCCodeMemberAccess* _tmp817_;
			BalaCCodeMemberAccess* _tmp818_;
			BalaCCodeConstant* _tmp819_;
			BalaCCodeConstant* _tmp820_;
			_tmp790_ = parent_block;
			parent_block_id = bala_ccode_base_module_get_block_id (self, _tmp790_);
			_tmp791_ = g_strdup_printf ("block%d_data_unref", parent_block_id);
			_tmp792_ = _tmp791_;
			_tmp793_ = bala_ccode_identifier_new (_tmp792_);
			_tmp794_ = _tmp793_;
			_tmp795_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp794_);
			_tmp796_ = _tmp795_;
			_bala_ccode_node_unref0 (_tmp794_);
			_g_free0 (_tmp792_);
			unref_call = _tmp796_;
			_tmp797_ = unref_call;
			_tmp798_ = g_strdup_printf ("_data%d_", block_id);
			_tmp799_ = _tmp798_;
			_tmp800_ = bala_ccode_identifier_new (_tmp799_);
			_tmp801_ = _tmp800_;
			_tmp802_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp803_ = _tmp802_;
			_tmp804_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp801_, _tmp803_);
			_tmp805_ = _tmp804_;
			bala_ccode_function_call_add_argument (_tmp797_, (BalaCCodeExpression*) _tmp805_);
			_bala_ccode_node_unref0 (_tmp805_);
			_g_free0 (_tmp803_);
			_bala_ccode_node_unref0 (_tmp801_);
			_g_free0 (_tmp799_);
			_tmp806_ = bala_ccode_base_module_get_ccode (self);
			_tmp807_ = _tmp806_;
			_tmp808_ = unref_call;
			bala_ccode_function_add_expression (_tmp807_, (BalaCCodeExpression*) _tmp808_);
			_tmp809_ = bala_ccode_base_module_get_ccode (self);
			_tmp810_ = _tmp809_;
			_tmp811_ = g_strdup_printf ("_data%d_", block_id);
			_tmp812_ = _tmp811_;
			_tmp813_ = bala_ccode_identifier_new (_tmp812_);
			_tmp814_ = _tmp813_;
			_tmp815_ = g_strdup_printf ("_data%d_", parent_block_id);
			_tmp816_ = _tmp815_;
			_tmp817_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp814_, _tmp816_);
			_tmp818_ = _tmp817_;
			_tmp819_ = bala_ccode_constant_new ("NULL");
			_tmp820_ = _tmp819_;
			bala_ccode_function_add_assignment (_tmp810_, (BalaCCodeExpression*) _tmp818_, (BalaCCodeExpression*) _tmp820_);
			_bala_ccode_node_unref0 (_tmp820_);
			_bala_ccode_node_unref0 (_tmp818_);
			_g_free0 (_tmp816_);
			_bala_ccode_node_unref0 (_tmp814_);
			_g_free0 (_tmp812_);
			_bala_ccode_node_unref0 (unref_call);
		} else {
			BalaDataType* _tmp821_;
			BalaDataType* _tmp822_;
			BalaDataType* _tmp823_;
			_tmp821_ = bala_ccode_base_module_get_this_type (self);
			_tmp822_ = _bala_code_node_ref0 (_tmp821_);
			_bala_code_node_unref0 (this_type);
			this_type = _tmp822_;
			_tmp823_ = this_type;
			if (_tmp823_ != NULL) {
				BalaDataType* _tmp824_;
				BalaDataType* _tmp825_;
				BalaDataType* _tmp826_;
				gboolean _tmp827_ = FALSE;
				BalaDataType* _tmp828_;
				_tmp824_ = this_type;
				_tmp825_ = bala_data_type_copy (_tmp824_);
				_bala_code_node_unref0 (this_type);
				this_type = _tmp825_;
				_tmp826_ = this_type;
				bala_data_type_set_value_owned (_tmp826_, TRUE);
				_tmp828_ = this_type;
				if (bala_data_type_is_disposable (_tmp828_)) {
					_tmp827_ = !bala_ccode_base_module_is_in_destructor (self);
				} else {
					_tmp827_ = FALSE;
				}
				if (_tmp827_) {
					BalaGLibValue* this_value = NULL;
					BalaDataType* _tmp829_;
					BalaCCodeIdentifier* _tmp830_;
					BalaCCodeIdentifier* _tmp831_;
					BalaGLibValue* _tmp832_;
					BalaGLibValue* _tmp833_;
					BalaCCodeFunction* _tmp834_;
					BalaCCodeFunction* _tmp835_;
					BalaGLibValue* _tmp836_;
					BalaCCodeExpression* _tmp837_;
					BalaCCodeExpression* _tmp838_;
					_tmp829_ = this_type;
					_tmp830_ = bala_ccode_identifier_new ("self");
					_tmp831_ = _tmp830_;
					_tmp832_ = bala_glib_value_new (_tmp829_, (BalaCCodeExpression*) _tmp831_, TRUE);
					_tmp833_ = _tmp832_;
					_bala_ccode_node_unref0 (_tmp831_);
					this_value = _tmp833_;
					_tmp834_ = bala_ccode_base_module_get_ccode (self);
					_tmp835_ = _tmp834_;
					_tmp836_ = this_value;
					_tmp837_ = bala_ccode_base_module_destroy_value (self, (BalaTargetValue*) _tmp836_, FALSE);
					_tmp838_ = _tmp837_;
					bala_ccode_function_add_expression (_tmp835_, _tmp838_);
					_bala_ccode_node_unref0 (_tmp838_);
					_bala_target_value_unref0 (this_value);
				}
			}
		}
		_tmp839_ = bala_ccode_identifier_new ("g_slice_free");
		_tmp840_ = _tmp839_;
		_tmp841_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp840_);
		_tmp842_ = _tmp841_;
		_bala_ccode_node_unref0 (_tmp840_);
		data_free = _tmp842_;
		_tmp843_ = data_free;
		_tmp844_ = struct_name;
		_tmp845_ = bala_ccode_identifier_new (_tmp844_);
		_tmp846_ = _tmp845_;
		bala_ccode_function_call_add_argument (_tmp843_, (BalaCCodeExpression*) _tmp846_);
		_bala_ccode_node_unref0 (_tmp846_);
		_tmp847_ = data_free;
		_tmp848_ = g_strdup_printf ("_data%d_", block_id);
		_tmp849_ = _tmp848_;
		_tmp850_ = bala_ccode_identifier_new (_tmp849_);
		_tmp851_ = _tmp850_;
		bala_ccode_function_call_add_argument (_tmp847_, (BalaCCodeExpression*) _tmp851_);
		_bala_ccode_node_unref0 (_tmp851_);
		_g_free0 (_tmp849_);
		_tmp852_ = bala_ccode_base_module_get_ccode (self);
		_tmp853_ = _tmp852_;
		_tmp854_ = data_free;
		bala_ccode_function_add_expression (_tmp853_, (BalaCCodeExpression*) _tmp854_);
		_tmp855_ = bala_ccode_base_module_get_ccode (self);
		_tmp856_ = _tmp855_;
		bala_ccode_function_close (_tmp856_);
		bala_ccode_base_module_pop_function (self);
		_tmp857_ = self->cfile;
		_tmp858_ = unref_fun;
		bala_ccode_file_add_function_declaration (_tmp857_, _tmp858_);
		_tmp859_ = self->cfile;
		_tmp860_ = unref_fun;
		bala_ccode_file_add_function (_tmp859_, _tmp860_);
		_bala_ccode_node_unref0 (data_free);
		_bala_code_node_unref0 (this_type);
		_bala_ccode_node_unref0 (outer_block);
		_bala_ccode_node_unref0 (unref_fun);
		_bala_ccode_node_unref0 (ccall);
		_bala_ccode_node_unref0 (ref_fun);
		_bala_ccode_node_unref0 (_typedef_);
		_bala_ccode_node_unref0 (data_alloc);
		_bala_ccode_node_unref0 (data);
		_g_free0 (struct_name);
		_bala_code_node_unref0 (parent_block);
	}
	reachable_exit_block = TRUE;
	{
		BalaList* _stmt_list = NULL;
		BalaList* _tmp861_;
		gint _stmt_size = 0;
		BalaList* _tmp862_;
		gint _tmp863_;
		gint _tmp864_;
		gint _stmt_index = 0;
		_tmp861_ = bala_block_get_statements (b);
		_stmt_list = _tmp861_;
		_tmp862_ = _stmt_list;
		_tmp863_ = bala_collection_get_size ((BalaCollection*) _tmp862_);
		_tmp864_ = _tmp863_;
		_stmt_size = _tmp864_;
		_stmt_index = -1;
		while (TRUE) {
			gint _tmp865_;
			gint _tmp866_;
			BalaStatement* stmt = NULL;
			BalaList* _tmp867_;
			gpointer _tmp868_;
			BalaStatement* _tmp869_;
			BalaStatement* _tmp870_;
			BalaSourceReference* _tmp871_;
			BalaSourceReference* _tmp872_;
			BalaStatement* _tmp873_;
			_stmt_index = _stmt_index + 1;
			_tmp865_ = _stmt_index;
			_tmp866_ = _stmt_size;
			if (!(_tmp865_ < _tmp866_)) {
				break;
			}
			_tmp867_ = _stmt_list;
			_tmp868_ = bala_list_get (_tmp867_, _stmt_index);
			stmt = (BalaStatement*) _tmp868_;
			_tmp869_ = stmt;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp869_, BALA_TYPE_RETURN_STATEMENT)) {
				reachable_exit_block = FALSE;
			}
			_tmp870_ = stmt;
			_tmp871_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp870_);
			_tmp872_ = _tmp871_;
			bala_ccode_base_module_push_line (self, _tmp872_);
			_tmp873_ = stmt;
			bala_code_node_emit ((BalaCodeNode*) _tmp873_, (BalaCodeGenerator*) self);
			bala_ccode_base_module_pop_line (self);
			_bala_code_node_unref0 (stmt);
		}
		_bala_iterable_unref0 (_stmt_list);
	}
	if (reachable_exit_block) {
		BalaSymbol* _tmp874_;
		BalaSymbol* _tmp875_;
		BalaSymbol* _tmp913_;
		BalaSymbol* _tmp914_;
		gboolean _tmp987_;
		gboolean _tmp988_;
		_tmp874_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
		_tmp875_ = _tmp874_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp875_, BALA_TYPE_METHOD)) {
			BalaMethod* m = NULL;
			BalaSymbol* _tmp876_;
			BalaSymbol* _tmp877_;
			_tmp876_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp877_ = _tmp876_;
			m = G_TYPE_CHECK_INSTANCE_CAST (_tmp877_, BALA_TYPE_METHOD, BalaMethod);
			{
				BalaList* _postcondition_list = NULL;
				BalaMethod* _tmp878_;
				BalaList* _tmp879_;
				BalaList* _tmp880_;
				gint _postcondition_size = 0;
				BalaList* _tmp881_;
				gint _tmp882_;
				gint _tmp883_;
				gint _postcondition_index = 0;
				_tmp878_ = m;
				_tmp879_ = bala_method_get_postconditions (_tmp878_);
				_tmp880_ = _bala_iterable_ref0 (_tmp879_);
				_postcondition_list = _tmp880_;
				_tmp881_ = _postcondition_list;
				_tmp882_ = bala_collection_get_size ((BalaCollection*) _tmp881_);
				_tmp883_ = _tmp882_;
				_postcondition_size = _tmp883_;
				_postcondition_index = -1;
				while (TRUE) {
					gint _tmp884_;
					gint _tmp885_;
					BalaExpression* postcondition = NULL;
					BalaList* _tmp886_;
					gpointer _tmp887_;
					BalaExpression* _tmp888_;
					_postcondition_index = _postcondition_index + 1;
					_tmp884_ = _postcondition_index;
					_tmp885_ = _postcondition_size;
					if (!(_tmp884_ < _tmp885_)) {
						break;
					}
					_tmp886_ = _postcondition_list;
					_tmp887_ = bala_list_get (_tmp886_, _postcondition_index);
					postcondition = (BalaExpression*) _tmp887_;
					_tmp888_ = postcondition;
					bala_ccode_base_module_create_postcondition_statement (self, _tmp888_);
					_bala_code_node_unref0 (postcondition);
				}
				_bala_iterable_unref0 (_postcondition_list);
			}
		}
		{
			gint i = 0;
			BalaList* _tmp889_;
			gint _tmp890_;
			gint _tmp891_;
			_tmp889_ = local_vars;
			_tmp890_ = bala_collection_get_size ((BalaCollection*) _tmp889_);
			_tmp891_ = _tmp890_;
			i = _tmp891_ - 1;
			{
				gboolean _tmp892_ = FALSE;
				_tmp892_ = TRUE;
				while (TRUE) {
					BalaLocalVariable* local = NULL;
					BalaList* _tmp894_;
					gpointer _tmp895_;
					BalaLocalVariable* _tmp896_;
					gboolean _tmp897_ = FALSE;
					gboolean _tmp898_ = FALSE;
					BalaLocalVariable* _tmp899_;
					gboolean _tmp900_;
					gboolean _tmp901_;
					if (!_tmp892_) {
						gint _tmp893_;
						_tmp893_ = i;
						i = _tmp893_ - 1;
					}
					_tmp892_ = FALSE;
					if (!(i >= 0)) {
						break;
					}
					_tmp894_ = local_vars;
					_tmp895_ = bala_list_get (_tmp894_, i);
					local = (BalaLocalVariable*) _tmp895_;
					_tmp896_ = local;
					bala_symbol_set_active ((BalaSymbol*) _tmp896_, FALSE);
					_tmp899_ = local;
					_tmp900_ = bala_code_node_get_unreachable ((BalaCodeNode*) _tmp899_);
					_tmp901_ = _tmp900_;
					if (!_tmp901_) {
						BalaLocalVariable* _tmp902_;
						gboolean _tmp903_;
						gboolean _tmp904_;
						_tmp902_ = local;
						_tmp903_ = bala_local_variable_get_captured (_tmp902_);
						_tmp904_ = _tmp903_;
						_tmp898_ = !_tmp904_;
					} else {
						_tmp898_ = FALSE;
					}
					if (_tmp898_) {
						BalaLocalVariable* _tmp905_;
						BalaDataType* _tmp906_;
						BalaDataType* _tmp907_;
						_tmp905_ = local;
						_tmp906_ = bala_variable_get_variable_type ((BalaVariable*) _tmp905_);
						_tmp907_ = _tmp906_;
						_tmp897_ = bala_ccode_base_module_requires_destroy (_tmp907_);
					} else {
						_tmp897_ = FALSE;
					}
					if (_tmp897_) {
						BalaCCodeFunction* _tmp908_;
						BalaCCodeFunction* _tmp909_;
						BalaLocalVariable* _tmp910_;
						BalaCCodeExpression* _tmp911_;
						BalaCCodeExpression* _tmp912_;
						_tmp908_ = bala_ccode_base_module_get_ccode (self);
						_tmp909_ = _tmp908_;
						_tmp910_ = local;
						_tmp911_ = bala_ccode_base_module_destroy_local (self, _tmp910_);
						_tmp912_ = _tmp911_;
						bala_ccode_function_add_expression (_tmp909_, _tmp912_);
						_bala_ccode_node_unref0 (_tmp912_);
					}
					_bala_code_node_unref0 (local);
				}
			}
		}
		_tmp913_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
		_tmp914_ = _tmp913_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp914_, BALA_TYPE_METHOD)) {
			BalaMethod* m = NULL;
			BalaSymbol* _tmp915_;
			BalaSymbol* _tmp916_;
			BalaMethod* _tmp917_;
			_tmp915_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp916_ = _tmp915_;
			_tmp917_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp916_, BALA_TYPE_METHOD, BalaMethod));
			m = _tmp917_;
			{
				BalaList* _param_list = NULL;
				BalaMethod* _tmp918_;
				BalaList* _tmp919_;
				BalaList* _tmp920_;
				gint _param_size = 0;
				BalaList* _tmp921_;
				gint _tmp922_;
				gint _tmp923_;
				gint _param_index = 0;
				_tmp918_ = m;
				_tmp919_ = bala_callable_get_parameters ((BalaCallable*) _tmp918_);
				_tmp920_ = _bala_iterable_ref0 (_tmp919_);
				_param_list = _tmp920_;
				_tmp921_ = _param_list;
				_tmp922_ = bala_collection_get_size ((BalaCollection*) _tmp921_);
				_tmp923_ = _tmp922_;
				_param_size = _tmp923_;
				_param_index = -1;
				while (TRUE) {
					gint _tmp924_;
					gint _tmp925_;
					BalaParameter* param = NULL;
					BalaList* _tmp926_;
					gpointer _tmp927_;
					gboolean _tmp928_ = FALSE;
					gboolean _tmp929_ = FALSE;
					gboolean _tmp930_ = FALSE;
					gboolean _tmp931_ = FALSE;
					BalaParameter* _tmp932_;
					gboolean _tmp933_;
					gboolean _tmp934_;
					_param_index = _param_index + 1;
					_tmp924_ = _param_index;
					_tmp925_ = _param_size;
					if (!(_tmp924_ < _tmp925_)) {
						break;
					}
					_tmp926_ = _param_list;
					_tmp927_ = bala_list_get (_tmp926_, _param_index);
					param = (BalaParameter*) _tmp927_;
					_tmp932_ = param;
					_tmp933_ = bala_parameter_get_captured (_tmp932_);
					_tmp934_ = _tmp933_;
					if (!_tmp934_) {
						BalaParameter* _tmp935_;
						gboolean _tmp936_;
						gboolean _tmp937_;
						_tmp935_ = param;
						_tmp936_ = bala_parameter_get_ellipsis (_tmp935_);
						_tmp937_ = _tmp936_;
						_tmp931_ = !_tmp937_;
					} else {
						_tmp931_ = FALSE;
					}
					if (_tmp931_) {
						BalaParameter* _tmp938_;
						gboolean _tmp939_;
						gboolean _tmp940_;
						_tmp938_ = param;
						_tmp939_ = bala_parameter_get_params_array (_tmp938_);
						_tmp940_ = _tmp939_;
						_tmp930_ = !_tmp940_;
					} else {
						_tmp930_ = FALSE;
					}
					if (_tmp930_) {
						BalaParameter* _tmp941_;
						BalaDataType* _tmp942_;
						BalaDataType* _tmp943_;
						_tmp941_ = param;
						_tmp942_ = bala_variable_get_variable_type ((BalaVariable*) _tmp941_);
						_tmp943_ = _tmp942_;
						_tmp929_ = bala_ccode_base_module_requires_destroy (_tmp943_);
					} else {
						_tmp929_ = FALSE;
					}
					if (_tmp929_) {
						BalaParameter* _tmp944_;
						BalaParameterDirection _tmp945_;
						BalaParameterDirection _tmp946_;
						_tmp944_ = param;
						_tmp945_ = bala_parameter_get_direction (_tmp944_);
						_tmp946_ = _tmp945_;
						_tmp928_ = _tmp946_ == BALA_PARAMETER_DIRECTION_IN;
					} else {
						_tmp928_ = FALSE;
					}
					if (_tmp928_) {
						BalaCCodeFunction* _tmp947_;
						BalaCCodeFunction* _tmp948_;
						BalaParameter* _tmp949_;
						BalaCCodeExpression* _tmp950_;
						BalaCCodeExpression* _tmp951_;
						_tmp947_ = bala_ccode_base_module_get_ccode (self);
						_tmp948_ = _tmp947_;
						_tmp949_ = param;
						_tmp950_ = bala_ccode_base_module_destroy_parameter (self, _tmp949_);
						_tmp951_ = _tmp950_;
						bala_ccode_function_add_expression (_tmp948_, _tmp951_);
						_bala_ccode_node_unref0 (_tmp951_);
					} else {
						gboolean _tmp952_ = FALSE;
						BalaParameter* _tmp953_;
						BalaParameterDirection _tmp954_;
						BalaParameterDirection _tmp955_;
						_tmp953_ = param;
						_tmp954_ = bala_parameter_get_direction (_tmp953_);
						_tmp955_ = _tmp954_;
						if (_tmp955_ == BALA_PARAMETER_DIRECTION_OUT) {
							BalaMethod* _tmp956_;
							gboolean _tmp957_;
							gboolean _tmp958_;
							_tmp956_ = m;
							_tmp957_ = bala_method_get_coroutine (_tmp956_);
							_tmp958_ = _tmp957_;
							_tmp952_ = !_tmp958_;
						} else {
							_tmp952_ = FALSE;
						}
						if (_tmp952_) {
							BalaParameter* _tmp959_;
							_tmp959_ = param;
							bala_ccode_base_module_return_out_parameter (self, _tmp959_);
						}
					}
					_bala_code_node_unref0 (param);
				}
				_bala_iterable_unref0 (_param_list);
			}
			_bala_code_node_unref0 (m);
		} else {
			BalaSymbol* _tmp960_;
			BalaSymbol* _tmp961_;
			_tmp960_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
			_tmp961_ = _tmp960_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp961_, BALA_TYPE_PROPERTY_ACCESSOR)) {
				BalaPropertyAccessor* acc = NULL;
				BalaSymbol* _tmp962_;
				BalaSymbol* _tmp963_;
				BalaPropertyAccessor* _tmp964_;
				gboolean _tmp965_ = FALSE;
				gboolean _tmp966_ = FALSE;
				BalaPropertyAccessor* _tmp967_;
				BalaParameter* _tmp968_;
				BalaParameter* _tmp969_;
				_tmp962_ = bala_symbol_get_parent_symbol ((BalaSymbol*) b);
				_tmp963_ = _tmp962_;
				_tmp964_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp963_, BALA_TYPE_PROPERTY_ACCESSOR, BalaPropertyAccessor));
				acc = _tmp964_;
				_tmp967_ = acc;
				_tmp968_ = bala_property_accessor_get_value_parameter (_tmp967_);
				_tmp969_ = _tmp968_;
				if (_tmp969_ != NULL) {
					BalaPropertyAccessor* _tmp970_;
					BalaParameter* _tmp971_;
					BalaParameter* _tmp972_;
					gboolean _tmp973_;
					gboolean _tmp974_;
					_tmp970_ = acc;
					_tmp971_ = bala_property_accessor_get_value_parameter (_tmp970_);
					_tmp972_ = _tmp971_;
					_tmp973_ = bala_parameter_get_captured (_tmp972_);
					_tmp974_ = _tmp973_;
					_tmp966_ = !_tmp974_;
				} else {
					_tmp966_ = FALSE;
				}
				if (_tmp966_) {
					BalaPropertyAccessor* _tmp975_;
					BalaParameter* _tmp976_;
					BalaParameter* _tmp977_;
					BalaDataType* _tmp978_;
					BalaDataType* _tmp979_;
					_tmp975_ = acc;
					_tmp976_ = bala_property_accessor_get_value_parameter (_tmp975_);
					_tmp977_ = _tmp976_;
					_tmp978_ = bala_variable_get_variable_type ((BalaVariable*) _tmp977_);
					_tmp979_ = _tmp978_;
					_tmp965_ = bala_ccode_base_module_requires_destroy (_tmp979_);
				} else {
					_tmp965_ = FALSE;
				}
				if (_tmp965_) {
					BalaCCodeFunction* _tmp980_;
					BalaCCodeFunction* _tmp981_;
					BalaPropertyAccessor* _tmp982_;
					BalaParameter* _tmp983_;
					BalaParameter* _tmp984_;
					BalaCCodeExpression* _tmp985_;
					BalaCCodeExpression* _tmp986_;
					_tmp980_ = bala_ccode_base_module_get_ccode (self);
					_tmp981_ = _tmp980_;
					_tmp982_ = acc;
					_tmp983_ = bala_property_accessor_get_value_parameter (_tmp982_);
					_tmp984_ = _tmp983_;
					_tmp985_ = bala_ccode_base_module_destroy_parameter (self, _tmp984_);
					_tmp986_ = _tmp985_;
					bala_ccode_function_add_expression (_tmp981_, _tmp986_);
					_bala_ccode_node_unref0 (_tmp986_);
				}
				_bala_code_node_unref0 (acc);
			}
		}
		_tmp987_ = bala_block_get_captured (b);
		_tmp988_ = _tmp987_;
		if (_tmp988_) {
			gint block_id = 0;
			BalaCCodeFunctionCall* data_unref = NULL;
			gchar* _tmp989_;
			gchar* _tmp990_;
			BalaCCodeIdentifier* _tmp991_;
			BalaCCodeIdentifier* _tmp992_;
			BalaCCodeFunctionCall* _tmp993_;
			BalaCCodeFunctionCall* _tmp994_;
			BalaCCodeFunctionCall* _tmp995_;
			gchar* _tmp996_;
			gchar* _tmp997_;
			BalaCCodeExpression* _tmp998_;
			BalaCCodeExpression* _tmp999_;
			BalaCCodeFunction* _tmp1000_;
			BalaCCodeFunction* _tmp1001_;
			BalaCCodeFunctionCall* _tmp1002_;
			BalaCCodeFunction* _tmp1003_;
			BalaCCodeFunction* _tmp1004_;
			gchar* _tmp1005_;
			gchar* _tmp1006_;
			BalaCCodeExpression* _tmp1007_;
			BalaCCodeExpression* _tmp1008_;
			BalaCCodeConstant* _tmp1009_;
			BalaCCodeConstant* _tmp1010_;
			block_id = bala_ccode_base_module_get_block_id (self, b);
			_tmp989_ = g_strdup_printf ("block%d_data_unref", block_id);
			_tmp990_ = _tmp989_;
			_tmp991_ = bala_ccode_identifier_new (_tmp990_);
			_tmp992_ = _tmp991_;
			_tmp993_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp992_);
			_tmp994_ = _tmp993_;
			_bala_ccode_node_unref0 (_tmp992_);
			_g_free0 (_tmp990_);
			data_unref = _tmp994_;
			_tmp995_ = data_unref;
			_tmp996_ = g_strdup_printf ("_data%d_", block_id);
			_tmp997_ = _tmp996_;
			_tmp998_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp997_);
			_tmp999_ = _tmp998_;
			bala_ccode_function_call_add_argument (_tmp995_, _tmp999_);
			_bala_ccode_node_unref0 (_tmp999_);
			_g_free0 (_tmp997_);
			_tmp1000_ = bala_ccode_base_module_get_ccode (self);
			_tmp1001_ = _tmp1000_;
			_tmp1002_ = data_unref;
			bala_ccode_function_add_expression (_tmp1001_, (BalaCCodeExpression*) _tmp1002_);
			_tmp1003_ = bala_ccode_base_module_get_ccode (self);
			_tmp1004_ = _tmp1003_;
			_tmp1005_ = g_strdup_printf ("_data%d_", block_id);
			_tmp1006_ = _tmp1005_;
			_tmp1007_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp1006_);
			_tmp1008_ = _tmp1007_;
			_tmp1009_ = bala_ccode_constant_new ("NULL");
			_tmp1010_ = _tmp1009_;
			bala_ccode_function_add_assignment (_tmp1004_, _tmp1008_, (BalaCCodeExpression*) _tmp1010_);
			_bala_ccode_node_unref0 (_tmp1010_);
			_bala_ccode_node_unref0 (_tmp1008_);
			_g_free0 (_tmp1006_);
			_bala_ccode_node_unref0 (data_unref);
		}
	}
	_tmp1013_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
	_tmp1014_ = _tmp1013_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1014_, BALA_TYPE_BLOCK)) {
		_tmp1012_ = TRUE;
	} else {
		BalaCodeNode* _tmp1015_;
		BalaCodeNode* _tmp1016_;
		_tmp1015_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp1016_ = _tmp1015_;
		_tmp1012_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1016_, BALA_TYPE_SWITCH_STATEMENT);
	}
	if (_tmp1012_) {
		_tmp1011_ = TRUE;
	} else {
		BalaCodeNode* _tmp1017_;
		BalaCodeNode* _tmp1018_;
		_tmp1017_ = bala_code_node_get_parent_node ((BalaCodeNode*) b);
		_tmp1018_ = _tmp1017_;
		_tmp1011_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1018_, BALA_TYPE_TRY_STATEMENT);
	}
	if (_tmp1011_) {
		BalaCCodeFunction* _tmp1019_;
		BalaCCodeFunction* _tmp1020_;
		_tmp1019_ = bala_ccode_base_module_get_ccode (self);
		_tmp1020_ = _tmp1019_;
		bala_ccode_function_close (_tmp1020_);
	}
	_tmp1021_ = self->emit_context;
	bala_ccode_base_module_emit_context_pop_symbol (_tmp1021_);
	_bala_iterable_unref0 (local_vars);
}

static void
bala_ccode_base_module_real_visit_declaration_statement (BalaCodeVisitor* base,
                                                         BalaDeclarationStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	_tmp0_ = bala_declaration_statement_get_declaration (stmt);
	_tmp1_ = _tmp0_;
	bala_code_node_accept ((BalaCodeNode*) _tmp1_, (BalaCodeVisitor*) self);
}

BalaCCodeExpression*
bala_ccode_base_module_get_cexpression (BalaCCodeBaseModule* self,
                                        const gchar* name)
{
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	if (bala_ccode_base_module_is_in_coroutine (self)) {
		BalaCCodeIdentifier* _tmp0_;
		BalaCCodeIdentifier* _tmp1_;
		BalaCCodeMemberAccess* _tmp2_;
		BalaCCodeExpression* _tmp3_;
		_tmp0_ = bala_ccode_identifier_new ("_data_");
		_tmp1_ = _tmp0_;
		_tmp2_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp1_, name);
		_tmp3_ = (BalaCCodeExpression*) _tmp2_;
		_bala_ccode_node_unref0 (_tmp1_);
		result = _tmp3_;
		return result;
	} else {
		BalaCCodeIdentifier* _tmp4_;
		_tmp4_ = bala_ccode_identifier_new (name);
		result = (BalaCCodeExpression*) _tmp4_;
		return result;
	}
}

BalaCCodeExpression*
bala_ccode_base_module_get_local_cexpression (BalaCCodeBaseModule* self,
                                              BalaLocalVariable* local)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (local != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_local_cname (self, local);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_cexpression (self, _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_parameter_cexpression (BalaCCodeBaseModule* self,
                                                  BalaParameter* param)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (param != NULL, NULL);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) param);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_cexpression (self, _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_variable_cexpression (BalaCCodeBaseModule* self,
                                                 const gchar* name)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_variable_cname (self, name);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_cexpression (self, _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_this_cexpression (BalaCCodeBaseModule* self)
{
	BalaCCodeExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_cexpression (self, "self");
	result = _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_this_interface_cexpression (BalaCCodeBaseModule* self,
                                                       BalaInterface* iface)
{
	BalaClass* _tmp0_;
	BalaClass* _tmp1_;
	BalaClass* _tmp12_;
	BalaClass* _tmp13_;
	BalaCCodeFunctionCall* vcast = NULL;
	BalaCCodeIdentifier* _tmp26_;
	BalaCCodeIdentifier* _tmp27_;
	BalaCCodeFunctionCall* _tmp28_;
	BalaCCodeFunctionCall* _tmp29_;
	BalaCCodeFunctionCall* _tmp30_;
	BalaCCodeExpression* _tmp31_;
	BalaCCodeExpression* _tmp32_;
	BalaCCodeFunctionCall* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	BalaCCodeIdentifier* _tmp36_;
	BalaCCodeIdentifier* _tmp37_;
	BalaCCodeFunctionCall* _tmp38_;
	gchar* _tmp39_;
	gchar* _tmp40_;
	BalaCCodeIdentifier* _tmp41_;
	BalaCCodeIdentifier* _tmp42_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (iface != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_class (self);
	_tmp1_ = _tmp0_;
	if (bala_class_implements (_tmp1_, iface)) {
		BalaClass* _tmp2_;
		BalaClass* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		BalaCCodeIdentifier* _tmp10_;
		BalaCCodeExpression* _tmp11_;
		_tmp2_ = bala_ccode_base_module_get_current_class (self);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp3_, NULL);
		_tmp5_ = _tmp4_;
		_tmp6_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) iface, NULL);
		_tmp7_ = _tmp6_;
		_tmp8_ = g_strdup_printf ("%s_%s_parent_iface", _tmp5_, _tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_ccode_identifier_new (_tmp9_);
		_tmp11_ = (BalaCCodeExpression*) _tmp10_;
		_g_free0 (_tmp9_);
		_g_free0 (_tmp7_);
		_g_free0 (_tmp5_);
		result = _tmp11_;
		return result;
	}
	_tmp12_ = bala_ccode_base_module_get_current_class (self);
	_tmp13_ = _tmp12_;
	if (!bala_class_is_a (_tmp13_, (BalaObjectTypeSymbol*) iface)) {
		BalaClass* _tmp14_;
		BalaClass* _tmp15_;
		BalaSourceReference* _tmp16_;
		BalaSourceReference* _tmp17_;
		BalaClass* _tmp18_;
		BalaClass* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		gchar* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		gchar* _tmp25_;
		_tmp14_ = bala_ccode_base_module_get_current_class (self);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp15_);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_base_module_get_current_class (self);
		_tmp19_ = _tmp18_;
		_tmp20_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp19_);
		_tmp21_ = _tmp20_;
		_tmp22_ = bala_symbol_get_full_name ((BalaSymbol*) iface);
		_tmp23_ = _tmp22_;
		_tmp24_ = g_strdup_printf ("internal: `%s' is not a `%s'", _tmp21_, _tmp23_);
		_tmp25_ = _tmp24_;
		bala_report_warning (_tmp17_, _tmp25_);
		_g_free0 (_tmp25_);
		_g_free0 (_tmp23_);
		_g_free0 (_tmp21_);
	}
	_tmp26_ = bala_ccode_identifier_new ("G_TYPE_INSTANCE_GET_INTERFACE");
	_tmp27_ = _tmp26_;
	_tmp28_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp27_);
	_tmp29_ = _tmp28_;
	_bala_ccode_node_unref0 (_tmp27_);
	vcast = _tmp29_;
	_tmp30_ = vcast;
	_tmp31_ = bala_ccode_base_module_get_this_cexpression (self);
	_tmp32_ = _tmp31_;
	bala_ccode_function_call_add_argument (_tmp30_, _tmp32_);
	_bala_ccode_node_unref0 (_tmp32_);
	_tmp33_ = vcast;
	_tmp34_ = bala_get_ccode_type_id ((BalaCodeNode*) iface);
	_tmp35_ = _tmp34_;
	_tmp36_ = bala_ccode_identifier_new (_tmp35_);
	_tmp37_ = _tmp36_;
	bala_ccode_function_call_add_argument (_tmp33_, (BalaCCodeExpression*) _tmp37_);
	_bala_ccode_node_unref0 (_tmp37_);
	_g_free0 (_tmp35_);
	_tmp38_ = vcast;
	_tmp39_ = bala_get_ccode_type_name ((BalaObjectTypeSymbol*) iface);
	_tmp40_ = _tmp39_;
	_tmp41_ = bala_ccode_identifier_new (_tmp40_);
	_tmp42_ = _tmp41_;
	bala_ccode_function_call_add_argument (_tmp38_, (BalaCCodeExpression*) _tmp42_);
	_bala_ccode_node_unref0 (_tmp42_);
	_g_free0 (_tmp40_);
	result = (BalaCCodeExpression*) vcast;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_inner_error_cexpression (BalaCCodeBaseModule* self)
{
	gint _tmp0_;
	gint _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	BalaCCodeExpression* _tmp4_;
	BalaCCodeExpression* _tmp5_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_current_inner_error_id (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("_inner_error%d_", _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_base_module_get_cexpression (self, _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	result = _tmp5_;
	return result;
}

static gchar
string_get (const gchar* self,
            glong index)
{
	gchar _tmp0_;
	gchar result = '\0';
	g_return_val_if_fail (self != NULL, '\0');
	_tmp0_ = ((gchar*) self)[index];
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_local_cname (BalaCCodeBaseModule* self,
                                        BalaLocalVariable* local)
{
	gchar* cname = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (local != NULL, NULL);
	_tmp0_ = bala_symbol_get_name ((BalaSymbol*) local);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_variable_cname (self, _tmp1_);
	cname = _tmp2_;
	_tmp3_ = cname;
	if (g_ascii_isdigit (string_get (_tmp3_, (glong) 0))) {
		const gchar* _tmp4_;
		gchar* _tmp5_;
		_tmp4_ = cname;
		_tmp5_ = g_strdup_printf ("_%s_", _tmp4_);
		_g_free0 (cname);
		cname = _tmp5_;
	}
	if (bala_ccode_base_module_is_in_coroutine (self)) {
		gint clash_index = 0;
		BalaCCodeBaseModuleEmitContext* _tmp6_;
		BalaMap* _tmp7_;
		gpointer _tmp8_;
		_tmp6_ = self->emit_context;
		_tmp7_ = _tmp6_->closure_variable_clash_map;
		_tmp8_ = bala_map_get (_tmp7_, local);
		clash_index = (gint) ((gintptr) _tmp8_);
		if (clash_index > 0) {
			const gchar* _tmp9_;
			gchar* _tmp10_;
			_tmp9_ = cname;
			_tmp10_ = g_strdup_printf ("_bala%d_%s", clash_index, _tmp9_);
			_g_free0 (cname);
			cname = _tmp10_;
		}
	}
	result = cname;
	return result;
}

gchar*
bala_ccode_base_module_get_variable_cname (BalaCCodeBaseModule* self,
                                           const gchar* name)
{
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	if (string_get (name, (glong) 0) == '.') {
		BalaMap* _tmp1_;
		BalaMap* _tmp2_;
		BalaMap* _tmp11_;
		BalaMap* _tmp12_;
		gpointer _tmp13_;
		if (g_strcmp0 (name, ".result") == 0) {
			gchar* _tmp0_;
			_tmp0_ = g_strdup ("result");
			result = _tmp0_;
			return result;
		}
		_tmp1_ = bala_ccode_base_module_get_variable_name_map (self);
		_tmp2_ = _tmp1_;
		if (!bala_map_contains (_tmp2_, name)) {
			BalaMap* _tmp3_;
			BalaMap* _tmp4_;
			gint _tmp5_;
			gint _tmp6_;
			gchar* _tmp7_;
			gchar* _tmp8_;
			gint _tmp9_;
			gint _tmp10_;
			_tmp3_ = bala_ccode_base_module_get_variable_name_map (self);
			_tmp4_ = _tmp3_;
			_tmp5_ = bala_ccode_base_module_get_next_temp_var_id (self);
			_tmp6_ = _tmp5_;
			_tmp7_ = g_strdup_printf ("_tmp%d_", _tmp6_);
			_tmp8_ = _tmp7_;
			bala_map_set (_tmp4_, name, _tmp8_);
			_g_free0 (_tmp8_);
			_tmp9_ = bala_ccode_base_module_get_next_temp_var_id (self);
			_tmp10_ = _tmp9_;
			bala_ccode_base_module_set_next_temp_var_id (self, _tmp10_ + 1);
		}
		_tmp11_ = bala_ccode_base_module_get_variable_name_map (self);
		_tmp12_ = _tmp11_;
		_tmp13_ = bala_map_get (_tmp12_, name);
		result = (gchar*) _tmp13_;
		return result;
	} else {
		BalaSet* _tmp14_;
		_tmp14_ = bala_ccode_base_module_reserved_identifiers;
		if (bala_collection_contains ((BalaCollection*) _tmp14_, name)) {
			gchar* _tmp15_;
			_tmp15_ = g_strdup_printf ("_%s_", name);
			result = _tmp15_;
			return result;
		} else {
			gchar* _tmp16_;
			_tmp16_ = g_strdup (name);
			result = _tmp16_;
			return result;
		}
	}
}

gboolean
bala_ccode_base_module_is_simple_struct_creation (BalaCCodeBaseModule* self,
                                                  BalaVariable* variable,
                                                  BalaExpression* expr)
{
	BalaStruct* st = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	BalaObjectCreationExpression* creation = NULL;
	BalaObjectCreationExpression* _tmp4_;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_ = FALSE;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	BalaObjectCreationExpression* _tmp10_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (variable != NULL, FALSE);
	g_return_val_if_fail (expr != NULL, FALSE);
	_tmp0_ = bala_variable_get_variable_type (variable);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (_tmp1_);
	_tmp3_ = _tmp2_;
	st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp3_) : NULL;
	_tmp4_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_OBJECT_CREATION_EXPRESSION) ? ((BalaObjectCreationExpression*) expr) : NULL);
	creation = _tmp4_;
	_tmp10_ = creation;
	if (_tmp10_ != NULL) {
		BalaStruct* _tmp11_;
		_tmp11_ = st;
		_tmp9_ = _tmp11_ != NULL;
	} else {
		_tmp9_ = FALSE;
	}
	if (_tmp9_) {
		gboolean _tmp12_ = FALSE;
		BalaStruct* _tmp13_;
		_tmp13_ = st;
		if (!bala_struct_is_simple_type (_tmp13_)) {
			_tmp12_ = TRUE;
		} else {
			BalaStruct* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			_tmp14_ = st;
			_tmp15_ = bala_get_ccode_name ((BalaCodeNode*) _tmp14_);
			_tmp16_ = _tmp15_;
			_tmp12_ = g_strcmp0 (_tmp16_, "va_list") == 0;
			_g_free0 (_tmp16_);
		}
		_tmp8_ = _tmp12_;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		BalaDataType* _tmp17_;
		BalaDataType* _tmp18_;
		gboolean _tmp19_;
		gboolean _tmp20_;
		_tmp17_ = bala_variable_get_variable_type (variable);
		_tmp18_ = _tmp17_;
		_tmp19_ = bala_data_type_get_nullable (_tmp18_);
		_tmp20_ = _tmp19_;
		_tmp7_ = !_tmp20_;
	} else {
		_tmp7_ = FALSE;
	}
	if (_tmp7_) {
		BalaDataType* _tmp21_;
		BalaDataType* _tmp22_;
		BalaTypeSymbol* _tmp23_;
		BalaTypeSymbol* _tmp24_;
		BalaStruct* _tmp25_;
		_tmp21_ = bala_variable_get_variable_type (variable);
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_data_type_get_type_symbol (_tmp22_);
		_tmp24_ = _tmp23_;
		_tmp25_ = self->gvalue_type;
		_tmp6_ = _tmp24_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	} else {
		_tmp6_ = FALSE;
	}
	if (_tmp6_) {
		BalaObjectCreationExpression* _tmp26_;
		BalaList* _tmp27_;
		gint _tmp28_;
		gint _tmp29_;
		_tmp26_ = creation;
		_tmp27_ = bala_object_creation_expression_get_object_initializer (_tmp26_);
		_tmp28_ = bala_collection_get_size ((BalaCollection*) _tmp27_);
		_tmp29_ = _tmp28_;
		_tmp5_ = _tmp29_ == 0;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		result = TRUE;
		_bala_code_node_unref0 (creation);
		return result;
	} else {
		result = FALSE;
		_bala_code_node_unref0 (creation);
		return result;
	}
	_bala_code_node_unref0 (creation);
}

static gboolean
bala_ccode_base_module_is_foreach_element_variable (BalaLocalVariable* local)
{
	BalaSymbol* block = NULL;
	BalaSymbol* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	gboolean result = FALSE;
	g_return_val_if_fail (local != NULL, FALSE);
	_tmp0_ = bala_symbol_get_parent_symbol ((BalaSymbol*) local);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	block = _tmp2_;
	_tmp3_ = block;
	if (_tmp3_ != NULL) {
		BalaForeachStatement* stmt = NULL;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaForeachStatement* _tmp7_;
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_ = FALSE;
		BalaForeachStatement* _tmp10_;
		_tmp4_ = block;
		_tmp5_ = bala_symbol_get_parent_symbol (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_FOREACH_STATEMENT) ? ((BalaForeachStatement*) _tmp6_) : NULL);
		stmt = _tmp7_;
		_tmp10_ = stmt;
		if (_tmp10_ != NULL) {
			BalaForeachStatement* _tmp11_;
			gboolean _tmp12_;
			gboolean _tmp13_;
			_tmp11_ = stmt;
			_tmp12_ = bala_foreach_statement_get_use_iterator (_tmp11_);
			_tmp13_ = _tmp12_;
			_tmp9_ = !_tmp13_;
		} else {
			_tmp9_ = FALSE;
		}
		if (_tmp9_) {
			BalaForeachStatement* _tmp14_;
			BalaLocalVariable* _tmp15_;
			BalaLocalVariable* _tmp16_;
			_tmp14_ = stmt;
			_tmp15_ = bala_foreach_statement_get_element_variable (_tmp14_);
			_tmp16_ = _tmp15_;
			_tmp8_ = _tmp16_ == local;
		} else {
			_tmp8_ = FALSE;
		}
		if (_tmp8_) {
			result = TRUE;
			_bala_code_node_unref0 (stmt);
			_bala_code_node_unref0 (block);
			return result;
		}
		_bala_code_node_unref0 (stmt);
	}
	result = FALSE;
	_bala_code_node_unref0 (block);
	return result;
}

static void
bala_ccode_base_module_real_visit_local_variable (BalaCodeVisitor* base,
                                                  BalaLocalVariable* local)
{
	BalaCCodeBaseModule * self;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaCCodeFile* _tmp2_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_;
	gboolean _tmp5_;
	gboolean declared = FALSE;
	BalaExpression* _tmp73_;
	BalaExpression* _tmp74_;
	BalaCCodeExpression* rhs = NULL;
	gboolean _tmp79_ = FALSE;
	BalaExpression* _tmp80_;
	BalaExpression* _tmp81_;
	BalaCCodeExpression* _tmp172_;
	gboolean _tmp181_ = FALSE;
	BalaExpression* _tmp182_;
	BalaExpression* _tmp183_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (local != NULL);
	_tmp0_ = bala_variable_get_variable_type ((BalaVariable*) local);
	_tmp1_ = _tmp0_;
	_tmp2_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, _tmp1_, _tmp2_);
	_tmp4_ = bala_local_variable_get_captured (local);
	_tmp5_ = _tmp4_;
	if (!_tmp5_) {
		_tmp3_ = TRUE;
	} else {
		_tmp3_ = bala_ccode_base_module_is_foreach_element_variable (local);
	}
	declared = _tmp3_;
	if (declared) {
		if (bala_ccode_base_module_is_in_coroutine (self)) {
			gint count = 0;
			BalaCCodeBaseModuleEmitContext* _tmp6_;
			BalaMap* _tmp7_;
			const gchar* _tmp8_;
			const gchar* _tmp9_;
			gpointer _tmp10_;
			BalaCCodeBaseModuleEmitContext* _tmp13_;
			BalaMap* _tmp14_;
			const gchar* _tmp15_;
			const gchar* _tmp16_;
			BalaCCodeStruct* _tmp17_;
			BalaDataType* _tmp18_;
			BalaDataType* _tmp19_;
			gchar* _tmp20_;
			gchar* _tmp21_;
			gchar* _tmp22_;
			gchar* _tmp23_;
			BalaDataType* _tmp24_;
			BalaDataType* _tmp25_;
			BalaCCodeDeclaratorSuffix* _tmp26_;
			BalaCCodeDeclaratorSuffix* _tmp27_;
			_tmp6_ = self->emit_context;
			_tmp7_ = _tmp6_->closure_variable_count_map;
			_tmp8_ = bala_symbol_get_name ((BalaSymbol*) local);
			_tmp9_ = _tmp8_;
			_tmp10_ = bala_map_get (_tmp7_, _tmp9_);
			count = (gint) ((gintptr) _tmp10_);
			if (count > 0) {
				BalaCCodeBaseModuleEmitContext* _tmp11_;
				BalaMap* _tmp12_;
				_tmp11_ = self->emit_context;
				_tmp12_ = _tmp11_->closure_variable_clash_map;
				bala_map_set (_tmp12_, local, (gpointer) ((gintptr) count));
			}
			_tmp13_ = self->emit_context;
			_tmp14_ = _tmp13_->closure_variable_count_map;
			_tmp15_ = bala_symbol_get_name ((BalaSymbol*) local);
			_tmp16_ = _tmp15_;
			bala_map_set (_tmp14_, _tmp16_, (gpointer) ((gintptr) (count + 1)));
			_tmp17_ = self->closure_struct;
			_tmp18_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp19_ = _tmp18_;
			_tmp20_ = bala_get_ccode_name ((BalaCodeNode*) _tmp19_);
			_tmp21_ = _tmp20_;
			_tmp22_ = bala_ccode_base_module_get_local_cname (self, local);
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp25_);
			_tmp27_ = _tmp26_;
			bala_ccode_struct_add_field (_tmp17_, _tmp21_, _tmp23_, 0, _tmp27_);
			_bala_ccode_declarator_suffix_unref0 (_tmp27_);
			_g_free0 (_tmp23_);
			_g_free0 (_tmp21_);
		} else {
			BalaCCodeVariableDeclarator* cvar = NULL;
			gchar* _tmp28_;
			gchar* _tmp29_;
			BalaDataType* _tmp30_;
			BalaDataType* _tmp31_;
			BalaCCodeDeclaratorSuffix* _tmp32_;
			BalaCCodeDeclaratorSuffix* _tmp33_;
			BalaCCodeVariableDeclarator* _tmp34_;
			BalaCCodeVariableDeclarator* _tmp35_;
			BalaCCodeExpression* size = NULL;
			BalaCCodeExpression* _tmp36_ = NULL;
			gboolean _tmp37_;
			BalaCCodeFunction* _tmp66_;
			BalaCCodeFunction* _tmp67_;
			BalaDataType* _tmp68_;
			BalaDataType* _tmp69_;
			gchar* _tmp70_;
			gchar* _tmp71_;
			BalaCCodeVariableDeclarator* _tmp72_;
			_tmp28_ = bala_ccode_base_module_get_local_cname (self, local);
			_tmp29_ = _tmp28_;
			_tmp30_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp31_ = _tmp30_;
			_tmp32_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp31_);
			_tmp33_ = _tmp32_;
			_tmp34_ = bala_ccode_variable_declarator_new (_tmp29_, NULL, _tmp33_);
			_tmp35_ = _tmp34_;
			_bala_ccode_declarator_suffix_unref0 (_tmp33_);
			_g_free0 (_tmp29_);
			cvar = _tmp35_;
			size = NULL;
			_tmp37_ = bala_ccode_base_module_requires_memset_init (self, (BalaVariable*) local, &_tmp36_);
			_bala_ccode_node_unref0 (size);
			size = _tmp36_;
			if (!_tmp37_) {
				BalaCCodeVariableDeclarator* _tmp38_;
				BalaDataType* _tmp39_;
				BalaDataType* _tmp40_;
				BalaCCodeExpression* _tmp41_;
				BalaCCodeExpression* _tmp42_;
				BalaCCodeVariableDeclarator* _tmp43_;
				_tmp38_ = cvar;
				_tmp39_ = bala_variable_get_variable_type ((BalaVariable*) local);
				_tmp40_ = _tmp39_;
				_tmp41_ = bala_ccode_base_module_default_value_for_type (self, _tmp40_, TRUE, FALSE);
				_tmp42_ = _tmp41_;
				bala_ccode_variable_declarator_set_initializer (_tmp38_, _tmp42_);
				_bala_ccode_node_unref0 (_tmp42_);
				_tmp43_ = cvar;
				bala_ccode_variable_declarator_set_init0 (_tmp43_, TRUE);
			} else {
				gboolean _tmp44_ = FALSE;
				BalaCCodeExpression* _tmp45_;
				_tmp45_ = size;
				if (_tmp45_ != NULL) {
					BalaExpression* _tmp46_;
					BalaExpression* _tmp47_;
					_tmp46_ = bala_variable_get_initializer ((BalaVariable*) local);
					_tmp47_ = _tmp46_;
					_tmp44_ = _tmp47_ == NULL;
				} else {
					_tmp44_ = FALSE;
				}
				if (_tmp44_) {
					BalaCCodeFile* _tmp48_;
					BalaCCodeFunctionCall* memset_call = NULL;
					BalaCCodeIdentifier* _tmp49_;
					BalaCCodeIdentifier* _tmp50_;
					BalaCCodeFunctionCall* _tmp51_;
					BalaCCodeFunctionCall* _tmp52_;
					BalaCCodeFunctionCall* _tmp53_;
					const gchar* _tmp54_;
					const gchar* _tmp55_;
					BalaCCodeExpression* _tmp56_;
					BalaCCodeExpression* _tmp57_;
					BalaCCodeFunctionCall* _tmp58_;
					BalaCCodeConstant* _tmp59_;
					BalaCCodeConstant* _tmp60_;
					BalaCCodeFunctionCall* _tmp61_;
					BalaCCodeExpression* _tmp62_;
					BalaCCodeFunction* _tmp63_;
					BalaCCodeFunction* _tmp64_;
					BalaCCodeFunctionCall* _tmp65_;
					_tmp48_ = self->cfile;
					bala_ccode_file_add_include (_tmp48_, "string.h", FALSE);
					_tmp49_ = bala_ccode_identifier_new ("memset");
					_tmp50_ = _tmp49_;
					_tmp51_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp50_);
					_tmp52_ = _tmp51_;
					_bala_ccode_node_unref0 (_tmp50_);
					memset_call = _tmp52_;
					_tmp53_ = memset_call;
					_tmp54_ = bala_symbol_get_name ((BalaSymbol*) local);
					_tmp55_ = _tmp54_;
					_tmp56_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp55_);
					_tmp57_ = _tmp56_;
					bala_ccode_function_call_add_argument (_tmp53_, _tmp57_);
					_bala_ccode_node_unref0 (_tmp57_);
					_tmp58_ = memset_call;
					_tmp59_ = bala_ccode_constant_new ("0");
					_tmp60_ = _tmp59_;
					bala_ccode_function_call_add_argument (_tmp58_, (BalaCCodeExpression*) _tmp60_);
					_bala_ccode_node_unref0 (_tmp60_);
					_tmp61_ = memset_call;
					_tmp62_ = size;
					bala_ccode_function_call_add_argument (_tmp61_, _tmp62_);
					_tmp63_ = bala_ccode_base_module_get_ccode (self);
					_tmp64_ = _tmp63_;
					_tmp65_ = memset_call;
					bala_ccode_function_add_expression (_tmp64_, (BalaCCodeExpression*) _tmp65_);
					_bala_ccode_node_unref0 (memset_call);
				}
			}
			_tmp66_ = bala_ccode_base_module_get_ccode (self);
			_tmp67_ = _tmp66_;
			_tmp68_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp69_ = _tmp68_;
			_tmp70_ = bala_get_ccode_name ((BalaCodeNode*) _tmp69_);
			_tmp71_ = _tmp70_;
			_tmp72_ = cvar;
			bala_ccode_function_add_declaration (_tmp67_, _tmp71_, (BalaCCodeDeclarator*) _tmp72_, 0);
			_g_free0 (_tmp71_);
			_bala_ccode_node_unref0 (size);
			_bala_ccode_node_unref0 (cvar);
		}
	}
	_tmp73_ = bala_variable_get_initializer ((BalaVariable*) local);
	_tmp74_ = _tmp73_;
	if (_tmp74_ != NULL) {
		BalaExpression* _tmp75_;
		BalaExpression* _tmp76_;
		BalaExpression* _tmp77_;
		BalaExpression* _tmp78_;
		_tmp75_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp76_ = _tmp75_;
		bala_code_node_emit ((BalaCodeNode*) _tmp76_, (BalaCodeGenerator*) self);
		_tmp77_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp78_ = _tmp77_;
		bala_code_visitor_visit_end_full_expression ((BalaCodeVisitor*) self, _tmp78_);
	}
	rhs = NULL;
	_tmp80_ = bala_variable_get_initializer ((BalaVariable*) local);
	_tmp81_ = _tmp80_;
	if (_tmp81_ != NULL) {
		BalaExpression* _tmp82_;
		BalaExpression* _tmp83_;
		BalaCCodeExpression* _tmp84_;
		_tmp82_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp83_ = _tmp82_;
		_tmp84_ = bala_get_cvalue (_tmp83_);
		_tmp79_ = _tmp84_ != NULL;
	} else {
		_tmp79_ = FALSE;
	}
	if (_tmp79_) {
		BalaExpression* _tmp85_;
		BalaExpression* _tmp86_;
		BalaCCodeExpression* _tmp87_;
		BalaCCodeExpression* _tmp88_;
		_tmp85_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp86_ = _tmp85_;
		_tmp87_ = bala_get_cvalue (_tmp86_);
		_tmp88_ = _bala_ccode_node_ref0 (_tmp87_);
		_bala_ccode_node_unref0 (rhs);
		rhs = _tmp88_;
	}
	if (declared) {
		BalaDataType* _tmp89_;
		BalaDataType* _tmp90_;
		_tmp89_ = bala_variable_get_variable_type ((BalaVariable*) local);
		_tmp90_ = _tmp89_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp90_, BALA_TYPE_ARRAY_TYPE)) {
			BalaArrayType* array_type = NULL;
			BalaDataType* _tmp91_;
			BalaDataType* _tmp92_;
			BalaArrayType* _tmp93_;
			BalaArrayType* _tmp94_;
			gboolean _tmp95_;
			gboolean _tmp96_;
			_tmp91_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp92_ = _tmp91_;
			_tmp93_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp92_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			array_type = _tmp93_;
			_tmp94_ = array_type;
			_tmp95_ = bala_array_type_get_fixed_length (_tmp94_);
			_tmp96_ = _tmp95_;
			if (!_tmp96_) {
				BalaArrayType* _tmp117_;
				gint _tmp118_;
				gint _tmp119_;
				{
					gint dim = 0;
					dim = 1;
					{
						gboolean _tmp97_ = FALSE;
						_tmp97_ = TRUE;
						while (TRUE) {
							BalaArrayType* _tmp99_;
							gint _tmp100_;
							gint _tmp101_;
							BalaLocalVariable* len_var = NULL;
							BalaArrayType* _tmp102_;
							BalaDataType* _tmp103_;
							BalaDataType* _tmp104_;
							BalaDataType* _tmp105_;
							BalaDataType* _tmp106_;
							gchar* _tmp107_;
							gchar* _tmp108_;
							gchar* _tmp109_;
							gchar* _tmp110_;
							BalaLocalVariable* _tmp111_;
							BalaLocalVariable* _tmp112_;
							BalaLocalVariable* _tmp113_;
							BalaExpression* _tmp114_;
							BalaExpression* _tmp115_;
							BalaLocalVariable* _tmp116_;
							if (!_tmp97_) {
								gint _tmp98_;
								_tmp98_ = dim;
								dim = _tmp98_ + 1;
							}
							_tmp97_ = FALSE;
							_tmp99_ = array_type;
							_tmp100_ = bala_array_type_get_rank (_tmp99_);
							_tmp101_ = _tmp100_;
							if (!(dim <= _tmp101_)) {
								break;
							}
							_tmp102_ = array_type;
							_tmp103_ = bala_array_type_get_length_type (_tmp102_);
							_tmp104_ = _tmp103_;
							_tmp105_ = bala_data_type_copy (_tmp104_);
							_tmp106_ = _tmp105_;
							_tmp107_ = bala_ccode_base_module_get_local_cname (self, local);
							_tmp108_ = _tmp107_;
							_tmp109_ = bala_ccode_base_module_get_array_length_cname (self, _tmp108_, dim);
							_tmp110_ = _tmp109_;
							_tmp111_ = bala_local_variable_new (_tmp106_, _tmp110_, NULL, NULL);
							_tmp112_ = _tmp111_;
							_g_free0 (_tmp110_);
							_g_free0 (_tmp108_);
							_bala_code_node_unref0 (_tmp106_);
							len_var = _tmp112_;
							_tmp113_ = len_var;
							_tmp114_ = bala_variable_get_initializer ((BalaVariable*) local);
							_tmp115_ = _tmp114_;
							bala_local_variable_set_init (_tmp113_, _tmp115_ == NULL);
							_tmp116_ = len_var;
							bala_ccode_base_module_emit_temp_var (self, _tmp116_, FALSE);
							_bala_code_node_unref0 (len_var);
						}
					}
				}
				_tmp117_ = array_type;
				_tmp118_ = bala_array_type_get_rank (_tmp117_);
				_tmp119_ = _tmp118_;
				if (_tmp119_ == 1) {
					BalaLocalVariable* size_var = NULL;
					BalaArrayType* _tmp120_;
					BalaDataType* _tmp121_;
					BalaDataType* _tmp122_;
					BalaDataType* _tmp123_;
					BalaDataType* _tmp124_;
					gchar* _tmp125_;
					gchar* _tmp126_;
					gchar* _tmp127_;
					gchar* _tmp128_;
					BalaLocalVariable* _tmp129_;
					BalaLocalVariable* _tmp130_;
					BalaLocalVariable* _tmp131_;
					BalaExpression* _tmp132_;
					BalaExpression* _tmp133_;
					BalaLocalVariable* _tmp134_;
					_tmp120_ = array_type;
					_tmp121_ = bala_array_type_get_length_type (_tmp120_);
					_tmp122_ = _tmp121_;
					_tmp123_ = bala_data_type_copy (_tmp122_);
					_tmp124_ = _tmp123_;
					_tmp125_ = bala_ccode_base_module_get_local_cname (self, local);
					_tmp126_ = _tmp125_;
					_tmp127_ = bala_ccode_base_module_get_array_size_cname (self, _tmp126_);
					_tmp128_ = _tmp127_;
					_tmp129_ = bala_local_variable_new (_tmp124_, _tmp128_, NULL, NULL);
					_tmp130_ = _tmp129_;
					_g_free0 (_tmp128_);
					_g_free0 (_tmp126_);
					_bala_code_node_unref0 (_tmp124_);
					size_var = _tmp130_;
					_tmp131_ = size_var;
					_tmp132_ = bala_variable_get_initializer ((BalaVariable*) local);
					_tmp133_ = _tmp132_;
					bala_local_variable_set_init (_tmp131_, _tmp133_ == NULL);
					_tmp134_ = size_var;
					bala_ccode_base_module_emit_temp_var (self, _tmp134_, FALSE);
					_bala_code_node_unref0 (size_var);
				}
			}
			_bala_code_node_unref0 (array_type);
		} else {
			BalaDataType* _tmp135_;
			BalaDataType* _tmp136_;
			_tmp135_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp136_ = _tmp135_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp136_, BALA_TYPE_DELEGATE_TYPE)) {
				BalaDelegateType* deleg_type = NULL;
				BalaDataType* _tmp137_;
				BalaDataType* _tmp138_;
				BalaDelegateType* _tmp139_;
				BalaDelegateType* _tmp140_;
				BalaDelegate* _tmp141_;
				BalaDelegate* _tmp142_;
				gboolean _tmp143_;
				gboolean _tmp144_;
				_tmp137_ = bala_variable_get_variable_type ((BalaVariable*) local);
				_tmp138_ = _tmp137_;
				_tmp139_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp138_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
				deleg_type = _tmp139_;
				_tmp140_ = deleg_type;
				_tmp141_ = bala_delegate_type_get_delegate_symbol (_tmp140_);
				_tmp142_ = _tmp141_;
				_tmp143_ = bala_delegate_get_has_target (_tmp142_);
				_tmp144_ = _tmp143_;
				if (_tmp144_) {
					BalaLocalVariable* target_var = NULL;
					BalaDataType* _tmp145_;
					BalaDataType* _tmp146_;
					BalaDataType* _tmp147_;
					gchar* _tmp148_;
					gchar* _tmp149_;
					gchar* _tmp150_;
					gchar* _tmp151_;
					BalaLocalVariable* _tmp152_;
					BalaLocalVariable* _tmp153_;
					BalaLocalVariable* _tmp154_;
					BalaExpression* _tmp155_;
					BalaExpression* _tmp156_;
					BalaLocalVariable* _tmp157_;
					BalaDelegateType* _tmp158_;
					_tmp145_ = self->delegate_target_type;
					_tmp146_ = bala_data_type_copy (_tmp145_);
					_tmp147_ = _tmp146_;
					_tmp148_ = bala_ccode_base_module_get_local_cname (self, local);
					_tmp149_ = _tmp148_;
					_tmp150_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp149_);
					_tmp151_ = _tmp150_;
					_tmp152_ = bala_local_variable_new (_tmp147_, _tmp151_, NULL, NULL);
					_tmp153_ = _tmp152_;
					_g_free0 (_tmp151_);
					_g_free0 (_tmp149_);
					_bala_code_node_unref0 (_tmp147_);
					target_var = _tmp153_;
					_tmp154_ = target_var;
					_tmp155_ = bala_variable_get_initializer ((BalaVariable*) local);
					_tmp156_ = _tmp155_;
					bala_local_variable_set_init (_tmp154_, _tmp156_ == NULL);
					_tmp157_ = target_var;
					bala_ccode_base_module_emit_temp_var (self, _tmp157_, FALSE);
					_tmp158_ = deleg_type;
					if (bala_data_type_is_disposable ((BalaDataType*) _tmp158_)) {
						BalaLocalVariable* target_destroy_notify_var = NULL;
						BalaDelegateType* _tmp159_;
						BalaDataType* _tmp160_;
						BalaDataType* _tmp161_;
						gchar* _tmp162_;
						gchar* _tmp163_;
						gchar* _tmp164_;
						gchar* _tmp165_;
						BalaLocalVariable* _tmp166_;
						BalaLocalVariable* _tmp167_;
						BalaLocalVariable* _tmp168_;
						BalaExpression* _tmp169_;
						BalaExpression* _tmp170_;
						BalaLocalVariable* _tmp171_;
						_tmp159_ = self->delegate_target_destroy_type;
						_tmp160_ = bala_data_type_copy ((BalaDataType*) _tmp159_);
						_tmp161_ = _tmp160_;
						_tmp162_ = bala_ccode_base_module_get_local_cname (self, local);
						_tmp163_ = _tmp162_;
						_tmp164_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, _tmp163_);
						_tmp165_ = _tmp164_;
						_tmp166_ = bala_local_variable_new (_tmp161_, _tmp165_, NULL, NULL);
						_tmp167_ = _tmp166_;
						_g_free0 (_tmp165_);
						_g_free0 (_tmp163_);
						_bala_code_node_unref0 (_tmp161_);
						target_destroy_notify_var = _tmp167_;
						_tmp168_ = target_destroy_notify_var;
						_tmp169_ = bala_variable_get_initializer ((BalaVariable*) local);
						_tmp170_ = _tmp169_;
						bala_local_variable_set_init (_tmp168_, _tmp170_ == NULL);
						_tmp171_ = target_destroy_notify_var;
						bala_ccode_base_module_emit_temp_var (self, _tmp171_, FALSE);
						_bala_code_node_unref0 (target_destroy_notify_var);
					}
					_bala_code_node_unref0 (target_var);
				}
				_bala_code_node_unref0 (deleg_type);
			}
		}
	}
	_tmp172_ = rhs;
	if (_tmp172_ != NULL) {
		BalaExpression* _tmp173_;
		BalaExpression* _tmp174_;
		_tmp173_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp174_ = _tmp173_;
		if (!bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) local, _tmp174_)) {
			BalaExpression* _tmp175_;
			BalaExpression* _tmp176_;
			BalaTargetValue* _tmp177_;
			BalaTargetValue* _tmp178_;
			BalaSourceReference* _tmp179_;
			BalaSourceReference* _tmp180_;
			_tmp175_ = bala_variable_get_initializer ((BalaVariable*) local);
			_tmp176_ = _tmp175_;
			_tmp177_ = bala_expression_get_target_value (_tmp176_);
			_tmp178_ = _tmp177_;
			_tmp179_ = bala_code_node_get_source_reference ((BalaCodeNode*) local);
			_tmp180_ = _tmp179_;
			bala_code_generator_store_local ((BalaCodeGenerator*) self, local, _tmp178_, TRUE, _tmp180_);
		}
	}
	_tmp182_ = bala_variable_get_initializer ((BalaVariable*) local);
	_tmp183_ = _tmp182_;
	if (_tmp183_ != NULL) {
		BalaExpression* _tmp184_;
		BalaExpression* _tmp185_;
		gboolean _tmp186_;
		gboolean _tmp187_;
		_tmp184_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp185_ = _tmp184_;
		_tmp186_ = bala_code_node_get_tree_can_fail ((BalaCodeNode*) _tmp185_);
		_tmp187_ = _tmp186_;
		_tmp181_ = _tmp187_;
	} else {
		_tmp181_ = FALSE;
	}
	if (_tmp181_) {
		BalaExpression* _tmp188_;
		BalaExpression* _tmp189_;
		_tmp188_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp189_ = _tmp188_;
		bala_ccode_base_module_add_simple_check (self, (BalaCodeNode*) _tmp189_, FALSE);
	}
	bala_symbol_set_active ((BalaSymbol*) local, TRUE);
	_bala_ccode_node_unref0 (rhs);
}

/**
 * Create a temporary variable and return lvalue access to it
 */
BalaTargetValue*
bala_ccode_base_module_create_temp_value (BalaCCodeBaseModule* self,
                                          BalaDataType* type,
                                          gboolean init,
                                          BalaCodeNode* node_reference,
                                          gboolean* value_owned)
{
	BalaLocalVariable* local = NULL;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	BalaSourceReference* _tmp8_;
	BalaSourceReference* _tmp9_;
	BalaLocalVariable* _tmp10_;
	BalaLocalVariable* _tmp11_;
	BalaLocalVariable* _tmp12_;
	BalaArrayType* array_type = NULL;
	BalaLocalVariable* _tmp16_;
	BalaDataType* _tmp17_;
	BalaDataType* _tmp18_;
	BalaArrayType* _tmp19_;
	BalaDelegateType* deleg_type = NULL;
	BalaLocalVariable* _tmp20_;
	BalaDataType* _tmp21_;
	BalaDataType* _tmp22_;
	BalaDelegateType* _tmp23_;
	BalaLocalVariable* _tmp24_;
	BalaArrayType* _tmp25_;
	BalaTargetValue* value = NULL;
	BalaLocalVariable* _tmp83_;
	BalaTargetValue* _tmp84_;
	BalaTargetValue* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (node_reference != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_VOID_TYPE)) {
		BalaSourceReference* _tmp0_;
		BalaSourceReference* _tmp1_;
		_tmp0_ = bala_code_node_get_source_reference (node_reference);
		_tmp1_ = _tmp0_;
		bala_report_error (_tmp1_, "internal: 'void' not supported as variable type");
	}
	_tmp2_ = bala_data_type_copy (type);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_base_module_get_next_temp_var_id (self);
	_tmp5_ = _tmp4_;
	bala_ccode_base_module_set_next_temp_var_id (self, _tmp5_ + 1);
	_tmp6_ = g_strdup_printf ("_tmp%d_", _tmp5_);
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_code_node_get_source_reference (node_reference);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_local_variable_new (_tmp3_, _tmp7_, NULL, _tmp9_);
	_tmp11_ = _tmp10_;
	_g_free0 (_tmp7_);
	_bala_code_node_unref0 (_tmp3_);
	local = _tmp11_;
	_tmp12_ = local;
	bala_local_variable_set_init (_tmp12_, init);
	if (value_owned != NULL) {
		BalaLocalVariable* _tmp13_;
		BalaDataType* _tmp14_;
		BalaDataType* _tmp15_;
		_tmp13_ = local;
		_tmp14_ = bala_variable_get_variable_type ((BalaVariable*) _tmp13_);
		_tmp15_ = _tmp14_;
		bala_data_type_set_value_owned (_tmp15_, *value_owned);
	}
	_tmp16_ = local;
	_tmp17_ = bala_variable_get_variable_type ((BalaVariable*) _tmp16_);
	_tmp18_ = _tmp17_;
	_tmp19_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp18_) : NULL);
	array_type = _tmp19_;
	_tmp20_ = local;
	_tmp21_ = bala_variable_get_variable_type ((BalaVariable*) _tmp20_);
	_tmp22_ = _tmp21_;
	_tmp23_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp22_, BALA_TYPE_DELEGATE_TYPE) ? ((BalaDelegateType*) _tmp22_) : NULL);
	deleg_type = _tmp23_;
	_tmp24_ = local;
	bala_ccode_base_module_emit_temp_var (self, _tmp24_, FALSE);
	_tmp25_ = array_type;
	if (_tmp25_ != NULL) {
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp26_ = FALSE;
				_tmp26_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp28_;
					gint _tmp29_;
					gint _tmp30_;
					BalaLocalVariable* len_var = NULL;
					BalaArrayType* _tmp31_;
					BalaDataType* _tmp32_;
					BalaDataType* _tmp33_;
					BalaDataType* _tmp34_;
					BalaDataType* _tmp35_;
					BalaLocalVariable* _tmp36_;
					const gchar* _tmp37_;
					const gchar* _tmp38_;
					gchar* _tmp39_;
					gchar* _tmp40_;
					BalaSourceReference* _tmp41_;
					BalaSourceReference* _tmp42_;
					BalaLocalVariable* _tmp43_;
					BalaLocalVariable* _tmp44_;
					BalaLocalVariable* _tmp45_;
					BalaLocalVariable* _tmp46_;
					if (!_tmp26_) {
						gint _tmp27_;
						_tmp27_ = dim;
						dim = _tmp27_ + 1;
					}
					_tmp26_ = FALSE;
					_tmp28_ = array_type;
					_tmp29_ = bala_array_type_get_rank (_tmp28_);
					_tmp30_ = _tmp29_;
					if (!(dim <= _tmp30_)) {
						break;
					}
					_tmp31_ = array_type;
					_tmp32_ = bala_array_type_get_length_type (_tmp31_);
					_tmp33_ = _tmp32_;
					_tmp34_ = bala_data_type_copy (_tmp33_);
					_tmp35_ = _tmp34_;
					_tmp36_ = local;
					_tmp37_ = bala_symbol_get_name ((BalaSymbol*) _tmp36_);
					_tmp38_ = _tmp37_;
					_tmp39_ = bala_ccode_base_module_get_array_length_cname (self, _tmp38_, dim);
					_tmp40_ = _tmp39_;
					_tmp41_ = bala_code_node_get_source_reference (node_reference);
					_tmp42_ = _tmp41_;
					_tmp43_ = bala_local_variable_new (_tmp35_, _tmp40_, NULL, _tmp42_);
					_tmp44_ = _tmp43_;
					_g_free0 (_tmp40_);
					_bala_code_node_unref0 (_tmp35_);
					len_var = _tmp44_;
					_tmp45_ = len_var;
					bala_local_variable_set_init (_tmp45_, init);
					_tmp46_ = len_var;
					bala_ccode_base_module_emit_temp_var (self, _tmp46_, FALSE);
					_bala_code_node_unref0 (len_var);
				}
			}
		}
	} else {
		gboolean _tmp47_ = FALSE;
		BalaDelegateType* _tmp48_;
		_tmp48_ = deleg_type;
		if (_tmp48_ != NULL) {
			BalaDelegateType* _tmp49_;
			BalaDelegate* _tmp50_;
			BalaDelegate* _tmp51_;
			gboolean _tmp52_;
			gboolean _tmp53_;
			_tmp49_ = deleg_type;
			_tmp50_ = bala_delegate_type_get_delegate_symbol (_tmp49_);
			_tmp51_ = _tmp50_;
			_tmp52_ = bala_delegate_get_has_target (_tmp51_);
			_tmp53_ = _tmp52_;
			_tmp47_ = _tmp53_;
		} else {
			_tmp47_ = FALSE;
		}
		if (_tmp47_) {
			BalaLocalVariable* target_var = NULL;
			BalaDataType* _tmp54_;
			BalaDataType* _tmp55_;
			BalaDataType* _tmp56_;
			BalaLocalVariable* _tmp57_;
			const gchar* _tmp58_;
			const gchar* _tmp59_;
			gchar* _tmp60_;
			gchar* _tmp61_;
			BalaSourceReference* _tmp62_;
			BalaSourceReference* _tmp63_;
			BalaLocalVariable* _tmp64_;
			BalaLocalVariable* _tmp65_;
			BalaLocalVariable* _tmp66_;
			BalaLocalVariable* _tmp67_;
			BalaDelegateType* _tmp68_;
			_tmp54_ = self->delegate_target_type;
			_tmp55_ = bala_data_type_copy (_tmp54_);
			_tmp56_ = _tmp55_;
			_tmp57_ = local;
			_tmp58_ = bala_symbol_get_name ((BalaSymbol*) _tmp57_);
			_tmp59_ = _tmp58_;
			_tmp60_ = bala_ccode_base_module_get_delegate_target_cname (self, _tmp59_);
			_tmp61_ = _tmp60_;
			_tmp62_ = bala_code_node_get_source_reference (node_reference);
			_tmp63_ = _tmp62_;
			_tmp64_ = bala_local_variable_new (_tmp56_, _tmp61_, NULL, _tmp63_);
			_tmp65_ = _tmp64_;
			_g_free0 (_tmp61_);
			_bala_code_node_unref0 (_tmp56_);
			target_var = _tmp65_;
			_tmp66_ = target_var;
			bala_local_variable_set_init (_tmp66_, init);
			_tmp67_ = target_var;
			bala_ccode_base_module_emit_temp_var (self, _tmp67_, FALSE);
			_tmp68_ = deleg_type;
			if (bala_data_type_is_disposable ((BalaDataType*) _tmp68_)) {
				BalaLocalVariable* target_destroy_notify_var = NULL;
				BalaDelegateType* _tmp69_;
				BalaDataType* _tmp70_;
				BalaDataType* _tmp71_;
				BalaLocalVariable* _tmp72_;
				const gchar* _tmp73_;
				const gchar* _tmp74_;
				gchar* _tmp75_;
				gchar* _tmp76_;
				BalaSourceReference* _tmp77_;
				BalaSourceReference* _tmp78_;
				BalaLocalVariable* _tmp79_;
				BalaLocalVariable* _tmp80_;
				BalaLocalVariable* _tmp81_;
				BalaLocalVariable* _tmp82_;
				_tmp69_ = self->delegate_target_destroy_type;
				_tmp70_ = bala_data_type_copy ((BalaDataType*) _tmp69_);
				_tmp71_ = _tmp70_;
				_tmp72_ = local;
				_tmp73_ = bala_symbol_get_name ((BalaSymbol*) _tmp72_);
				_tmp74_ = _tmp73_;
				_tmp75_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, _tmp74_);
				_tmp76_ = _tmp75_;
				_tmp77_ = bala_code_node_get_source_reference (node_reference);
				_tmp78_ = _tmp77_;
				_tmp79_ = bala_local_variable_new (_tmp71_, _tmp76_, NULL, _tmp78_);
				_tmp80_ = _tmp79_;
				_g_free0 (_tmp76_);
				_bala_code_node_unref0 (_tmp71_);
				target_destroy_notify_var = _tmp80_;
				_tmp81_ = target_destroy_notify_var;
				bala_local_variable_set_init (_tmp81_, init);
				_tmp82_ = target_destroy_notify_var;
				bala_ccode_base_module_emit_temp_var (self, _tmp82_, FALSE);
				_bala_code_node_unref0 (target_destroy_notify_var);
			}
			_bala_code_node_unref0 (target_var);
		}
	}
	_tmp83_ = local;
	_tmp84_ = bala_ccode_base_module_get_local_cvalue (self, _tmp83_);
	value = _tmp84_;
	bala_set_array_size_cvalue (value, NULL);
	result = value;
	_bala_code_node_unref0 (deleg_type);
	_bala_code_node_unref0 (array_type);
	_bala_code_node_unref0 (local);
	return result;
}

/**
 * Load a temporary variable returning unowned or owned rvalue access to it, depending on the ownership of the value type.
 */
BalaTargetValue*
bala_ccode_base_module_load_temp_value (BalaCCodeBaseModule* self,
                                        BalaTargetValue* lvalue)
{
	BalaGLibValue* value = NULL;
	BalaGLibValue* _tmp0_;
	BalaDelegateType* deleg_type = NULL;
	BalaGLibValue* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	BalaDelegateType* _tmp4_;
	BalaDelegateType* _tmp5_;
	BalaTargetValue* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (lvalue != NULL, NULL);
	_tmp0_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (lvalue, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
	value = _tmp0_;
	_tmp1_ = value;
	_tmp2_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_DELEGATE_TYPE) ? ((BalaDelegateType*) _tmp3_) : NULL);
	deleg_type = _tmp4_;
	_tmp5_ = deleg_type;
	if (_tmp5_ != NULL) {
		BalaDelegateType* _tmp6_;
		BalaDelegate* _tmp7_;
		BalaDelegate* _tmp8_;
		gboolean _tmp9_;
		gboolean _tmp10_;
		_tmp6_ = deleg_type;
		_tmp7_ = bala_delegate_type_get_delegate_symbol (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = bala_delegate_get_has_target (_tmp8_);
		_tmp10_ = _tmp9_;
		if (!_tmp10_) {
			BalaGLibValue* _tmp11_;
			BalaCCodeConstant* _tmp12_;
			BalaGLibValue* _tmp13_;
			_tmp11_ = value;
			_tmp12_ = bala_ccode_constant_new ("NULL");
			_bala_ccode_node_unref0 (_tmp11_->delegate_target_cvalue);
			_tmp11_->delegate_target_cvalue = (BalaCCodeExpression*) _tmp12_;
			_tmp13_ = value;
			G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = FALSE;
		} else {
			BalaDelegateType* _tmp14_;
			_tmp14_ = deleg_type;
			if (!bala_data_type_is_disposable ((BalaDataType*) _tmp14_)) {
				BalaGLibValue* _tmp15_;
				BalaCCodeConstant* _tmp16_;
				BalaGLibValue* _tmp17_;
				_tmp15_ = value;
				_tmp16_ = bala_ccode_constant_new ("NULL");
				_bala_ccode_node_unref0 (_tmp15_->delegate_target_destroy_notify_cvalue);
				_tmp15_->delegate_target_destroy_notify_cvalue = (BalaCCodeExpression*) _tmp16_;
				_tmp17_ = value;
				G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = FALSE;
			}
		}
	}
	result = (BalaTargetValue*) value;
	_bala_code_node_unref0 (deleg_type);
	return result;
}

/**
 * Store a value in a temporary variable and return unowned or owned rvalue access to it, depending on the ownership of the given type.
 */
BalaTargetValue*
bala_ccode_base_module_store_temp_value (BalaCCodeBaseModule* self,
                                         BalaTargetValue* initializer,
                                         BalaCodeNode* node_reference,
                                         gboolean* value_owned)
{
	BalaTargetValue* lvalue = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTargetValue* _tmp2_;
	BalaSourceReference* _tmp3_;
	BalaSourceReference* _tmp4_;
	BalaTargetValue* _tmp5_;
	BalaTargetValue* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (initializer != NULL, NULL);
	g_return_val_if_fail (node_reference != NULL, NULL);
	_tmp0_ = bala_target_value_get_value_type (initializer);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_create_temp_value (self, _tmp1_, FALSE, node_reference, value_owned);
	lvalue = _tmp2_;
	_tmp3_ = bala_code_node_get_source_reference (node_reference);
	_tmp4_ = _tmp3_;
	bala_ccode_base_module_store_value (self, lvalue, initializer, _tmp4_);
	_tmp5_ = bala_ccode_base_module_load_temp_value (self, lvalue);
	result = _tmp5_;
	_bala_target_value_unref0 (lvalue);
	return result;
}

static void
bala_ccode_base_module_real_visit_initializer_list (BalaCodeVisitor* base,
                                                    BalaInitializerList* list)
{
	BalaCCodeBaseModule * self;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (list != NULL);
	_tmp0_ = bala_expression_get_target_type ((BalaExpression*) list);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (_tmp1_);
	_tmp3_ = _tmp2_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_STRUCT)) {
		BalaStruct* st = NULL;
		BalaDataType* _tmp4_;
		BalaDataType* _tmp5_;
		BalaTypeSymbol* _tmp6_;
		BalaTypeSymbol* _tmp7_;
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_ = FALSE;
		BalaCodeNode* _tmp16_;
		BalaCodeNode* _tmp17_;
		_tmp4_ = bala_expression_get_target_type ((BalaExpression*) list);
		_tmp5_ = _tmp4_;
		_tmp6_ = bala_data_type_get_type_symbol (_tmp5_);
		_tmp7_ = _tmp6_;
		st = G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, BALA_TYPE_STRUCT, BalaStruct);
		while (TRUE) {
			BalaStruct* _tmp8_;
			BalaStruct* _tmp9_;
			BalaStruct* _tmp10_;
			BalaStruct* _tmp11_;
			BalaStruct* _tmp12_;
			BalaStruct* _tmp13_;
			_tmp8_ = st;
			_tmp9_ = bala_struct_get_base_struct (_tmp8_);
			_tmp10_ = _tmp9_;
			if (!(_tmp10_ != NULL)) {
				break;
			}
			_tmp11_ = st;
			_tmp12_ = bala_struct_get_base_struct (_tmp11_);
			_tmp13_ = _tmp12_;
			st = _tmp13_;
		}
		_tmp16_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
		_tmp17_ = _tmp16_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_CONSTANT)) {
			_tmp15_ = TRUE;
		} else {
			BalaCodeNode* _tmp18_;
			BalaCodeNode* _tmp19_;
			_tmp18_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
			_tmp19_ = _tmp18_;
			_tmp15_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, BALA_TYPE_FIELD);
		}
		if (_tmp15_) {
			_tmp14_ = TRUE;
		} else {
			BalaCodeNode* _tmp20_;
			BalaCodeNode* _tmp21_;
			_tmp20_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
			_tmp21_ = _tmp20_;
			_tmp14_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp21_, BALA_TYPE_INITIALIZER_LIST);
		}
		if (_tmp14_) {
			BalaCCodeInitializerList* clist = NULL;
			BalaCCodeInitializerList* _tmp22_;
			BalaIterator* field_it = NULL;
			BalaStruct* _tmp23_;
			BalaList* _tmp24_;
			BalaIterator* _tmp25_;
			gboolean _tmp88_ = FALSE;
			BalaCodeNode* _tmp89_;
			BalaCodeNode* _tmp90_;
			_tmp22_ = bala_ccode_initializer_list_new ();
			clist = _tmp22_;
			_tmp23_ = st;
			_tmp24_ = bala_struct_get_fields (_tmp23_);
			_tmp25_ = bala_iterable_iterator ((BalaIterable*) _tmp24_);
			field_it = _tmp25_;
			{
				BalaList* _expr_list = NULL;
				BalaList* _tmp26_;
				BalaList* _tmp27_;
				gint _expr_size = 0;
				BalaList* _tmp28_;
				gint _tmp29_;
				gint _tmp30_;
				gint _expr_index = 0;
				_tmp26_ = bala_initializer_list_get_initializers (list);
				_tmp27_ = _bala_iterable_ref0 (_tmp26_);
				_expr_list = _tmp27_;
				_tmp28_ = _expr_list;
				_tmp29_ = bala_collection_get_size ((BalaCollection*) _tmp28_);
				_tmp30_ = _tmp29_;
				_expr_size = _tmp30_;
				_expr_index = -1;
				while (TRUE) {
					gint _tmp31_;
					gint _tmp32_;
					BalaExpression* expr = NULL;
					BalaList* _tmp33_;
					gpointer _tmp34_;
					BalaField* field = NULL;
					BalaCCodeExpression* cexpr = NULL;
					BalaExpression* _tmp42_;
					BalaCCodeExpression* _tmp43_;
					BalaCCodeExpression* _tmp44_;
					gchar* ctype = NULL;
					BalaField* _tmp45_;
					gchar* _tmp46_;
					const gchar* _tmp47_;
					BalaCCodeInitializerList* _tmp51_;
					BalaCCodeExpression* _tmp52_;
					BalaArrayType* array_type = NULL;
					BalaField* _tmp53_;
					BalaDataType* _tmp54_;
					BalaDataType* _tmp55_;
					BalaArrayType* _tmp56_;
					gboolean _tmp57_ = FALSE;
					gboolean _tmp58_ = FALSE;
					gboolean _tmp59_ = FALSE;
					BalaArrayType* _tmp60_;
					_expr_index = _expr_index + 1;
					_tmp31_ = _expr_index;
					_tmp32_ = _expr_size;
					if (!(_tmp31_ < _tmp32_)) {
						break;
					}
					_tmp33_ = _expr_list;
					_tmp34_ = bala_list_get (_tmp33_, _expr_index);
					expr = (BalaExpression*) _tmp34_;
					field = NULL;
					while (TRUE) {
						BalaField* _tmp35_;
						BalaIterator* _tmp36_;
						BalaIterator* _tmp37_;
						gpointer _tmp38_;
						BalaField* _tmp39_;
						BalaMemberBinding _tmp40_;
						BalaMemberBinding _tmp41_;
						_tmp35_ = field;
						if (!(_tmp35_ == NULL)) {
							break;
						}
						_tmp36_ = field_it;
						bala_iterator_next (_tmp36_);
						_tmp37_ = field_it;
						_tmp38_ = bala_iterator_get (_tmp37_);
						_bala_code_node_unref0 (field);
						field = (BalaField*) _tmp38_;
						_tmp39_ = field;
						_tmp40_ = bala_field_get_binding (_tmp39_);
						_tmp41_ = _tmp40_;
						if (_tmp41_ != BALA_MEMBER_BINDING_INSTANCE) {
							_bala_code_node_unref0 (field);
							field = NULL;
						}
					}
					_tmp42_ = expr;
					_tmp43_ = bala_get_cvalue (_tmp42_);
					_tmp44_ = _bala_ccode_node_ref0 (_tmp43_);
					cexpr = _tmp44_;
					_tmp45_ = field;
					_tmp46_ = bala_get_ccode_type ((BalaCodeNode*) _tmp45_);
					ctype = _tmp46_;
					_tmp47_ = ctype;
					if (_tmp47_ != NULL) {
						BalaCCodeExpression* _tmp48_;
						const gchar* _tmp49_;
						BalaCCodeCastExpression* _tmp50_;
						_tmp48_ = cexpr;
						_tmp49_ = ctype;
						_tmp50_ = bala_ccode_cast_expression_new (_tmp48_, _tmp49_);
						_bala_ccode_node_unref0 (cexpr);
						cexpr = (BalaCCodeExpression*) _tmp50_;
					}
					_tmp51_ = clist;
					_tmp52_ = cexpr;
					bala_ccode_initializer_list_append (_tmp51_, _tmp52_);
					_tmp53_ = field;
					_tmp54_ = bala_variable_get_variable_type ((BalaVariable*) _tmp53_);
					_tmp55_ = _tmp54_;
					_tmp56_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp55_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp55_) : NULL);
					array_type = _tmp56_;
					_tmp60_ = array_type;
					if (_tmp60_ != NULL) {
						BalaArrayType* _tmp61_;
						gboolean _tmp62_;
						gboolean _tmp63_;
						_tmp61_ = array_type;
						_tmp62_ = bala_array_type_get_fixed_length (_tmp61_);
						_tmp63_ = _tmp62_;
						_tmp59_ = !_tmp63_;
					} else {
						_tmp59_ = FALSE;
					}
					if (_tmp59_) {
						BalaField* _tmp64_;
						_tmp64_ = field;
						_tmp58_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp64_);
					} else {
						_tmp58_ = FALSE;
					}
					if (_tmp58_) {
						BalaField* _tmp65_;
						_tmp65_ = field;
						_tmp57_ = !bala_get_ccode_array_null_terminated ((BalaCodeNode*) _tmp65_);
					} else {
						_tmp57_ = FALSE;
					}
					if (_tmp57_) {
						gboolean _tmp77_ = FALSE;
						BalaArrayType* _tmp78_;
						gint _tmp79_;
						gint _tmp80_;
						{
							gint dim = 0;
							dim = 1;
							{
								gboolean _tmp66_ = FALSE;
								_tmp66_ = TRUE;
								while (TRUE) {
									BalaArrayType* _tmp68_;
									gint _tmp69_;
									gint _tmp70_;
									BalaCCodeInitializerList* _tmp71_;
									BalaExpression* _tmp72_;
									BalaTargetValue* _tmp73_;
									BalaTargetValue* _tmp74_;
									BalaCCodeExpression* _tmp75_;
									BalaCCodeExpression* _tmp76_;
									if (!_tmp66_) {
										gint _tmp67_;
										_tmp67_ = dim;
										dim = _tmp67_ + 1;
									}
									_tmp66_ = FALSE;
									_tmp68_ = array_type;
									_tmp69_ = bala_array_type_get_rank (_tmp68_);
									_tmp70_ = _tmp69_;
									if (!(dim <= _tmp70_)) {
										break;
									}
									_tmp71_ = clist;
									_tmp72_ = expr;
									_tmp73_ = bala_expression_get_target_value (_tmp72_);
									_tmp74_ = _tmp73_;
									_tmp75_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp74_, dim);
									_tmp76_ = _tmp75_;
									bala_ccode_initializer_list_append (_tmp71_, _tmp76_);
									_bala_ccode_node_unref0 (_tmp76_);
								}
							}
						}
						_tmp78_ = array_type;
						_tmp79_ = bala_array_type_get_rank (_tmp78_);
						_tmp80_ = _tmp79_;
						if (_tmp80_ == 1) {
							BalaField* _tmp81_;
							_tmp81_ = field;
							_tmp77_ = bala_symbol_is_internal_symbol ((BalaSymbol*) _tmp81_);
						} else {
							_tmp77_ = FALSE;
						}
						if (_tmp77_) {
							BalaCCodeInitializerList* _tmp82_;
							BalaExpression* _tmp83_;
							BalaTargetValue* _tmp84_;
							BalaTargetValue* _tmp85_;
							BalaCCodeExpression* _tmp86_;
							BalaCCodeExpression* _tmp87_;
							_tmp82_ = clist;
							_tmp83_ = expr;
							_tmp84_ = bala_expression_get_target_value (_tmp83_);
							_tmp85_ = _tmp84_;
							_tmp86_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp85_, 1);
							_tmp87_ = _tmp86_;
							bala_ccode_initializer_list_append (_tmp82_, _tmp87_);
							_bala_ccode_node_unref0 (_tmp87_);
						}
					}
					_bala_code_node_unref0 (array_type);
					_g_free0 (ctype);
					_bala_ccode_node_unref0 (cexpr);
					_bala_code_node_unref0 (field);
					_bala_code_node_unref0 (expr);
				}
				_bala_iterable_unref0 (_expr_list);
			}
			_tmp89_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
			_tmp90_ = _tmp89_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp90_, BALA_TYPE_CONSTANT)) {
				_tmp88_ = TRUE;
			} else {
				gboolean _tmp91_ = FALSE;
				BalaCodeNode* _tmp92_;
				BalaCodeNode* _tmp93_;
				_tmp92_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
				_tmp93_ = _tmp92_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp93_, BALA_TYPE_EXPRESSION)) {
					BalaCodeNode* _tmp94_;
					BalaCodeNode* _tmp95_;
					BalaDataType* _tmp96_;
					BalaDataType* _tmp97_;
					_tmp94_ = bala_code_node_get_parent_node ((BalaCodeNode*) list);
					_tmp95_ = _tmp94_;
					_tmp96_ = bala_expression_get_value_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp95_, BALA_TYPE_EXPRESSION, BalaExpression));
					_tmp97_ = _tmp96_;
					_tmp91_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp97_, BALA_TYPE_ARRAY_TYPE);
				} else {
					_tmp91_ = FALSE;
				}
				_tmp88_ = _tmp91_;
			}
			if (_tmp88_) {
				BalaCCodeInitializerList* _tmp98_;
				_tmp98_ = clist;
				bala_set_cvalue ((BalaExpression*) list, (BalaCCodeExpression*) _tmp98_);
			} else {
				BalaCCodeInitializerList* _tmp99_;
				BalaDataType* _tmp100_;
				BalaDataType* _tmp101_;
				BalaTypeSymbol* _tmp102_;
				BalaTypeSymbol* _tmp103_;
				gchar* _tmp104_;
				gchar* _tmp105_;
				BalaCCodeCastExpression* _tmp106_;
				BalaCCodeCastExpression* _tmp107_;
				_tmp99_ = clist;
				_tmp100_ = bala_expression_get_target_type ((BalaExpression*) list);
				_tmp101_ = _tmp100_;
				_tmp102_ = bala_data_type_get_type_symbol (_tmp101_);
				_tmp103_ = _tmp102_;
				_tmp104_ = bala_get_ccode_name ((BalaCodeNode*) _tmp103_);
				_tmp105_ = _tmp104_;
				_tmp106_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp99_, _tmp105_);
				_tmp107_ = _tmp106_;
				bala_set_cvalue ((BalaExpression*) list, (BalaCCodeExpression*) _tmp107_);
				_bala_ccode_node_unref0 (_tmp107_);
				_g_free0 (_tmp105_);
			}
			_bala_iterator_unref0 (field_it);
			_bala_ccode_node_unref0 (clist);
		} else {
			BalaTargetValue* instance = NULL;
			BalaDataType* _tmp108_;
			BalaDataType* _tmp109_;
			BalaTargetValue* _tmp110_;
			BalaIterator* field_it = NULL;
			BalaStruct* _tmp111_;
			BalaList* _tmp112_;
			BalaIterator* _tmp113_;
			BalaTargetValue* _tmp138_;
			_tmp108_ = bala_expression_get_value_type ((BalaExpression*) list);
			_tmp109_ = _tmp108_;
			_tmp110_ = bala_ccode_base_module_create_temp_value (self, _tmp109_, TRUE, (BalaCodeNode*) list, NULL);
			instance = _tmp110_;
			_tmp111_ = st;
			_tmp112_ = bala_struct_get_fields (_tmp111_);
			_tmp113_ = bala_iterable_iterator ((BalaIterable*) _tmp112_);
			field_it = _tmp113_;
			{
				BalaList* _expr_list = NULL;
				BalaList* _tmp114_;
				BalaList* _tmp115_;
				gint _expr_size = 0;
				BalaList* _tmp116_;
				gint _tmp117_;
				gint _tmp118_;
				gint _expr_index = 0;
				_tmp114_ = bala_initializer_list_get_initializers (list);
				_tmp115_ = _bala_iterable_ref0 (_tmp114_);
				_expr_list = _tmp115_;
				_tmp116_ = _expr_list;
				_tmp117_ = bala_collection_get_size ((BalaCollection*) _tmp116_);
				_tmp118_ = _tmp117_;
				_expr_size = _tmp118_;
				_expr_index = -1;
				while (TRUE) {
					gint _tmp119_;
					gint _tmp120_;
					BalaExpression* expr = NULL;
					BalaList* _tmp121_;
					gpointer _tmp122_;
					BalaField* field = NULL;
					BalaField* _tmp130_;
					BalaTargetValue* _tmp131_;
					BalaExpression* _tmp132_;
					BalaTargetValue* _tmp133_;
					BalaTargetValue* _tmp134_;
					BalaExpression* _tmp135_;
					BalaSourceReference* _tmp136_;
					BalaSourceReference* _tmp137_;
					_expr_index = _expr_index + 1;
					_tmp119_ = _expr_index;
					_tmp120_ = _expr_size;
					if (!(_tmp119_ < _tmp120_)) {
						break;
					}
					_tmp121_ = _expr_list;
					_tmp122_ = bala_list_get (_tmp121_, _expr_index);
					expr = (BalaExpression*) _tmp122_;
					field = NULL;
					while (TRUE) {
						BalaField* _tmp123_;
						BalaIterator* _tmp124_;
						BalaIterator* _tmp125_;
						gpointer _tmp126_;
						BalaField* _tmp127_;
						BalaMemberBinding _tmp128_;
						BalaMemberBinding _tmp129_;
						_tmp123_ = field;
						if (!(_tmp123_ == NULL)) {
							break;
						}
						_tmp124_ = field_it;
						bala_iterator_next (_tmp124_);
						_tmp125_ = field_it;
						_tmp126_ = bala_iterator_get (_tmp125_);
						_bala_code_node_unref0 (field);
						field = (BalaField*) _tmp126_;
						_tmp127_ = field;
						_tmp128_ = bala_field_get_binding (_tmp127_);
						_tmp129_ = _tmp128_;
						if (_tmp129_ != BALA_MEMBER_BINDING_INSTANCE) {
							_bala_code_node_unref0 (field);
							field = NULL;
						}
					}
					_tmp130_ = field;
					_tmp131_ = instance;
					_tmp132_ = expr;
					_tmp133_ = bala_expression_get_target_value (_tmp132_);
					_tmp134_ = _tmp133_;
					_tmp135_ = expr;
					_tmp136_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp135_);
					_tmp137_ = _tmp136_;
					bala_code_generator_store_field ((BalaCodeGenerator*) self, _tmp130_, _tmp131_, _tmp134_, _tmp137_);
					_bala_code_node_unref0 (field);
					_bala_code_node_unref0 (expr);
				}
				_bala_iterable_unref0 (_expr_list);
			}
			_tmp138_ = instance;
			bala_expression_set_target_value ((BalaExpression*) list, _tmp138_);
			_bala_iterator_unref0 (field_it);
			_bala_target_value_unref0 (instance);
		}
	} else {
		BalaCCodeInitializerList* clist = NULL;
		BalaCCodeInitializerList* _tmp139_;
		BalaCCodeInitializerList* _tmp152_;
		_tmp139_ = bala_ccode_initializer_list_new ();
		clist = _tmp139_;
		{
			BalaList* _expr_list = NULL;
			BalaList* _tmp140_;
			BalaList* _tmp141_;
			gint _expr_size = 0;
			BalaList* _tmp142_;
			gint _tmp143_;
			gint _tmp144_;
			gint _expr_index = 0;
			_tmp140_ = bala_initializer_list_get_initializers (list);
			_tmp141_ = _bala_iterable_ref0 (_tmp140_);
			_expr_list = _tmp141_;
			_tmp142_ = _expr_list;
			_tmp143_ = bala_collection_get_size ((BalaCollection*) _tmp142_);
			_tmp144_ = _tmp143_;
			_expr_size = _tmp144_;
			_expr_index = -1;
			while (TRUE) {
				gint _tmp145_;
				gint _tmp146_;
				BalaExpression* expr = NULL;
				BalaList* _tmp147_;
				gpointer _tmp148_;
				BalaCCodeInitializerList* _tmp149_;
				BalaExpression* _tmp150_;
				BalaCCodeExpression* _tmp151_;
				_expr_index = _expr_index + 1;
				_tmp145_ = _expr_index;
				_tmp146_ = _expr_size;
				if (!(_tmp145_ < _tmp146_)) {
					break;
				}
				_tmp147_ = _expr_list;
				_tmp148_ = bala_list_get (_tmp147_, _expr_index);
				expr = (BalaExpression*) _tmp148_;
				_tmp149_ = clist;
				_tmp150_ = expr;
				_tmp151_ = bala_get_cvalue (_tmp150_);
				bala_ccode_initializer_list_append (_tmp149_, _tmp151_);
				_bala_code_node_unref0 (expr);
			}
			_bala_iterable_unref0 (_expr_list);
		}
		_tmp152_ = clist;
		bala_set_cvalue ((BalaExpression*) list, (BalaCCodeExpression*) _tmp152_);
		_bala_ccode_node_unref0 (clist);
	}
}

BalaLocalVariable*
bala_ccode_base_module_get_temp_variable (BalaCCodeBaseModule* self,
                                          BalaDataType* type,
                                          gboolean value_owned,
                                          BalaCodeNode* node_reference,
                                          gboolean init)
{
	BalaDataType* var_type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaLocalVariable* local = NULL;
	BalaDataType* _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	BalaLocalVariable* _tmp7_;
	BalaLocalVariable* _tmp8_;
	BalaLocalVariable* _tmp9_;
	gint _tmp13_;
	gint _tmp14_;
	BalaLocalVariable* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_copy (type);
	var_type = _tmp0_;
	_tmp1_ = var_type;
	bala_data_type_set_value_owned (_tmp1_, value_owned);
	_tmp2_ = var_type;
	_tmp3_ = bala_ccode_base_module_get_next_temp_var_id (self);
	_tmp4_ = _tmp3_;
	_tmp5_ = g_strdup_printf ("_tmp%d_", _tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_local_variable_new (_tmp2_, _tmp6_, NULL, NULL);
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp6_);
	local = _tmp8_;
	_tmp9_ = local;
	bala_local_variable_set_init (_tmp9_, init);
	if (node_reference != NULL) {
		BalaLocalVariable* _tmp10_;
		BalaSourceReference* _tmp11_;
		BalaSourceReference* _tmp12_;
		_tmp10_ = local;
		_tmp11_ = bala_code_node_get_source_reference (node_reference);
		_tmp12_ = _tmp11_;
		bala_code_node_set_source_reference ((BalaCodeNode*) _tmp10_, _tmp12_);
	}
	_tmp13_ = bala_ccode_base_module_get_next_temp_var_id (self);
	_tmp14_ = _tmp13_;
	bala_ccode_base_module_set_next_temp_var_id (self, _tmp14_ + 1);
	result = local;
	_bala_code_node_unref0 (var_type);
	return result;
}

static gboolean
bala_ccode_base_module_is_in_generic_type (BalaCCodeBaseModule* self,
                                           BalaGenericType* type)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (type != NULL, FALSE);
	_tmp2_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp3_ = _tmp2_;
	if (_tmp3_ != NULL) {
		BalaTypeParameter* _tmp4_;
		BalaTypeParameter* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		_tmp4_ = bala_generic_type_get_type_parameter (type);
		_tmp5_ = _tmp4_;
		_tmp6_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp5_);
		_tmp7_ = _tmp6_;
		_tmp1_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, BALA_TYPE_TYPESYMBOL);
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		gboolean _tmp8_ = FALSE;
		BalaMethod* _tmp9_;
		BalaMethod* _tmp10_;
		_tmp9_ = bala_ccode_base_module_get_current_method (self);
		_tmp10_ = _tmp9_;
		if (_tmp10_ == NULL) {
			_tmp8_ = TRUE;
		} else {
			BalaMethod* _tmp11_;
			BalaMethod* _tmp12_;
			BalaMemberBinding _tmp13_;
			BalaMemberBinding _tmp14_;
			_tmp11_ = bala_ccode_base_module_get_current_method (self);
			_tmp12_ = _tmp11_;
			_tmp13_ = bala_method_get_binding (_tmp12_);
			_tmp14_ = _tmp13_;
			_tmp8_ = _tmp14_ == BALA_MEMBER_BINDING_INSTANCE;
		}
		_tmp0_ = _tmp8_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		result = TRUE;
		return result;
	} else {
		result = FALSE;
		return result;
	}
}

static void
bala_ccode_base_module_require_generic_accessors (BalaCCodeBaseModule* self,
                                                  BalaInterface* iface)
{
	BalaAttribute* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (iface != NULL);
	_tmp0_ = bala_code_node_get_attribute ((BalaCodeNode*) iface, "GenericAccessors");
	if (_tmp0_ == NULL) {
		BalaSourceReference* _tmp1_;
		BalaSourceReference* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		_tmp1_ = bala_code_node_get_source_reference ((BalaCodeNode*) iface);
		_tmp2_ = _tmp1_;
		_tmp3_ = bala_symbol_get_full_name ((BalaSymbol*) iface);
		_tmp4_ = _tmp3_;
		_tmp5_ = g_strdup_printf ("missing generic type for interface `%s', add GenericAccessors attribut" \
"e to interface declaration", _tmp4_);
		_tmp6_ = _tmp5_;
		bala_report_error (_tmp2_, _tmp6_);
		_g_free0 (_tmp6_);
		_g_free0 (_tmp4_);
	}
}

BalaCCodeExpression*
bala_ccode_base_module_get_type_id_expression (BalaCCodeBaseModule* self,
                                               BalaDataType* type,
                                               gboolean is_chainup)
{
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
		BalaTypeParameter* type_parameter = NULL;
		BalaTypeParameter* _tmp0_;
		BalaTypeParameter* _tmp1_;
		BalaTypeParameter* _tmp2_;
		gchar* var_name = NULL;
		BalaTypeParameter* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		BalaTypeParameter* _tmp10_;
		BalaSymbol* _tmp11_;
		BalaSymbol* _tmp12_;
		gboolean _tmp44_ = FALSE;
		gboolean _tmp45_ = FALSE;
		_tmp0_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
		_tmp1_ = _tmp0_;
		_tmp2_ = _bala_code_node_ref0 (_tmp1_);
		type_parameter = _tmp2_;
		_tmp3_ = type_parameter;
		_tmp4_ = bala_symbol_get_name ((BalaSymbol*) _tmp3_);
		_tmp5_ = _tmp4_;
		_tmp6_ = g_ascii_strdown (_tmp5_, (gssize) -1);
		_tmp7_ = _tmp6_;
		_tmp8_ = g_strdup_printf ("%s_type", _tmp7_);
		_tmp9_ = _tmp8_;
		_g_free0 (_tmp7_);
		var_name = _tmp9_;
		_tmp10_ = type_parameter;
		_tmp11_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp10_);
		_tmp12_ = _tmp11_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp12_, BALA_TYPE_INTERFACE)) {
			BalaInterface* iface = NULL;
			BalaTypeParameter* _tmp13_;
			BalaSymbol* _tmp14_;
			BalaSymbol* _tmp15_;
			BalaInterface* _tmp16_;
			BalaInterface* _tmp17_;
			gchar* method_name = NULL;
			BalaTypeParameter* _tmp18_;
			const gchar* _tmp19_;
			const gchar* _tmp20_;
			gchar* _tmp21_;
			gchar* _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
			BalaCCodeFunctionCall* cast_self = NULL;
			BalaInterface* _tmp25_;
			gchar* _tmp26_;
			gchar* _tmp27_;
			BalaCCodeIdentifier* _tmp28_;
			BalaCCodeIdentifier* _tmp29_;
			BalaCCodeFunctionCall* _tmp30_;
			BalaCCodeFunctionCall* _tmp31_;
			BalaCCodeFunctionCall* _tmp32_;
			BalaCCodeExpression* _tmp33_;
			BalaCCodeExpression* _tmp34_;
			BalaCCodeFunctionCall* function_call = NULL;
			BalaCCodeFunctionCall* _tmp35_;
			const gchar* _tmp36_;
			BalaCCodeMemberAccess* _tmp37_;
			BalaCCodeMemberAccess* _tmp38_;
			BalaCCodeFunctionCall* _tmp39_;
			BalaCCodeFunctionCall* _tmp40_;
			BalaCCodeFunctionCall* _tmp41_;
			BalaCCodeExpression* _tmp42_;
			BalaCCodeExpression* _tmp43_;
			_tmp13_ = type_parameter;
			_tmp14_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp13_);
			_tmp15_ = _tmp14_;
			_tmp16_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, BALA_TYPE_INTERFACE, BalaInterface));
			iface = _tmp16_;
			_tmp17_ = iface;
			bala_ccode_base_module_require_generic_accessors (self, _tmp17_);
			_tmp18_ = type_parameter;
			_tmp19_ = bala_symbol_get_name ((BalaSymbol*) _tmp18_);
			_tmp20_ = _tmp19_;
			_tmp21_ = g_ascii_strdown (_tmp20_, (gssize) -1);
			_tmp22_ = _tmp21_;
			_tmp23_ = g_strdup_printf ("get_%s_type", _tmp22_);
			_tmp24_ = _tmp23_;
			_g_free0 (_tmp22_);
			method_name = _tmp24_;
			_tmp25_ = iface;
			_tmp26_ = bala_get_ccode_type_get_function ((BalaObjectTypeSymbol*) _tmp25_);
			_tmp27_ = _tmp26_;
			_tmp28_ = bala_ccode_identifier_new (_tmp27_);
			_tmp29_ = _tmp28_;
			_tmp30_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp29_);
			_tmp31_ = _tmp30_;
			_bala_ccode_node_unref0 (_tmp29_);
			_g_free0 (_tmp27_);
			cast_self = _tmp31_;
			_tmp32_ = cast_self;
			_tmp33_ = bala_ccode_base_module_get_this_cexpression (self);
			_tmp34_ = _tmp33_;
			bala_ccode_function_call_add_argument (_tmp32_, _tmp34_);
			_bala_ccode_node_unref0 (_tmp34_);
			_tmp35_ = cast_self;
			_tmp36_ = method_name;
			_tmp37_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp35_, _tmp36_);
			_tmp38_ = _tmp37_;
			_tmp39_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp38_);
			_tmp40_ = _tmp39_;
			_bala_ccode_node_unref0 (_tmp38_);
			function_call = _tmp40_;
			_tmp41_ = function_call;
			_tmp42_ = bala_ccode_base_module_get_this_cexpression (self);
			_tmp43_ = _tmp42_;
			bala_ccode_function_call_add_argument (_tmp41_, _tmp43_);
			_bala_ccode_node_unref0 (_tmp43_);
			result = (BalaCCodeExpression*) function_call;
			_bala_ccode_node_unref0 (cast_self);
			_g_free0 (method_name);
			_bala_code_node_unref0 (iface);
			_g_free0 (var_name);
			_bala_code_node_unref0 (type_parameter);
			return result;
		}
		if (bala_ccode_base_module_is_in_generic_type (self, G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType))) {
			_tmp45_ = !is_chainup;
		} else {
			_tmp45_ = FALSE;
		}
		if (_tmp45_) {
			gboolean _tmp46_;
			gboolean _tmp47_;
			_tmp46_ = bala_ccode_base_module_get_in_creation_method (self);
			_tmp47_ = _tmp46_;
			_tmp44_ = !_tmp47_;
		} else {
			_tmp44_ = FALSE;
		}
		if (_tmp44_) {
			BalaCCodeExpression* _tmp48_;
			BalaCCodeExpression* _tmp49_;
			BalaCCodeMemberAccess* _tmp50_;
			BalaCCodeMemberAccess* _tmp51_;
			const gchar* _tmp52_;
			BalaCCodeMemberAccess* _tmp53_;
			BalaCCodeExpression* _tmp54_;
			_tmp48_ = bala_ccode_base_module_get_this_cexpression (self);
			_tmp49_ = _tmp48_;
			_tmp50_ = bala_ccode_member_access_new_pointer (_tmp49_, "priv");
			_tmp51_ = _tmp50_;
			_tmp52_ = var_name;
			_tmp53_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp51_, _tmp52_);
			_tmp54_ = (BalaCCodeExpression*) _tmp53_;
			_bala_ccode_node_unref0 (_tmp51_);
			_bala_ccode_node_unref0 (_tmp49_);
			result = _tmp54_;
			_g_free0 (var_name);
			_bala_code_node_unref0 (type_parameter);
			return result;
		} else {
			const gchar* _tmp55_;
			BalaCCodeExpression* _tmp56_;
			_tmp55_ = var_name;
			_tmp56_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp55_);
			result = _tmp56_;
			_g_free0 (var_name);
			_bala_code_node_unref0 (type_parameter);
			return result;
		}
		_g_free0 (var_name);
		_bala_code_node_unref0 (type_parameter);
	} else {
		gchar* type_id = NULL;
		gchar* _tmp57_;
		const gchar* _tmp58_;
		const gchar* _tmp61_;
		BalaCCodeIdentifier* _tmp62_;
		_tmp57_ = bala_get_ccode_type_id ((BalaCodeNode*) type);
		type_id = _tmp57_;
		_tmp58_ = type_id;
		if (g_strcmp0 (_tmp58_, "") == 0) {
			gchar* _tmp59_;
			_tmp59_ = g_strdup ("G_TYPE_INVALID");
			_g_free0 (type_id);
			type_id = _tmp59_;
		} else {
			BalaCCodeFile* _tmp60_;
			_tmp60_ = self->cfile;
			bala_ccode_base_module_generate_type_declaration (self, type, _tmp60_);
		}
		_tmp61_ = type_id;
		_tmp62_ = bala_ccode_identifier_new (_tmp61_);
		result = (BalaCCodeExpression*) _tmp62_;
		_g_free0 (type_id);
		return result;
	}
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_dup_func_expression (BalaCCodeBaseModule* self,
                                                     BalaDataType* type,
                                                     BalaSourceReference* source_reference,
                                                     gboolean is_chainup)
{
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (type != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ERROR_TYPE)) {
		BalaCCodeIdentifier* _tmp0_;
		_tmp0_ = bala_ccode_identifier_new ("g_error_copy");
		result = (BalaCCodeExpression*) _tmp0_;
		return result;
	} else {
		BalaTypeSymbol* _tmp1_;
		BalaTypeSymbol* _tmp2_;
		_tmp1_ = bala_data_type_get_type_symbol (type);
		_tmp2_ = _tmp1_;
		if (_tmp2_ != NULL) {
			gchar* dup_function = NULL;
			BalaClass* cl = NULL;
			BalaTypeSymbol* _tmp3_;
			BalaTypeSymbol* _tmp4_;
			BalaTypeSymbol* _tmp5_;
			BalaTypeSymbol* _tmp6_;
			const gchar* _tmp53_;
			BalaCCodeIdentifier* _tmp54_;
			_tmp3_ = bala_data_type_get_type_symbol (type);
			_tmp4_ = _tmp3_;
			cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp4_) : NULL;
			_tmp5_ = bala_data_type_get_type_symbol (type);
			_tmp6_ = _tmp5_;
			if (bala_is_reference_counting (_tmp6_)) {
				BalaTypeSymbol* _tmp7_;
				BalaTypeSymbol* _tmp8_;
				gchar* _tmp9_;
				gboolean _tmp10_ = FALSE;
				BalaTypeSymbol* _tmp11_;
				BalaTypeSymbol* _tmp12_;
				_tmp7_ = bala_data_type_get_type_symbol (type);
				_tmp8_ = _tmp7_;
				_tmp9_ = bala_get_ccode_ref_function ((BalaTypeSymbol*) G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, BALA_TYPE_OBJECT_TYPE_SYMBOL, BalaObjectTypeSymbol));
				_g_free0 (dup_function);
				dup_function = _tmp9_;
				_tmp11_ = bala_data_type_get_type_symbol (type);
				_tmp12_ = _tmp11_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp12_, BALA_TYPE_INTERFACE)) {
					const gchar* _tmp13_;
					_tmp13_ = dup_function;
					_tmp10_ = _tmp13_ == NULL;
				} else {
					_tmp10_ = FALSE;
				}
				if (_tmp10_) {
					BalaTypeSymbol* _tmp14_;
					BalaTypeSymbol* _tmp15_;
					gchar* _tmp16_;
					gchar* _tmp17_;
					gchar* _tmp18_;
					gchar* _tmp19_;
					BalaCCodeInvalidExpression* _tmp20_;
					_tmp14_ = bala_data_type_get_type_symbol (type);
					_tmp15_ = _tmp14_;
					_tmp16_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp15_);
					_tmp17_ = _tmp16_;
					_tmp18_ = g_strdup_printf ("missing class prerequisite for interface `%s', add GLib.Object to inte" \
"rface declaration if unsure", _tmp17_);
					_tmp19_ = _tmp18_;
					bala_report_error (source_reference, _tmp19_);
					_g_free0 (_tmp19_);
					_g_free0 (_tmp17_);
					_tmp20_ = bala_ccode_invalid_expression_new ();
					result = (BalaCCodeExpression*) _tmp20_;
					_g_free0 (dup_function);
					return result;
				}
			} else {
				gboolean _tmp21_ = FALSE;
				BalaClass* _tmp22_;
				_tmp22_ = cl;
				if (_tmp22_ != NULL) {
					BalaClass* _tmp23_;
					gboolean _tmp24_;
					gboolean _tmp25_;
					_tmp23_ = cl;
					_tmp24_ = bala_class_get_is_immutable (_tmp23_);
					_tmp25_ = _tmp24_;
					_tmp21_ = _tmp25_;
				} else {
					_tmp21_ = FALSE;
				}
				if (_tmp21_) {
					BalaTypeSymbol* _tmp26_;
					BalaTypeSymbol* _tmp27_;
					gchar* _tmp28_;
					const gchar* _tmp29_;
					_tmp26_ = bala_data_type_get_type_symbol (type);
					_tmp27_ = _tmp26_;
					_tmp28_ = bala_get_ccode_dup_function (_tmp27_);
					_g_free0 (dup_function);
					dup_function = _tmp28_;
					_tmp29_ = dup_function;
					if (_tmp29_ == NULL) {
						gchar* _tmp30_;
						_tmp30_ = g_strdup ("");
						_g_free0 (dup_function);
						dup_function = _tmp30_;
					}
				} else {
					BalaTypeSymbol* _tmp31_;
					BalaTypeSymbol* _tmp32_;
					_tmp31_ = bala_data_type_get_type_symbol (type);
					_tmp32_ = _tmp31_;
					if (bala_get_ccode_is_gboxed (_tmp32_)) {
						gchar* _tmp33_;
						const gchar* _tmp34_;
						_tmp33_ = bala_ccode_base_module_generate_dup_func_wrapper (self, type);
						_g_free0 (dup_function);
						dup_function = _tmp33_;
						_tmp34_ = dup_function;
						if (_tmp34_ == NULL) {
							gchar* _tmp35_;
							_tmp35_ = g_strdup ("");
							_g_free0 (dup_function);
							dup_function = _tmp35_;
						}
					} else {
						if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_VALUE_TYPE)) {
							BalaTypeSymbol* _tmp36_;
							BalaTypeSymbol* _tmp37_;
							gchar* _tmp38_;
							gboolean _tmp39_ = FALSE;
							const gchar* _tmp40_;
							_tmp36_ = bala_data_type_get_type_symbol (type);
							_tmp37_ = _tmp36_;
							_tmp38_ = bala_get_ccode_dup_function (_tmp37_);
							_g_free0 (dup_function);
							dup_function = _tmp38_;
							_tmp40_ = dup_function;
							if (_tmp40_ == NULL) {
								gboolean _tmp41_;
								gboolean _tmp42_;
								_tmp41_ = bala_data_type_get_nullable (type);
								_tmp42_ = _tmp41_;
								_tmp39_ = _tmp42_;
							} else {
								_tmp39_ = FALSE;
							}
							if (_tmp39_) {
								gchar* _tmp43_;
								_tmp43_ = bala_ccode_base_module_generate_struct_dup_wrapper (self, G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_VALUE_TYPE, BalaValueType));
								_g_free0 (dup_function);
								dup_function = _tmp43_;
							} else {
								const gchar* _tmp44_;
								_tmp44_ = dup_function;
								if (_tmp44_ == NULL) {
									gchar* _tmp45_;
									_tmp45_ = g_strdup ("");
									_g_free0 (dup_function);
									dup_function = _tmp45_;
								}
							}
						} else {
							BalaTypeSymbol* _tmp46_;
							BalaTypeSymbol* _tmp47_;
							const gchar* _tmp48_;
							const gchar* _tmp49_;
							gchar* _tmp50_;
							gchar* _tmp51_;
							BalaCCodeInvalidExpression* _tmp52_;
							_tmp46_ = bala_data_type_get_type_symbol (type);
							_tmp47_ = _tmp46_;
							_tmp48_ = bala_symbol_get_name ((BalaSymbol*) _tmp47_);
							_tmp49_ = _tmp48_;
							_tmp50_ = g_strdup_printf ("duplicating %s instance, use unowned variable or explicitly invoke cop" \
"y method", _tmp49_);
							_tmp51_ = _tmp50_;
							bala_report_error (source_reference, _tmp51_);
							_g_free0 (_tmp51_);
							_tmp52_ = bala_ccode_invalid_expression_new ();
							result = (BalaCCodeExpression*) _tmp52_;
							_g_free0 (dup_function);
							return result;
						}
					}
				}
			}
			_tmp53_ = dup_function;
			_tmp54_ = bala_ccode_identifier_new (_tmp53_);
			result = (BalaCCodeExpression*) _tmp54_;
			_g_free0 (dup_function);
			return result;
		} else {
			if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
				BalaTypeParameter* type_parameter = NULL;
				BalaTypeParameter* _tmp55_;
				BalaTypeParameter* _tmp56_;
				BalaTypeParameter* _tmp57_;
				gchar* func_name = NULL;
				BalaTypeParameter* _tmp58_;
				const gchar* _tmp59_;
				const gchar* _tmp60_;
				gchar* _tmp61_;
				gchar* _tmp62_;
				gchar* _tmp63_;
				gchar* _tmp64_;
				BalaTypeParameter* _tmp65_;
				BalaSymbol* _tmp66_;
				BalaSymbol* _tmp67_;
				gboolean _tmp99_ = FALSE;
				gboolean _tmp100_ = FALSE;
				_tmp55_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
				_tmp56_ = _tmp55_;
				_tmp57_ = _bala_code_node_ref0 (_tmp56_);
				type_parameter = _tmp57_;
				_tmp58_ = type_parameter;
				_tmp59_ = bala_symbol_get_name ((BalaSymbol*) _tmp58_);
				_tmp60_ = _tmp59_;
				_tmp61_ = g_ascii_strdown (_tmp60_, (gssize) -1);
				_tmp62_ = _tmp61_;
				_tmp63_ = g_strdup_printf ("%s_dup_func", _tmp62_);
				_tmp64_ = _tmp63_;
				_g_free0 (_tmp62_);
				func_name = _tmp64_;
				_tmp65_ = type_parameter;
				_tmp66_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp65_);
				_tmp67_ = _tmp66_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp67_, BALA_TYPE_INTERFACE)) {
					BalaInterface* iface = NULL;
					BalaTypeParameter* _tmp68_;
					BalaSymbol* _tmp69_;
					BalaSymbol* _tmp70_;
					BalaInterface* _tmp71_;
					BalaInterface* _tmp72_;
					gchar* method_name = NULL;
					BalaTypeParameter* _tmp73_;
					const gchar* _tmp74_;
					const gchar* _tmp75_;
					gchar* _tmp76_;
					gchar* _tmp77_;
					gchar* _tmp78_;
					gchar* _tmp79_;
					BalaCCodeFunctionCall* cast_self = NULL;
					BalaInterface* _tmp80_;
					gchar* _tmp81_;
					gchar* _tmp82_;
					BalaCCodeIdentifier* _tmp83_;
					BalaCCodeIdentifier* _tmp84_;
					BalaCCodeFunctionCall* _tmp85_;
					BalaCCodeFunctionCall* _tmp86_;
					BalaCCodeFunctionCall* _tmp87_;
					BalaCCodeIdentifier* _tmp88_;
					BalaCCodeIdentifier* _tmp89_;
					BalaCCodeFunctionCall* function_call = NULL;
					BalaCCodeFunctionCall* _tmp90_;
					const gchar* _tmp91_;
					BalaCCodeMemberAccess* _tmp92_;
					BalaCCodeMemberAccess* _tmp93_;
					BalaCCodeFunctionCall* _tmp94_;
					BalaCCodeFunctionCall* _tmp95_;
					BalaCCodeFunctionCall* _tmp96_;
					BalaCCodeIdentifier* _tmp97_;
					BalaCCodeIdentifier* _tmp98_;
					_tmp68_ = type_parameter;
					_tmp69_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp68_);
					_tmp70_ = _tmp69_;
					_tmp71_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp70_, BALA_TYPE_INTERFACE, BalaInterface));
					iface = _tmp71_;
					_tmp72_ = iface;
					bala_ccode_base_module_require_generic_accessors (self, _tmp72_);
					_tmp73_ = type_parameter;
					_tmp74_ = bala_symbol_get_name ((BalaSymbol*) _tmp73_);
					_tmp75_ = _tmp74_;
					_tmp76_ = g_ascii_strdown (_tmp75_, (gssize) -1);
					_tmp77_ = _tmp76_;
					_tmp78_ = g_strdup_printf ("get_%s_dup_func", _tmp77_);
					_tmp79_ = _tmp78_;
					_g_free0 (_tmp77_);
					method_name = _tmp79_;
					_tmp80_ = iface;
					_tmp81_ = bala_get_ccode_type_get_function ((BalaObjectTypeSymbol*) _tmp80_);
					_tmp82_ = _tmp81_;
					_tmp83_ = bala_ccode_identifier_new (_tmp82_);
					_tmp84_ = _tmp83_;
					_tmp85_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp84_);
					_tmp86_ = _tmp85_;
					_bala_ccode_node_unref0 (_tmp84_);
					_g_free0 (_tmp82_);
					cast_self = _tmp86_;
					_tmp87_ = cast_self;
					_tmp88_ = bala_ccode_identifier_new ("self");
					_tmp89_ = _tmp88_;
					bala_ccode_function_call_add_argument (_tmp87_, (BalaCCodeExpression*) _tmp89_);
					_bala_ccode_node_unref0 (_tmp89_);
					_tmp90_ = cast_self;
					_tmp91_ = method_name;
					_tmp92_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp90_, _tmp91_);
					_tmp93_ = _tmp92_;
					_tmp94_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp93_);
					_tmp95_ = _tmp94_;
					_bala_ccode_node_unref0 (_tmp93_);
					function_call = _tmp95_;
					_tmp96_ = function_call;
					_tmp97_ = bala_ccode_identifier_new ("self");
					_tmp98_ = _tmp97_;
					bala_ccode_function_call_add_argument (_tmp96_, (BalaCCodeExpression*) _tmp98_);
					_bala_ccode_node_unref0 (_tmp98_);
					result = (BalaCCodeExpression*) function_call;
					_bala_ccode_node_unref0 (cast_self);
					_g_free0 (method_name);
					_bala_code_node_unref0 (iface);
					_g_free0 (func_name);
					_bala_code_node_unref0 (type_parameter);
					return result;
				}
				if (bala_ccode_base_module_is_in_generic_type (self, G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType))) {
					_tmp100_ = !is_chainup;
				} else {
					_tmp100_ = FALSE;
				}
				if (_tmp100_) {
					gboolean _tmp101_;
					gboolean _tmp102_;
					_tmp101_ = bala_ccode_base_module_get_in_creation_method (self);
					_tmp102_ = _tmp101_;
					_tmp99_ = !_tmp102_;
				} else {
					_tmp99_ = FALSE;
				}
				if (_tmp99_) {
					BalaCCodeExpression* _tmp103_;
					BalaCCodeExpression* _tmp104_;
					BalaCCodeMemberAccess* _tmp105_;
					BalaCCodeMemberAccess* _tmp106_;
					const gchar* _tmp107_;
					BalaCCodeMemberAccess* _tmp108_;
					BalaCCodeExpression* _tmp109_;
					_tmp103_ = bala_ccode_base_module_get_this_cexpression (self);
					_tmp104_ = _tmp103_;
					_tmp105_ = bala_ccode_member_access_new_pointer (_tmp104_, "priv");
					_tmp106_ = _tmp105_;
					_tmp107_ = func_name;
					_tmp108_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp106_, _tmp107_);
					_tmp109_ = (BalaCCodeExpression*) _tmp108_;
					_bala_ccode_node_unref0 (_tmp106_);
					_bala_ccode_node_unref0 (_tmp104_);
					result = _tmp109_;
					_g_free0 (func_name);
					_bala_code_node_unref0 (type_parameter);
					return result;
				} else {
					const gchar* _tmp110_;
					BalaCCodeExpression* _tmp111_;
					_tmp110_ = func_name;
					_tmp111_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp110_);
					result = _tmp111_;
					_g_free0 (func_name);
					_bala_code_node_unref0 (type_parameter);
					return result;
				}
				_g_free0 (func_name);
				_bala_code_node_unref0 (type_parameter);
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_POINTER_TYPE)) {
					BalaPointerType* pointer_type = NULL;
					BalaPointerType* _tmp112_;
					BalaPointerType* _tmp113_;
					BalaDataType* _tmp114_;
					BalaDataType* _tmp115_;
					BalaCCodeExpression* _tmp116_;
					_tmp112_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_POINTER_TYPE, BalaPointerType));
					pointer_type = _tmp112_;
					_tmp113_ = pointer_type;
					_tmp114_ = bala_pointer_type_get_base_type (_tmp113_);
					_tmp115_ = _tmp114_;
					_tmp116_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp115_, source_reference, FALSE);
					result = _tmp116_;
					_bala_code_node_unref0 (pointer_type);
					return result;
				} else {
					BalaCCodeConstant* _tmp117_;
					_tmp117_ = bala_ccode_constant_new ("NULL");
					result = (BalaCCodeExpression*) _tmp117_;
					return result;
				}
			}
		}
	}
}

BalaCCodeExpression*
bala_ccode_base_module_get_dup_func_expression (BalaCCodeBaseModule* self,
                                                BalaDataType* type,
                                                BalaSourceReference* source_reference,
                                                gboolean is_chainup)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dup_func_expression (self, type, source_reference, is_chainup);
}

static void
bala_ccode_base_module_make_comparable_cexpression (BalaCCodeBaseModule* self,
                                                    BalaDataType* * left_type,
                                                    BalaCCodeExpression* * cleft,
                                                    BalaDataType* * right_type,
                                                    BalaCCodeExpression* * cright)
{
	BalaStruct* left_type_as_struct = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	BalaStruct* right_type_as_struct = NULL;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	BalaObjectTypeSymbol* left_type_as_object_type = NULL;
	BalaTypeSymbol* _tmp4_;
	BalaTypeSymbol* _tmp5_;
	BalaObjectTypeSymbol* right_type_as_object_type = NULL;
	BalaTypeSymbol* _tmp6_;
	BalaTypeSymbol* _tmp7_;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	gboolean _tmp10_ = FALSE;
	BalaObjectTypeSymbol* _tmp11_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (*left_type != NULL);
	g_return_if_fail (*cleft != NULL);
	g_return_if_fail (*right_type != NULL);
	g_return_if_fail (*cright != NULL);
	_tmp0_ = bala_data_type_get_type_symbol (*left_type);
	_tmp1_ = _tmp0_;
	left_type_as_struct = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp1_) : NULL;
	_tmp2_ = bala_data_type_get_type_symbol (*right_type);
	_tmp3_ = _tmp2_;
	right_type_as_struct = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp3_) : NULL;
	_tmp4_ = bala_data_type_get_type_symbol (*left_type);
	_tmp5_ = _tmp4_;
	left_type_as_object_type = G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, BALA_TYPE_OBJECT_TYPE_SYMBOL) ? ((BalaObjectTypeSymbol*) _tmp5_) : NULL;
	_tmp6_ = bala_data_type_get_type_symbol (*right_type);
	_tmp7_ = _tmp6_;
	right_type_as_object_type = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, BALA_TYPE_OBJECT_TYPE_SYMBOL) ? ((BalaObjectTypeSymbol*) _tmp7_) : NULL;
	_tmp11_ = left_type_as_object_type;
	if (_tmp11_ != NULL) {
		gboolean _tmp12_ = FALSE;
		BalaObjectTypeSymbol* _tmp13_;
		_tmp13_ = left_type_as_object_type;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, BALA_TYPE_CLASS)) {
			_tmp12_ = TRUE;
		} else {
			BalaObjectTypeSymbol* _tmp14_;
			gboolean _tmp15_;
			gboolean _tmp16_;
			_tmp14_ = left_type_as_object_type;
			_tmp15_ = bala_class_get_is_compact (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, BALA_TYPE_CLASS, BalaClass));
			_tmp16_ = _tmp15_;
			_tmp12_ = !_tmp16_;
		}
		_tmp10_ = _tmp12_;
	} else {
		_tmp10_ = FALSE;
	}
	if (_tmp10_) {
		BalaObjectTypeSymbol* _tmp17_;
		_tmp17_ = right_type_as_object_type;
		_tmp9_ = _tmp17_ != NULL;
	} else {
		_tmp9_ = FALSE;
	}
	if (_tmp9_) {
		gboolean _tmp18_ = FALSE;
		BalaObjectTypeSymbol* _tmp19_;
		_tmp19_ = right_type_as_object_type;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, BALA_TYPE_CLASS)) {
			_tmp18_ = TRUE;
		} else {
			BalaObjectTypeSymbol* _tmp20_;
			gboolean _tmp21_;
			gboolean _tmp22_;
			_tmp20_ = right_type_as_object_type;
			_tmp21_ = bala_class_get_is_compact (G_TYPE_CHECK_INSTANCE_CAST (_tmp20_, BALA_TYPE_CLASS, BalaClass));
			_tmp22_ = _tmp21_;
			_tmp18_ = !_tmp22_;
		}
		_tmp8_ = _tmp18_;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		BalaObjectTypeSymbol* _tmp23_;
		BalaObjectTypeSymbol* _tmp24_;
		_tmp23_ = left_type_as_object_type;
		_tmp24_ = right_type_as_object_type;
		if (_tmp23_ != _tmp24_) {
			BalaObjectTypeSymbol* _tmp25_;
			BalaObjectTypeSymbol* _tmp26_;
			_tmp25_ = left_type_as_object_type;
			_tmp26_ = right_type_as_object_type;
			if (bala_typesymbol_is_subtype_of ((BalaTypeSymbol*) _tmp25_, (BalaTypeSymbol*) _tmp26_)) {
				BalaObjectTypeSymbol* _tmp27_;
				BalaCCodeFunctionCall* _tmp28_;
				_tmp27_ = right_type_as_object_type;
				_tmp28_ = bala_ccode_base_module_generate_instance_cast (self, *cleft, (BalaTypeSymbol*) _tmp27_);
				_bala_ccode_node_unref0 (*cleft);
				*cleft = (BalaCCodeExpression*) _tmp28_;
			} else {
				BalaObjectTypeSymbol* _tmp29_;
				BalaObjectTypeSymbol* _tmp30_;
				_tmp29_ = right_type_as_object_type;
				_tmp30_ = left_type_as_object_type;
				if (bala_typesymbol_is_subtype_of ((BalaTypeSymbol*) _tmp29_, (BalaTypeSymbol*) _tmp30_)) {
					BalaObjectTypeSymbol* _tmp31_;
					BalaCCodeFunctionCall* _tmp32_;
					_tmp31_ = left_type_as_object_type;
					_tmp32_ = bala_ccode_base_module_generate_instance_cast (self, *cright, (BalaTypeSymbol*) _tmp31_);
					_bala_ccode_node_unref0 (*cright);
					*cright = (BalaCCodeExpression*) _tmp32_;
				}
			}
		}
	} else {
		gboolean _tmp33_ = FALSE;
		BalaStruct* _tmp34_;
		_tmp34_ = left_type_as_struct;
		if (_tmp34_ != NULL) {
			BalaStruct* _tmp35_;
			_tmp35_ = right_type_as_struct;
			_tmp33_ = _tmp35_ != NULL;
		} else {
			_tmp33_ = FALSE;
		}
		if (_tmp33_) {
			if (G_TYPE_CHECK_INSTANCE_TYPE (*left_type, BALA_TYPE_STRUCT_VALUE_TYPE)) {
				gboolean _tmp36_;
				gboolean _tmp37_;
				gboolean _tmp39_;
				gboolean _tmp40_;
				_tmp36_ = bala_data_type_get_nullable (*left_type);
				_tmp37_ = _tmp36_;
				if (!_tmp37_) {
					BalaCCodeUnaryExpression* _tmp38_;
					_tmp38_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, *cleft);
					_bala_ccode_node_unref0 (*cleft);
					*cleft = (BalaCCodeExpression*) _tmp38_;
				}
				_tmp39_ = bala_data_type_get_nullable (*right_type);
				_tmp40_ = _tmp39_;
				if (!_tmp40_) {
					BalaCCodeUnaryExpression* _tmp41_;
					_tmp41_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, *cright);
					_bala_ccode_node_unref0 (*cright);
					*cright = (BalaCCodeExpression*) _tmp41_;
				}
			} else {
				gboolean _tmp42_ = FALSE;
				gboolean _tmp43_;
				gboolean _tmp44_;
				_tmp43_ = bala_data_type_get_nullable (*left_type);
				_tmp44_ = _tmp43_;
				if (_tmp44_) {
					gboolean _tmp45_;
					gboolean _tmp46_;
					_tmp45_ = bala_data_type_get_nullable (*right_type);
					_tmp46_ = _tmp45_;
					_tmp42_ = _tmp46_;
				} else {
					_tmp42_ = FALSE;
				}
				if (_tmp42_) {
				} else {
					gboolean _tmp47_;
					gboolean _tmp48_;
					_tmp47_ = bala_data_type_get_nullable (*left_type);
					_tmp48_ = _tmp47_;
					if (_tmp48_) {
						BalaCCodeUnaryExpression* _tmp49_;
						_tmp49_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, *cleft);
						_bala_ccode_node_unref0 (*cleft);
						*cleft = (BalaCCodeExpression*) _tmp49_;
					} else {
						gboolean _tmp50_;
						gboolean _tmp51_;
						_tmp50_ = bala_data_type_get_nullable (*right_type);
						_tmp51_ = _tmp50_;
						if (_tmp51_) {
							BalaCCodeUnaryExpression* _tmp52_;
							_tmp52_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, *cright);
							_bala_ccode_node_unref0 (*cright);
							*cright = (BalaCCodeExpression*) _tmp52_;
						}
					}
				}
			}
		}
	}
}

static gchar*
bala_ccode_base_module_generate_struct_equal_function (BalaCCodeBaseModule* self,
                                                       BalaStruct* st)
{
	BalaStruct* _tmp0_;
	BalaStruct* _tmp1_;
	gchar* equal_func = NULL;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	const gchar* _tmp9_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp10_;
	BalaDataType* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	BalaCCodeFunction* _tmp14_;
	BalaCCodeFunction* _tmp15_;
	BalaCCodeFunction* _tmp16_;
	BalaCCodeFunction* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	BalaCCodeParameter* _tmp22_;
	BalaCCodeParameter* _tmp23_;
	BalaCCodeFunction* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	BalaCCodeParameter* _tmp29_;
	BalaCCodeParameter* _tmp30_;
	BalaCCodeFunction* _tmp31_;
	gboolean has_instance_fields = FALSE;
	BalaCCodeFile* _tmp187_;
	BalaCCodeFunction* _tmp188_;
	BalaCCodeFile* _tmp189_;
	BalaCCodeFunction* _tmp190_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (st != NULL, NULL);
	_tmp0_ = bala_struct_get_base_struct (st);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaStruct* _tmp2_;
		BalaStruct* _tmp3_;
		gchar* _tmp4_;
		_tmp2_ = bala_struct_get_base_struct (st);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_ccode_base_module_generate_struct_equal_function (self, _tmp3_);
		result = _tmp4_;
		return result;
	}
	_tmp5_ = bala_get_ccode_lower_case_prefix ((BalaSymbol*) st);
	_tmp6_ = _tmp5_;
	_tmp7_ = g_strdup_printf ("_%sequal", _tmp6_);
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp6_);
	equal_func = _tmp8_;
	_tmp9_ = equal_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp9_)) {
		result = equal_func;
		return result;
	}
	_tmp10_ = equal_func;
	_tmp11_ = self->bool_type;
	_tmp12_ = bala_get_ccode_name ((BalaCodeNode*) _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_ccode_function_new (_tmp10_, _tmp13_);
	_tmp15_ = _tmp14_;
	_g_free0 (_tmp13_);
	function = _tmp15_;
	_tmp16_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp16_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp17_ = function;
	_tmp18_ = bala_get_ccode_name ((BalaCodeNode*) st);
	_tmp19_ = _tmp18_;
	_tmp20_ = g_strdup_printf ("const %s *", _tmp19_);
	_tmp21_ = _tmp20_;
	_tmp22_ = bala_ccode_parameter_new ("s1", _tmp21_);
	_tmp23_ = _tmp22_;
	bala_ccode_function_add_parameter (_tmp17_, _tmp23_);
	_bala_ccode_node_unref0 (_tmp23_);
	_g_free0 (_tmp21_);
	_g_free0 (_tmp19_);
	_tmp24_ = function;
	_tmp25_ = bala_get_ccode_name ((BalaCodeNode*) st);
	_tmp26_ = _tmp25_;
	_tmp27_ = g_strdup_printf ("const %s *", _tmp26_);
	_tmp28_ = _tmp27_;
	_tmp29_ = bala_ccode_parameter_new ("s2", _tmp28_);
	_tmp30_ = _tmp29_;
	bala_ccode_function_add_parameter (_tmp24_, _tmp30_);
	_bala_ccode_node_unref0 (_tmp30_);
	_g_free0 (_tmp28_);
	_g_free0 (_tmp26_);
	_tmp31_ = function;
	bala_ccode_base_module_push_function (self, _tmp31_);
	{
		BalaCCodeBinaryExpression* cexp = NULL;
		BalaCCodeIdentifier* _tmp32_;
		BalaCCodeIdentifier* _tmp33_;
		BalaCCodeIdentifier* _tmp34_;
		BalaCCodeIdentifier* _tmp35_;
		BalaCCodeBinaryExpression* _tmp36_;
		BalaCCodeBinaryExpression* _tmp37_;
		BalaCCodeFunction* _tmp38_;
		BalaCCodeFunction* _tmp39_;
		BalaCCodeBinaryExpression* _tmp40_;
		BalaCCodeFunction* _tmp41_;
		BalaCCodeFunction* _tmp42_;
		BalaCCodeExpression* _tmp43_;
		BalaCCodeExpression* _tmp44_;
		BalaCCodeFunction* _tmp45_;
		BalaCCodeFunction* _tmp46_;
		_tmp32_ = bala_ccode_identifier_new ("s1");
		_tmp33_ = _tmp32_;
		_tmp34_ = bala_ccode_identifier_new ("s2");
		_tmp35_ = _tmp34_;
		_tmp36_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp33_, (BalaCCodeExpression*) _tmp35_);
		_tmp37_ = _tmp36_;
		_bala_ccode_node_unref0 (_tmp35_);
		_bala_ccode_node_unref0 (_tmp33_);
		cexp = _tmp37_;
		_tmp38_ = bala_ccode_base_module_get_ccode (self);
		_tmp39_ = _tmp38_;
		_tmp40_ = cexp;
		bala_ccode_function_open_if (_tmp39_, (BalaCCodeExpression*) _tmp40_);
		_tmp41_ = bala_ccode_base_module_get_ccode (self);
		_tmp42_ = _tmp41_;
		_tmp43_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
		_tmp44_ = _tmp43_;
		bala_ccode_function_add_return (_tmp42_, _tmp44_);
		_bala_ccode_node_unref0 (_tmp44_);
		_tmp45_ = bala_ccode_base_module_get_ccode (self);
		_tmp46_ = _tmp45_;
		bala_ccode_function_close (_tmp46_);
		_bala_ccode_node_unref0 (cexp);
	}
	{
		BalaCCodeBinaryExpression* cexp = NULL;
		BalaCCodeIdentifier* _tmp47_;
		BalaCCodeIdentifier* _tmp48_;
		BalaCCodeConstant* _tmp49_;
		BalaCCodeConstant* _tmp50_;
		BalaCCodeBinaryExpression* _tmp51_;
		BalaCCodeBinaryExpression* _tmp52_;
		BalaCCodeFunction* _tmp53_;
		BalaCCodeFunction* _tmp54_;
		BalaCCodeBinaryExpression* _tmp55_;
		BalaCCodeFunction* _tmp56_;
		BalaCCodeFunction* _tmp57_;
		BalaCCodeExpression* _tmp58_;
		BalaCCodeExpression* _tmp59_;
		BalaCCodeFunction* _tmp60_;
		BalaCCodeFunction* _tmp61_;
		BalaCCodeIdentifier* _tmp62_;
		BalaCCodeIdentifier* _tmp63_;
		BalaCCodeConstant* _tmp64_;
		BalaCCodeConstant* _tmp65_;
		BalaCCodeBinaryExpression* _tmp66_;
		BalaCCodeFunction* _tmp67_;
		BalaCCodeFunction* _tmp68_;
		BalaCCodeBinaryExpression* _tmp69_;
		BalaCCodeFunction* _tmp70_;
		BalaCCodeFunction* _tmp71_;
		BalaCCodeExpression* _tmp72_;
		BalaCCodeExpression* _tmp73_;
		BalaCCodeFunction* _tmp74_;
		BalaCCodeFunction* _tmp75_;
		_tmp47_ = bala_ccode_identifier_new ("s1");
		_tmp48_ = _tmp47_;
		_tmp49_ = bala_ccode_constant_new ("NULL");
		_tmp50_ = _tmp49_;
		_tmp51_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp48_, (BalaCCodeExpression*) _tmp50_);
		_tmp52_ = _tmp51_;
		_bala_ccode_node_unref0 (_tmp50_);
		_bala_ccode_node_unref0 (_tmp48_);
		cexp = _tmp52_;
		_tmp53_ = bala_ccode_base_module_get_ccode (self);
		_tmp54_ = _tmp53_;
		_tmp55_ = cexp;
		bala_ccode_function_open_if (_tmp54_, (BalaCCodeExpression*) _tmp55_);
		_tmp56_ = bala_ccode_base_module_get_ccode (self);
		_tmp57_ = _tmp56_;
		_tmp58_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
		_tmp59_ = _tmp58_;
		bala_ccode_function_add_return (_tmp57_, _tmp59_);
		_bala_ccode_node_unref0 (_tmp59_);
		_tmp60_ = bala_ccode_base_module_get_ccode (self);
		_tmp61_ = _tmp60_;
		bala_ccode_function_close (_tmp61_);
		_tmp62_ = bala_ccode_identifier_new ("s2");
		_tmp63_ = _tmp62_;
		_tmp64_ = bala_ccode_constant_new ("NULL");
		_tmp65_ = _tmp64_;
		_tmp66_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp63_, (BalaCCodeExpression*) _tmp65_);
		_bala_ccode_node_unref0 (cexp);
		cexp = _tmp66_;
		_bala_ccode_node_unref0 (_tmp65_);
		_bala_ccode_node_unref0 (_tmp63_);
		_tmp67_ = bala_ccode_base_module_get_ccode (self);
		_tmp68_ = _tmp67_;
		_tmp69_ = cexp;
		bala_ccode_function_open_if (_tmp68_, (BalaCCodeExpression*) _tmp69_);
		_tmp70_ = bala_ccode_base_module_get_ccode (self);
		_tmp71_ = _tmp70_;
		_tmp72_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
		_tmp73_ = _tmp72_;
		bala_ccode_function_add_return (_tmp71_, _tmp73_);
		_bala_ccode_node_unref0 (_tmp73_);
		_tmp74_ = bala_ccode_base_module_get_ccode (self);
		_tmp75_ = _tmp74_;
		bala_ccode_function_close (_tmp75_);
		_bala_ccode_node_unref0 (cexp);
	}
	has_instance_fields = FALSE;
	{
		BalaList* _f_list = NULL;
		BalaList* _tmp76_;
		BalaList* _tmp77_;
		gint _f_size = 0;
		BalaList* _tmp78_;
		gint _tmp79_;
		gint _tmp80_;
		gint _f_index = 0;
		_tmp76_ = bala_struct_get_fields (st);
		_tmp77_ = _bala_iterable_ref0 (_tmp76_);
		_f_list = _tmp77_;
		_tmp78_ = _f_list;
		_tmp79_ = bala_collection_get_size ((BalaCollection*) _tmp78_);
		_tmp80_ = _tmp79_;
		_f_size = _tmp80_;
		_f_index = -1;
		while (TRUE) {
			gint _tmp81_;
			gint _tmp82_;
			BalaField* f = NULL;
			BalaList* _tmp83_;
			gpointer _tmp84_;
			BalaField* _tmp85_;
			BalaMemberBinding _tmp86_;
			BalaMemberBinding _tmp87_;
			BalaCCodeExpression* cexp = NULL;
			BalaCCodeExpression* s1 = NULL;
			BalaCCodeIdentifier* _tmp88_;
			BalaCCodeIdentifier* _tmp89_;
			BalaField* _tmp90_;
			gchar* _tmp91_;
			gchar* _tmp92_;
			BalaCCodeMemberAccess* _tmp93_;
			BalaCCodeExpression* _tmp94_;
			BalaCCodeExpression* s2 = NULL;
			BalaCCodeIdentifier* _tmp95_;
			BalaCCodeIdentifier* _tmp96_;
			BalaField* _tmp97_;
			gchar* _tmp98_;
			gchar* _tmp99_;
			BalaCCodeMemberAccess* _tmp100_;
			BalaCCodeExpression* _tmp101_;
			BalaDataType* variable_type = NULL;
			BalaField* _tmp102_;
			BalaDataType* _tmp103_;
			BalaDataType* _tmp104_;
			BalaDataType* _tmp105_;
			gboolean _tmp106_ = FALSE;
			BalaField* _tmp107_;
			BalaDataType* _tmp108_;
			BalaDataType* _tmp109_;
			BalaCCodeFunction* _tmp157_;
			BalaCCodeFunction* _tmp158_;
			BalaCCodeExpression* _tmp159_;
			BalaCCodeFunction* _tmp160_;
			BalaCCodeFunction* _tmp161_;
			BalaCCodeExpression* _tmp162_;
			BalaCCodeExpression* _tmp163_;
			BalaCCodeFunction* _tmp164_;
			BalaCCodeFunction* _tmp165_;
			_f_index = _f_index + 1;
			_tmp81_ = _f_index;
			_tmp82_ = _f_size;
			if (!(_tmp81_ < _tmp82_)) {
				break;
			}
			_tmp83_ = _f_list;
			_tmp84_ = bala_list_get (_tmp83_, _f_index);
			f = (BalaField*) _tmp84_;
			_tmp85_ = f;
			_tmp86_ = bala_field_get_binding (_tmp85_);
			_tmp87_ = _tmp86_;
			if (_tmp87_ != BALA_MEMBER_BINDING_INSTANCE) {
				_bala_code_node_unref0 (f);
				continue;
			}
			has_instance_fields = TRUE;
			_tmp88_ = bala_ccode_identifier_new ("s1");
			_tmp89_ = _tmp88_;
			_tmp90_ = f;
			_tmp91_ = bala_get_ccode_name ((BalaCodeNode*) _tmp90_);
			_tmp92_ = _tmp91_;
			_tmp93_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp89_, _tmp92_);
			_tmp94_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp93_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression);
			_g_free0 (_tmp92_);
			_bala_ccode_node_unref0 (_tmp89_);
			s1 = _tmp94_;
			_tmp95_ = bala_ccode_identifier_new ("s2");
			_tmp96_ = _tmp95_;
			_tmp97_ = f;
			_tmp98_ = bala_get_ccode_name ((BalaCodeNode*) _tmp97_);
			_tmp99_ = _tmp98_;
			_tmp100_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp96_, _tmp99_);
			_tmp101_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp100_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression);
			_g_free0 (_tmp99_);
			_bala_ccode_node_unref0 (_tmp96_);
			s2 = _tmp101_;
			_tmp102_ = f;
			_tmp103_ = bala_variable_get_variable_type ((BalaVariable*) _tmp102_);
			_tmp104_ = _tmp103_;
			_tmp105_ = bala_data_type_copy (_tmp104_);
			variable_type = _tmp105_;
			bala_ccode_base_module_make_comparable_cexpression (self, &variable_type, &s1, &variable_type, &s2);
			_tmp107_ = f;
			_tmp108_ = bala_variable_get_variable_type ((BalaVariable*) _tmp107_);
			_tmp109_ = _tmp108_;
			if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp109_, BALA_TYPE_NULL_TYPE)) {
				BalaField* _tmp110_;
				BalaDataType* _tmp111_;
				BalaDataType* _tmp112_;
				BalaDataType* _tmp113_;
				_tmp110_ = f;
				_tmp111_ = bala_variable_get_variable_type ((BalaVariable*) _tmp110_);
				_tmp112_ = _tmp111_;
				_tmp113_ = self->string_type;
				_tmp106_ = bala_data_type_compatible (_tmp112_, _tmp113_);
			} else {
				_tmp106_ = FALSE;
			}
			if (_tmp106_) {
				BalaCCodeFunctionCall* ccall = NULL;
				BalaCodeContext* _tmp114_;
				BalaProfile _tmp115_;
				BalaProfile _tmp116_;
				BalaCCodeFunctionCall* _tmp128_;
				BalaCCodeExpression* _tmp129_;
				BalaCCodeFunctionCall* _tmp130_;
				BalaCCodeExpression* _tmp131_;
				BalaCCodeFunctionCall* _tmp132_;
				BalaCCodeExpression* _tmp133_;
				_tmp114_ = self->priv->_context;
				_tmp115_ = bala_code_context_get_profile (_tmp114_);
				_tmp116_ = _tmp115_;
				if (_tmp116_ == BALA_PROFILE_POSIX) {
					BalaCCodeFile* _tmp117_;
					BalaCCodeIdentifier* _tmp118_;
					BalaCCodeIdentifier* _tmp119_;
					gchar* _tmp120_;
					gchar* _tmp121_;
					BalaCCodeIdentifier* _tmp122_;
					BalaCCodeIdentifier* _tmp123_;
					BalaCCodeFunctionCall* _tmp124_;
					_tmp117_ = self->cfile;
					bala_ccode_file_add_include (_tmp117_, "string.h", FALSE);
					_tmp118_ = bala_ccode_identifier_new ("strcmp");
					_tmp119_ = _tmp118_;
					_tmp120_ = bala_ccode_base_module_generate_cmp_wrapper (self, _tmp119_);
					_tmp121_ = _tmp120_;
					_tmp122_ = bala_ccode_identifier_new (_tmp121_);
					_tmp123_ = _tmp122_;
					_tmp124_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp123_);
					_bala_ccode_node_unref0 (ccall);
					ccall = _tmp124_;
					_bala_ccode_node_unref0 (_tmp123_);
					_g_free0 (_tmp121_);
					_bala_ccode_node_unref0 (_tmp119_);
				} else {
					BalaCCodeIdentifier* _tmp125_;
					BalaCCodeIdentifier* _tmp126_;
					BalaCCodeFunctionCall* _tmp127_;
					_tmp125_ = bala_ccode_identifier_new ("g_strcmp0");
					_tmp126_ = _tmp125_;
					_tmp127_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp126_);
					_bala_ccode_node_unref0 (ccall);
					ccall = _tmp127_;
					_bala_ccode_node_unref0 (_tmp126_);
				}
				_tmp128_ = ccall;
				_tmp129_ = s1;
				bala_ccode_function_call_add_argument (_tmp128_, _tmp129_);
				_tmp130_ = ccall;
				_tmp131_ = s2;
				bala_ccode_function_call_add_argument (_tmp130_, _tmp131_);
				_tmp132_ = ccall;
				_tmp133_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp132_);
				_bala_ccode_node_unref0 (cexp);
				cexp = _tmp133_;
				_bala_ccode_node_unref0 (ccall);
			} else {
				BalaField* _tmp134_;
				BalaDataType* _tmp135_;
				BalaDataType* _tmp136_;
				_tmp134_ = f;
				_tmp135_ = bala_variable_get_variable_type ((BalaVariable*) _tmp134_);
				_tmp136_ = _tmp135_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp136_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
					gchar* equalfunc = NULL;
					BalaField* _tmp137_;
					BalaDataType* _tmp138_;
					BalaDataType* _tmp139_;
					BalaTypeSymbol* _tmp140_;
					BalaTypeSymbol* _tmp141_;
					gchar* _tmp142_;
					BalaCCodeFunctionCall* ccall = NULL;
					const gchar* _tmp143_;
					BalaCCodeIdentifier* _tmp144_;
					BalaCCodeIdentifier* _tmp145_;
					BalaCCodeFunctionCall* _tmp146_;
					BalaCCodeFunctionCall* _tmp147_;
					BalaCCodeFunctionCall* _tmp148_;
					BalaCCodeExpression* _tmp149_;
					BalaCCodeFunctionCall* _tmp150_;
					BalaCCodeExpression* _tmp151_;
					BalaCCodeFunctionCall* _tmp152_;
					BalaCCodeUnaryExpression* _tmp153_;
					_tmp137_ = f;
					_tmp138_ = bala_variable_get_variable_type ((BalaVariable*) _tmp137_);
					_tmp139_ = _tmp138_;
					_tmp140_ = bala_data_type_get_type_symbol (_tmp139_);
					_tmp141_ = _tmp140_;
					_tmp142_ = bala_ccode_base_module_generate_struct_equal_function (self, G_TYPE_CHECK_INSTANCE_TYPE (_tmp141_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp141_) : NULL);
					equalfunc = _tmp142_;
					_tmp143_ = equalfunc;
					_tmp144_ = bala_ccode_identifier_new (_tmp143_);
					_tmp145_ = _tmp144_;
					_tmp146_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp145_);
					_tmp147_ = _tmp146_;
					_bala_ccode_node_unref0 (_tmp145_);
					ccall = _tmp147_;
					_tmp148_ = ccall;
					_tmp149_ = s1;
					bala_ccode_function_call_add_argument (_tmp148_, _tmp149_);
					_tmp150_ = ccall;
					_tmp151_ = s2;
					bala_ccode_function_call_add_argument (_tmp150_, _tmp151_);
					_tmp152_ = ccall;
					_tmp153_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (BalaCCodeExpression*) _tmp152_);
					_bala_ccode_node_unref0 (cexp);
					cexp = (BalaCCodeExpression*) _tmp153_;
					_bala_ccode_node_unref0 (ccall);
					_g_free0 (equalfunc);
				} else {
					BalaCCodeExpression* _tmp154_;
					BalaCCodeExpression* _tmp155_;
					BalaCCodeBinaryExpression* _tmp156_;
					_tmp154_ = s1;
					_tmp155_ = s2;
					_tmp156_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, _tmp154_, _tmp155_);
					_bala_ccode_node_unref0 (cexp);
					cexp = (BalaCCodeExpression*) _tmp156_;
				}
			}
			_tmp157_ = bala_ccode_base_module_get_ccode (self);
			_tmp158_ = _tmp157_;
			_tmp159_ = cexp;
			bala_ccode_function_open_if (_tmp158_, _tmp159_);
			_tmp160_ = bala_ccode_base_module_get_ccode (self);
			_tmp161_ = _tmp160_;
			_tmp162_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
			_tmp163_ = _tmp162_;
			bala_ccode_function_add_return (_tmp161_, _tmp163_);
			_bala_ccode_node_unref0 (_tmp163_);
			_tmp164_ = bala_ccode_base_module_get_ccode (self);
			_tmp165_ = _tmp164_;
			bala_ccode_function_close (_tmp165_);
			_bala_code_node_unref0 (variable_type);
			_bala_ccode_node_unref0 (s2);
			_bala_ccode_node_unref0 (s1);
			_bala_ccode_node_unref0 (cexp);
			_bala_code_node_unref0 (f);
		}
		_bala_iterable_unref0 (_f_list);
	}
	if (!has_instance_fields) {
		if (bala_struct_is_simple_type (st)) {
			BalaCCodeBinaryExpression* cexp = NULL;
			BalaCCodeIdentifier* _tmp166_;
			BalaCCodeIdentifier* _tmp167_;
			BalaCCodeUnaryExpression* _tmp168_;
			BalaCCodeUnaryExpression* _tmp169_;
			BalaCCodeIdentifier* _tmp170_;
			BalaCCodeIdentifier* _tmp171_;
			BalaCCodeUnaryExpression* _tmp172_;
			BalaCCodeUnaryExpression* _tmp173_;
			BalaCCodeBinaryExpression* _tmp174_;
			BalaCCodeBinaryExpression* _tmp175_;
			BalaCCodeFunction* _tmp176_;
			BalaCCodeFunction* _tmp177_;
			BalaCCodeBinaryExpression* _tmp178_;
			_tmp166_ = bala_ccode_identifier_new ("s1");
			_tmp167_ = _tmp166_;
			_tmp168_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (BalaCCodeExpression*) _tmp167_);
			_tmp169_ = _tmp168_;
			_tmp170_ = bala_ccode_identifier_new ("s2");
			_tmp171_ = _tmp170_;
			_tmp172_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (BalaCCodeExpression*) _tmp171_);
			_tmp173_ = _tmp172_;
			_tmp174_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp169_, (BalaCCodeExpression*) _tmp173_);
			_tmp175_ = _tmp174_;
			_bala_ccode_node_unref0 (_tmp173_);
			_bala_ccode_node_unref0 (_tmp171_);
			_bala_ccode_node_unref0 (_tmp169_);
			_bala_ccode_node_unref0 (_tmp167_);
			cexp = _tmp175_;
			_tmp176_ = bala_ccode_base_module_get_ccode (self);
			_tmp177_ = _tmp176_;
			_tmp178_ = cexp;
			bala_ccode_function_add_return (_tmp177_, (BalaCCodeExpression*) _tmp178_);
			_bala_ccode_node_unref0 (cexp);
		} else {
			BalaCCodeFunction* _tmp179_;
			BalaCCodeFunction* _tmp180_;
			BalaCCodeExpression* _tmp181_;
			BalaCCodeExpression* _tmp182_;
			_tmp179_ = bala_ccode_base_module_get_ccode (self);
			_tmp180_ = _tmp179_;
			_tmp181_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
			_tmp182_ = _tmp181_;
			bala_ccode_function_add_return (_tmp180_, _tmp182_);
			_bala_ccode_node_unref0 (_tmp182_);
		}
	} else {
		BalaCCodeFunction* _tmp183_;
		BalaCCodeFunction* _tmp184_;
		BalaCCodeExpression* _tmp185_;
		BalaCCodeExpression* _tmp186_;
		_tmp183_ = bala_ccode_base_module_get_ccode (self);
		_tmp184_ = _tmp183_;
		_tmp185_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
		_tmp186_ = _tmp185_;
		bala_ccode_function_add_return (_tmp184_, _tmp186_);
		_bala_ccode_node_unref0 (_tmp186_);
	}
	bala_ccode_base_module_pop_function (self);
	_tmp187_ = self->cfile;
	_tmp188_ = function;
	bala_ccode_file_add_function_declaration (_tmp187_, _tmp188_);
	_tmp189_ = self->cfile;
	_tmp190_ = function;
	bala_ccode_file_add_function (_tmp189_, _tmp190_);
	result = equal_func;
	_bala_ccode_node_unref0 (function);
	return result;
}

static gchar*
bala_ccode_base_module_generate_numeric_equal_function (BalaCCodeBaseModule* self,
                                                        BalaTypeSymbol* sym)
{
	gchar* equal_func = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	const gchar* _tmp4_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp5_;
	BalaDataType* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaCCodeFunction* _tmp11_;
	BalaCCodeFunction* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	BalaCCodeParameter* _tmp17_;
	BalaCCodeParameter* _tmp18_;
	BalaCCodeFunction* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	BalaCCodeParameter* _tmp24_;
	BalaCCodeParameter* _tmp25_;
	BalaCCodeFunction* _tmp26_;
	BalaCCodeFile* _tmp84_;
	BalaCCodeFunction* _tmp85_;
	BalaCCodeFile* _tmp86_;
	BalaCCodeFunction* _tmp87_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sym != NULL, NULL);
	_tmp0_ = bala_get_ccode_lower_case_prefix ((BalaSymbol*) sym);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("_%sequal", _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	equal_func = _tmp3_;
	_tmp4_ = equal_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp4_)) {
		result = equal_func;
		return result;
	}
	_tmp5_ = equal_func;
	_tmp6_ = self->bool_type;
	_tmp7_ = bala_get_ccode_name ((BalaCodeNode*) _tmp6_);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_ccode_function_new (_tmp5_, _tmp8_);
	_tmp10_ = _tmp9_;
	_g_free0 (_tmp8_);
	function = _tmp10_;
	_tmp11_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp11_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp12_ = function;
	_tmp13_ = bala_get_ccode_name ((BalaCodeNode*) sym);
	_tmp14_ = _tmp13_;
	_tmp15_ = g_strdup_printf ("const %s *", _tmp14_);
	_tmp16_ = _tmp15_;
	_tmp17_ = bala_ccode_parameter_new ("s1", _tmp16_);
	_tmp18_ = _tmp17_;
	bala_ccode_function_add_parameter (_tmp12_, _tmp18_);
	_bala_ccode_node_unref0 (_tmp18_);
	_g_free0 (_tmp16_);
	_g_free0 (_tmp14_);
	_tmp19_ = function;
	_tmp20_ = bala_get_ccode_name ((BalaCodeNode*) sym);
	_tmp21_ = _tmp20_;
	_tmp22_ = g_strdup_printf ("const %s *", _tmp21_);
	_tmp23_ = _tmp22_;
	_tmp24_ = bala_ccode_parameter_new ("s2", _tmp23_);
	_tmp25_ = _tmp24_;
	bala_ccode_function_add_parameter (_tmp19_, _tmp25_);
	_bala_ccode_node_unref0 (_tmp25_);
	_g_free0 (_tmp23_);
	_g_free0 (_tmp21_);
	_tmp26_ = function;
	bala_ccode_base_module_push_function (self, _tmp26_);
	{
		BalaCCodeBinaryExpression* cexp = NULL;
		BalaCCodeIdentifier* _tmp27_;
		BalaCCodeIdentifier* _tmp28_;
		BalaCCodeIdentifier* _tmp29_;
		BalaCCodeIdentifier* _tmp30_;
		BalaCCodeBinaryExpression* _tmp31_;
		BalaCCodeBinaryExpression* _tmp32_;
		BalaCCodeFunction* _tmp33_;
		BalaCCodeFunction* _tmp34_;
		BalaCCodeBinaryExpression* _tmp35_;
		BalaCCodeFunction* _tmp36_;
		BalaCCodeFunction* _tmp37_;
		BalaCCodeExpression* _tmp38_;
		BalaCCodeExpression* _tmp39_;
		BalaCCodeFunction* _tmp40_;
		BalaCCodeFunction* _tmp41_;
		_tmp27_ = bala_ccode_identifier_new ("s1");
		_tmp28_ = _tmp27_;
		_tmp29_ = bala_ccode_identifier_new ("s2");
		_tmp30_ = _tmp29_;
		_tmp31_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp28_, (BalaCCodeExpression*) _tmp30_);
		_tmp32_ = _tmp31_;
		_bala_ccode_node_unref0 (_tmp30_);
		_bala_ccode_node_unref0 (_tmp28_);
		cexp = _tmp32_;
		_tmp33_ = bala_ccode_base_module_get_ccode (self);
		_tmp34_ = _tmp33_;
		_tmp35_ = cexp;
		bala_ccode_function_open_if (_tmp34_, (BalaCCodeExpression*) _tmp35_);
		_tmp36_ = bala_ccode_base_module_get_ccode (self);
		_tmp37_ = _tmp36_;
		_tmp38_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
		_tmp39_ = _tmp38_;
		bala_ccode_function_add_return (_tmp37_, _tmp39_);
		_bala_ccode_node_unref0 (_tmp39_);
		_tmp40_ = bala_ccode_base_module_get_ccode (self);
		_tmp41_ = _tmp40_;
		bala_ccode_function_close (_tmp41_);
		_bala_ccode_node_unref0 (cexp);
	}
	{
		BalaCCodeBinaryExpression* cexp = NULL;
		BalaCCodeIdentifier* _tmp42_;
		BalaCCodeIdentifier* _tmp43_;
		BalaCCodeConstant* _tmp44_;
		BalaCCodeConstant* _tmp45_;
		BalaCCodeBinaryExpression* _tmp46_;
		BalaCCodeBinaryExpression* _tmp47_;
		BalaCCodeFunction* _tmp48_;
		BalaCCodeFunction* _tmp49_;
		BalaCCodeBinaryExpression* _tmp50_;
		BalaCCodeFunction* _tmp51_;
		BalaCCodeFunction* _tmp52_;
		BalaCCodeExpression* _tmp53_;
		BalaCCodeExpression* _tmp54_;
		BalaCCodeFunction* _tmp55_;
		BalaCCodeFunction* _tmp56_;
		BalaCCodeIdentifier* _tmp57_;
		BalaCCodeIdentifier* _tmp58_;
		BalaCCodeConstant* _tmp59_;
		BalaCCodeConstant* _tmp60_;
		BalaCCodeBinaryExpression* _tmp61_;
		BalaCCodeFunction* _tmp62_;
		BalaCCodeFunction* _tmp63_;
		BalaCCodeBinaryExpression* _tmp64_;
		BalaCCodeFunction* _tmp65_;
		BalaCCodeFunction* _tmp66_;
		BalaCCodeExpression* _tmp67_;
		BalaCCodeExpression* _tmp68_;
		BalaCCodeFunction* _tmp69_;
		BalaCCodeFunction* _tmp70_;
		_tmp42_ = bala_ccode_identifier_new ("s1");
		_tmp43_ = _tmp42_;
		_tmp44_ = bala_ccode_constant_new ("NULL");
		_tmp45_ = _tmp44_;
		_tmp46_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp43_, (BalaCCodeExpression*) _tmp45_);
		_tmp47_ = _tmp46_;
		_bala_ccode_node_unref0 (_tmp45_);
		_bala_ccode_node_unref0 (_tmp43_);
		cexp = _tmp47_;
		_tmp48_ = bala_ccode_base_module_get_ccode (self);
		_tmp49_ = _tmp48_;
		_tmp50_ = cexp;
		bala_ccode_function_open_if (_tmp49_, (BalaCCodeExpression*) _tmp50_);
		_tmp51_ = bala_ccode_base_module_get_ccode (self);
		_tmp52_ = _tmp51_;
		_tmp53_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
		_tmp54_ = _tmp53_;
		bala_ccode_function_add_return (_tmp52_, _tmp54_);
		_bala_ccode_node_unref0 (_tmp54_);
		_tmp55_ = bala_ccode_base_module_get_ccode (self);
		_tmp56_ = _tmp55_;
		bala_ccode_function_close (_tmp56_);
		_tmp57_ = bala_ccode_identifier_new ("s2");
		_tmp58_ = _tmp57_;
		_tmp59_ = bala_ccode_constant_new ("NULL");
		_tmp60_ = _tmp59_;
		_tmp61_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp58_, (BalaCCodeExpression*) _tmp60_);
		_bala_ccode_node_unref0 (cexp);
		cexp = _tmp61_;
		_bala_ccode_node_unref0 (_tmp60_);
		_bala_ccode_node_unref0 (_tmp58_);
		_tmp62_ = bala_ccode_base_module_get_ccode (self);
		_tmp63_ = _tmp62_;
		_tmp64_ = cexp;
		bala_ccode_function_open_if (_tmp63_, (BalaCCodeExpression*) _tmp64_);
		_tmp65_ = bala_ccode_base_module_get_ccode (self);
		_tmp66_ = _tmp65_;
		_tmp67_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
		_tmp68_ = _tmp67_;
		bala_ccode_function_add_return (_tmp66_, _tmp68_);
		_bala_ccode_node_unref0 (_tmp68_);
		_tmp69_ = bala_ccode_base_module_get_ccode (self);
		_tmp70_ = _tmp69_;
		bala_ccode_function_close (_tmp70_);
		_bala_ccode_node_unref0 (cexp);
	}
	{
		BalaCCodeBinaryExpression* cexp = NULL;
		BalaCCodeIdentifier* _tmp71_;
		BalaCCodeIdentifier* _tmp72_;
		BalaCCodeUnaryExpression* _tmp73_;
		BalaCCodeUnaryExpression* _tmp74_;
		BalaCCodeIdentifier* _tmp75_;
		BalaCCodeIdentifier* _tmp76_;
		BalaCCodeUnaryExpression* _tmp77_;
		BalaCCodeUnaryExpression* _tmp78_;
		BalaCCodeBinaryExpression* _tmp79_;
		BalaCCodeBinaryExpression* _tmp80_;
		BalaCCodeFunction* _tmp81_;
		BalaCCodeFunction* _tmp82_;
		BalaCCodeBinaryExpression* _tmp83_;
		_tmp71_ = bala_ccode_identifier_new ("s1");
		_tmp72_ = _tmp71_;
		_tmp73_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (BalaCCodeExpression*) _tmp72_);
		_tmp74_ = _tmp73_;
		_tmp75_ = bala_ccode_identifier_new ("s2");
		_tmp76_ = _tmp75_;
		_tmp77_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (BalaCCodeExpression*) _tmp76_);
		_tmp78_ = _tmp77_;
		_tmp79_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp74_, (BalaCCodeExpression*) _tmp78_);
		_tmp80_ = _tmp79_;
		_bala_ccode_node_unref0 (_tmp78_);
		_bala_ccode_node_unref0 (_tmp76_);
		_bala_ccode_node_unref0 (_tmp74_);
		_bala_ccode_node_unref0 (_tmp72_);
		cexp = _tmp80_;
		_tmp81_ = bala_ccode_base_module_get_ccode (self);
		_tmp82_ = _tmp81_;
		_tmp83_ = cexp;
		bala_ccode_function_add_return (_tmp82_, (BalaCCodeExpression*) _tmp83_);
		_bala_ccode_node_unref0 (cexp);
	}
	bala_ccode_base_module_pop_function (self);
	_tmp84_ = self->cfile;
	_tmp85_ = function;
	bala_ccode_file_add_function_declaration (_tmp84_, _tmp85_);
	_tmp86_ = self->cfile;
	_tmp87_ = function;
	bala_ccode_file_add_function (_tmp86_, _tmp87_);
	result = equal_func;
	_bala_ccode_node_unref0 (function);
	return result;
}

static gchar*
bala_ccode_base_module_generate_struct_dup_wrapper (BalaCCodeBaseModule* self,
                                                    BalaValueType* value_type)
{
	gchar* dup_func = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaCCodeFunction* _tmp11_;
	BalaCCodeFunction* _tmp12_;
	BalaCCodeFunction* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	BalaCCodeParameter* _tmp16_;
	BalaCCodeParameter* _tmp17_;
	BalaCCodeFunction* _tmp18_;
	BalaTypeSymbol* _tmp19_;
	BalaTypeSymbol* _tmp20_;
	BalaStruct* _tmp21_;
	BalaCCodeFile* _tmp138_;
	BalaCCodeFunction* _tmp139_;
	BalaCCodeFile* _tmp140_;
	BalaCCodeFunction* _tmp141_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (value_type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_lower_case_prefix ((BalaSymbol*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_%sdup", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	dup_func = _tmp5_;
	_tmp6_ = dup_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = dup_func;
		return result;
	}
	_tmp7_ = dup_func;
	_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) value_type);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_ccode_function_new (_tmp7_, _tmp9_);
	_tmp11_ = _tmp10_;
	_g_free0 (_tmp9_);
	function = _tmp11_;
	_tmp12_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp12_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp13_ = function;
	_tmp14_ = bala_get_ccode_name ((BalaCodeNode*) value_type);
	_tmp15_ = _tmp14_;
	_tmp16_ = bala_ccode_parameter_new ("self", _tmp15_);
	_tmp17_ = _tmp16_;
	bala_ccode_function_add_parameter (_tmp13_, _tmp17_);
	_bala_ccode_node_unref0 (_tmp17_);
	_g_free0 (_tmp15_);
	_tmp18_ = function;
	bala_ccode_base_module_push_function (self, _tmp18_);
	_tmp19_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
	_tmp20_ = _tmp19_;
	_tmp21_ = self->gvalue_type;
	if (_tmp20_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
		BalaCCodeFunctionCall* dup_call = NULL;
		BalaCCodeIdentifier* _tmp22_;
		BalaCCodeIdentifier* _tmp23_;
		BalaCCodeFunctionCall* _tmp24_;
		BalaCCodeFunctionCall* _tmp25_;
		BalaCCodeFunctionCall* _tmp26_;
		BalaCCodeIdentifier* _tmp27_;
		BalaCCodeIdentifier* _tmp28_;
		BalaCCodeFunctionCall* _tmp29_;
		BalaCCodeIdentifier* _tmp30_;
		BalaCCodeIdentifier* _tmp31_;
		BalaCCodeFunction* _tmp32_;
		BalaCCodeFunction* _tmp33_;
		BalaCCodeFunctionCall* _tmp34_;
		_tmp22_ = bala_ccode_identifier_new ("g_boxed_copy");
		_tmp23_ = _tmp22_;
		_tmp24_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp23_);
		_tmp25_ = _tmp24_;
		_bala_ccode_node_unref0 (_tmp23_);
		dup_call = _tmp25_;
		_tmp26_ = dup_call;
		_tmp27_ = bala_ccode_identifier_new ("G_TYPE_VALUE");
		_tmp28_ = _tmp27_;
		bala_ccode_function_call_add_argument (_tmp26_, (BalaCCodeExpression*) _tmp28_);
		_bala_ccode_node_unref0 (_tmp28_);
		_tmp29_ = dup_call;
		_tmp30_ = bala_ccode_identifier_new ("self");
		_tmp31_ = _tmp30_;
		bala_ccode_function_call_add_argument (_tmp29_, (BalaCCodeExpression*) _tmp31_);
		_bala_ccode_node_unref0 (_tmp31_);
		_tmp32_ = bala_ccode_base_module_get_ccode (self);
		_tmp33_ = _tmp32_;
		_tmp34_ = dup_call;
		bala_ccode_function_add_return (_tmp33_, (BalaCCodeExpression*) _tmp34_);
		_bala_ccode_node_unref0 (dup_call);
	} else {
		BalaCCodeFunction* _tmp35_;
		BalaCCodeFunction* _tmp36_;
		gchar* _tmp37_;
		gchar* _tmp38_;
		BalaCCodeVariableDeclarator* _tmp39_;
		BalaCCodeVariableDeclarator* _tmp40_;
		BalaCCodeFunctionCall* creation_call = NULL;
		BalaCodeContext* _tmp41_;
		BalaProfile _tmp42_;
		BalaProfile _tmp43_;
		BalaCCodeFunction* _tmp78_;
		BalaCCodeFunction* _tmp79_;
		BalaCCodeIdentifier* _tmp80_;
		BalaCCodeIdentifier* _tmp81_;
		BalaCCodeFunctionCall* _tmp82_;
		BalaStruct* st = NULL;
		BalaTypeSymbol* _tmp83_;
		BalaTypeSymbol* _tmp84_;
		BalaStruct* _tmp85_;
		gboolean _tmp86_ = FALSE;
		BalaStruct* _tmp87_;
		BalaCCodeFunction* _tmp134_;
		BalaCCodeFunction* _tmp135_;
		BalaCCodeIdentifier* _tmp136_;
		BalaCCodeIdentifier* _tmp137_;
		_tmp35_ = bala_ccode_base_module_get_ccode (self);
		_tmp36_ = _tmp35_;
		_tmp37_ = bala_get_ccode_name ((BalaCodeNode*) value_type);
		_tmp38_ = _tmp37_;
		_tmp39_ = bala_ccode_variable_declarator_new ("dup", NULL, NULL);
		_tmp40_ = _tmp39_;
		bala_ccode_function_add_declaration (_tmp36_, _tmp38_, (BalaCCodeDeclarator*) _tmp40_, 0);
		_bala_ccode_node_unref0 (_tmp40_);
		_g_free0 (_tmp38_);
		_tmp41_ = self->priv->_context;
		_tmp42_ = bala_code_context_get_profile (_tmp41_);
		_tmp43_ = _tmp42_;
		if (_tmp43_ == BALA_PROFILE_POSIX) {
			BalaCCodeFile* _tmp44_;
			BalaCCodeIdentifier* _tmp45_;
			BalaCCodeIdentifier* _tmp46_;
			BalaCCodeFunctionCall* _tmp47_;
			BalaCCodeFunctionCall* _tmp48_;
			BalaCCodeConstant* _tmp49_;
			BalaCCodeConstant* _tmp50_;
			BalaCCodeFunctionCall* csizeof = NULL;
			BalaCCodeIdentifier* _tmp51_;
			BalaCCodeIdentifier* _tmp52_;
			BalaCCodeFunctionCall* _tmp53_;
			BalaCCodeFunctionCall* _tmp54_;
			BalaCCodeFunctionCall* _tmp55_;
			BalaTypeSymbol* _tmp56_;
			BalaTypeSymbol* _tmp57_;
			gchar* _tmp58_;
			gchar* _tmp59_;
			BalaCCodeIdentifier* _tmp60_;
			BalaCCodeIdentifier* _tmp61_;
			BalaCCodeFunctionCall* _tmp62_;
			BalaCCodeFunctionCall* _tmp63_;
			_tmp44_ = self->cfile;
			bala_ccode_file_add_include (_tmp44_, "stdlib.h", FALSE);
			_tmp45_ = bala_ccode_identifier_new ("calloc");
			_tmp46_ = _tmp45_;
			_tmp47_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp46_);
			_bala_ccode_node_unref0 (creation_call);
			creation_call = _tmp47_;
			_bala_ccode_node_unref0 (_tmp46_);
			_tmp48_ = creation_call;
			_tmp49_ = bala_ccode_constant_new ("1");
			_tmp50_ = _tmp49_;
			bala_ccode_function_call_add_argument (_tmp48_, (BalaCCodeExpression*) _tmp50_);
			_bala_ccode_node_unref0 (_tmp50_);
			_tmp51_ = bala_ccode_identifier_new ("sizeof");
			_tmp52_ = _tmp51_;
			_tmp53_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp52_);
			_tmp54_ = _tmp53_;
			_bala_ccode_node_unref0 (_tmp52_);
			csizeof = _tmp54_;
			_tmp55_ = csizeof;
			_tmp56_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
			_tmp57_ = _tmp56_;
			_tmp58_ = bala_get_ccode_name ((BalaCodeNode*) _tmp57_);
			_tmp59_ = _tmp58_;
			_tmp60_ = bala_ccode_identifier_new (_tmp59_);
			_tmp61_ = _tmp60_;
			bala_ccode_function_call_add_argument (_tmp55_, (BalaCCodeExpression*) _tmp61_);
			_bala_ccode_node_unref0 (_tmp61_);
			_g_free0 (_tmp59_);
			_tmp62_ = creation_call;
			_tmp63_ = csizeof;
			bala_ccode_function_call_add_argument (_tmp62_, (BalaCCodeExpression*) _tmp63_);
			_bala_ccode_node_unref0 (csizeof);
		} else {
			BalaCCodeFile* _tmp64_;
			BalaCCodeIdentifier* _tmp65_;
			BalaCCodeIdentifier* _tmp66_;
			BalaCCodeFunctionCall* _tmp67_;
			BalaCCodeFunctionCall* _tmp68_;
			BalaTypeSymbol* _tmp69_;
			BalaTypeSymbol* _tmp70_;
			gchar* _tmp71_;
			gchar* _tmp72_;
			BalaCCodeIdentifier* _tmp73_;
			BalaCCodeIdentifier* _tmp74_;
			BalaCCodeFunctionCall* _tmp75_;
			BalaCCodeConstant* _tmp76_;
			BalaCCodeConstant* _tmp77_;
			_tmp64_ = self->cfile;
			bala_ccode_file_add_include (_tmp64_, "glib.h", FALSE);
			_tmp65_ = bala_ccode_identifier_new ("g_new0");
			_tmp66_ = _tmp65_;
			_tmp67_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp66_);
			_bala_ccode_node_unref0 (creation_call);
			creation_call = _tmp67_;
			_bala_ccode_node_unref0 (_tmp66_);
			_tmp68_ = creation_call;
			_tmp69_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
			_tmp70_ = _tmp69_;
			_tmp71_ = bala_get_ccode_name ((BalaCodeNode*) _tmp70_);
			_tmp72_ = _tmp71_;
			_tmp73_ = bala_ccode_identifier_new (_tmp72_);
			_tmp74_ = _tmp73_;
			bala_ccode_function_call_add_argument (_tmp68_, (BalaCCodeExpression*) _tmp74_);
			_bala_ccode_node_unref0 (_tmp74_);
			_g_free0 (_tmp72_);
			_tmp75_ = creation_call;
			_tmp76_ = bala_ccode_constant_new ("1");
			_tmp77_ = _tmp76_;
			bala_ccode_function_call_add_argument (_tmp75_, (BalaCCodeExpression*) _tmp77_);
			_bala_ccode_node_unref0 (_tmp77_);
		}
		_tmp78_ = bala_ccode_base_module_get_ccode (self);
		_tmp79_ = _tmp78_;
		_tmp80_ = bala_ccode_identifier_new ("dup");
		_tmp81_ = _tmp80_;
		_tmp82_ = creation_call;
		bala_ccode_function_add_assignment (_tmp79_, (BalaCCodeExpression*) _tmp81_, (BalaCCodeExpression*) _tmp82_);
		_bala_ccode_node_unref0 (_tmp81_);
		_tmp83_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
		_tmp84_ = _tmp83_;
		_tmp85_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp84_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp84_) : NULL);
		st = _tmp85_;
		_tmp87_ = st;
		if (_tmp87_ != NULL) {
			BalaStruct* _tmp88_;
			_tmp88_ = st;
			_tmp86_ = bala_struct_is_disposable (_tmp88_);
		} else {
			_tmp86_ = FALSE;
		}
		if (_tmp86_) {
			BalaStruct* _tmp89_;
			BalaCCodeFunctionCall* copy_call = NULL;
			BalaStruct* _tmp91_;
			gchar* _tmp92_;
			gchar* _tmp93_;
			BalaCCodeIdentifier* _tmp94_;
			BalaCCodeIdentifier* _tmp95_;
			BalaCCodeFunctionCall* _tmp96_;
			BalaCCodeFunctionCall* _tmp97_;
			BalaCCodeFunctionCall* _tmp98_;
			BalaCCodeIdentifier* _tmp99_;
			BalaCCodeIdentifier* _tmp100_;
			BalaCCodeFunctionCall* _tmp101_;
			BalaCCodeIdentifier* _tmp102_;
			BalaCCodeIdentifier* _tmp103_;
			BalaCCodeFunction* _tmp104_;
			BalaCCodeFunction* _tmp105_;
			BalaCCodeFunctionCall* _tmp106_;
			_tmp89_ = st;
			if (!bala_get_ccode_has_copy_function (_tmp89_)) {
				BalaStruct* _tmp90_;
				_tmp90_ = st;
				bala_ccode_base_module_generate_struct_copy_function (self, _tmp90_);
			}
			_tmp91_ = st;
			_tmp92_ = bala_get_ccode_copy_function ((BalaTypeSymbol*) _tmp91_);
			_tmp93_ = _tmp92_;
			_tmp94_ = bala_ccode_identifier_new (_tmp93_);
			_tmp95_ = _tmp94_;
			_tmp96_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp95_);
			_tmp97_ = _tmp96_;
			_bala_ccode_node_unref0 (_tmp95_);
			_g_free0 (_tmp93_);
			copy_call = _tmp97_;
			_tmp98_ = copy_call;
			_tmp99_ = bala_ccode_identifier_new ("self");
			_tmp100_ = _tmp99_;
			bala_ccode_function_call_add_argument (_tmp98_, (BalaCCodeExpression*) _tmp100_);
			_bala_ccode_node_unref0 (_tmp100_);
			_tmp101_ = copy_call;
			_tmp102_ = bala_ccode_identifier_new ("dup");
			_tmp103_ = _tmp102_;
			bala_ccode_function_call_add_argument (_tmp101_, (BalaCCodeExpression*) _tmp103_);
			_bala_ccode_node_unref0 (_tmp103_);
			_tmp104_ = bala_ccode_base_module_get_ccode (self);
			_tmp105_ = _tmp104_;
			_tmp106_ = copy_call;
			bala_ccode_function_add_expression (_tmp105_, (BalaCCodeExpression*) _tmp106_);
			_bala_ccode_node_unref0 (copy_call);
		} else {
			BalaCCodeFile* _tmp107_;
			BalaCCodeFunctionCall* sizeof_call = NULL;
			BalaCCodeIdentifier* _tmp108_;
			BalaCCodeIdentifier* _tmp109_;
			BalaCCodeFunctionCall* _tmp110_;
			BalaCCodeFunctionCall* _tmp111_;
			BalaCCodeFunctionCall* _tmp112_;
			BalaTypeSymbol* _tmp113_;
			BalaTypeSymbol* _tmp114_;
			gchar* _tmp115_;
			gchar* _tmp116_;
			BalaCCodeConstant* _tmp117_;
			BalaCCodeConstant* _tmp118_;
			BalaCCodeFunctionCall* copy_call = NULL;
			BalaCCodeIdentifier* _tmp119_;
			BalaCCodeIdentifier* _tmp120_;
			BalaCCodeFunctionCall* _tmp121_;
			BalaCCodeFunctionCall* _tmp122_;
			BalaCCodeFunctionCall* _tmp123_;
			BalaCCodeIdentifier* _tmp124_;
			BalaCCodeIdentifier* _tmp125_;
			BalaCCodeFunctionCall* _tmp126_;
			BalaCCodeIdentifier* _tmp127_;
			BalaCCodeIdentifier* _tmp128_;
			BalaCCodeFunctionCall* _tmp129_;
			BalaCCodeFunctionCall* _tmp130_;
			BalaCCodeFunction* _tmp131_;
			BalaCCodeFunction* _tmp132_;
			BalaCCodeFunctionCall* _tmp133_;
			_tmp107_ = self->cfile;
			bala_ccode_file_add_include (_tmp107_, "string.h", FALSE);
			_tmp108_ = bala_ccode_identifier_new ("sizeof");
			_tmp109_ = _tmp108_;
			_tmp110_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp109_);
			_tmp111_ = _tmp110_;
			_bala_ccode_node_unref0 (_tmp109_);
			sizeof_call = _tmp111_;
			_tmp112_ = sizeof_call;
			_tmp113_ = bala_data_type_get_type_symbol ((BalaDataType*) value_type);
			_tmp114_ = _tmp113_;
			_tmp115_ = bala_get_ccode_name ((BalaCodeNode*) _tmp114_);
			_tmp116_ = _tmp115_;
			_tmp117_ = bala_ccode_constant_new (_tmp116_);
			_tmp118_ = _tmp117_;
			bala_ccode_function_call_add_argument (_tmp112_, (BalaCCodeExpression*) _tmp118_);
			_bala_ccode_node_unref0 (_tmp118_);
			_g_free0 (_tmp116_);
			_tmp119_ = bala_ccode_identifier_new ("memcpy");
			_tmp120_ = _tmp119_;
			_tmp121_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp120_);
			_tmp122_ = _tmp121_;
			_bala_ccode_node_unref0 (_tmp120_);
			copy_call = _tmp122_;
			_tmp123_ = copy_call;
			_tmp124_ = bala_ccode_identifier_new ("dup");
			_tmp125_ = _tmp124_;
			bala_ccode_function_call_add_argument (_tmp123_, (BalaCCodeExpression*) _tmp125_);
			_bala_ccode_node_unref0 (_tmp125_);
			_tmp126_ = copy_call;
			_tmp127_ = bala_ccode_identifier_new ("self");
			_tmp128_ = _tmp127_;
			bala_ccode_function_call_add_argument (_tmp126_, (BalaCCodeExpression*) _tmp128_);
			_bala_ccode_node_unref0 (_tmp128_);
			_tmp129_ = copy_call;
			_tmp130_ = sizeof_call;
			bala_ccode_function_call_add_argument (_tmp129_, (BalaCCodeExpression*) _tmp130_);
			_tmp131_ = bala_ccode_base_module_get_ccode (self);
			_tmp132_ = _tmp131_;
			_tmp133_ = copy_call;
			bala_ccode_function_add_expression (_tmp132_, (BalaCCodeExpression*) _tmp133_);
			_bala_ccode_node_unref0 (copy_call);
			_bala_ccode_node_unref0 (sizeof_call);
		}
		_tmp134_ = bala_ccode_base_module_get_ccode (self);
		_tmp135_ = _tmp134_;
		_tmp136_ = bala_ccode_identifier_new ("dup");
		_tmp137_ = _tmp136_;
		bala_ccode_function_add_return (_tmp135_, (BalaCCodeExpression*) _tmp137_);
		_bala_ccode_node_unref0 (_tmp137_);
		_bala_code_node_unref0 (st);
		_bala_ccode_node_unref0 (creation_call);
	}
	bala_ccode_base_module_pop_function (self);
	_tmp138_ = self->cfile;
	_tmp139_ = function;
	bala_ccode_file_add_function_declaration (_tmp138_, _tmp139_);
	_tmp140_ = self->cfile;
	_tmp141_ = function;
	bala_ccode_file_add_function (_tmp140_, _tmp141_);
	result = dup_func;
	_bala_ccode_node_unref0 (function);
	return result;
}

gchar*
bala_ccode_base_module_generate_dup_func_wrapper (BalaCCodeBaseModule* self,
                                                  BalaDataType* type)
{
	gchar* destroy_func = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaCCodeFunction* _tmp11_;
	BalaCCodeFunction* _tmp12_;
	BalaCCodeFunction* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	BalaCCodeParameter* _tmp16_;
	BalaCCodeParameter* _tmp17_;
	BalaCCodeFunction* _tmp18_;
	BalaCCodeFunctionCall* free_call = NULL;
	BalaCCodeIdentifier* _tmp19_;
	BalaCCodeIdentifier* _tmp20_;
	BalaCCodeFunctionCall* _tmp21_;
	BalaCCodeFunctionCall* _tmp22_;
	BalaCCodeFunctionCall* _tmp23_;
	BalaTypeSymbol* _tmp24_;
	BalaTypeSymbol* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	BalaCCodeIdentifier* _tmp28_;
	BalaCCodeIdentifier* _tmp29_;
	BalaCCodeFunctionCall* _tmp30_;
	BalaCCodeIdentifier* _tmp31_;
	BalaCCodeIdentifier* _tmp32_;
	BalaCCodeFunction* _tmp33_;
	BalaCCodeFunction* _tmp34_;
	BalaCCodeFunctionCall* _tmp35_;
	BalaCCodeFile* _tmp36_;
	BalaCCodeFunction* _tmp37_;
	BalaCCodeFile* _tmp38_;
	BalaCCodeFunction* _tmp39_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_name ((BalaCodeNode*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_bala_%s_copy", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	destroy_func = _tmp5_;
	_tmp6_ = destroy_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = destroy_func;
		return result;
	}
	_tmp7_ = destroy_func;
	_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_ccode_function_new (_tmp7_, _tmp9_);
	_tmp11_ = _tmp10_;
	_g_free0 (_tmp9_);
	function = _tmp11_;
	_tmp12_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp12_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp13_ = function;
	_tmp14_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp15_ = _tmp14_;
	_tmp16_ = bala_ccode_parameter_new ("self", _tmp15_);
	_tmp17_ = _tmp16_;
	bala_ccode_function_add_parameter (_tmp13_, _tmp17_);
	_bala_ccode_node_unref0 (_tmp17_);
	_g_free0 (_tmp15_);
	_tmp18_ = function;
	bala_ccode_base_module_push_function (self, _tmp18_);
	_tmp19_ = bala_ccode_identifier_new ("g_boxed_copy");
	_tmp20_ = _tmp19_;
	_tmp21_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp20_);
	_tmp22_ = _tmp21_;
	_bala_ccode_node_unref0 (_tmp20_);
	free_call = _tmp22_;
	_tmp23_ = free_call;
	_tmp24_ = bala_data_type_get_type_symbol (type);
	_tmp25_ = _tmp24_;
	_tmp26_ = bala_get_ccode_type_id ((BalaCodeNode*) _tmp25_);
	_tmp27_ = _tmp26_;
	_tmp28_ = bala_ccode_identifier_new (_tmp27_);
	_tmp29_ = _tmp28_;
	bala_ccode_function_call_add_argument (_tmp23_, (BalaCCodeExpression*) _tmp29_);
	_bala_ccode_node_unref0 (_tmp29_);
	_g_free0 (_tmp27_);
	_tmp30_ = free_call;
	_tmp31_ = bala_ccode_identifier_new ("self");
	_tmp32_ = _tmp31_;
	bala_ccode_function_call_add_argument (_tmp30_, (BalaCCodeExpression*) _tmp32_);
	_bala_ccode_node_unref0 (_tmp32_);
	_tmp33_ = bala_ccode_base_module_get_ccode (self);
	_tmp34_ = _tmp33_;
	_tmp35_ = free_call;
	bala_ccode_function_add_return (_tmp34_, (BalaCCodeExpression*) _tmp35_);
	bala_ccode_base_module_pop_function (self);
	_tmp36_ = self->cfile;
	_tmp37_ = function;
	bala_ccode_file_add_function_declaration (_tmp36_, _tmp37_);
	_tmp38_ = self->cfile;
	_tmp39_ = function;
	bala_ccode_file_add_function (_tmp38_, _tmp39_);
	result = destroy_func;
	_bala_ccode_node_unref0 (free_call);
	_bala_ccode_node_unref0 (function);
	return result;
}

gchar*
bala_ccode_base_module_generate_free_function_address_of_wrapper (BalaCCodeBaseModule* self,
                                                                  BalaDataType* type)
{
	gchar* destroy_func = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	BalaCCodeParameter* _tmp13_;
	BalaCCodeParameter* _tmp14_;
	BalaCCodeFunction* _tmp15_;
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp16_;
	BalaTypeSymbol* _tmp17_;
	BalaClass* _tmp18_;
	BalaCCodeFunctionCall* free_call = NULL;
	BalaClass* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	BalaCCodeIdentifier* _tmp22_;
	BalaCCodeIdentifier* _tmp23_;
	BalaCCodeFunctionCall* _tmp24_;
	BalaCCodeFunctionCall* _tmp25_;
	BalaCCodeFunctionCall* _tmp26_;
	BalaCCodeIdentifier* _tmp27_;
	BalaCCodeIdentifier* _tmp28_;
	BalaCCodeUnaryExpression* _tmp29_;
	BalaCCodeUnaryExpression* _tmp30_;
	BalaCCodeFunction* _tmp31_;
	BalaCCodeFunction* _tmp32_;
	BalaCCodeFunctionCall* _tmp33_;
	BalaCCodeFile* _tmp34_;
	BalaCCodeFunction* _tmp35_;
	BalaCCodeFile* _tmp36_;
	BalaCCodeFunction* _tmp37_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_name ((BalaCodeNode*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_bala_%s_free_function_address_of", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	destroy_func = _tmp5_;
	_tmp6_ = destroy_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = destroy_func;
		return result;
	}
	_tmp7_ = destroy_func;
	_tmp8_ = bala_ccode_function_new (_tmp7_, "void");
	function = _tmp8_;
	_tmp9_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp9_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp10_ = function;
	_tmp11_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp12_ = _tmp11_;
	_tmp13_ = bala_ccode_parameter_new ("self", _tmp12_);
	_tmp14_ = _tmp13_;
	bala_ccode_function_add_parameter (_tmp10_, _tmp14_);
	_bala_ccode_node_unref0 (_tmp14_);
	_g_free0 (_tmp12_);
	_tmp15_ = function;
	bala_ccode_base_module_push_function (self, _tmp15_);
	_tmp16_ = bala_data_type_get_type_symbol (type);
	_tmp17_ = _tmp16_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp17_) : NULL;
	_tmp18_ = cl;
	_bala_assert (_tmp18_ != NULL, "cl != null");
	_tmp19_ = cl;
	_tmp20_ = bala_get_ccode_free_function ((BalaTypeSymbol*) _tmp19_);
	_tmp21_ = _tmp20_;
	_tmp22_ = bala_ccode_identifier_new (_tmp21_);
	_tmp23_ = _tmp22_;
	_tmp24_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp23_);
	_tmp25_ = _tmp24_;
	_bala_ccode_node_unref0 (_tmp23_);
	_g_free0 (_tmp21_);
	free_call = _tmp25_;
	_tmp26_ = free_call;
	_tmp27_ = bala_ccode_identifier_new ("self");
	_tmp28_ = _tmp27_;
	_tmp29_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp28_);
	_tmp30_ = _tmp29_;
	bala_ccode_function_call_add_argument (_tmp26_, (BalaCCodeExpression*) _tmp30_);
	_bala_ccode_node_unref0 (_tmp30_);
	_bala_ccode_node_unref0 (_tmp28_);
	_tmp31_ = bala_ccode_base_module_get_ccode (self);
	_tmp32_ = _tmp31_;
	_tmp33_ = free_call;
	bala_ccode_function_add_expression (_tmp32_, (BalaCCodeExpression*) _tmp33_);
	bala_ccode_base_module_pop_function (self);
	_tmp34_ = self->cfile;
	_tmp35_ = function;
	bala_ccode_file_add_function_declaration (_tmp34_, _tmp35_);
	_tmp36_ = self->cfile;
	_tmp37_ = function;
	bala_ccode_file_add_function (_tmp36_, _tmp37_);
	result = destroy_func;
	_bala_ccode_node_unref0 (free_call);
	_bala_ccode_node_unref0 (function);
	return result;
}

gchar*
bala_ccode_base_module_generate_destroy_function_content_of_wrapper (BalaCCodeBaseModule* self,
                                                                     BalaDataType* type)
{
	gchar* destroy_func = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaDataType* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	BalaCCodeParameter* _tmp14_;
	BalaCCodeParameter* _tmp15_;
	BalaCCodeFunction* _tmp16_;
	BalaCCodeFunction* _tmp17_;
	BalaCCodeFunction* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	BalaCCodeVariableDeclarator* _tmp21_;
	BalaCCodeVariableDeclarator* _tmp22_;
	BalaCCodeUnaryExpression* cast = NULL;
	BalaCCodeIdentifier* _tmp23_;
	BalaCCodeIdentifier* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	BalaCCodeCastExpression* _tmp29_;
	BalaCCodeCastExpression* _tmp30_;
	BalaCCodeUnaryExpression* _tmp31_;
	BalaCCodeUnaryExpression* _tmp32_;
	BalaCCodeFunction* _tmp33_;
	BalaCCodeFunction* _tmp34_;
	BalaCCodeIdentifier* _tmp35_;
	BalaCCodeIdentifier* _tmp36_;
	BalaCCodeUnaryExpression* _tmp37_;
	BalaCCodeFunctionCall* free_call = NULL;
	BalaCCodeExpression* _tmp38_;
	BalaCCodeExpression* _tmp39_;
	BalaCCodeFunctionCall* _tmp40_;
	BalaCCodeFunctionCall* _tmp41_;
	BalaCCodeFunctionCall* _tmp42_;
	BalaCCodeIdentifier* _tmp43_;
	BalaCCodeIdentifier* _tmp44_;
	BalaCCodeFunction* _tmp45_;
	BalaCCodeFunction* _tmp46_;
	BalaCCodeFunctionCall* _tmp47_;
	BalaCCodeFile* _tmp48_;
	BalaCCodeFunction* _tmp49_;
	BalaCCodeFile* _tmp50_;
	BalaCCodeFunction* _tmp51_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_name ((BalaCodeNode*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_bala_%s_free_function_content_of", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	destroy_func = _tmp5_;
	_tmp6_ = destroy_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = destroy_func;
		return result;
	}
	_tmp7_ = destroy_func;
	_tmp8_ = bala_ccode_function_new (_tmp7_, "void");
	function = _tmp8_;
	_tmp9_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp9_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp10_ = function;
	_tmp11_ = self->pointer_type;
	_tmp12_ = bala_get_ccode_name ((BalaCodeNode*) _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_ccode_parameter_new ("data", _tmp13_);
	_tmp15_ = _tmp14_;
	bala_ccode_function_add_parameter (_tmp10_, _tmp15_);
	_bala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp13_);
	_tmp16_ = function;
	bala_ccode_base_module_push_function (self, _tmp16_);
	_tmp17_ = bala_ccode_base_module_get_ccode (self);
	_tmp18_ = _tmp17_;
	_tmp19_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp20_ = _tmp19_;
	_tmp21_ = bala_ccode_variable_declarator_new ("self", NULL, NULL);
	_tmp22_ = _tmp21_;
	bala_ccode_function_add_declaration (_tmp18_, _tmp20_, (BalaCCodeDeclarator*) _tmp22_, 0);
	_bala_ccode_node_unref0 (_tmp22_);
	_g_free0 (_tmp20_);
	_tmp23_ = bala_ccode_identifier_new ("data");
	_tmp24_ = _tmp23_;
	_tmp25_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp26_ = _tmp25_;
	_tmp27_ = g_strconcat (_tmp26_, "*", NULL);
	_tmp28_ = _tmp27_;
	_tmp29_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp24_, _tmp28_);
	_tmp30_ = _tmp29_;
	_tmp31_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, (BalaCCodeExpression*) _tmp30_);
	_tmp32_ = _tmp31_;
	_bala_ccode_node_unref0 (_tmp30_);
	_g_free0 (_tmp28_);
	_g_free0 (_tmp26_);
	_bala_ccode_node_unref0 (_tmp24_);
	cast = _tmp32_;
	_tmp33_ = bala_ccode_base_module_get_ccode (self);
	_tmp34_ = _tmp33_;
	_tmp35_ = bala_ccode_identifier_new ("self");
	_tmp36_ = _tmp35_;
	_tmp37_ = cast;
	bala_ccode_function_add_assignment (_tmp34_, (BalaCCodeExpression*) _tmp36_, (BalaCCodeExpression*) _tmp37_);
	_bala_ccode_node_unref0 (_tmp36_);
	_tmp38_ = bala_ccode_base_module_get_destroy0_func_expression (self, type, FALSE);
	_tmp39_ = _tmp38_;
	_tmp40_ = bala_ccode_function_call_new (_tmp39_);
	_tmp41_ = _tmp40_;
	_bala_ccode_node_unref0 (_tmp39_);
	free_call = _tmp41_;
	_tmp42_ = free_call;
	_tmp43_ = bala_ccode_identifier_new ("self");
	_tmp44_ = _tmp43_;
	bala_ccode_function_call_add_argument (_tmp42_, (BalaCCodeExpression*) _tmp44_);
	_bala_ccode_node_unref0 (_tmp44_);
	_tmp45_ = bala_ccode_base_module_get_ccode (self);
	_tmp46_ = _tmp45_;
	_tmp47_ = free_call;
	bala_ccode_function_add_expression (_tmp46_, (BalaCCodeExpression*) _tmp47_);
	bala_ccode_base_module_pop_function (self);
	_tmp48_ = self->cfile;
	_tmp49_ = function;
	bala_ccode_file_add_function_declaration (_tmp48_, _tmp49_);
	_tmp50_ = self->cfile;
	_tmp51_ = function;
	bala_ccode_file_add_function (_tmp50_, _tmp51_);
	result = destroy_func;
	_bala_ccode_node_unref0 (free_call);
	_bala_ccode_node_unref0 (cast);
	_bala_ccode_node_unref0 (function);
	return result;
}

gchar*
bala_ccode_base_module_generate_free_func_wrapper (BalaCCodeBaseModule* self,
                                                   BalaDataType* type)
{
	gchar* destroy_func = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	BalaCCodeParameter* _tmp13_;
	BalaCCodeParameter* _tmp14_;
	BalaCCodeFunction* _tmp15_;
	gboolean _tmp16_ = FALSE;
	BalaTypeSymbol* _tmp17_;
	BalaTypeSymbol* _tmp18_;
	BalaCCodeFile* _tmp78_;
	BalaCCodeFunction* _tmp79_;
	BalaCCodeFile* _tmp80_;
	BalaCCodeFunction* _tmp81_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_name ((BalaCodeNode*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_bala_%s_free", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	destroy_func = _tmp5_;
	_tmp6_ = destroy_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = destroy_func;
		return result;
	}
	_tmp7_ = destroy_func;
	_tmp8_ = bala_ccode_function_new (_tmp7_, "void");
	function = _tmp8_;
	_tmp9_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp9_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp10_ = function;
	_tmp11_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp12_ = _tmp11_;
	_tmp13_ = bala_ccode_parameter_new ("self", _tmp12_);
	_tmp14_ = _tmp13_;
	bala_ccode_function_add_parameter (_tmp10_, _tmp14_);
	_bala_ccode_node_unref0 (_tmp14_);
	_g_free0 (_tmp12_);
	_tmp15_ = function;
	bala_ccode_base_module_push_function (self, _tmp15_);
	_tmp17_ = bala_data_type_get_type_symbol (type);
	_tmp18_ = _tmp17_;
	if (bala_get_ccode_is_gboxed (_tmp18_)) {
		_tmp16_ = TRUE;
	} else {
		gboolean _tmp19_ = FALSE;
		BalaStruct* _tmp20_;
		_tmp20_ = self->gvalue_type;
		if (_tmp20_ != NULL) {
			BalaTypeSymbol* _tmp21_;
			BalaTypeSymbol* _tmp22_;
			BalaStruct* _tmp23_;
			_tmp21_ = bala_data_type_get_type_symbol (type);
			_tmp22_ = _tmp21_;
			_tmp23_ = self->gvalue_type;
			_tmp19_ = _tmp22_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		} else {
			_tmp19_ = FALSE;
		}
		_tmp16_ = _tmp19_;
	}
	if (_tmp16_) {
		BalaCCodeFunctionCall* free_call = NULL;
		BalaCCodeIdentifier* _tmp24_;
		BalaCCodeIdentifier* _tmp25_;
		BalaCCodeFunctionCall* _tmp26_;
		BalaCCodeFunctionCall* _tmp27_;
		BalaCCodeFunctionCall* _tmp28_;
		BalaTypeSymbol* _tmp29_;
		BalaTypeSymbol* _tmp30_;
		gchar* _tmp31_;
		gchar* _tmp32_;
		BalaCCodeIdentifier* _tmp33_;
		BalaCCodeIdentifier* _tmp34_;
		BalaCCodeFunctionCall* _tmp35_;
		BalaCCodeIdentifier* _tmp36_;
		BalaCCodeIdentifier* _tmp37_;
		BalaCCodeFunction* _tmp38_;
		BalaCCodeFunction* _tmp39_;
		BalaCCodeFunctionCall* _tmp40_;
		_tmp24_ = bala_ccode_identifier_new ("g_boxed_free");
		_tmp25_ = _tmp24_;
		_tmp26_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp25_);
		_tmp27_ = _tmp26_;
		_bala_ccode_node_unref0 (_tmp25_);
		free_call = _tmp27_;
		_tmp28_ = free_call;
		_tmp29_ = bala_data_type_get_type_symbol (type);
		_tmp30_ = _tmp29_;
		_tmp31_ = bala_get_ccode_type_id ((BalaCodeNode*) _tmp30_);
		_tmp32_ = _tmp31_;
		_tmp33_ = bala_ccode_identifier_new (_tmp32_);
		_tmp34_ = _tmp33_;
		bala_ccode_function_call_add_argument (_tmp28_, (BalaCCodeExpression*) _tmp34_);
		_bala_ccode_node_unref0 (_tmp34_);
		_g_free0 (_tmp32_);
		_tmp35_ = free_call;
		_tmp36_ = bala_ccode_identifier_new ("self");
		_tmp37_ = _tmp36_;
		bala_ccode_function_call_add_argument (_tmp35_, (BalaCCodeExpression*) _tmp37_);
		_bala_ccode_node_unref0 (_tmp37_);
		_tmp38_ = bala_ccode_base_module_get_ccode (self);
		_tmp39_ = _tmp38_;
		_tmp40_ = free_call;
		bala_ccode_function_add_expression (_tmp39_, (BalaCCodeExpression*) _tmp40_);
		_bala_ccode_node_unref0 (free_call);
	} else {
		BalaStruct* st = NULL;
		BalaTypeSymbol* _tmp41_;
		BalaTypeSymbol* _tmp42_;
		gboolean _tmp43_ = FALSE;
		BalaStruct* _tmp44_;
		BalaCCodeFunctionCall* free_call = NULL;
		BalaCodeContext* _tmp61_;
		BalaProfile _tmp62_;
		BalaProfile _tmp63_;
		BalaCCodeFunctionCall* _tmp72_;
		BalaCCodeIdentifier* _tmp73_;
		BalaCCodeIdentifier* _tmp74_;
		BalaCCodeFunction* _tmp75_;
		BalaCCodeFunction* _tmp76_;
		BalaCCodeFunctionCall* _tmp77_;
		_tmp41_ = bala_data_type_get_type_symbol (type);
		_tmp42_ = _tmp41_;
		st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp42_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp42_) : NULL;
		_tmp44_ = st;
		if (_tmp44_ != NULL) {
			BalaStruct* _tmp45_;
			_tmp45_ = st;
			_tmp43_ = bala_struct_is_disposable (_tmp45_);
		} else {
			_tmp43_ = FALSE;
		}
		if (_tmp43_) {
			BalaStruct* _tmp46_;
			BalaCCodeFunctionCall* destroy_call = NULL;
			BalaStruct* _tmp48_;
			gchar* _tmp49_;
			gchar* _tmp50_;
			BalaCCodeIdentifier* _tmp51_;
			BalaCCodeIdentifier* _tmp52_;
			BalaCCodeFunctionCall* _tmp53_;
			BalaCCodeFunctionCall* _tmp54_;
			BalaCCodeFunctionCall* _tmp55_;
			BalaCCodeIdentifier* _tmp56_;
			BalaCCodeIdentifier* _tmp57_;
			BalaCCodeFunction* _tmp58_;
			BalaCCodeFunction* _tmp59_;
			BalaCCodeFunctionCall* _tmp60_;
			_tmp46_ = st;
			if (!bala_get_ccode_has_destroy_function (_tmp46_)) {
				BalaStruct* _tmp47_;
				_tmp47_ = st;
				bala_ccode_base_module_generate_struct_destroy_function (self, _tmp47_);
			}
			_tmp48_ = st;
			_tmp49_ = bala_get_ccode_destroy_function ((BalaTypeSymbol*) _tmp48_);
			_tmp50_ = _tmp49_;
			_tmp51_ = bala_ccode_identifier_new (_tmp50_);
			_tmp52_ = _tmp51_;
			_tmp53_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp52_);
			_tmp54_ = _tmp53_;
			_bala_ccode_node_unref0 (_tmp52_);
			_g_free0 (_tmp50_);
			destroy_call = _tmp54_;
			_tmp55_ = destroy_call;
			_tmp56_ = bala_ccode_identifier_new ("self");
			_tmp57_ = _tmp56_;
			bala_ccode_function_call_add_argument (_tmp55_, (BalaCCodeExpression*) _tmp57_);
			_bala_ccode_node_unref0 (_tmp57_);
			_tmp58_ = bala_ccode_base_module_get_ccode (self);
			_tmp59_ = _tmp58_;
			_tmp60_ = destroy_call;
			bala_ccode_function_add_expression (_tmp59_, (BalaCCodeExpression*) _tmp60_);
			_bala_ccode_node_unref0 (destroy_call);
		}
		_tmp61_ = self->priv->_context;
		_tmp62_ = bala_code_context_get_profile (_tmp61_);
		_tmp63_ = _tmp62_;
		if (_tmp63_ == BALA_PROFILE_POSIX) {
			BalaCCodeFile* _tmp64_;
			BalaCCodeIdentifier* _tmp65_;
			BalaCCodeIdentifier* _tmp66_;
			BalaCCodeFunctionCall* _tmp67_;
			_tmp64_ = self->cfile;
			bala_ccode_file_add_include (_tmp64_, "stdlib.h", FALSE);
			_tmp65_ = bala_ccode_identifier_new ("free");
			_tmp66_ = _tmp65_;
			_tmp67_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp66_);
			_bala_ccode_node_unref0 (free_call);
			free_call = _tmp67_;
			_bala_ccode_node_unref0 (_tmp66_);
		} else {
			BalaCCodeFile* _tmp68_;
			BalaCCodeIdentifier* _tmp69_;
			BalaCCodeIdentifier* _tmp70_;
			BalaCCodeFunctionCall* _tmp71_;
			_tmp68_ = self->cfile;
			bala_ccode_file_add_include (_tmp68_, "glib.h", FALSE);
			_tmp69_ = bala_ccode_identifier_new ("g_free");
			_tmp70_ = _tmp69_;
			_tmp71_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp70_);
			_bala_ccode_node_unref0 (free_call);
			free_call = _tmp71_;
			_bala_ccode_node_unref0 (_tmp70_);
		}
		_tmp72_ = free_call;
		_tmp73_ = bala_ccode_identifier_new ("self");
		_tmp74_ = _tmp73_;
		bala_ccode_function_call_add_argument (_tmp72_, (BalaCCodeExpression*) _tmp74_);
		_bala_ccode_node_unref0 (_tmp74_);
		_tmp75_ = bala_ccode_base_module_get_ccode (self);
		_tmp76_ = _tmp75_;
		_tmp77_ = free_call;
		bala_ccode_function_add_expression (_tmp76_, (BalaCCodeExpression*) _tmp77_);
		_bala_ccode_node_unref0 (free_call);
	}
	bala_ccode_base_module_pop_function (self);
	_tmp78_ = self->cfile;
	_tmp79_ = function;
	bala_ccode_file_add_function_declaration (_tmp78_, _tmp79_);
	_tmp80_ = self->cfile;
	_tmp81_ = function;
	bala_ccode_file_add_function (_tmp80_, _tmp81_);
	result = destroy_func;
	_bala_ccode_node_unref0 (function);
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_destroy0_func_expression (BalaCCodeBaseModule* self,
                                                     BalaDataType* type,
                                                     gboolean is_chainup)
{
	BalaCCodeExpression* element_destroy_func_expression = NULL;
	BalaCCodeExpression* _tmp0_;
	gboolean _tmp1_ = FALSE;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_destroy_func_expression (self, type, is_chainup);
	element_destroy_func_expression = _tmp0_;
	if (!G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
		BalaCCodeExpression* _tmp2_;
		_tmp2_ = element_destroy_func_expression;
		_tmp1_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, BALA_TYPE_CCODE_IDENTIFIER);
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		BalaCCodeIdentifier* freeid = NULL;
		BalaCCodeExpression* _tmp3_;
		BalaCCodeIdentifier* _tmp4_;
		gchar* free0_func = NULL;
		BalaCCodeIdentifier* _tmp5_;
		const gchar* _tmp6_;
		const gchar* _tmp7_;
		gchar* _tmp8_;
		const gchar* _tmp9_;
		const gchar* _tmp32_;
		BalaCCodeIdentifier* _tmp33_;
		_tmp3_ = element_destroy_func_expression;
		_tmp4_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, BALA_TYPE_CCODE_IDENTIFIER, BalaCCodeIdentifier));
		freeid = _tmp4_;
		_tmp5_ = freeid;
		_tmp6_ = bala_ccode_identifier_get_name (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp8_ = g_strdup_printf ("_%s0_", _tmp7_);
		free0_func = _tmp8_;
		_tmp9_ = free0_func;
		if (bala_ccode_base_module_add_wrapper (self, _tmp9_)) {
			BalaCCodeFunction* function = NULL;
			const gchar* _tmp10_;
			BalaCCodeFunction* _tmp11_;
			BalaCCodeFunction* _tmp12_;
			BalaCCodeFunction* _tmp13_;
			BalaDataType* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			BalaCCodeParameter* _tmp17_;
			BalaCCodeParameter* _tmp18_;
			BalaCCodeFunction* _tmp19_;
			BalaCCodeFunction* _tmp20_;
			BalaCCodeFunction* _tmp21_;
			BalaCCodeIdentifier* _tmp22_;
			BalaCCodeIdentifier* _tmp23_;
			BalaGLibValue* _tmp24_;
			BalaGLibValue* _tmp25_;
			BalaCCodeExpression* _tmp26_;
			BalaCCodeExpression* _tmp27_;
			BalaCCodeFile* _tmp28_;
			BalaCCodeFunction* _tmp29_;
			BalaCCodeFile* _tmp30_;
			BalaCCodeFunction* _tmp31_;
			_tmp10_ = free0_func;
			_tmp11_ = bala_ccode_function_new (_tmp10_, "void");
			function = _tmp11_;
			_tmp12_ = function;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp12_, BALA_CCODE_MODIFIERS_STATIC);
			_tmp13_ = function;
			_tmp14_ = self->pointer_type;
			_tmp15_ = bala_get_ccode_name ((BalaCodeNode*) _tmp14_);
			_tmp16_ = _tmp15_;
			_tmp17_ = bala_ccode_parameter_new ("var", _tmp16_);
			_tmp18_ = _tmp17_;
			bala_ccode_function_add_parameter (_tmp13_, _tmp18_);
			_bala_ccode_node_unref0 (_tmp18_);
			_g_free0 (_tmp16_);
			_tmp19_ = function;
			bala_ccode_base_module_push_function (self, _tmp19_);
			_tmp20_ = bala_ccode_base_module_get_ccode (self);
			_tmp21_ = _tmp20_;
			_tmp22_ = bala_ccode_identifier_new ("var");
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_glib_value_new (type, (BalaCCodeExpression*) _tmp23_, TRUE);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_ccode_base_module_destroy_value (self, (BalaTargetValue*) _tmp25_, TRUE);
			_tmp27_ = _tmp26_;
			bala_ccode_function_add_expression (_tmp21_, _tmp27_);
			_bala_ccode_node_unref0 (_tmp27_);
			_bala_target_value_unref0 (_tmp25_);
			_bala_ccode_node_unref0 (_tmp23_);
			bala_ccode_base_module_pop_function (self);
			_tmp28_ = self->cfile;
			_tmp29_ = function;
			bala_ccode_file_add_function_declaration (_tmp28_, _tmp29_);
			_tmp30_ = self->cfile;
			_tmp31_ = function;
			bala_ccode_file_add_function (_tmp30_, _tmp31_);
			_bala_ccode_node_unref0 (function);
		}
		_tmp32_ = free0_func;
		_tmp33_ = bala_ccode_identifier_new (_tmp32_);
		_bala_ccode_node_unref0 (element_destroy_func_expression);
		element_destroy_func_expression = (BalaCCodeExpression*) _tmp33_;
		_g_free0 (free0_func);
		_bala_ccode_node_unref0 (freeid);
	}
	result = element_destroy_func_expression;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_destroy_func_expression (BalaCCodeBaseModule* self,
                                                    BalaDataType* type,
                                                    gboolean is_chainup)
{
	gboolean _tmp0_ = FALSE;
	BalaCodeContext* _tmp1_;
	BalaProfile _tmp2_;
	BalaProfile _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp1_ = self->priv->_context;
	_tmp2_ = bala_code_context_get_profile (_tmp1_);
	_tmp3_ = _tmp2_;
	if (_tmp3_ == BALA_PROFILE_GOBJECT) {
		gboolean _tmp4_ = FALSE;
		gboolean _tmp5_ = FALSE;
		gboolean _tmp6_ = FALSE;
		BalaTypeSymbol* _tmp7_;
		BalaTypeSymbol* _tmp8_;
		BalaClass* _tmp9_;
		_tmp7_ = bala_data_type_get_type_symbol (type);
		_tmp8_ = _tmp7_;
		_tmp9_ = self->glist_type;
		if (_tmp8_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
			_tmp6_ = TRUE;
		} else {
			BalaTypeSymbol* _tmp10_;
			BalaTypeSymbol* _tmp11_;
			BalaClass* _tmp12_;
			_tmp10_ = bala_data_type_get_type_symbol (type);
			_tmp11_ = _tmp10_;
			_tmp12_ = self->gslist_type;
			_tmp6_ = _tmp11_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		}
		if (_tmp6_) {
			_tmp5_ = TRUE;
		} else {
			BalaTypeSymbol* _tmp13_;
			BalaTypeSymbol* _tmp14_;
			BalaClass* _tmp15_;
			_tmp13_ = bala_data_type_get_type_symbol (type);
			_tmp14_ = _tmp13_;
			_tmp15_ = self->gnode_type;
			_tmp5_ = _tmp14_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		}
		if (_tmp5_) {
			_tmp4_ = TRUE;
		} else {
			BalaTypeSymbol* _tmp16_;
			BalaTypeSymbol* _tmp17_;
			BalaClass* _tmp18_;
			_tmp16_ = bala_data_type_get_type_symbol (type);
			_tmp17_ = _tmp16_;
			_tmp18_ = self->gqueue_type;
			_tmp4_ = _tmp17_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		}
		_tmp0_ = _tmp4_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gboolean elements_require_free = FALSE;
		gboolean generic_elements = FALSE;
		BalaCCodeExpression* element_destroy_func_expression = NULL;
		elements_require_free = FALSE;
		generic_elements = FALSE;
		element_destroy_func_expression = NULL;
		{
			BalaList* _type_arg_list = NULL;
			BalaList* _tmp19_;
			BalaList* _tmp20_;
			gint _type_arg_size = 0;
			BalaList* _tmp21_;
			gint _tmp22_;
			gint _tmp23_;
			gint _type_arg_index = 0;
			_tmp19_ = bala_data_type_get_type_arguments (type);
			_tmp20_ = _bala_iterable_ref0 (_tmp19_);
			_type_arg_list = _tmp20_;
			_tmp21_ = _type_arg_list;
			_tmp22_ = bala_collection_get_size ((BalaCollection*) _tmp21_);
			_tmp23_ = _tmp22_;
			_type_arg_size = _tmp23_;
			_type_arg_index = -1;
			while (TRUE) {
				gint _tmp24_;
				gint _tmp25_;
				BalaDataType* type_arg = NULL;
				BalaList* _tmp26_;
				gpointer _tmp27_;
				BalaDataType* _tmp28_;
				_type_arg_index = _type_arg_index + 1;
				_tmp24_ = _type_arg_index;
				_tmp25_ = _type_arg_size;
				if (!(_tmp24_ < _tmp25_)) {
					break;
				}
				_tmp26_ = _type_arg_list;
				_tmp27_ = bala_list_get (_tmp26_, _type_arg_index);
				type_arg = (BalaDataType*) _tmp27_;
				_tmp28_ = type_arg;
				elements_require_free = bala_ccode_base_module_requires_destroy (_tmp28_);
				if (elements_require_free) {
					BalaDataType* _tmp29_;
					BalaCCodeExpression* _tmp30_;
					BalaDataType* _tmp31_;
					_tmp29_ = type_arg;
					_tmp30_ = bala_ccode_base_module_get_destroy0_func_expression (self, _tmp29_, FALSE);
					_bala_ccode_node_unref0 (element_destroy_func_expression);
					element_destroy_func_expression = _tmp30_;
					_tmp31_ = type_arg;
					generic_elements = G_TYPE_CHECK_INSTANCE_TYPE (_tmp31_, BALA_TYPE_GENERIC_TYPE);
				}
				_bala_code_node_unref0 (type_arg);
			}
			_bala_iterable_unref0 (_type_arg_list);
		}
		if (elements_require_free) {
			BalaCCodeExpression* cexpr = NULL;
			gboolean _tmp32_ = FALSE;
			BalaCCodeExpression* _tmp33_;
			cexpr = NULL;
			_tmp33_ = element_destroy_func_expression;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp33_, BALA_TYPE_CCODE_IDENTIFIER)) {
				_tmp32_ = TRUE;
			} else {
				BalaCCodeExpression* _tmp34_;
				_tmp34_ = element_destroy_func_expression;
				_tmp32_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp34_, BALA_TYPE_CCODE_MEMBER_ACCESS);
			}
			if (_tmp32_) {
				BalaCCodeIdentifier* _tmp35_ = NULL;
				gchar* _tmp37_;
				gchar* _tmp38_;
				BalaCCodeIdentifier* _tmp39_;
				if (generic_elements) {
					_tmp35_ = NULL;
				} else {
					BalaCCodeExpression* _tmp36_;
					_tmp36_ = element_destroy_func_expression;
					_tmp35_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp36_, BALA_TYPE_CCODE_IDENTIFIER) ? ((BalaCCodeIdentifier*) _tmp36_) : NULL;
				}
				_tmp37_ = bala_ccode_base_module_generate_collection_free_wrapper (self, type, _tmp35_);
				_tmp38_ = _tmp37_;
				_tmp39_ = bala_ccode_identifier_new (_tmp38_);
				_bala_ccode_node_unref0 (cexpr);
				cexpr = (BalaCCodeExpression*) _tmp39_;
				_g_free0 (_tmp38_);
				if (generic_elements) {
					BalaCCodeExpression* _tmp40_;
					BalaCCodeFunctionCall* _tmp41_;
					BalaCCodeExpression* _tmp42_;
					BalaCCodeExpression* _tmp43_;
					_tmp40_ = cexpr;
					_tmp41_ = bala_ccode_function_call_new (_tmp40_);
					_bala_ccode_node_unref0 (cexpr);
					cexpr = (BalaCCodeExpression*) _tmp41_;
					_tmp42_ = cexpr;
					_tmp43_ = element_destroy_func_expression;
					bala_ccode_function_call_add_argument (G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall), _tmp43_);
				}
			} else {
				bala_report_error (NULL, "internal error: No useable element_destroy_function found");
			}
			result = cexpr;
			_bala_ccode_node_unref0 (element_destroy_func_expression);
			return result;
		} else {
			BalaTypeSymbol* _tmp44_;
			BalaTypeSymbol* _tmp45_;
			gchar* _tmp46_;
			gchar* _tmp47_;
			BalaCCodeIdentifier* _tmp48_;
			BalaCCodeExpression* _tmp49_;
			_tmp44_ = bala_data_type_get_type_symbol (type);
			_tmp45_ = _tmp44_;
			_tmp46_ = bala_get_ccode_free_function (_tmp45_);
			_tmp47_ = _tmp46_;
			_tmp48_ = bala_ccode_identifier_new (_tmp47_);
			_tmp49_ = (BalaCCodeExpression*) _tmp48_;
			_g_free0 (_tmp47_);
			result = _tmp49_;
			_bala_ccode_node_unref0 (element_destroy_func_expression);
			return result;
		}
		_bala_ccode_node_unref0 (element_destroy_func_expression);
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ERROR_TYPE)) {
			BalaCCodeFile* _tmp50_;
			BalaCCodeIdentifier* _tmp51_;
			_tmp50_ = self->cfile;
			bala_ccode_file_add_include (_tmp50_, "glib.h", FALSE);
			_tmp51_ = bala_ccode_identifier_new ("g_error_free");
			result = (BalaCCodeExpression*) _tmp51_;
			return result;
		} else {
			BalaTypeSymbol* _tmp52_;
			BalaTypeSymbol* _tmp53_;
			_tmp52_ = bala_data_type_get_type_symbol (type);
			_tmp53_ = _tmp52_;
			if (_tmp53_ != NULL) {
				gchar* unref_function = NULL;
				const gchar* _tmp109_;
				const gchar* _tmp111_;
				BalaCCodeIdentifier* _tmp112_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_REFERENCE_TYPE)) {
					BalaTypeSymbol* _tmp54_;
					BalaTypeSymbol* _tmp55_;
					_tmp54_ = bala_data_type_get_type_symbol (type);
					_tmp55_ = _tmp54_;
					if (bala_is_reference_counting (_tmp55_)) {
						BalaTypeSymbol* _tmp56_;
						BalaTypeSymbol* _tmp57_;
						gchar* _tmp58_;
						gboolean _tmp59_ = FALSE;
						BalaTypeSymbol* _tmp60_;
						BalaTypeSymbol* _tmp61_;
						_tmp56_ = bala_data_type_get_type_symbol (type);
						_tmp57_ = _tmp56_;
						_tmp58_ = bala_get_ccode_unref_function (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, BALA_TYPE_OBJECT_TYPE_SYMBOL, BalaObjectTypeSymbol));
						_g_free0 (unref_function);
						unref_function = _tmp58_;
						_tmp60_ = bala_data_type_get_type_symbol (type);
						_tmp61_ = _tmp60_;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp61_, BALA_TYPE_INTERFACE)) {
							const gchar* _tmp62_;
							_tmp62_ = unref_function;
							_tmp59_ = _tmp62_ == NULL;
						} else {
							_tmp59_ = FALSE;
						}
						if (_tmp59_) {
							BalaSourceReference* _tmp63_;
							BalaSourceReference* _tmp64_;
							BalaTypeSymbol* _tmp65_;
							BalaTypeSymbol* _tmp66_;
							gchar* _tmp67_;
							gchar* _tmp68_;
							gchar* _tmp69_;
							gchar* _tmp70_;
							_tmp63_ = bala_code_node_get_source_reference ((BalaCodeNode*) type);
							_tmp64_ = _tmp63_;
							_tmp65_ = bala_data_type_get_type_symbol (type);
							_tmp66_ = _tmp65_;
							_tmp67_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp66_);
							_tmp68_ = _tmp67_;
							_tmp69_ = g_strdup_printf ("missing class prerequisite for interface `%s', add GLib.Object to inte" \
"rface declaration if unsure", _tmp68_);
							_tmp70_ = _tmp69_;
							bala_report_error (_tmp64_, _tmp70_);
							_g_free0 (_tmp70_);
							_g_free0 (_tmp68_);
							result = NULL;
							_g_free0 (unref_function);
							return result;
						}
					} else {
						BalaTypeSymbol* _tmp71_;
						BalaTypeSymbol* _tmp72_;
						_tmp71_ = bala_data_type_get_type_symbol (type);
						_tmp72_ = _tmp71_;
						if (bala_get_ccode_is_gboxed (_tmp72_)) {
							gchar* _tmp73_;
							_tmp73_ = bala_ccode_base_module_generate_free_func_wrapper (self, type);
							_g_free0 (unref_function);
							unref_function = _tmp73_;
						} else {
							if (bala_is_free_function_address_of (type)) {
								gchar* _tmp74_;
								_tmp74_ = bala_ccode_base_module_generate_free_function_address_of_wrapper (self, type);
								_g_free0 (unref_function);
								unref_function = _tmp74_;
							} else {
								BalaTypeSymbol* _tmp75_;
								BalaTypeSymbol* _tmp76_;
								gchar* _tmp77_;
								_tmp75_ = bala_data_type_get_type_symbol (type);
								_tmp76_ = _tmp75_;
								_tmp77_ = bala_get_ccode_free_function (_tmp76_);
								_g_free0 (unref_function);
								unref_function = _tmp77_;
							}
						}
					}
				} else {
					gboolean _tmp78_;
					gboolean _tmp79_;
					_tmp78_ = bala_data_type_get_nullable (type);
					_tmp79_ = _tmp78_;
					if (_tmp79_) {
						BalaTypeSymbol* _tmp80_;
						BalaTypeSymbol* _tmp81_;
						const gchar* _tmp86_;
						_tmp80_ = bala_data_type_get_type_symbol (type);
						_tmp81_ = _tmp80_;
						if (bala_get_ccode_is_gboxed (_tmp81_)) {
							gchar* _tmp82_;
							_tmp82_ = bala_ccode_base_module_generate_free_func_wrapper (self, type);
							_g_free0 (unref_function);
							unref_function = _tmp82_;
						} else {
							BalaTypeSymbol* _tmp83_;
							BalaTypeSymbol* _tmp84_;
							gchar* _tmp85_;
							_tmp83_ = bala_data_type_get_type_symbol (type);
							_tmp84_ = _tmp83_;
							_tmp85_ = bala_get_ccode_free_function (_tmp84_);
							_g_free0 (unref_function);
							unref_function = _tmp85_;
						}
						_tmp86_ = unref_function;
						if (_tmp86_ == NULL) {
							gboolean _tmp87_ = FALSE;
							BalaTypeSymbol* _tmp88_;
							BalaTypeSymbol* _tmp89_;
							_tmp88_ = bala_data_type_get_type_symbol (type);
							_tmp89_ = _tmp88_;
							if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp89_, BALA_TYPE_STRUCT)) {
								BalaTypeSymbol* _tmp90_;
								BalaTypeSymbol* _tmp91_;
								_tmp90_ = bala_data_type_get_type_symbol (type);
								_tmp91_ = _tmp90_;
								_tmp87_ = bala_struct_is_disposable (G_TYPE_CHECK_INSTANCE_CAST (_tmp91_, BALA_TYPE_STRUCT, BalaStruct));
							} else {
								_tmp87_ = FALSE;
							}
							if (_tmp87_) {
								gchar* _tmp92_;
								_tmp92_ = bala_ccode_base_module_generate_free_func_wrapper (self, type);
								_g_free0 (unref_function);
								unref_function = _tmp92_;
							} else {
								BalaCodeContext* _tmp93_;
								BalaProfile _tmp94_;
								BalaProfile _tmp95_;
								_tmp93_ = self->priv->_context;
								_tmp94_ = bala_code_context_get_profile (_tmp93_);
								_tmp95_ = _tmp94_;
								if (_tmp95_ == BALA_PROFILE_POSIX) {
									BalaCCodeFile* _tmp96_;
									gchar* _tmp97_;
									_tmp96_ = self->cfile;
									bala_ccode_file_add_include (_tmp96_, "stdlib.h", FALSE);
									_tmp97_ = g_strdup ("free");
									_g_free0 (unref_function);
									unref_function = _tmp97_;
								} else {
									BalaCCodeFile* _tmp98_;
									gchar* _tmp99_;
									_tmp98_ = self->cfile;
									bala_ccode_file_add_include (_tmp98_, "glib.h", FALSE);
									_tmp99_ = g_strdup ("g_free");
									_g_free0 (unref_function);
									unref_function = _tmp99_;
								}
							}
						}
					} else {
						if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ENUM_VALUE_TYPE)) {
							_g_free0 (unref_function);
							unref_function = NULL;
						} else {
							BalaStruct* st = NULL;
							BalaTypeSymbol* _tmp100_;
							BalaTypeSymbol* _tmp101_;
							gboolean _tmp102_ = FALSE;
							BalaStruct* _tmp103_;
							_tmp100_ = bala_data_type_get_type_symbol (type);
							_tmp101_ = _tmp100_;
							st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp101_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp101_) : NULL;
							_tmp103_ = st;
							if (_tmp103_ != NULL) {
								BalaStruct* _tmp104_;
								_tmp104_ = st;
								_tmp102_ = bala_struct_is_disposable (_tmp104_);
							} else {
								_tmp102_ = FALSE;
							}
							if (_tmp102_) {
								BalaStruct* _tmp105_;
								BalaStruct* _tmp107_;
								gchar* _tmp108_;
								_tmp105_ = st;
								if (!bala_get_ccode_has_destroy_function (_tmp105_)) {
									BalaStruct* _tmp106_;
									_tmp106_ = st;
									bala_ccode_base_module_generate_struct_destroy_function (self, _tmp106_);
								}
								_tmp107_ = st;
								_tmp108_ = bala_get_ccode_destroy_function ((BalaTypeSymbol*) _tmp107_);
								_g_free0 (unref_function);
								unref_function = _tmp108_;
							} else {
								_g_free0 (unref_function);
								unref_function = NULL;
							}
						}
					}
				}
				_tmp109_ = unref_function;
				if (_tmp109_ == NULL) {
					BalaCCodeConstant* _tmp110_;
					_tmp110_ = bala_ccode_constant_new ("NULL");
					result = (BalaCCodeExpression*) _tmp110_;
					_g_free0 (unref_function);
					return result;
				}
				_tmp111_ = unref_function;
				_tmp112_ = bala_ccode_identifier_new (_tmp111_);
				result = (BalaCCodeExpression*) _tmp112_;
				_g_free0 (unref_function);
				return result;
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
					BalaTypeParameter* type_parameter = NULL;
					BalaTypeParameter* _tmp113_;
					BalaTypeParameter* _tmp114_;
					BalaTypeParameter* _tmp115_;
					gchar* func_name = NULL;
					BalaTypeParameter* _tmp116_;
					const gchar* _tmp117_;
					const gchar* _tmp118_;
					gchar* _tmp119_;
					gchar* _tmp120_;
					gchar* _tmp121_;
					gchar* _tmp122_;
					BalaTypeParameter* _tmp123_;
					BalaSymbol* _tmp124_;
					BalaSymbol* _tmp125_;
					gboolean _tmp157_ = FALSE;
					gboolean _tmp158_ = FALSE;
					_tmp113_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
					_tmp114_ = _tmp113_;
					_tmp115_ = _bala_code_node_ref0 (_tmp114_);
					type_parameter = _tmp115_;
					_tmp116_ = type_parameter;
					_tmp117_ = bala_symbol_get_name ((BalaSymbol*) _tmp116_);
					_tmp118_ = _tmp117_;
					_tmp119_ = g_ascii_strdown (_tmp118_, (gssize) -1);
					_tmp120_ = _tmp119_;
					_tmp121_ = g_strdup_printf ("%s_destroy_func", _tmp120_);
					_tmp122_ = _tmp121_;
					_g_free0 (_tmp120_);
					func_name = _tmp122_;
					_tmp123_ = type_parameter;
					_tmp124_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp123_);
					_tmp125_ = _tmp124_;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp125_, BALA_TYPE_INTERFACE)) {
						BalaInterface* iface = NULL;
						BalaTypeParameter* _tmp126_;
						BalaSymbol* _tmp127_;
						BalaSymbol* _tmp128_;
						BalaInterface* _tmp129_;
						BalaInterface* _tmp130_;
						gchar* method_name = NULL;
						BalaTypeParameter* _tmp131_;
						const gchar* _tmp132_;
						const gchar* _tmp133_;
						gchar* _tmp134_;
						gchar* _tmp135_;
						gchar* _tmp136_;
						gchar* _tmp137_;
						BalaCCodeFunctionCall* cast_self = NULL;
						BalaInterface* _tmp138_;
						gchar* _tmp139_;
						gchar* _tmp140_;
						BalaCCodeIdentifier* _tmp141_;
						BalaCCodeIdentifier* _tmp142_;
						BalaCCodeFunctionCall* _tmp143_;
						BalaCCodeFunctionCall* _tmp144_;
						BalaCCodeFunctionCall* _tmp145_;
						BalaCCodeExpression* _tmp146_;
						BalaCCodeExpression* _tmp147_;
						BalaCCodeFunctionCall* function_call = NULL;
						BalaCCodeFunctionCall* _tmp148_;
						const gchar* _tmp149_;
						BalaCCodeMemberAccess* _tmp150_;
						BalaCCodeMemberAccess* _tmp151_;
						BalaCCodeFunctionCall* _tmp152_;
						BalaCCodeFunctionCall* _tmp153_;
						BalaCCodeFunctionCall* _tmp154_;
						BalaCCodeExpression* _tmp155_;
						BalaCCodeExpression* _tmp156_;
						_tmp126_ = type_parameter;
						_tmp127_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp126_);
						_tmp128_ = _tmp127_;
						_tmp129_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp128_, BALA_TYPE_INTERFACE, BalaInterface));
						iface = _tmp129_;
						_tmp130_ = iface;
						bala_ccode_base_module_require_generic_accessors (self, _tmp130_);
						_tmp131_ = type_parameter;
						_tmp132_ = bala_symbol_get_name ((BalaSymbol*) _tmp131_);
						_tmp133_ = _tmp132_;
						_tmp134_ = g_ascii_strdown (_tmp133_, (gssize) -1);
						_tmp135_ = _tmp134_;
						_tmp136_ = g_strdup_printf ("get_%s_destroy_func", _tmp135_);
						_tmp137_ = _tmp136_;
						_g_free0 (_tmp135_);
						method_name = _tmp137_;
						_tmp138_ = iface;
						_tmp139_ = bala_get_ccode_type_get_function ((BalaObjectTypeSymbol*) _tmp138_);
						_tmp140_ = _tmp139_;
						_tmp141_ = bala_ccode_identifier_new (_tmp140_);
						_tmp142_ = _tmp141_;
						_tmp143_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp142_);
						_tmp144_ = _tmp143_;
						_bala_ccode_node_unref0 (_tmp142_);
						_g_free0 (_tmp140_);
						cast_self = _tmp144_;
						_tmp145_ = cast_self;
						_tmp146_ = bala_ccode_base_module_get_this_cexpression (self);
						_tmp147_ = _tmp146_;
						bala_ccode_function_call_add_argument (_tmp145_, _tmp147_);
						_bala_ccode_node_unref0 (_tmp147_);
						_tmp148_ = cast_self;
						_tmp149_ = method_name;
						_tmp150_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp148_, _tmp149_);
						_tmp151_ = _tmp150_;
						_tmp152_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp151_);
						_tmp153_ = _tmp152_;
						_bala_ccode_node_unref0 (_tmp151_);
						function_call = _tmp153_;
						_tmp154_ = function_call;
						_tmp155_ = bala_ccode_base_module_get_this_cexpression (self);
						_tmp156_ = _tmp155_;
						bala_ccode_function_call_add_argument (_tmp154_, _tmp156_);
						_bala_ccode_node_unref0 (_tmp156_);
						result = (BalaCCodeExpression*) function_call;
						_bala_ccode_node_unref0 (cast_self);
						_g_free0 (method_name);
						_bala_code_node_unref0 (iface);
						_g_free0 (func_name);
						_bala_code_node_unref0 (type_parameter);
						return result;
					}
					if (bala_ccode_base_module_is_in_generic_type (self, G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType))) {
						_tmp158_ = !is_chainup;
					} else {
						_tmp158_ = FALSE;
					}
					if (_tmp158_) {
						gboolean _tmp159_;
						gboolean _tmp160_;
						_tmp159_ = bala_ccode_base_module_get_in_creation_method (self);
						_tmp160_ = _tmp159_;
						_tmp157_ = !_tmp160_;
					} else {
						_tmp157_ = FALSE;
					}
					if (_tmp157_) {
						BalaCCodeExpression* _tmp161_;
						BalaCCodeExpression* _tmp162_;
						BalaCCodeMemberAccess* _tmp163_;
						BalaCCodeMemberAccess* _tmp164_;
						const gchar* _tmp165_;
						BalaCCodeMemberAccess* _tmp166_;
						BalaCCodeExpression* _tmp167_;
						_tmp161_ = bala_ccode_base_module_get_this_cexpression (self);
						_tmp162_ = _tmp161_;
						_tmp163_ = bala_ccode_member_access_new_pointer (_tmp162_, "priv");
						_tmp164_ = _tmp163_;
						_tmp165_ = func_name;
						_tmp166_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp164_, _tmp165_);
						_tmp167_ = (BalaCCodeExpression*) _tmp166_;
						_bala_ccode_node_unref0 (_tmp164_);
						_bala_ccode_node_unref0 (_tmp162_);
						result = _tmp167_;
						_g_free0 (func_name);
						_bala_code_node_unref0 (type_parameter);
						return result;
					} else {
						const gchar* _tmp168_;
						BalaCCodeExpression* _tmp169_;
						_tmp168_ = func_name;
						_tmp169_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp168_);
						result = _tmp169_;
						_g_free0 (func_name);
						_bala_code_node_unref0 (type_parameter);
						return result;
					}
					_g_free0 (func_name);
					_bala_code_node_unref0 (type_parameter);
				} else {
					if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE)) {
						BalaCodeContext* _tmp170_;
						BalaProfile _tmp171_;
						BalaProfile _tmp172_;
						_tmp170_ = self->priv->_context;
						_tmp171_ = bala_code_context_get_profile (_tmp170_);
						_tmp172_ = _tmp171_;
						if (_tmp172_ == BALA_PROFILE_POSIX) {
							BalaCCodeFile* _tmp173_;
							BalaCCodeIdentifier* _tmp174_;
							_tmp173_ = self->cfile;
							bala_ccode_file_add_include (_tmp173_, "stdlib.h", FALSE);
							_tmp174_ = bala_ccode_identifier_new ("free");
							result = (BalaCCodeExpression*) _tmp174_;
							return result;
						} else {
							BalaCCodeFile* _tmp175_;
							BalaCCodeIdentifier* _tmp176_;
							_tmp175_ = self->cfile;
							bala_ccode_file_add_include (_tmp175_, "glib.h", FALSE);
							_tmp176_ = bala_ccode_identifier_new ("g_free");
							result = (BalaCCodeExpression*) _tmp176_;
							return result;
						}
					} else {
						if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_POINTER_TYPE)) {
							BalaCodeContext* _tmp177_;
							BalaProfile _tmp178_;
							BalaProfile _tmp179_;
							_tmp177_ = self->priv->_context;
							_tmp178_ = bala_code_context_get_profile (_tmp177_);
							_tmp179_ = _tmp178_;
							if (_tmp179_ == BALA_PROFILE_POSIX) {
								BalaCCodeFile* _tmp180_;
								BalaCCodeIdentifier* _tmp181_;
								_tmp180_ = self->cfile;
								bala_ccode_file_add_include (_tmp180_, "stdlib.h", FALSE);
								_tmp181_ = bala_ccode_identifier_new ("free");
								result = (BalaCCodeExpression*) _tmp181_;
								return result;
							} else {
								BalaCCodeFile* _tmp182_;
								BalaCCodeIdentifier* _tmp183_;
								_tmp182_ = self->cfile;
								bala_ccode_file_add_include (_tmp182_, "glib.h", FALSE);
								_tmp183_ = bala_ccode_identifier_new ("g_free");
								result = (BalaCCodeExpression*) _tmp183_;
								return result;
							}
						} else {
							BalaCCodeConstant* _tmp184_;
							_tmp184_ = bala_ccode_constant_new ("NULL");
							result = (BalaCCodeExpression*) _tmp184_;
							return result;
						}
					}
				}
			}
		}
	}
}

static gchar*
bala_ccode_base_module_generate_collection_free_wrapper (BalaCCodeBaseModule* self,
                                                         BalaDataType* collection_type,
                                                         BalaCCodeIdentifier* element_destroy_func_expression)
{
	gchar* destroy_func = NULL;
	gchar* destroy_func_wrapper = NULL;
	BalaTypeSymbol* _tmp8_;
	BalaTypeSymbol* _tmp9_;
	BalaClass* _tmp10_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (collection_type != NULL, NULL);
	destroy_func_wrapper = NULL;
	if (element_destroy_func_expression != NULL) {
		BalaTypeSymbol* _tmp0_;
		BalaTypeSymbol* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gchar* _tmp6_;
		const gchar* _tmp7_;
		_tmp0_ = bala_data_type_get_type_symbol (collection_type);
		_tmp1_ = _tmp0_;
		_tmp2_ = bala_get_ccode_free_function (_tmp1_);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_ccode_identifier_get_name (element_destroy_func_expression);
		_tmp5_ = _tmp4_;
		_tmp6_ = g_strdup_printf ("_%s_%s", _tmp3_, _tmp5_);
		_g_free0 (destroy_func_wrapper);
		destroy_func_wrapper = _tmp6_;
		_g_free0 (_tmp3_);
		_tmp7_ = destroy_func_wrapper;
		if (!bala_ccode_base_module_add_wrapper (self, _tmp7_)) {
			result = destroy_func_wrapper;
			_g_free0 (destroy_func);
			return result;
		}
	}
	_tmp8_ = bala_data_type_get_type_symbol (collection_type);
	_tmp9_ = _tmp8_;
	_tmp10_ = self->gnode_type;
	if (_tmp9_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
		gchar* _tmp11_;
		const gchar* _tmp12_;
		BalaCCodeFunction* function = NULL;
		const gchar* _tmp13_;
		BalaCCodeFunction* _tmp14_;
		BalaCCodeFunction* _tmp15_;
		gchar* _tmp16_;
		gchar* _tmp17_;
		BalaCCodeParameter* _tmp18_;
		BalaCCodeParameter* _tmp19_;
		BalaCCodeFunction* _tmp20_;
		BalaCCodeParameter* _tmp21_;
		BalaCCodeParameter* _tmp22_;
		BalaCCodeFunction* _tmp23_;
		BalaCCodeFunctionCall* element_free_call = NULL;
		gchar* destroy_node_func = NULL;
		const gchar* _tmp24_;
		gchar* _tmp25_;
		BalaCCodeFunction* wrapper = NULL;
		const gchar* _tmp26_;
		BalaDataType* _tmp27_;
		gchar* _tmp28_;
		gchar* _tmp29_;
		BalaCCodeFunction* _tmp30_;
		BalaCCodeFunction* _tmp31_;
		BalaCCodeFunction* _tmp32_;
		BalaCCodeFunction* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
		BalaCCodeParameter* _tmp36_;
		BalaCCodeParameter* _tmp37_;
		BalaCCodeFunction* _tmp38_;
		BalaCCodeParameter* _tmp39_;
		BalaCCodeParameter* _tmp40_;
		BalaCCodeFunction* _tmp41_;
		BalaCCodeFunctionCall* free_call = NULL;
		BalaCCodeIdentifier* _tmp42_;
		BalaCCodeIdentifier* _tmp43_;
		BalaCCodeFunctionCall* _tmp44_;
		BalaCCodeFunctionCall* _tmp45_;
		BalaCCodeFunctionCall* _tmp46_;
		BalaCCodeIdentifier* _tmp47_;
		BalaCCodeIdentifier* _tmp48_;
		BalaCCodeMemberAccess* _tmp49_;
		BalaCCodeMemberAccess* _tmp50_;
		BalaCCodeBinaryExpression* data_isnull = NULL;
		BalaCCodeIdentifier* _tmp51_;
		BalaCCodeIdentifier* _tmp52_;
		BalaCCodeMemberAccess* _tmp53_;
		BalaCCodeMemberAccess* _tmp54_;
		BalaCCodeConstant* _tmp55_;
		BalaCCodeConstant* _tmp56_;
		BalaCCodeBinaryExpression* _tmp57_;
		BalaCCodeBinaryExpression* _tmp58_;
		BalaCCodeCommaExpression* ccomma_data = NULL;
		BalaCCodeCommaExpression* _tmp59_;
		BalaCCodeCommaExpression* _tmp60_;
		BalaCCodeBinaryExpression* _tmp61_;
		BalaCCodeConstant* _tmp62_;
		BalaCCodeConstant* _tmp63_;
		BalaCCodeFunctionCall* _tmp64_;
		BalaCCodeConditionalExpression* _tmp65_;
		BalaCCodeConditionalExpression* _tmp66_;
		BalaCCodeFunction* _tmp67_;
		BalaCCodeFunction* _tmp68_;
		BalaCCodeCommaExpression* _tmp69_;
		BalaCCodeFunction* _tmp70_;
		BalaCCodeFunction* _tmp71_;
		BalaCCodeConstant* _tmp72_;
		BalaCCodeConstant* _tmp73_;
		BalaCCodeFile* _tmp74_;
		BalaCCodeFunction* _tmp75_;
		BalaCCodeFile* _tmp76_;
		BalaCCodeFunction* _tmp77_;
		BalaCCodeIdentifier* _tmp78_;
		BalaCCodeIdentifier* _tmp79_;
		BalaCCodeFunctionCall* _tmp80_;
		BalaCCodeFunctionCall* _tmp81_;
		BalaCCodeIdentifier* _tmp82_;
		BalaCCodeIdentifier* _tmp83_;
		BalaCCodeFunctionCall* _tmp84_;
		BalaCCodeConstant* _tmp85_;
		BalaCCodeConstant* _tmp86_;
		BalaCCodeFunctionCall* _tmp87_;
		BalaCCodeConstant* _tmp88_;
		BalaCCodeConstant* _tmp89_;
		BalaCCodeFunctionCall* _tmp90_;
		BalaCCodeConstant* _tmp91_;
		BalaCCodeConstant* _tmp92_;
		BalaCCodeFunctionCall* _tmp93_;
		const gchar* _tmp94_;
		BalaCCodeIdentifier* _tmp95_;
		BalaCCodeIdentifier* _tmp96_;
		BalaCCodeCastExpression* _tmp97_;
		BalaCCodeCastExpression* _tmp98_;
		BalaCCodeFunctionCall* _tmp99_;
		BalaCCodeIdentifier* _tmp100_;
		BalaCCodeIdentifier* _tmp101_;
		BalaCCodeBinaryExpression* free_func_isnull = NULL;
		BalaCCodeIdentifier* _tmp102_;
		BalaCCodeIdentifier* _tmp103_;
		BalaCCodeConstant* _tmp104_;
		BalaCCodeConstant* _tmp105_;
		BalaCCodeBinaryExpression* _tmp106_;
		BalaCCodeBinaryExpression* _tmp107_;
		BalaCCodeCommaExpression* ccomma = NULL;
		BalaCCodeCommaExpression* _tmp108_;
		BalaCCodeCommaExpression* _tmp109_;
		BalaCCodeBinaryExpression* _tmp110_;
		BalaCCodeConstant* _tmp111_;
		BalaCCodeConstant* _tmp112_;
		BalaCCodeFunctionCall* _tmp113_;
		BalaCCodeConditionalExpression* _tmp114_;
		BalaCCodeConditionalExpression* _tmp115_;
		BalaCCodeFunction* _tmp116_;
		BalaCCodeFunction* _tmp117_;
		BalaCCodeCommaExpression* _tmp118_;
		BalaCCodeFunctionCall* cfreecall = NULL;
		BalaClass* _tmp119_;
		gchar* _tmp120_;
		gchar* _tmp121_;
		BalaCCodeIdentifier* _tmp122_;
		BalaCCodeIdentifier* _tmp123_;
		BalaCCodeFunctionCall* _tmp124_;
		BalaCCodeFunctionCall* _tmp125_;
		BalaCCodeFunctionCall* _tmp126_;
		BalaCCodeIdentifier* _tmp127_;
		BalaCCodeIdentifier* _tmp128_;
		BalaCCodeFunction* _tmp129_;
		BalaCCodeFunction* _tmp130_;
		BalaCCodeFunctionCall* _tmp131_;
		BalaCCodeFunction* _tmp132_;
		BalaCCodeFile* _tmp133_;
		BalaCCodeFunction* _tmp134_;
		BalaCCodeFile* _tmp135_;
		BalaCCodeFunction* _tmp136_;
		_tmp11_ = g_strdup ("_g_node_free_all");
		_g_free0 (destroy_func);
		destroy_func = _tmp11_;
		_tmp12_ = destroy_func;
		if (!bala_ccode_base_module_add_wrapper (self, _tmp12_)) {
			result = destroy_func;
			_g_free0 (destroy_func_wrapper);
			return result;
		}
		_tmp13_ = destroy_func;
		_tmp14_ = bala_ccode_function_new (_tmp13_, "void");
		function = _tmp14_;
		_tmp15_ = function;
		_tmp16_ = bala_get_ccode_name ((BalaCodeNode*) collection_type);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_parameter_new ("self", _tmp17_);
		_tmp19_ = _tmp18_;
		bala_ccode_function_add_parameter (_tmp15_, _tmp19_);
		_bala_ccode_node_unref0 (_tmp19_);
		_g_free0 (_tmp17_);
		_tmp20_ = function;
		_tmp21_ = bala_ccode_parameter_new ("free_func", "GDestroyNotify");
		_tmp22_ = _tmp21_;
		bala_ccode_function_add_parameter (_tmp20_, _tmp22_);
		_bala_ccode_node_unref0 (_tmp22_);
		_tmp23_ = function;
		bala_ccode_base_module_push_function (self, _tmp23_);
		_tmp24_ = destroy_func;
		_tmp25_ = g_strdup_printf ("%s_node", _tmp24_);
		destroy_node_func = _tmp25_;
		_tmp26_ = destroy_node_func;
		_tmp27_ = self->bool_type;
		_tmp28_ = bala_get_ccode_name ((BalaCodeNode*) _tmp27_);
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_ccode_function_new (_tmp26_, _tmp29_);
		_tmp31_ = _tmp30_;
		_g_free0 (_tmp29_);
		wrapper = _tmp31_;
		_tmp32_ = wrapper;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp32_, BALA_CCODE_MODIFIERS_STATIC);
		_tmp33_ = wrapper;
		_tmp34_ = bala_get_ccode_name ((BalaCodeNode*) collection_type);
		_tmp35_ = _tmp34_;
		_tmp36_ = bala_ccode_parameter_new ("node", _tmp35_);
		_tmp37_ = _tmp36_;
		bala_ccode_function_add_parameter (_tmp33_, _tmp37_);
		_bala_ccode_node_unref0 (_tmp37_);
		_g_free0 (_tmp35_);
		_tmp38_ = wrapper;
		_tmp39_ = bala_ccode_parameter_new ("free_func", "GDestroyNotify");
		_tmp40_ = _tmp39_;
		bala_ccode_function_add_parameter (_tmp38_, _tmp40_);
		_bala_ccode_node_unref0 (_tmp40_);
		_tmp41_ = wrapper;
		bala_ccode_base_module_push_function (self, _tmp41_);
		_tmp42_ = bala_ccode_identifier_new ("free_func");
		_tmp43_ = _tmp42_;
		_tmp44_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp43_);
		_tmp45_ = _tmp44_;
		_bala_ccode_node_unref0 (_tmp43_);
		free_call = _tmp45_;
		_tmp46_ = free_call;
		_tmp47_ = bala_ccode_identifier_new ("node");
		_tmp48_ = _tmp47_;
		_tmp49_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp48_, "data");
		_tmp50_ = _tmp49_;
		bala_ccode_function_call_add_argument (_tmp46_, (BalaCCodeExpression*) _tmp50_);
		_bala_ccode_node_unref0 (_tmp50_);
		_bala_ccode_node_unref0 (_tmp48_);
		_tmp51_ = bala_ccode_identifier_new ("node");
		_tmp52_ = _tmp51_;
		_tmp53_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp52_, "data");
		_tmp54_ = _tmp53_;
		_tmp55_ = bala_ccode_constant_new ("NULL");
		_tmp56_ = _tmp55_;
		_tmp57_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp54_, (BalaCCodeExpression*) _tmp56_);
		_tmp58_ = _tmp57_;
		_bala_ccode_node_unref0 (_tmp56_);
		_bala_ccode_node_unref0 (_tmp54_);
		_bala_ccode_node_unref0 (_tmp52_);
		data_isnull = _tmp58_;
		_tmp59_ = bala_ccode_comma_expression_new ();
		ccomma_data = _tmp59_;
		_tmp60_ = ccomma_data;
		_tmp61_ = data_isnull;
		_tmp62_ = bala_ccode_constant_new ("NULL");
		_tmp63_ = _tmp62_;
		_tmp64_ = free_call;
		_tmp65_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp61_, (BalaCCodeExpression*) _tmp63_, (BalaCCodeExpression*) _tmp64_);
		_tmp66_ = _tmp65_;
		bala_ccode_comma_expression_append_expression (_tmp60_, (BalaCCodeExpression*) _tmp66_);
		_bala_ccode_node_unref0 (_tmp66_);
		_bala_ccode_node_unref0 (_tmp63_);
		_tmp67_ = bala_ccode_base_module_get_ccode (self);
		_tmp68_ = _tmp67_;
		_tmp69_ = ccomma_data;
		bala_ccode_function_add_expression (_tmp68_, (BalaCCodeExpression*) _tmp69_);
		_tmp70_ = bala_ccode_base_module_get_ccode (self);
		_tmp71_ = _tmp70_;
		_tmp72_ = bala_ccode_constant_new ("FALSE");
		_tmp73_ = _tmp72_;
		bala_ccode_function_add_return (_tmp71_, (BalaCCodeExpression*) _tmp73_);
		_bala_ccode_node_unref0 (_tmp73_);
		bala_ccode_base_module_pop_function (self);
		_tmp74_ = self->cfile;
		_tmp75_ = wrapper;
		bala_ccode_file_add_function_declaration (_tmp74_, _tmp75_);
		_tmp76_ = self->cfile;
		_tmp77_ = wrapper;
		bala_ccode_file_add_function (_tmp76_, _tmp77_);
		_tmp78_ = bala_ccode_identifier_new ("g_node_traverse");
		_tmp79_ = _tmp78_;
		_tmp80_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp79_);
		_bala_ccode_node_unref0 (element_free_call);
		element_free_call = _tmp80_;
		_bala_ccode_node_unref0 (_tmp79_);
		_tmp81_ = element_free_call;
		_tmp82_ = bala_ccode_identifier_new ("self");
		_tmp83_ = _tmp82_;
		bala_ccode_function_call_add_argument (_tmp81_, (BalaCCodeExpression*) _tmp83_);
		_bala_ccode_node_unref0 (_tmp83_);
		_tmp84_ = element_free_call;
		_tmp85_ = bala_ccode_constant_new ("G_POST_ORDER");
		_tmp86_ = _tmp85_;
		bala_ccode_function_call_add_argument (_tmp84_, (BalaCCodeExpression*) _tmp86_);
		_bala_ccode_node_unref0 (_tmp86_);
		_tmp87_ = element_free_call;
		_tmp88_ = bala_ccode_constant_new ("G_TRAVERSE_ALL");
		_tmp89_ = _tmp88_;
		bala_ccode_function_call_add_argument (_tmp87_, (BalaCCodeExpression*) _tmp89_);
		_bala_ccode_node_unref0 (_tmp89_);
		_tmp90_ = element_free_call;
		_tmp91_ = bala_ccode_constant_new ("-1");
		_tmp92_ = _tmp91_;
		bala_ccode_function_call_add_argument (_tmp90_, (BalaCCodeExpression*) _tmp92_);
		_bala_ccode_node_unref0 (_tmp92_);
		_tmp93_ = element_free_call;
		_tmp94_ = destroy_node_func;
		_tmp95_ = bala_ccode_identifier_new (_tmp94_);
		_tmp96_ = _tmp95_;
		_tmp97_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp96_, "GNodeTraverseFunc");
		_tmp98_ = _tmp97_;
		bala_ccode_function_call_add_argument (_tmp93_, (BalaCCodeExpression*) _tmp98_);
		_bala_ccode_node_unref0 (_tmp98_);
		_bala_ccode_node_unref0 (_tmp96_);
		_tmp99_ = element_free_call;
		_tmp100_ = bala_ccode_identifier_new ("free_func");
		_tmp101_ = _tmp100_;
		bala_ccode_function_call_add_argument (_tmp99_, (BalaCCodeExpression*) _tmp101_);
		_bala_ccode_node_unref0 (_tmp101_);
		_tmp102_ = bala_ccode_identifier_new ("free_func");
		_tmp103_ = _tmp102_;
		_tmp104_ = bala_ccode_constant_new ("NULL");
		_tmp105_ = _tmp104_;
		_tmp106_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp103_, (BalaCCodeExpression*) _tmp105_);
		_tmp107_ = _tmp106_;
		_bala_ccode_node_unref0 (_tmp105_);
		_bala_ccode_node_unref0 (_tmp103_);
		free_func_isnull = _tmp107_;
		_tmp108_ = bala_ccode_comma_expression_new ();
		ccomma = _tmp108_;
		_tmp109_ = ccomma;
		_tmp110_ = free_func_isnull;
		_tmp111_ = bala_ccode_constant_new ("NULL");
		_tmp112_ = _tmp111_;
		_tmp113_ = element_free_call;
		_tmp114_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp110_, (BalaCCodeExpression*) _tmp112_, (BalaCCodeExpression*) _tmp113_);
		_tmp115_ = _tmp114_;
		bala_ccode_comma_expression_append_expression (_tmp109_, (BalaCCodeExpression*) _tmp115_);
		_bala_ccode_node_unref0 (_tmp115_);
		_bala_ccode_node_unref0 (_tmp112_);
		_tmp116_ = bala_ccode_base_module_get_ccode (self);
		_tmp117_ = _tmp116_;
		_tmp118_ = ccomma;
		bala_ccode_function_add_expression (_tmp117_, (BalaCCodeExpression*) _tmp118_);
		_tmp119_ = self->gnode_type;
		_tmp120_ = bala_get_ccode_free_function ((BalaTypeSymbol*) _tmp119_);
		_tmp121_ = _tmp120_;
		_tmp122_ = bala_ccode_identifier_new (_tmp121_);
		_tmp123_ = _tmp122_;
		_tmp124_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp123_);
		_tmp125_ = _tmp124_;
		_bala_ccode_node_unref0 (_tmp123_);
		_g_free0 (_tmp121_);
		cfreecall = _tmp125_;
		_tmp126_ = cfreecall;
		_tmp127_ = bala_ccode_identifier_new ("self");
		_tmp128_ = _tmp127_;
		bala_ccode_function_call_add_argument (_tmp126_, (BalaCCodeExpression*) _tmp128_);
		_bala_ccode_node_unref0 (_tmp128_);
		_tmp129_ = bala_ccode_base_module_get_ccode (self);
		_tmp130_ = _tmp129_;
		_tmp131_ = cfreecall;
		bala_ccode_function_add_expression (_tmp130_, (BalaCCodeExpression*) _tmp131_);
		_tmp132_ = function;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp132_, BALA_CCODE_MODIFIERS_STATIC);
		bala_ccode_base_module_pop_function (self);
		_tmp133_ = self->cfile;
		_tmp134_ = function;
		bala_ccode_file_add_function_declaration (_tmp133_, _tmp134_);
		_tmp135_ = self->cfile;
		_tmp136_ = function;
		bala_ccode_file_add_function (_tmp135_, _tmp136_);
		_bala_ccode_node_unref0 (cfreecall);
		_bala_ccode_node_unref0 (ccomma);
		_bala_ccode_node_unref0 (free_func_isnull);
		_bala_ccode_node_unref0 (ccomma_data);
		_bala_ccode_node_unref0 (data_isnull);
		_bala_ccode_node_unref0 (free_call);
		_bala_ccode_node_unref0 (wrapper);
		_g_free0 (destroy_node_func);
		_bala_ccode_node_unref0 (element_free_call);
		_bala_ccode_node_unref0 (function);
	} else {
		BalaTypeSymbol* _tmp137_;
		BalaTypeSymbol* _tmp138_;
		BalaClass* _tmp139_;
		_tmp137_ = bala_data_type_get_type_symbol (collection_type);
		_tmp138_ = _tmp137_;
		_tmp139_ = self->glist_type;
		if (_tmp138_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp139_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
			gchar* _tmp140_;
			_tmp140_ = g_strdup ("g_list_free_full");
			_g_free0 (destroy_func);
			destroy_func = _tmp140_;
		} else {
			BalaTypeSymbol* _tmp141_;
			BalaTypeSymbol* _tmp142_;
			BalaClass* _tmp143_;
			_tmp141_ = bala_data_type_get_type_symbol (collection_type);
			_tmp142_ = _tmp141_;
			_tmp143_ = self->gslist_type;
			if (_tmp142_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp143_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
				gchar* _tmp144_;
				_tmp144_ = g_strdup ("g_slist_free_full");
				_g_free0 (destroy_func);
				destroy_func = _tmp144_;
			} else {
				BalaTypeSymbol* _tmp145_;
				BalaTypeSymbol* _tmp146_;
				BalaClass* _tmp147_;
				_tmp145_ = bala_data_type_get_type_symbol (collection_type);
				_tmp146_ = _tmp145_;
				_tmp147_ = self->gqueue_type;
				if (_tmp146_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp147_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
					gchar* _tmp148_;
					_tmp148_ = g_strdup ("g_queue_free_full");
					_g_free0 (destroy_func);
					destroy_func = _tmp148_;
				} else {
					gchar* _tmp149_;
					bala_report_error (NULL, "internal error: type of collection not supported");
					_tmp149_ = g_strdup ("");
					result = _tmp149_;
					_g_free0 (destroy_func_wrapper);
					_g_free0 (destroy_func);
					return result;
				}
			}
		}
	}
	if (element_destroy_func_expression != NULL) {
		BalaCCodeFunction* function = NULL;
		const gchar* _tmp150_;
		BalaCCodeFunction* _tmp151_;
		BalaCCodeFunction* _tmp152_;
		gchar* _tmp153_;
		gchar* _tmp154_;
		BalaCCodeParameter* _tmp155_;
		BalaCCodeParameter* _tmp156_;
		BalaCCodeFunction* _tmp157_;
		BalaCCodeFunctionCall* collection_free_call = NULL;
		const gchar* _tmp158_;
		BalaCCodeIdentifier* _tmp159_;
		BalaCCodeIdentifier* _tmp160_;
		BalaCCodeFunctionCall* _tmp161_;
		BalaCCodeFunctionCall* _tmp162_;
		BalaCCodeFunctionCall* _tmp163_;
		BalaCCodeIdentifier* _tmp164_;
		BalaCCodeIdentifier* _tmp165_;
		BalaCCodeFunctionCall* _tmp166_;
		BalaCCodeCastExpression* _tmp167_;
		BalaCCodeCastExpression* _tmp168_;
		BalaCCodeFunction* _tmp169_;
		BalaCCodeFunction* _tmp170_;
		BalaCCodeFunctionCall* _tmp171_;
		BalaCCodeFunction* _tmp172_;
		BalaCCodeFile* _tmp173_;
		BalaCCodeFunction* _tmp174_;
		BalaCCodeFile* _tmp175_;
		BalaCCodeFunction* _tmp176_;
		_tmp150_ = destroy_func_wrapper;
		_tmp151_ = bala_ccode_function_new (_tmp150_, "void");
		function = _tmp151_;
		_tmp152_ = function;
		_tmp153_ = bala_get_ccode_name ((BalaCodeNode*) collection_type);
		_tmp154_ = _tmp153_;
		_tmp155_ = bala_ccode_parameter_new ("self", _tmp154_);
		_tmp156_ = _tmp155_;
		bala_ccode_function_add_parameter (_tmp152_, _tmp156_);
		_bala_ccode_node_unref0 (_tmp156_);
		_g_free0 (_tmp154_);
		_tmp157_ = function;
		bala_ccode_base_module_push_function (self, _tmp157_);
		_tmp158_ = destroy_func;
		_tmp159_ = bala_ccode_identifier_new (_tmp158_);
		_tmp160_ = _tmp159_;
		_tmp161_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp160_);
		_tmp162_ = _tmp161_;
		_bala_ccode_node_unref0 (_tmp160_);
		collection_free_call = _tmp162_;
		_tmp163_ = collection_free_call;
		_tmp164_ = bala_ccode_identifier_new ("self");
		_tmp165_ = _tmp164_;
		bala_ccode_function_call_add_argument (_tmp163_, (BalaCCodeExpression*) _tmp165_);
		_bala_ccode_node_unref0 (_tmp165_);
		_tmp166_ = collection_free_call;
		_tmp167_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) element_destroy_func_expression, "GDestroyNotify");
		_tmp168_ = _tmp167_;
		bala_ccode_function_call_add_argument (_tmp166_, (BalaCCodeExpression*) _tmp168_);
		_bala_ccode_node_unref0 (_tmp168_);
		_tmp169_ = bala_ccode_base_module_get_ccode (self);
		_tmp170_ = _tmp169_;
		_tmp171_ = collection_free_call;
		bala_ccode_function_add_expression (_tmp170_, (BalaCCodeExpression*) _tmp171_);
		_tmp172_ = function;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp172_, BALA_CCODE_MODIFIERS_STATIC | BALA_CCODE_MODIFIERS_INLINE);
		bala_ccode_base_module_pop_function (self);
		_tmp173_ = self->cfile;
		_tmp174_ = function;
		bala_ccode_file_add_function_declaration (_tmp173_, _tmp174_);
		_tmp175_ = self->cfile;
		_tmp176_ = function;
		bala_ccode_file_add_function (_tmp175_, _tmp176_);
		result = destroy_func_wrapper;
		_bala_ccode_node_unref0 (collection_free_call);
		_bala_ccode_node_unref0 (function);
		_g_free0 (destroy_func);
		return result;
	}
	result = destroy_func;
	_g_free0 (destroy_func_wrapper);
	return result;
}

static gchar*
bala_ccode_base_module_real_append_struct_array_destroy (BalaCCodeBaseModule* self,
                                                         BalaStruct* st)
{
	gchar* result = NULL;
	g_return_val_if_fail (st != NULL, NULL);
	result = NULL;
	return result;
}

gchar*
bala_ccode_base_module_append_struct_array_destroy (BalaCCodeBaseModule* self,
                                                    BalaStruct* st)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_struct_array_destroy (self, st);
}

static gchar*
bala_ccode_base_module_real_append_struct_array_free (BalaCCodeBaseModule* self,
                                                      BalaStruct* st)
{
	gchar* result = NULL;
	g_return_val_if_fail (st != NULL, NULL);
	result = NULL;
	return result;
}

gchar*
bala_ccode_base_module_append_struct_array_free (BalaCCodeBaseModule* self,
                                                 BalaStruct* st)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_struct_array_free (self, st);
}

BalaCCodeExpression*
bala_ccode_base_module_destroy_local (BalaCCodeBaseModule* self,
                                      BalaLocalVariable* local)
{
	BalaTargetValue* _tmp0_;
	BalaTargetValue* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (local != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_local_cvalue (self, local);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_destroy_value (self, _tmp1_, FALSE);
	_tmp3_ = _tmp2_;
	_bala_target_value_unref0 (_tmp1_);
	result = _tmp3_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_destroy_parameter (BalaCCodeBaseModule* self,
                                          BalaParameter* param)
{
	BalaTargetValue* _tmp0_;
	BalaTargetValue* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (param != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_parameter_cvalue (self, param);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_destroy_value (self, _tmp1_, FALSE);
	_tmp3_ = _tmp2_;
	_bala_target_value_unref0 (_tmp1_);
	result = _tmp3_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_destroy_field (BalaCCodeBaseModule* self,
                                      BalaField* field,
                                      BalaTargetValue* instance)
{
	BalaTargetValue* _tmp0_;
	BalaTargetValue* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (field != NULL, NULL);
	_tmp0_ = bala_ccode_base_module_get_field_cvalue (self, field, instance);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_destroy_value (self, _tmp1_, FALSE);
	_tmp3_ = _tmp2_;
	_bala_target_value_unref0 (_tmp1_);
	result = _tmp3_;
	return result;
}

static BalaCCodeExpression*
bala_ccode_base_module_real_destroy_value (BalaCCodeBaseModule* self,
                                           BalaTargetValue* value,
                                           gboolean is_macro_definition)
{
	BalaDataType* type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	BalaDataType* _tmp4_;
	BalaCCodeExpression* cvar = NULL;
	BalaCCodeExpression* _tmp8_;
	BalaCCodeExpression* _tmp9_;
	BalaDataType* _tmp10_;
	gboolean _tmp58_ = FALSE;
	gboolean _tmp59_ = FALSE;
	gboolean _tmp60_ = FALSE;
	BalaDataType* _tmp61_;
	BalaTypeSymbol* _tmp62_;
	BalaTypeSymbol* _tmp63_;
	BalaClass* _tmp64_;
	gboolean is_gcollection = FALSE;
	BalaCCodeFunctionCall* ccall = NULL;
	BalaCCodeExpression* cexpr = NULL;
	BalaDataType* _tmp77_;
	BalaCCodeExpression* _tmp78_;
	gboolean _tmp79_ = FALSE;
	gboolean _tmp85_ = FALSE;
	BalaDataType* _tmp86_;
	gboolean _tmp157_ = FALSE;
	gboolean _tmp158_ = FALSE;
	gboolean _tmp159_ = FALSE;
	gboolean _tmp160_ = FALSE;
	BalaCodeContext* _tmp205_;
	BalaProfile _tmp206_;
	BalaProfile _tmp207_;
	BalaCCodeBinaryExpression* cisnull = NULL;
	BalaCCodeExpression* _tmp209_;
	BalaCCodeConstant* _tmp210_;
	BalaCCodeConstant* _tmp211_;
	BalaCCodeBinaryExpression* _tmp212_;
	BalaCCodeBinaryExpression* _tmp213_;
	BalaDataType* _tmp214_;
	BalaCCodeFunctionCall* _tmp243_;
	BalaCCodeExpression* _tmp244_;
	BalaCCodeCommaExpression* ccomma = NULL;
	BalaCCodeCommaExpression* _tmp245_;
	gboolean _tmp246_ = FALSE;
	gboolean _tmp247_ = FALSE;
	gboolean _tmp248_ = FALSE;
	BalaCodeContext* _tmp249_;
	BalaProfile _tmp250_;
	BalaProfile _tmp251_;
	BalaCCodeCommaExpression* _tmp351_;
	BalaCCodeFunctionCall* _tmp352_;
	BalaCCodeCommaExpression* _tmp353_;
	BalaCCodeConstant* _tmp354_;
	BalaCCodeConstant* _tmp355_;
	BalaCCodeAssignment* cassign = NULL;
	BalaCCodeExpression* _tmp356_;
	BalaCCodeCommaExpression* _tmp357_;
	BalaCCodeAssignment* _tmp358_;
	gboolean _tmp359_ = FALSE;
	gboolean _tmp360_ = FALSE;
	BalaDataType* _tmp361_;
	BalaTypeSymbol* _tmp362_;
	BalaTypeSymbol* _tmp363_;
	gboolean uses_gfree = FALSE;
	gboolean _tmp372_ = FALSE;
	BalaCCodeBinaryExpression* _tmp374_;
	BalaCCodeConstant* _tmp375_;
	BalaCCodeConstant* _tmp376_;
	BalaCCodeAssignment* _tmp377_;
	BalaCCodeConditionalExpression* _tmp378_;
	BalaCCodeExpression* _tmp379_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	_tmp0_ = bala_target_value_get_value_type (value);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	type = _tmp2_;
	_tmp3_ = bala_target_value_get_actual_value_type (value);
	_tmp4_ = _tmp3_;
	if (_tmp4_ != NULL) {
		BalaDataType* _tmp5_;
		BalaDataType* _tmp6_;
		BalaDataType* _tmp7_;
		_tmp5_ = bala_target_value_get_actual_value_type (value);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		_bala_code_node_unref0 (type);
		type = _tmp7_;
	}
	_tmp8_ = bala_get_cvalue_ (value);
	_tmp9_ = _bala_ccode_node_ref0 (_tmp8_);
	cvar = _tmp9_;
	_tmp10_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_DELEGATE_TYPE)) {
		BalaCodeContext* _tmp11_;
		BalaProfile _tmp12_;
		BalaProfile _tmp13_;
		BalaCCodeExpression* delegate_target = NULL;
		BalaCCodeExpression* _tmp15_;
		BalaCCodeExpression* delegate_target_destroy_notify = NULL;
		BalaCCodeExpression* _tmp16_;
		BalaCCodeFunctionCall* ccall = NULL;
		BalaCCodeExpression* _tmp17_;
		BalaCCodeFunctionCall* _tmp18_;
		BalaCCodeFunctionCall* _tmp19_;
		BalaCCodeExpression* _tmp20_;
		BalaCCodeCommaExpression* destroy_call = NULL;
		BalaCCodeCommaExpression* _tmp21_;
		BalaCCodeCommaExpression* _tmp22_;
		BalaCCodeFunctionCall* _tmp23_;
		BalaCCodeCommaExpression* _tmp24_;
		BalaCCodeConstant* _tmp25_;
		BalaCCodeConstant* _tmp26_;
		BalaCCodeBinaryExpression* cisnull = NULL;
		BalaCCodeExpression* _tmp27_;
		BalaCCodeConstant* _tmp28_;
		BalaCCodeConstant* _tmp29_;
		BalaCCodeBinaryExpression* _tmp30_;
		BalaCCodeBinaryExpression* _tmp31_;
		BalaCCodeCommaExpression* ccomma = NULL;
		BalaCCodeCommaExpression* _tmp32_;
		BalaCCodeCommaExpression* _tmp33_;
		BalaCCodeBinaryExpression* _tmp34_;
		BalaCCodeConstant* _tmp35_;
		BalaCCodeConstant* _tmp36_;
		BalaCCodeCommaExpression* _tmp37_;
		BalaCCodeConditionalExpression* _tmp38_;
		BalaCCodeConditionalExpression* _tmp39_;
		BalaCCodeCommaExpression* _tmp40_;
		BalaCCodeExpression* _tmp41_;
		BalaCCodeConstant* _tmp42_;
		BalaCCodeConstant* _tmp43_;
		BalaCCodeAssignment* _tmp44_;
		BalaCCodeAssignment* _tmp45_;
		BalaCCodeCommaExpression* _tmp46_;
		BalaCCodeExpression* _tmp47_;
		BalaCCodeConstant* _tmp48_;
		BalaCCodeConstant* _tmp49_;
		BalaCCodeAssignment* _tmp50_;
		BalaCCodeAssignment* _tmp51_;
		BalaCCodeCommaExpression* _tmp52_;
		BalaCCodeExpression* _tmp53_;
		BalaCCodeConstant* _tmp54_;
		BalaCCodeConstant* _tmp55_;
		BalaCCodeAssignment* _tmp56_;
		BalaCCodeAssignment* _tmp57_;
		_tmp11_ = self->priv->_context;
		_tmp12_ = bala_code_context_get_profile (_tmp11_);
		_tmp13_ = _tmp12_;
		if (_tmp13_ != BALA_PROFILE_GOBJECT) {
			BalaCCodeFile* _tmp14_;
			_tmp14_ = self->cfile;
			bala_ccode_file_add_include (_tmp14_, "stddef.h", FALSE);
		}
		_tmp15_ = bala_ccode_base_module_get_delegate_target_cvalue (self, value);
		delegate_target = _tmp15_;
		_tmp16_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, value);
		delegate_target_destroy_notify = _tmp16_;
		_tmp17_ = delegate_target_destroy_notify;
		_tmp18_ = bala_ccode_function_call_new (_tmp17_);
		ccall = _tmp18_;
		_tmp19_ = ccall;
		_tmp20_ = delegate_target;
		bala_ccode_function_call_add_argument (_tmp19_, _tmp20_);
		_tmp21_ = bala_ccode_comma_expression_new ();
		destroy_call = _tmp21_;
		_tmp22_ = destroy_call;
		_tmp23_ = ccall;
		bala_ccode_comma_expression_append_expression (_tmp22_, (BalaCCodeExpression*) _tmp23_);
		_tmp24_ = destroy_call;
		_tmp25_ = bala_ccode_constant_new ("NULL");
		_tmp26_ = _tmp25_;
		bala_ccode_comma_expression_append_expression (_tmp24_, (BalaCCodeExpression*) _tmp26_);
		_bala_ccode_node_unref0 (_tmp26_);
		_tmp27_ = delegate_target_destroy_notify;
		_tmp28_ = bala_ccode_constant_new ("NULL");
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, _tmp27_, (BalaCCodeExpression*) _tmp29_);
		_tmp31_ = _tmp30_;
		_bala_ccode_node_unref0 (_tmp29_);
		cisnull = _tmp31_;
		_tmp32_ = bala_ccode_comma_expression_new ();
		ccomma = _tmp32_;
		_tmp33_ = ccomma;
		_tmp34_ = cisnull;
		_tmp35_ = bala_ccode_constant_new ("NULL");
		_tmp36_ = _tmp35_;
		_tmp37_ = destroy_call;
		_tmp38_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp34_, (BalaCCodeExpression*) _tmp36_, (BalaCCodeExpression*) _tmp37_);
		_tmp39_ = _tmp38_;
		bala_ccode_comma_expression_append_expression (_tmp33_, (BalaCCodeExpression*) _tmp39_);
		_bala_ccode_node_unref0 (_tmp39_);
		_bala_ccode_node_unref0 (_tmp36_);
		_tmp40_ = ccomma;
		_tmp41_ = cvar;
		_tmp42_ = bala_ccode_constant_new ("NULL");
		_tmp43_ = _tmp42_;
		_tmp44_ = bala_ccode_assignment_new (_tmp41_, (BalaCCodeExpression*) _tmp43_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp45_ = _tmp44_;
		bala_ccode_comma_expression_append_expression (_tmp40_, (BalaCCodeExpression*) _tmp45_);
		_bala_ccode_node_unref0 (_tmp45_);
		_bala_ccode_node_unref0 (_tmp43_);
		_tmp46_ = ccomma;
		_tmp47_ = delegate_target;
		_tmp48_ = bala_ccode_constant_new ("NULL");
		_tmp49_ = _tmp48_;
		_tmp50_ = bala_ccode_assignment_new (_tmp47_, (BalaCCodeExpression*) _tmp49_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp51_ = _tmp50_;
		bala_ccode_comma_expression_append_expression (_tmp46_, (BalaCCodeExpression*) _tmp51_);
		_bala_ccode_node_unref0 (_tmp51_);
		_bala_ccode_node_unref0 (_tmp49_);
		_tmp52_ = ccomma;
		_tmp53_ = delegate_target_destroy_notify;
		_tmp54_ = bala_ccode_constant_new ("NULL");
		_tmp55_ = _tmp54_;
		_tmp56_ = bala_ccode_assignment_new (_tmp53_, (BalaCCodeExpression*) _tmp55_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp57_ = _tmp56_;
		bala_ccode_comma_expression_append_expression (_tmp52_, (BalaCCodeExpression*) _tmp57_);
		_bala_ccode_node_unref0 (_tmp57_);
		_bala_ccode_node_unref0 (_tmp55_);
		result = (BalaCCodeExpression*) ccomma;
		_bala_ccode_node_unref0 (cisnull);
		_bala_ccode_node_unref0 (destroy_call);
		_bala_ccode_node_unref0 (ccall);
		_bala_ccode_node_unref0 (delegate_target_destroy_notify);
		_bala_ccode_node_unref0 (delegate_target);
		_bala_ccode_node_unref0 (cvar);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp61_ = type;
	_tmp62_ = bala_data_type_get_type_symbol (_tmp61_);
	_tmp63_ = _tmp62_;
	_tmp64_ = self->glist_type;
	if (_tmp63_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp64_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
		_tmp60_ = TRUE;
	} else {
		BalaDataType* _tmp65_;
		BalaTypeSymbol* _tmp66_;
		BalaTypeSymbol* _tmp67_;
		BalaClass* _tmp68_;
		_tmp65_ = type;
		_tmp66_ = bala_data_type_get_type_symbol (_tmp65_);
		_tmp67_ = _tmp66_;
		_tmp68_ = self->gslist_type;
		_tmp60_ = _tmp67_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp68_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	}
	if (_tmp60_) {
		_tmp59_ = TRUE;
	} else {
		BalaDataType* _tmp69_;
		BalaTypeSymbol* _tmp70_;
		BalaTypeSymbol* _tmp71_;
		BalaClass* _tmp72_;
		_tmp69_ = type;
		_tmp70_ = bala_data_type_get_type_symbol (_tmp69_);
		_tmp71_ = _tmp70_;
		_tmp72_ = self->gnode_type;
		_tmp59_ = _tmp71_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp72_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	}
	if (_tmp59_) {
		_tmp58_ = TRUE;
	} else {
		BalaDataType* _tmp73_;
		BalaTypeSymbol* _tmp74_;
		BalaTypeSymbol* _tmp75_;
		BalaClass* _tmp76_;
		_tmp73_ = type;
		_tmp74_ = bala_data_type_get_type_symbol (_tmp73_);
		_tmp75_ = _tmp74_;
		_tmp76_ = self->gqueue_type;
		_tmp58_ = _tmp75_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp76_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	}
	is_gcollection = _tmp58_;
	_tmp77_ = type;
	_tmp78_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp77_, FALSE);
	cexpr = _tmp78_;
	if (is_gcollection) {
		BalaCCodeExpression* _tmp80_;
		_tmp80_ = cexpr;
		_tmp79_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp80_, BALA_TYPE_CCODE_FUNCTION_CALL);
	} else {
		_tmp79_ = FALSE;
	}
	if (_tmp79_) {
		BalaCCodeExpression* _tmp81_;
		BalaCCodeFunctionCall* _tmp82_;
		_tmp81_ = cexpr;
		_tmp82_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp81_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall));
		_bala_ccode_node_unref0 (ccall);
		ccall = _tmp82_;
	} else {
		BalaCCodeExpression* _tmp83_;
		BalaCCodeFunctionCall* _tmp84_;
		_tmp83_ = cexpr;
		_tmp84_ = bala_ccode_function_call_new (_tmp83_);
		_bala_ccode_node_unref0 (ccall);
		ccall = _tmp84_;
	}
	_tmp86_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp86_, BALA_TYPE_VALUE_TYPE)) {
		BalaDataType* _tmp87_;
		gboolean _tmp88_;
		gboolean _tmp89_;
		_tmp87_ = type;
		_tmp88_ = bala_data_type_get_nullable (_tmp87_);
		_tmp89_ = _tmp88_;
		_tmp85_ = !_tmp89_;
	} else {
		_tmp85_ = FALSE;
	}
	if (_tmp85_) {
		BalaStruct* st = NULL;
		BalaDataType* _tmp90_;
		BalaTypeSymbol* _tmp91_;
		BalaTypeSymbol* _tmp92_;
		gboolean _tmp93_ = FALSE;
		BalaStruct* _tmp94_;
		gboolean _tmp102_ = FALSE;
		BalaStruct* _tmp103_;
		_tmp90_ = type;
		_tmp91_ = bala_data_type_get_type_symbol (_tmp90_);
		_tmp92_ = _tmp91_;
		st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp92_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp92_) : NULL;
		_tmp94_ = st;
		if (_tmp94_ != NULL) {
			BalaStruct* _tmp95_;
			_tmp95_ = st;
			_tmp93_ = bala_struct_is_simple_type (_tmp95_);
		} else {
			_tmp93_ = FALSE;
		}
		if (_tmp93_) {
			BalaCCodeFunctionCall* _tmp96_;
			BalaCCodeExpression* _tmp97_;
			_tmp96_ = ccall;
			_tmp97_ = cvar;
			bala_ccode_function_call_add_argument (_tmp96_, _tmp97_);
		} else {
			BalaCCodeFunctionCall* _tmp98_;
			BalaCCodeExpression* _tmp99_;
			BalaCCodeUnaryExpression* _tmp100_;
			BalaCCodeUnaryExpression* _tmp101_;
			_tmp98_ = ccall;
			_tmp99_ = cvar;
			_tmp100_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp99_);
			_tmp101_ = _tmp100_;
			bala_ccode_function_call_add_argument (_tmp98_, (BalaCCodeExpression*) _tmp101_);
			_bala_ccode_node_unref0 (_tmp101_);
		}
		_tmp103_ = self->gvalue_type;
		if (_tmp103_ != NULL) {
			BalaDataType* _tmp104_;
			BalaTypeSymbol* _tmp105_;
			BalaTypeSymbol* _tmp106_;
			BalaStruct* _tmp107_;
			_tmp104_ = type;
			_tmp105_ = bala_data_type_get_type_symbol (_tmp104_);
			_tmp106_ = _tmp105_;
			_tmp107_ = self->gvalue_type;
			_tmp102_ = _tmp106_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp107_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		} else {
			_tmp102_ = FALSE;
		}
		if (_tmp102_) {
			BalaCCodeFunctionCall* cisvalid = NULL;
			BalaCCodeIdentifier* _tmp108_;
			BalaCCodeIdentifier* _tmp109_;
			BalaCCodeFunctionCall* _tmp110_;
			BalaCCodeFunctionCall* _tmp111_;
			BalaCCodeFunctionCall* _tmp112_;
			BalaCCodeExpression* _tmp113_;
			BalaCCodeUnaryExpression* _tmp114_;
			BalaCCodeUnaryExpression* _tmp115_;
			BalaCCodeCommaExpression* ccomma = NULL;
			BalaCCodeCommaExpression* _tmp116_;
			BalaCCodeCommaExpression* _tmp117_;
			BalaCCodeFunctionCall* _tmp118_;
			BalaCCodeCommaExpression* _tmp119_;
			BalaCCodeConstant* _tmp120_;
			BalaCCodeConstant* _tmp121_;
			BalaCCodeFunctionCall* _tmp122_;
			BalaCCodeCommaExpression* _tmp123_;
			BalaCCodeConstant* _tmp124_;
			BalaCCodeConstant* _tmp125_;
			BalaCCodeConditionalExpression* _tmp126_;
			BalaCCodeExpression* _tmp127_;
			_tmp108_ = bala_ccode_identifier_new ("G_IS_VALUE");
			_tmp109_ = _tmp108_;
			_tmp110_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp109_);
			_tmp111_ = _tmp110_;
			_bala_ccode_node_unref0 (_tmp109_);
			cisvalid = _tmp111_;
			_tmp112_ = cisvalid;
			_tmp113_ = cvar;
			_tmp114_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp113_);
			_tmp115_ = _tmp114_;
			bala_ccode_function_call_add_argument (_tmp112_, (BalaCCodeExpression*) _tmp115_);
			_bala_ccode_node_unref0 (_tmp115_);
			_tmp116_ = bala_ccode_comma_expression_new ();
			ccomma = _tmp116_;
			_tmp117_ = ccomma;
			_tmp118_ = ccall;
			bala_ccode_comma_expression_append_expression (_tmp117_, (BalaCCodeExpression*) _tmp118_);
			_tmp119_ = ccomma;
			_tmp120_ = bala_ccode_constant_new ("NULL");
			_tmp121_ = _tmp120_;
			bala_ccode_comma_expression_append_expression (_tmp119_, (BalaCCodeExpression*) _tmp121_);
			_bala_ccode_node_unref0 (_tmp121_);
			_tmp122_ = cisvalid;
			_tmp123_ = ccomma;
			_tmp124_ = bala_ccode_constant_new ("NULL");
			_tmp125_ = _tmp124_;
			_tmp126_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp122_, (BalaCCodeExpression*) _tmp123_, (BalaCCodeExpression*) _tmp125_);
			_tmp127_ = (BalaCCodeExpression*) _tmp126_;
			_bala_ccode_node_unref0 (_tmp125_);
			result = _tmp127_;
			_bala_ccode_node_unref0 (ccomma);
			_bala_ccode_node_unref0 (cisvalid);
			_bala_ccode_node_unref0 (cexpr);
			_bala_ccode_node_unref0 (ccall);
			_bala_ccode_node_unref0 (cvar);
			_bala_code_node_unref0 (type);
			return result;
		} else {
			gboolean _tmp128_ = FALSE;
			gboolean _tmp129_ = FALSE;
			gboolean _tmp130_ = FALSE;
			BalaDataType* _tmp131_;
			BalaTypeSymbol* _tmp132_;
			BalaTypeSymbol* _tmp133_;
			BalaStruct* _tmp134_;
			_tmp131_ = type;
			_tmp132_ = bala_data_type_get_type_symbol (_tmp131_);
			_tmp133_ = _tmp132_;
			_tmp134_ = self->gmutex_type;
			if (_tmp133_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp134_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
				_tmp130_ = TRUE;
			} else {
				BalaDataType* _tmp135_;
				BalaTypeSymbol* _tmp136_;
				BalaTypeSymbol* _tmp137_;
				BalaStruct* _tmp138_;
				_tmp135_ = type;
				_tmp136_ = bala_data_type_get_type_symbol (_tmp135_);
				_tmp137_ = _tmp136_;
				_tmp138_ = self->grecmutex_type;
				_tmp130_ = _tmp137_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp138_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
			}
			if (_tmp130_) {
				_tmp129_ = TRUE;
			} else {
				BalaDataType* _tmp139_;
				BalaTypeSymbol* _tmp140_;
				BalaTypeSymbol* _tmp141_;
				BalaStruct* _tmp142_;
				_tmp139_ = type;
				_tmp140_ = bala_data_type_get_type_symbol (_tmp139_);
				_tmp141_ = _tmp140_;
				_tmp142_ = self->grwlock_type;
				_tmp129_ = _tmp141_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp142_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
			}
			if (_tmp129_) {
				_tmp128_ = TRUE;
			} else {
				BalaDataType* _tmp143_;
				BalaTypeSymbol* _tmp144_;
				BalaTypeSymbol* _tmp145_;
				BalaStruct* _tmp146_;
				_tmp143_ = type;
				_tmp144_ = bala_data_type_get_type_symbol (_tmp143_);
				_tmp145_ = _tmp144_;
				_tmp146_ = self->gcond_type;
				_tmp128_ = _tmp145_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp146_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
			}
			if (_tmp128_) {
				BalaCCodeFunctionCall* _tmp147_;
				BalaDataType* _tmp148_;
				BalaTypeSymbol* _tmp149_;
				BalaTypeSymbol* _tmp150_;
				gchar* _tmp151_;
				gchar* _tmp152_;
				gchar* _tmp153_;
				gchar* _tmp154_;
				BalaCCodeIdentifier* _tmp155_;
				BalaCCodeIdentifier* _tmp156_;
				self->requires_clear_mutex = TRUE;
				_tmp147_ = ccall;
				_tmp148_ = type;
				_tmp149_ = bala_data_type_get_type_symbol (_tmp148_);
				_tmp150_ = _tmp149_;
				_tmp151_ = bala_get_ccode_name ((BalaCodeNode*) _tmp150_);
				_tmp152_ = _tmp151_;
				_tmp153_ = g_strconcat ("_bala_clear_", _tmp152_, NULL);
				_tmp154_ = _tmp153_;
				_tmp155_ = bala_ccode_identifier_new (_tmp154_);
				_tmp156_ = _tmp155_;
				bala_ccode_function_call_set_call (_tmp147_, (BalaCCodeExpression*) _tmp156_);
				_bala_ccode_node_unref0 (_tmp156_);
				_g_free0 (_tmp154_);
				_g_free0 (_tmp152_);
				result = (BalaCCodeExpression*) ccall;
				_bala_ccode_node_unref0 (cexpr);
				_bala_ccode_node_unref0 (cvar);
				_bala_code_node_unref0 (type);
				return result;
			} else {
				result = (BalaCCodeExpression*) ccall;
				_bala_ccode_node_unref0 (cexpr);
				_bala_ccode_node_unref0 (cvar);
				_bala_code_node_unref0 (type);
				return result;
			}
		}
	}
	if (!is_gcollection) {
		BalaCCodeFunctionCall* _tmp161_;
		BalaCCodeExpression* _tmp162_;
		BalaCCodeExpression* _tmp163_;
		_tmp161_ = ccall;
		_tmp162_ = bala_ccode_function_call_get_call (_tmp161_);
		_tmp163_ = _tmp162_;
		_tmp160_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp163_, BALA_TYPE_CCODE_IDENTIFIER);
	} else {
		_tmp160_ = FALSE;
	}
	if (_tmp160_) {
		BalaDataType* _tmp164_;
		_tmp164_ = type;
		_tmp159_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp164_, BALA_TYPE_ARRAY_TYPE);
	} else {
		_tmp159_ = FALSE;
	}
	if (_tmp159_) {
		BalaDataType* _tmp165_;
		_tmp165_ = type;
		_tmp158_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp165_, BALA_TYPE_GENERIC_TYPE);
	} else {
		_tmp158_ = FALSE;
	}
	if (_tmp158_) {
		_tmp157_ = !is_macro_definition;
	} else {
		_tmp157_ = FALSE;
	}
	if (_tmp157_) {
		BalaCCodeIdentifier* freeid = NULL;
		BalaCCodeFunctionCall* _tmp166_;
		BalaCCodeExpression* _tmp167_;
		BalaCCodeExpression* _tmp168_;
		BalaCCodeIdentifier* _tmp169_;
		gchar* free0_func = NULL;
		BalaCCodeIdentifier* _tmp170_;
		const gchar* _tmp171_;
		const gchar* _tmp172_;
		gchar* _tmp173_;
		const gchar* _tmp174_;
		BalaCCodeExpression* _tmp194_;
		const gchar* _tmp199_;
		BalaCCodeIdentifier* _tmp200_;
		BalaCCodeIdentifier* _tmp201_;
		BalaCCodeFunctionCall* _tmp202_;
		BalaCCodeFunctionCall* _tmp203_;
		BalaCCodeExpression* _tmp204_;
		_tmp166_ = ccall;
		_tmp167_ = bala_ccode_function_call_get_call (_tmp166_);
		_tmp168_ = _tmp167_;
		_tmp169_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp168_, BALA_TYPE_CCODE_IDENTIFIER, BalaCCodeIdentifier));
		freeid = _tmp169_;
		_tmp170_ = freeid;
		_tmp171_ = bala_ccode_identifier_get_name (_tmp170_);
		_tmp172_ = _tmp171_;
		_tmp173_ = g_strdup_printf ("_%s0", _tmp172_);
		free0_func = _tmp173_;
		_tmp174_ = free0_func;
		if (bala_ccode_base_module_add_wrapper (self, _tmp174_)) {
			BalaCCodeExpression* macro = NULL;
			BalaDataType* _tmp175_;
			BalaCCodeIdentifier* _tmp176_;
			BalaCCodeIdentifier* _tmp177_;
			BalaGLibValue* _tmp178_;
			BalaGLibValue* _tmp179_;
			BalaCCodeExpression* _tmp180_;
			BalaCCodeExpression* _tmp181_;
			BalaCCodeFile* _tmp182_;
			const gchar* _tmp183_;
			gchar* _tmp184_;
			gchar* _tmp185_;
			BalaCCodeExpression* _tmp186_;
			BalaCCodeMacroReplacement* _tmp187_;
			BalaCCodeMacroReplacement* _tmp188_;
			_tmp175_ = type;
			_tmp176_ = bala_ccode_identifier_new ("var");
			_tmp177_ = _tmp176_;
			_tmp178_ = bala_glib_value_new (_tmp175_, (BalaCCodeExpression*) _tmp177_, TRUE);
			_tmp179_ = _tmp178_;
			_tmp180_ = bala_ccode_base_module_destroy_value (self, (BalaTargetValue*) _tmp179_, TRUE);
			_tmp181_ = _tmp180_;
			_bala_target_value_unref0 (_tmp179_);
			_bala_ccode_node_unref0 (_tmp177_);
			macro = _tmp181_;
			_tmp182_ = self->cfile;
			_tmp183_ = free0_func;
			_tmp184_ = g_strdup_printf ("%s(var)", _tmp183_);
			_tmp185_ = _tmp184_;
			_tmp186_ = macro;
			_tmp187_ = bala_ccode_macro_replacement_new_with_expression (_tmp185_, _tmp186_);
			_tmp188_ = _tmp187_;
			bala_ccode_file_add_type_declaration (_tmp182_, (BalaCCodeNode*) _tmp188_);
			_bala_ccode_node_unref0 (_tmp188_);
			_g_free0 (_tmp185_);
			_bala_ccode_node_unref0 (macro);
		}
		while (TRUE) {
			BalaCCodeExpression* _tmp189_;
			BalaCCodeExpression* _tmp190_;
			BalaCCodeExpression* _tmp191_;
			BalaCCodeExpression* _tmp192_;
			BalaCCodeExpression* _tmp193_;
			_tmp189_ = cvar;
			if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp189_, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
				break;
			}
			_tmp190_ = cvar;
			_tmp191_ = bala_ccode_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (_tmp190_, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
			_tmp192_ = _tmp191_;
			_tmp193_ = _bala_ccode_node_ref0 (_tmp192_);
			_bala_ccode_node_unref0 (cvar);
			cvar = _tmp193_;
		}
		_tmp194_ = cvar;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp194_, BALA_TYPE_CCODE_FUNCTION_CALL)) {
			BalaCCodeExpression* _tmp195_;
			BalaList* _tmp196_;
			BalaList* _tmp197_;
			gpointer _tmp198_;
			_tmp195_ = cvar;
			_tmp196_ = bala_ccode_function_call_get_arguments (G_TYPE_CHECK_INSTANCE_CAST (_tmp195_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall));
			_tmp197_ = _tmp196_;
			_tmp198_ = bala_list_get (_tmp197_, 0);
			_bala_ccode_node_unref0 (cvar);
			cvar = (BalaCCodeExpression*) _tmp198_;
			_bala_iterable_unref0 (_tmp197_);
		}
		_tmp199_ = free0_func;
		_tmp200_ = bala_ccode_identifier_new (_tmp199_);
		_tmp201_ = _tmp200_;
		_tmp202_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp201_);
		_bala_ccode_node_unref0 (ccall);
		ccall = _tmp202_;
		_bala_ccode_node_unref0 (_tmp201_);
		_tmp203_ = ccall;
		_tmp204_ = cvar;
		bala_ccode_function_call_add_argument (_tmp203_, _tmp204_);
		result = (BalaCCodeExpression*) ccall;
		_g_free0 (free0_func);
		_bala_ccode_node_unref0 (freeid);
		_bala_ccode_node_unref0 (cexpr);
		_bala_ccode_node_unref0 (cvar);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp205_ = self->priv->_context;
	_tmp206_ = bala_code_context_get_profile (_tmp205_);
	_tmp207_ = _tmp206_;
	if (_tmp207_ != BALA_PROFILE_GOBJECT) {
		BalaCCodeFile* _tmp208_;
		_tmp208_ = self->cfile;
		bala_ccode_file_add_include (_tmp208_, "stddef.h", FALSE);
	}
	_tmp209_ = cvar;
	_tmp210_ = bala_ccode_constant_new ("NULL");
	_tmp211_ = _tmp210_;
	_tmp212_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, _tmp209_, (BalaCCodeExpression*) _tmp211_);
	_tmp213_ = _tmp212_;
	_bala_ccode_node_unref0 (_tmp211_);
	cisnull = _tmp213_;
	_tmp214_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp214_, BALA_TYPE_GENERIC_TYPE)) {
		BalaSymbol* parent = NULL;
		BalaDataType* _tmp215_;
		BalaTypeParameter* _tmp216_;
		BalaTypeParameter* _tmp217_;
		BalaSymbol* _tmp218_;
		BalaSymbol* _tmp219_;
		BalaSymbol* _tmp220_;
		BalaClass* cl = NULL;
		BalaSymbol* _tmp221_;
		BalaClass* _tmp222_;
		gboolean _tmp223_ = FALSE;
		gboolean _tmp224_ = FALSE;
		BalaSymbol* _tmp225_;
		BalaCCodeBinaryExpression* cunrefisnull = NULL;
		BalaDataType* _tmp233_;
		BalaCCodeExpression* _tmp234_;
		BalaCCodeExpression* _tmp235_;
		BalaCCodeConstant* _tmp236_;
		BalaCCodeConstant* _tmp237_;
		BalaCCodeBinaryExpression* _tmp238_;
		BalaCCodeBinaryExpression* _tmp239_;
		BalaCCodeBinaryExpression* _tmp240_;
		BalaCCodeBinaryExpression* _tmp241_;
		BalaCCodeBinaryExpression* _tmp242_;
		_tmp215_ = type;
		_tmp216_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (_tmp215_, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
		_tmp217_ = _tmp216_;
		_tmp218_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp217_);
		_tmp219_ = _tmp218_;
		_tmp220_ = _bala_code_node_ref0 (_tmp219_);
		parent = _tmp220_;
		_tmp221_ = parent;
		_tmp222_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp221_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp221_) : NULL);
		cl = _tmp222_;
		_tmp225_ = parent;
		if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp225_, BALA_TYPE_METHOD)) {
			BalaSymbol* _tmp226_;
			_tmp226_ = parent;
			_tmp224_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp226_, BALA_TYPE_OBJECT_TYPE_SYMBOL);
		} else {
			_tmp224_ = FALSE;
		}
		if (_tmp224_) {
			_tmp223_ = TRUE;
		} else {
			gboolean _tmp227_ = FALSE;
			BalaClass* _tmp228_;
			_tmp228_ = cl;
			if (_tmp228_ != NULL) {
				BalaClass* _tmp229_;
				gboolean _tmp230_;
				gboolean _tmp231_;
				_tmp229_ = cl;
				_tmp230_ = bala_class_get_is_compact (_tmp229_);
				_tmp231_ = _tmp230_;
				_tmp227_ = _tmp231_;
			} else {
				_tmp227_ = FALSE;
			}
			_tmp223_ = _tmp227_;
		}
		if (_tmp223_) {
			BalaCCodeConstant* _tmp232_;
			_tmp232_ = bala_ccode_constant_new ("NULL");
			result = (BalaCCodeExpression*) _tmp232_;
			_bala_code_node_unref0 (cl);
			_bala_code_node_unref0 (parent);
			_bala_ccode_node_unref0 (cisnull);
			_bala_ccode_node_unref0 (cexpr);
			_bala_ccode_node_unref0 (ccall);
			_bala_ccode_node_unref0 (cvar);
			_bala_code_node_unref0 (type);
			return result;
		}
		_tmp233_ = type;
		_tmp234_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp233_, FALSE);
		_tmp235_ = _tmp234_;
		_tmp236_ = bala_ccode_constant_new ("NULL");
		_tmp237_ = _tmp236_;
		_tmp238_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, _tmp235_, (BalaCCodeExpression*) _tmp237_);
		_tmp239_ = _tmp238_;
		_bala_ccode_node_unref0 (_tmp237_);
		_bala_ccode_node_unref0 (_tmp235_);
		cunrefisnull = _tmp239_;
		_tmp240_ = cisnull;
		_tmp241_ = cunrefisnull;
		_tmp242_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_OR, (BalaCCodeExpression*) _tmp240_, (BalaCCodeExpression*) _tmp241_);
		_bala_ccode_node_unref0 (cisnull);
		cisnull = _tmp242_;
		_bala_ccode_node_unref0 (cunrefisnull);
		_bala_code_node_unref0 (cl);
		_bala_code_node_unref0 (parent);
	}
	_tmp243_ = ccall;
	_tmp244_ = cvar;
	bala_ccode_function_call_insert_argument (_tmp243_, 0, _tmp244_);
	_tmp245_ = bala_ccode_comma_expression_new ();
	ccomma = _tmp245_;
	_tmp249_ = self->priv->_context;
	_tmp250_ = bala_code_context_get_profile (_tmp249_);
	_tmp251_ = _tmp250_;
	if (_tmp251_ == BALA_PROFILE_GOBJECT) {
		BalaDataType* _tmp252_;
		BalaTypeSymbol* _tmp253_;
		BalaTypeSymbol* _tmp254_;
		_tmp252_ = type;
		_tmp253_ = bala_data_type_get_type_symbol (_tmp252_);
		_tmp254_ = _tmp253_;
		_tmp248_ = _tmp254_ != NULL;
	} else {
		_tmp248_ = FALSE;
	}
	if (_tmp248_) {
		BalaDataType* _tmp255_;
		BalaTypeSymbol* _tmp256_;
		BalaTypeSymbol* _tmp257_;
		_tmp255_ = type;
		_tmp256_ = bala_data_type_get_type_symbol (_tmp255_);
		_tmp257_ = _tmp256_;
		_tmp247_ = !bala_is_reference_counting (_tmp257_);
	} else {
		_tmp247_ = FALSE;
	}
	if (_tmp247_) {
		gboolean _tmp258_ = FALSE;
		gboolean _tmp259_ = FALSE;
		gboolean _tmp260_ = FALSE;
		BalaDataType* _tmp261_;
		BalaTypeSymbol* _tmp262_;
		BalaTypeSymbol* _tmp263_;
		BalaTypeSymbol* _tmp264_;
		_tmp261_ = type;
		_tmp262_ = bala_data_type_get_type_symbol (_tmp261_);
		_tmp263_ = _tmp262_;
		_tmp264_ = self->gstringbuilder_type;
		if (bala_typesymbol_is_subtype_of (_tmp263_, _tmp264_)) {
			_tmp260_ = TRUE;
		} else {
			BalaDataType* _tmp265_;
			BalaTypeSymbol* _tmp266_;
			BalaTypeSymbol* _tmp267_;
			BalaTypeSymbol* _tmp268_;
			_tmp265_ = type;
			_tmp266_ = bala_data_type_get_type_symbol (_tmp265_);
			_tmp267_ = _tmp266_;
			_tmp268_ = self->garray_type;
			_tmp260_ = bala_typesymbol_is_subtype_of (_tmp267_, _tmp268_);
		}
		if (_tmp260_) {
			_tmp259_ = TRUE;
		} else {
			BalaDataType* _tmp269_;
			BalaTypeSymbol* _tmp270_;
			BalaTypeSymbol* _tmp271_;
			BalaTypeSymbol* _tmp272_;
			_tmp269_ = type;
			_tmp270_ = bala_data_type_get_type_symbol (_tmp269_);
			_tmp271_ = _tmp270_;
			_tmp272_ = self->gbytearray_type;
			_tmp259_ = bala_typesymbol_is_subtype_of (_tmp271_, _tmp272_);
		}
		if (_tmp259_) {
			_tmp258_ = TRUE;
		} else {
			BalaDataType* _tmp273_;
			BalaTypeSymbol* _tmp274_;
			BalaTypeSymbol* _tmp275_;
			BalaTypeSymbol* _tmp276_;
			_tmp273_ = type;
			_tmp274_ = bala_data_type_get_type_symbol (_tmp273_);
			_tmp275_ = _tmp274_;
			_tmp276_ = self->gptrarray_type;
			_tmp258_ = bala_typesymbol_is_subtype_of (_tmp275_, _tmp276_);
		}
		_tmp246_ = _tmp258_;
	} else {
		_tmp246_ = FALSE;
	}
	if (_tmp246_) {
		BalaCCodeFunctionCall* _tmp277_;
		BalaCCodeConstant* _tmp278_;
		BalaCCodeConstant* _tmp279_;
		_tmp277_ = ccall;
		_tmp278_ = bala_ccode_constant_new ("TRUE");
		_tmp279_ = _tmp278_;
		bala_ccode_function_call_add_argument (_tmp277_, (BalaCCodeExpression*) _tmp279_);
		_bala_ccode_node_unref0 (_tmp279_);
	} else {
		gboolean _tmp280_ = FALSE;
		BalaCodeContext* _tmp281_;
		BalaProfile _tmp282_;
		BalaProfile _tmp283_;
		_tmp281_ = self->priv->_context;
		_tmp282_ = bala_code_context_get_profile (_tmp281_);
		_tmp283_ = _tmp282_;
		if (_tmp283_ == BALA_PROFILE_GOBJECT) {
			BalaDataType* _tmp284_;
			BalaTypeSymbol* _tmp285_;
			BalaTypeSymbol* _tmp286_;
			BalaTypeSymbol* _tmp287_;
			_tmp284_ = type;
			_tmp285_ = bala_data_type_get_type_symbol (_tmp284_);
			_tmp286_ = _tmp285_;
			_tmp287_ = self->gthreadpool_type;
			_tmp280_ = _tmp286_ == _tmp287_;
		} else {
			_tmp280_ = FALSE;
		}
		if (_tmp280_) {
			BalaCCodeFunctionCall* _tmp288_;
			BalaCCodeConstant* _tmp289_;
			BalaCCodeConstant* _tmp290_;
			BalaCCodeFunctionCall* _tmp291_;
			BalaCCodeConstant* _tmp292_;
			BalaCCodeConstant* _tmp293_;
			_tmp288_ = ccall;
			_tmp289_ = bala_ccode_constant_new ("FALSE");
			_tmp290_ = _tmp289_;
			bala_ccode_function_call_add_argument (_tmp288_, (BalaCCodeExpression*) _tmp290_);
			_bala_ccode_node_unref0 (_tmp290_);
			_tmp291_ = ccall;
			_tmp292_ = bala_ccode_constant_new ("TRUE");
			_tmp293_ = _tmp292_;
			bala_ccode_function_call_add_argument (_tmp291_, (BalaCCodeExpression*) _tmp293_);
			_bala_ccode_node_unref0 (_tmp293_);
		} else {
			BalaDataType* _tmp294_;
			_tmp294_ = type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp294_, BALA_TYPE_ARRAY_TYPE)) {
				BalaArrayType* array_type = NULL;
				BalaDataType* _tmp295_;
				BalaArrayType* _tmp296_;
				BalaArrayType* _tmp297_;
				BalaDataType* _tmp298_;
				BalaDataType* _tmp299_;
				_tmp295_ = type;
				_tmp296_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp295_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
				array_type = _tmp296_;
				_tmp297_ = array_type;
				_tmp298_ = bala_array_type_get_element_type (_tmp297_);
				_tmp299_ = _tmp298_;
				if (bala_ccode_base_module_requires_destroy (_tmp299_)) {
					BalaCCodeExpression* csizeexpr = NULL;
					BalaList* _tmp300_;
					BalaCCodeExpression* _tmp312_;
					csizeexpr = NULL;
					_tmp300_ = G_TYPE_CHECK_INSTANCE_CAST (value, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->array_length_cvalues;
					if (_tmp300_ != NULL) {
						BalaCCodeExpression* _tmp301_;
						_tmp301_ = bala_ccode_base_module_get_array_length_cvalue (self, value, -1);
						_bala_ccode_node_unref0 (csizeexpr);
						csizeexpr = _tmp301_;
					} else {
						if (bala_get_array_null_terminated (value)) {
							BalaCCodeFunctionCall* len_call = NULL;
							BalaCCodeIdentifier* _tmp302_;
							BalaCCodeIdentifier* _tmp303_;
							BalaCCodeFunctionCall* _tmp304_;
							BalaCCodeFunctionCall* _tmp305_;
							BalaCCodeFunctionCall* _tmp306_;
							BalaCCodeExpression* _tmp307_;
							BalaCCodeFunctionCall* _tmp308_;
							BalaCCodeExpression* _tmp309_;
							self->requires_array_length = TRUE;
							_tmp302_ = bala_ccode_identifier_new ("_bala_array_length");
							_tmp303_ = _tmp302_;
							_tmp304_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp303_);
							_tmp305_ = _tmp304_;
							_bala_ccode_node_unref0 (_tmp303_);
							len_call = _tmp305_;
							_tmp306_ = len_call;
							_tmp307_ = cvar;
							bala_ccode_function_call_add_argument (_tmp306_, _tmp307_);
							_tmp308_ = len_call;
							_tmp309_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp308_);
							_bala_ccode_node_unref0 (csizeexpr);
							csizeexpr = _tmp309_;
							_bala_ccode_node_unref0 (len_call);
						} else {
							BalaCCodeExpression* _tmp310_;
							BalaCCodeExpression* _tmp311_;
							_tmp310_ = bala_get_array_length_cexpr (value);
							_tmp311_ = _bala_ccode_node_ref0 (_tmp310_);
							_bala_ccode_node_unref0 (csizeexpr);
							csizeexpr = _tmp311_;
						}
					}
					_tmp312_ = csizeexpr;
					if (_tmp312_ != NULL) {
						BalaStruct* st = NULL;
						BalaArrayType* _tmp313_;
						BalaDataType* _tmp314_;
						BalaDataType* _tmp315_;
						BalaTypeSymbol* _tmp316_;
						BalaTypeSymbol* _tmp317_;
						gboolean _tmp318_ = FALSE;
						BalaStruct* _tmp319_;
						_tmp313_ = array_type;
						_tmp314_ = bala_array_type_get_element_type (_tmp313_);
						_tmp315_ = _tmp314_;
						_tmp316_ = bala_data_type_get_type_symbol (_tmp315_);
						_tmp317_ = _tmp316_;
						st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp317_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp317_) : NULL;
						_tmp319_ = st;
						if (_tmp319_ != NULL) {
							BalaArrayType* _tmp320_;
							BalaDataType* _tmp321_;
							BalaDataType* _tmp322_;
							gboolean _tmp323_;
							gboolean _tmp324_;
							_tmp320_ = array_type;
							_tmp321_ = bala_array_type_get_element_type (_tmp320_);
							_tmp322_ = _tmp321_;
							_tmp323_ = bala_data_type_get_nullable (_tmp322_);
							_tmp324_ = _tmp323_;
							_tmp318_ = !_tmp324_;
						} else {
							_tmp318_ = FALSE;
						}
						if (_tmp318_) {
							BalaCCodeFunctionCall* _tmp325_;
							BalaStruct* _tmp326_;
							gchar* _tmp327_;
							gchar* _tmp328_;
							BalaCCodeIdentifier* _tmp329_;
							BalaCCodeIdentifier* _tmp330_;
							BalaCCodeFunctionCall* _tmp331_;
							BalaCCodeExpression* _tmp332_;
							_tmp325_ = ccall;
							_tmp326_ = st;
							_tmp327_ = bala_ccode_base_module_append_struct_array_free (self, _tmp326_);
							_tmp328_ = _tmp327_;
							_tmp329_ = bala_ccode_identifier_new (_tmp328_);
							_tmp330_ = _tmp329_;
							bala_ccode_function_call_set_call (_tmp325_, (BalaCCodeExpression*) _tmp330_);
							_bala_ccode_node_unref0 (_tmp330_);
							_g_free0 (_tmp328_);
							_tmp331_ = ccall;
							_tmp332_ = csizeexpr;
							bala_ccode_function_call_add_argument (_tmp331_, _tmp332_);
						} else {
							BalaDelegateType* _tmp333_;
							BalaCCodeFile* _tmp334_;
							BalaCCodeFunctionCall* _tmp335_;
							BalaCCodeIdentifier* _tmp336_;
							BalaCCodeIdentifier* _tmp337_;
							BalaCCodeFunctionCall* _tmp338_;
							BalaCCodeExpression* _tmp339_;
							BalaCCodeFunctionCall* _tmp340_;
							BalaArrayType* _tmp341_;
							BalaDataType* _tmp342_;
							BalaDataType* _tmp343_;
							BalaCCodeExpression* _tmp344_;
							BalaCCodeExpression* _tmp345_;
							BalaDelegateType* _tmp346_;
							gchar* _tmp347_;
							gchar* _tmp348_;
							BalaCCodeCastExpression* _tmp349_;
							BalaCCodeCastExpression* _tmp350_;
							self->requires_array_free = TRUE;
							_tmp333_ = self->delegate_target_destroy_type;
							_tmp334_ = self->cfile;
							bala_ccode_base_module_generate_type_declaration (self, (BalaDataType*) _tmp333_, _tmp334_);
							_tmp335_ = ccall;
							_tmp336_ = bala_ccode_identifier_new ("_bala_array_free");
							_tmp337_ = _tmp336_;
							bala_ccode_function_call_set_call (_tmp335_, (BalaCCodeExpression*) _tmp337_);
							_bala_ccode_node_unref0 (_tmp337_);
							_tmp338_ = ccall;
							_tmp339_ = csizeexpr;
							bala_ccode_function_call_add_argument (_tmp338_, _tmp339_);
							_tmp340_ = ccall;
							_tmp341_ = array_type;
							_tmp342_ = bala_array_type_get_element_type (_tmp341_);
							_tmp343_ = _tmp342_;
							_tmp344_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp343_, FALSE);
							_tmp345_ = _tmp344_;
							_tmp346_ = self->delegate_target_destroy_type;
							_tmp347_ = bala_get_ccode_name ((BalaCodeNode*) _tmp346_);
							_tmp348_ = _tmp347_;
							_tmp349_ = bala_ccode_cast_expression_new (_tmp345_, _tmp348_);
							_tmp350_ = _tmp349_;
							bala_ccode_function_call_add_argument (_tmp340_, (BalaCCodeExpression*) _tmp350_);
							_bala_ccode_node_unref0 (_tmp350_);
							_g_free0 (_tmp348_);
							_bala_ccode_node_unref0 (_tmp345_);
						}
					}
					_bala_ccode_node_unref0 (csizeexpr);
				}
				_bala_code_node_unref0 (array_type);
			}
		}
	}
	_tmp351_ = ccomma;
	_tmp352_ = ccall;
	bala_ccode_comma_expression_append_expression (_tmp351_, (BalaCCodeExpression*) _tmp352_);
	_tmp353_ = ccomma;
	_tmp354_ = bala_ccode_constant_new ("NULL");
	_tmp355_ = _tmp354_;
	bala_ccode_comma_expression_append_expression (_tmp353_, (BalaCCodeExpression*) _tmp355_);
	_bala_ccode_node_unref0 (_tmp355_);
	_tmp356_ = cvar;
	_tmp357_ = ccomma;
	_tmp358_ = bala_ccode_assignment_new (_tmp356_, (BalaCCodeExpression*) _tmp357_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
	cassign = _tmp358_;
	_tmp361_ = type;
	_tmp362_ = bala_data_type_get_type_symbol (_tmp361_);
	_tmp363_ = _tmp362_;
	if (_tmp363_ != NULL) {
		BalaDataType* _tmp364_;
		BalaTypeSymbol* _tmp365_;
		BalaTypeSymbol* _tmp366_;
		_tmp364_ = type;
		_tmp365_ = bala_data_type_get_type_symbol (_tmp364_);
		_tmp366_ = _tmp365_;
		_tmp360_ = !bala_is_reference_counting (_tmp366_);
	} else {
		_tmp360_ = FALSE;
	}
	if (_tmp360_) {
		BalaDataType* _tmp367_;
		BalaTypeSymbol* _tmp368_;
		BalaTypeSymbol* _tmp369_;
		gchar* _tmp370_;
		gchar* _tmp371_;
		_tmp367_ = type;
		_tmp368_ = bala_data_type_get_type_symbol (_tmp367_);
		_tmp369_ = _tmp368_;
		_tmp370_ = bala_get_ccode_free_function (_tmp369_);
		_tmp371_ = _tmp370_;
		_tmp359_ = g_strcmp0 (_tmp371_, "g_free") == 0;
		_g_free0 (_tmp371_);
	} else {
		_tmp359_ = FALSE;
	}
	uses_gfree = _tmp359_;
	if (uses_gfree) {
		_tmp372_ = TRUE;
	} else {
		BalaDataType* _tmp373_;
		_tmp373_ = type;
		_tmp372_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp373_, BALA_TYPE_ARRAY_TYPE);
	}
	uses_gfree = _tmp372_;
	if (uses_gfree) {
		result = (BalaCCodeExpression*) cassign;
		_bala_ccode_node_unref0 (ccomma);
		_bala_ccode_node_unref0 (cisnull);
		_bala_ccode_node_unref0 (cexpr);
		_bala_ccode_node_unref0 (ccall);
		_bala_ccode_node_unref0 (cvar);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp374_ = cisnull;
	_tmp375_ = bala_ccode_constant_new ("NULL");
	_tmp376_ = _tmp375_;
	_tmp377_ = cassign;
	_tmp378_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp374_, (BalaCCodeExpression*) _tmp376_, (BalaCCodeExpression*) _tmp377_);
	_tmp379_ = (BalaCCodeExpression*) _tmp378_;
	_bala_ccode_node_unref0 (_tmp376_);
	result = _tmp379_;
	_bala_ccode_node_unref0 (cassign);
	_bala_ccode_node_unref0 (ccomma);
	_bala_ccode_node_unref0 (cisnull);
	_bala_ccode_node_unref0 (cexpr);
	_bala_ccode_node_unref0 (ccall);
	_bala_ccode_node_unref0 (cvar);
	_bala_code_node_unref0 (type);
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_destroy_value (BalaCCodeBaseModule* self,
                                      BalaTargetValue* value,
                                      gboolean is_macro_definition)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->destroy_value (self, value, is_macro_definition);
}

static void
bala_ccode_base_module_real_visit_end_full_expression (BalaCodeVisitor* base,
                                                       BalaExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaArrayList* _tmp0_;
	BalaArrayList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	BalaLocalVariable* local_decl = NULL;
	BalaCodeNode* _tmp4_;
	BalaCodeNode* _tmp5_;
	BalaLocalVariable* _tmp6_;
	gboolean _tmp7_ = FALSE;
	BalaLocalVariable* _tmp8_;
	BalaArrayList* _tmp32_;
	BalaArrayList* _tmp33_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_ccode_base_module_get_temp_ref_values (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
	_tmp3_ = _tmp2_;
	if (_tmp3_ == 0) {
		return;
	}
	_tmp4_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
	_tmp5_ = _tmp4_;
	_tmp6_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, BALA_TYPE_LOCAL_VARIABLE) ? ((BalaLocalVariable*) _tmp5_) : NULL);
	local_decl = _tmp6_;
	_tmp8_ = local_decl;
	if (_tmp8_ != NULL) {
		BalaLocalVariable* _tmp9_;
		BalaLocalVariable* _tmp10_;
		BalaExpression* _tmp11_;
		BalaExpression* _tmp12_;
		_tmp9_ = local_decl;
		_tmp10_ = local_decl;
		_tmp11_ = bala_variable_get_initializer ((BalaVariable*) _tmp10_);
		_tmp12_ = _tmp11_;
		_tmp7_ = bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) _tmp9_, _tmp12_);
	} else {
		_tmp7_ = FALSE;
	}
	if (!_tmp7_) {
		BalaTargetValue* _tmp13_;
		BalaTargetValue* _tmp14_;
		BalaTargetValue* _tmp15_;
		BalaTargetValue* _tmp16_;
		_tmp13_ = bala_expression_get_target_value (expr);
		_tmp14_ = _tmp13_;
		_tmp15_ = bala_ccode_base_module_store_temp_value (self, _tmp14_, (BalaCodeNode*) expr, NULL);
		_tmp16_ = _tmp15_;
		bala_expression_set_target_value (expr, _tmp16_);
		_bala_target_value_unref0 (_tmp16_);
	}
	{
		BalaArrayList* _value_list = NULL;
		BalaArrayList* _tmp17_;
		BalaArrayList* _tmp18_;
		BalaArrayList* _tmp19_;
		gint _value_size = 0;
		BalaArrayList* _tmp20_;
		gint _tmp21_;
		gint _tmp22_;
		gint _value_index = 0;
		_tmp17_ = bala_ccode_base_module_get_temp_ref_values (self);
		_tmp18_ = _tmp17_;
		_tmp19_ = _bala_iterable_ref0 (_tmp18_);
		_value_list = _tmp19_;
		_tmp20_ = _value_list;
		_tmp21_ = bala_collection_get_size ((BalaCollection*) _tmp20_);
		_tmp22_ = _tmp21_;
		_value_size = _tmp22_;
		_value_index = -1;
		while (TRUE) {
			gint _tmp23_;
			gint _tmp24_;
			BalaTargetValue* value = NULL;
			BalaArrayList* _tmp25_;
			gpointer _tmp26_;
			BalaCCodeFunction* _tmp27_;
			BalaCCodeFunction* _tmp28_;
			BalaTargetValue* _tmp29_;
			BalaCCodeExpression* _tmp30_;
			BalaCCodeExpression* _tmp31_;
			_value_index = _value_index + 1;
			_tmp23_ = _value_index;
			_tmp24_ = _value_size;
			if (!(_tmp23_ < _tmp24_)) {
				break;
			}
			_tmp25_ = _value_list;
			_tmp26_ = bala_list_get ((BalaList*) _tmp25_, _value_index);
			value = (BalaTargetValue*) _tmp26_;
			_tmp27_ = bala_ccode_base_module_get_ccode (self);
			_tmp28_ = _tmp27_;
			_tmp29_ = value;
			_tmp30_ = bala_ccode_base_module_destroy_value (self, _tmp29_, FALSE);
			_tmp31_ = _tmp30_;
			bala_ccode_function_add_expression (_tmp28_, _tmp31_);
			_bala_ccode_node_unref0 (_tmp31_);
			_bala_target_value_unref0 (value);
		}
		_bala_iterable_unref0 (_value_list);
	}
	_tmp32_ = bala_ccode_base_module_get_temp_ref_values (self);
	_tmp33_ = _tmp32_;
	bala_collection_clear ((BalaCollection*) _tmp33_);
	_bala_code_node_unref0 (local_decl);
}

void
bala_ccode_base_module_emit_temp_var (BalaCCodeBaseModule* self,
                                      BalaLocalVariable* local,
                                      gboolean on_error)
{
	gboolean _tmp0_ = FALSE;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	gboolean init = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (local != NULL);
	_tmp1_ = bala_symbol_get_name ((BalaSymbol*) local);
	_tmp2_ = _tmp1_;
	if (!g_str_has_prefix (_tmp2_, "*")) {
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp3_ = bala_local_variable_get_init (local);
		_tmp4_ = _tmp3_;
		_tmp0_ = _tmp4_;
	} else {
		_tmp0_ = FALSE;
	}
	init = _tmp0_;
	if (bala_ccode_base_module_is_in_coroutine (self)) {
		BalaCCodeStruct* _tmp5_;
		BalaDataType* _tmp6_;
		BalaDataType* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_;
		const gchar* _tmp11_;
		BalaDataType* _tmp12_;
		BalaDataType* _tmp13_;
		BalaCCodeDeclaratorSuffix* _tmp14_;
		BalaCCodeDeclaratorSuffix* _tmp15_;
		_tmp5_ = self->closure_struct;
		_tmp6_ = bala_variable_get_variable_type ((BalaVariable*) local);
		_tmp7_ = _tmp6_;
		_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) _tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_symbol_get_name ((BalaSymbol*) local);
		_tmp11_ = _tmp10_;
		_tmp12_ = bala_variable_get_variable_type ((BalaVariable*) local);
		_tmp13_ = _tmp12_;
		_tmp14_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp13_);
		_tmp15_ = _tmp14_;
		bala_ccode_struct_add_field (_tmp5_, _tmp9_, _tmp11_, 0, _tmp15_);
		_bala_ccode_declarator_suffix_unref0 (_tmp15_);
		_g_free0 (_tmp9_);
		if (init) {
			BalaCCodeExpression* initializer = NULL;
			BalaDataType* _tmp16_;
			BalaDataType* _tmp17_;
			BalaCCodeExpression* _tmp18_;
			BalaCCodeExpression* _tmp19_;
			_tmp16_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp17_ = _tmp16_;
			_tmp18_ = bala_ccode_base_module_default_value_for_type (self, _tmp17_, FALSE, on_error);
			initializer = _tmp18_;
			_tmp19_ = initializer;
			if (_tmp19_ == NULL) {
				BalaCCodeFile* _tmp20_;
				BalaCCodeFunctionCall* memset_call = NULL;
				BalaCCodeIdentifier* _tmp21_;
				BalaCCodeIdentifier* _tmp22_;
				BalaCCodeFunctionCall* _tmp23_;
				BalaCCodeFunctionCall* _tmp24_;
				BalaCCodeFunctionCall* _tmp25_;
				const gchar* _tmp26_;
				const gchar* _tmp27_;
				BalaCCodeExpression* _tmp28_;
				BalaCCodeExpression* _tmp29_;
				BalaCCodeUnaryExpression* _tmp30_;
				BalaCCodeUnaryExpression* _tmp31_;
				BalaCCodeFunctionCall* _tmp32_;
				BalaCCodeConstant* _tmp33_;
				BalaCCodeConstant* _tmp34_;
				BalaCCodeExpression* size = NULL;
				BalaCCodeExpression* _tmp35_ = NULL;
				BalaCCodeExpression* _tmp36_;
				BalaCCodeFunctionCall* _tmp44_;
				BalaCCodeExpression* _tmp45_;
				BalaCCodeFunction* _tmp46_;
				BalaCCodeFunction* _tmp47_;
				BalaCCodeFunctionCall* _tmp48_;
				_tmp20_ = self->cfile;
				bala_ccode_file_add_include (_tmp20_, "string.h", FALSE);
				_tmp21_ = bala_ccode_identifier_new ("memset");
				_tmp22_ = _tmp21_;
				_tmp23_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp22_);
				_tmp24_ = _tmp23_;
				_bala_ccode_node_unref0 (_tmp22_);
				memset_call = _tmp24_;
				_tmp25_ = memset_call;
				_tmp26_ = bala_symbol_get_name ((BalaSymbol*) local);
				_tmp27_ = _tmp26_;
				_tmp28_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp27_);
				_tmp29_ = _tmp28_;
				_tmp30_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp29_);
				_tmp31_ = _tmp30_;
				bala_ccode_function_call_add_argument (_tmp25_, (BalaCCodeExpression*) _tmp31_);
				_bala_ccode_node_unref0 (_tmp31_);
				_bala_ccode_node_unref0 (_tmp29_);
				_tmp32_ = memset_call;
				_tmp33_ = bala_ccode_constant_new ("0");
				_tmp34_ = _tmp33_;
				bala_ccode_function_call_add_argument (_tmp32_, (BalaCCodeExpression*) _tmp34_);
				_bala_ccode_node_unref0 (_tmp34_);
				size = NULL;
				bala_ccode_base_module_requires_memset_init (self, (BalaVariable*) local, &_tmp35_);
				_bala_ccode_node_unref0 (size);
				size = _tmp35_;
				_tmp36_ = size;
				if (_tmp36_ == NULL) {
					BalaDataType* _tmp37_;
					BalaDataType* _tmp38_;
					gchar* _tmp39_;
					gchar* _tmp40_;
					gchar* _tmp41_;
					gchar* _tmp42_;
					BalaCCodeIdentifier* _tmp43_;
					_tmp37_ = bala_variable_get_variable_type ((BalaVariable*) local);
					_tmp38_ = _tmp37_;
					_tmp39_ = bala_get_ccode_name ((BalaCodeNode*) _tmp38_);
					_tmp40_ = _tmp39_;
					_tmp41_ = g_strdup_printf ("sizeof (%s)", _tmp40_);
					_tmp42_ = _tmp41_;
					_tmp43_ = bala_ccode_identifier_new (_tmp42_);
					_bala_ccode_node_unref0 (size);
					size = (BalaCCodeExpression*) _tmp43_;
					_g_free0 (_tmp42_);
					_g_free0 (_tmp40_);
				}
				_tmp44_ = memset_call;
				_tmp45_ = size;
				bala_ccode_function_call_add_argument (_tmp44_, _tmp45_);
				_tmp46_ = bala_ccode_base_module_get_ccode (self);
				_tmp47_ = _tmp46_;
				_tmp48_ = memset_call;
				bala_ccode_function_add_expression (_tmp47_, (BalaCCodeExpression*) _tmp48_);
				_bala_ccode_node_unref0 (size);
				_bala_ccode_node_unref0 (memset_call);
			} else {
				BalaCCodeFunction* _tmp49_;
				BalaCCodeFunction* _tmp50_;
				const gchar* _tmp51_;
				const gchar* _tmp52_;
				BalaCCodeExpression* _tmp53_;
				BalaCCodeExpression* _tmp54_;
				BalaCCodeExpression* _tmp55_;
				_tmp49_ = bala_ccode_base_module_get_ccode (self);
				_tmp50_ = _tmp49_;
				_tmp51_ = bala_symbol_get_name ((BalaSymbol*) local);
				_tmp52_ = _tmp51_;
				_tmp53_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp52_);
				_tmp54_ = _tmp53_;
				_tmp55_ = initializer;
				bala_ccode_function_add_assignment (_tmp50_, _tmp54_, _tmp55_);
				_bala_ccode_node_unref0 (_tmp54_);
			}
			_bala_ccode_node_unref0 (initializer);
		}
	} else {
		BalaCCodeVariableDeclarator* cvar = NULL;
		const gchar* _tmp56_;
		const gchar* _tmp57_;
		BalaDataType* _tmp58_;
		BalaDataType* _tmp59_;
		BalaCCodeDeclaratorSuffix* _tmp60_;
		BalaCCodeDeclaratorSuffix* _tmp61_;
		BalaCCodeVariableDeclarator* _tmp62_;
		BalaCCodeVariableDeclarator* _tmp63_;
		BalaCCodeExpression* size = NULL;
		gboolean _tmp64_ = FALSE;
		BalaCCodeFunction* _tmp96_;
		BalaCCodeFunction* _tmp97_;
		BalaDataType* _tmp98_;
		BalaDataType* _tmp99_;
		gchar* _tmp100_;
		gchar* _tmp101_;
		BalaCCodeVariableDeclarator* _tmp102_;
		_tmp56_ = bala_symbol_get_name ((BalaSymbol*) local);
		_tmp57_ = _tmp56_;
		_tmp58_ = bala_variable_get_variable_type ((BalaVariable*) local);
		_tmp59_ = _tmp58_;
		_tmp60_ = bala_ccode_base_module_get_ccode_declarator_suffix (self, _tmp59_);
		_tmp61_ = _tmp60_;
		_tmp62_ = bala_ccode_variable_declarator_new (_tmp57_, NULL, _tmp61_);
		_tmp63_ = _tmp62_;
		_bala_ccode_declarator_suffix_unref0 (_tmp61_);
		cvar = _tmp63_;
		size = NULL;
		if (init) {
			BalaCCodeExpression* _tmp65_ = NULL;
			gboolean _tmp66_;
			_tmp66_ = bala_ccode_base_module_requires_memset_init (self, (BalaVariable*) local, &_tmp65_);
			_bala_ccode_node_unref0 (size);
			size = _tmp65_;
			_tmp64_ = !_tmp66_;
		} else {
			_tmp64_ = FALSE;
		}
		if (_tmp64_) {
			BalaCCodeVariableDeclarator* _tmp67_;
			BalaDataType* _tmp68_;
			BalaDataType* _tmp69_;
			BalaCCodeExpression* _tmp70_;
			BalaCCodeExpression* _tmp71_;
			BalaCCodeVariableDeclarator* _tmp72_;
			_tmp67_ = cvar;
			_tmp68_ = bala_variable_get_variable_type ((BalaVariable*) local);
			_tmp69_ = _tmp68_;
			_tmp70_ = bala_ccode_base_module_default_value_for_type (self, _tmp69_, TRUE, on_error);
			_tmp71_ = _tmp70_;
			bala_ccode_variable_declarator_set_initializer (_tmp67_, _tmp71_);
			_bala_ccode_node_unref0 (_tmp71_);
			_tmp72_ = cvar;
			bala_ccode_variable_declarator_set_init0 (_tmp72_, TRUE);
		} else {
			gboolean _tmp73_ = FALSE;
			gboolean _tmp74_ = FALSE;
			if (init) {
				BalaCCodeExpression* _tmp75_;
				_tmp75_ = size;
				_tmp74_ = _tmp75_ != NULL;
			} else {
				_tmp74_ = FALSE;
			}
			if (_tmp74_) {
				BalaExpression* _tmp76_;
				BalaExpression* _tmp77_;
				_tmp76_ = bala_variable_get_initializer ((BalaVariable*) local);
				_tmp77_ = _tmp76_;
				_tmp73_ = _tmp77_ == NULL;
			} else {
				_tmp73_ = FALSE;
			}
			if (_tmp73_) {
				BalaCCodeFile* _tmp78_;
				BalaCCodeFunctionCall* memset_call = NULL;
				BalaCCodeIdentifier* _tmp79_;
				BalaCCodeIdentifier* _tmp80_;
				BalaCCodeFunctionCall* _tmp81_;
				BalaCCodeFunctionCall* _tmp82_;
				BalaCCodeFunctionCall* _tmp83_;
				const gchar* _tmp84_;
				const gchar* _tmp85_;
				BalaCCodeExpression* _tmp86_;
				BalaCCodeExpression* _tmp87_;
				BalaCCodeFunctionCall* _tmp88_;
				BalaCCodeConstant* _tmp89_;
				BalaCCodeConstant* _tmp90_;
				BalaCCodeFunctionCall* _tmp91_;
				BalaCCodeExpression* _tmp92_;
				BalaCCodeFunction* _tmp93_;
				BalaCCodeFunction* _tmp94_;
				BalaCCodeFunctionCall* _tmp95_;
				_tmp78_ = self->cfile;
				bala_ccode_file_add_include (_tmp78_, "string.h", FALSE);
				_tmp79_ = bala_ccode_identifier_new ("memset");
				_tmp80_ = _tmp79_;
				_tmp81_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp80_);
				_tmp82_ = _tmp81_;
				_bala_ccode_node_unref0 (_tmp80_);
				memset_call = _tmp82_;
				_tmp83_ = memset_call;
				_tmp84_ = bala_symbol_get_name ((BalaSymbol*) local);
				_tmp85_ = _tmp84_;
				_tmp86_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp85_);
				_tmp87_ = _tmp86_;
				bala_ccode_function_call_add_argument (_tmp83_, _tmp87_);
				_bala_ccode_node_unref0 (_tmp87_);
				_tmp88_ = memset_call;
				_tmp89_ = bala_ccode_constant_new ("0");
				_tmp90_ = _tmp89_;
				bala_ccode_function_call_add_argument (_tmp88_, (BalaCCodeExpression*) _tmp90_);
				_bala_ccode_node_unref0 (_tmp90_);
				_tmp91_ = memset_call;
				_tmp92_ = size;
				bala_ccode_function_call_add_argument (_tmp91_, _tmp92_);
				_tmp93_ = bala_ccode_base_module_get_ccode (self);
				_tmp94_ = _tmp93_;
				_tmp95_ = memset_call;
				bala_ccode_function_add_expression (_tmp94_, (BalaCCodeExpression*) _tmp95_);
				_bala_ccode_node_unref0 (memset_call);
			}
		}
		_tmp96_ = bala_ccode_base_module_get_ccode (self);
		_tmp97_ = _tmp96_;
		_tmp98_ = bala_variable_get_variable_type ((BalaVariable*) local);
		_tmp99_ = _tmp98_;
		_tmp100_ = bala_get_ccode_name ((BalaCodeNode*) _tmp99_);
		_tmp101_ = _tmp100_;
		_tmp102_ = cvar;
		bala_ccode_function_add_declaration (_tmp97_, _tmp101_, (BalaCCodeDeclarator*) _tmp102_, 0);
		_g_free0 (_tmp101_);
		_bala_ccode_node_unref0 (size);
		_bala_ccode_node_unref0 (cvar);
	}
}

static void
bala_ccode_base_module_real_visit_expression_statement (BalaCodeVisitor* base,
                                                        BalaExpressionStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp19_ = FALSE;
	gboolean _tmp20_;
	gboolean _tmp21_;
	BalaArrayList* _tmp28_;
	BalaArrayList* _tmp29_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	_tmp0_ = bala_expression_statement_get_expression (stmt);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_code_node_get_error ((BalaCodeNode*) _tmp1_);
	_tmp3_ = _tmp2_;
	if (_tmp3_) {
		bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
		return;
	}
	{
		BalaArrayList* _value_list = NULL;
		BalaArrayList* _tmp4_;
		BalaArrayList* _tmp5_;
		BalaArrayList* _tmp6_;
		gint _value_size = 0;
		BalaArrayList* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		gint _value_index = 0;
		_tmp4_ = bala_ccode_base_module_get_temp_ref_values (self);
		_tmp5_ = _tmp4_;
		_tmp6_ = _bala_iterable_ref0 (_tmp5_);
		_value_list = _tmp6_;
		_tmp7_ = _value_list;
		_tmp8_ = bala_collection_get_size ((BalaCollection*) _tmp7_);
		_tmp9_ = _tmp8_;
		_value_size = _tmp9_;
		_value_index = -1;
		while (TRUE) {
			gint _tmp10_;
			gint _tmp11_;
			BalaTargetValue* value = NULL;
			BalaArrayList* _tmp12_;
			gpointer _tmp13_;
			BalaCCodeFunction* _tmp14_;
			BalaCCodeFunction* _tmp15_;
			BalaTargetValue* _tmp16_;
			BalaCCodeExpression* _tmp17_;
			BalaCCodeExpression* _tmp18_;
			_value_index = _value_index + 1;
			_tmp10_ = _value_index;
			_tmp11_ = _value_size;
			if (!(_tmp10_ < _tmp11_)) {
				break;
			}
			_tmp12_ = _value_list;
			_tmp13_ = bala_list_get ((BalaList*) _tmp12_, _value_index);
			value = (BalaTargetValue*) _tmp13_;
			_tmp14_ = bala_ccode_base_module_get_ccode (self);
			_tmp15_ = _tmp14_;
			_tmp16_ = value;
			_tmp17_ = bala_ccode_base_module_destroy_value (self, _tmp16_, FALSE);
			_tmp18_ = _tmp17_;
			bala_ccode_function_add_expression (_tmp15_, _tmp18_);
			_bala_ccode_node_unref0 (_tmp18_);
			_bala_target_value_unref0 (value);
		}
		_bala_iterable_unref0 (_value_list);
	}
	_tmp20_ = bala_code_node_get_tree_can_fail ((BalaCodeNode*) stmt);
	_tmp21_ = _tmp20_;
	if (_tmp21_) {
		BalaExpression* _tmp22_;
		BalaExpression* _tmp23_;
		gboolean _tmp24_;
		gboolean _tmp25_;
		_tmp22_ = bala_expression_statement_get_expression (stmt);
		_tmp23_ = _tmp22_;
		_tmp24_ = bala_code_node_get_tree_can_fail ((BalaCodeNode*) _tmp23_);
		_tmp25_ = _tmp24_;
		_tmp19_ = _tmp25_;
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		BalaExpression* _tmp26_;
		BalaExpression* _tmp27_;
		_tmp26_ = bala_expression_statement_get_expression (stmt);
		_tmp27_ = _tmp26_;
		bala_ccode_base_module_add_simple_check (self, (BalaCodeNode*) _tmp27_, FALSE);
	}
	_tmp28_ = bala_ccode_base_module_get_temp_ref_values (self);
	_tmp29_ = _tmp28_;
	bala_collection_clear ((BalaCollection*) _tmp29_);
}

static void
bala_ccode_base_module_real_append_scope_free (BalaCCodeBaseModule* self,
                                               BalaSymbol* sym,
                                               BalaCodeNode* stop_at)
{
	BalaBlock* b = NULL;
	BalaBlock* _tmp0_;
	BalaList* local_vars = NULL;
	BalaBlock* _tmp1_;
	BalaList* _tmp2_;
	BalaList* _tmp3_;
	BalaBlock* _tmp31_;
	gboolean _tmp32_;
	gboolean _tmp33_;
	g_return_if_fail (sym != NULL);
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (sym, BALA_TYPE_BLOCK, BalaBlock));
	b = _tmp0_;
	_tmp1_ = b;
	_tmp2_ = bala_block_get_local_variables (_tmp1_);
	_tmp3_ = _bala_iterable_ref0 (_tmp2_);
	local_vars = _tmp3_;
	{
		gint i = 0;
		BalaList* _tmp4_;
		gint _tmp5_;
		gint _tmp6_;
		_tmp4_ = local_vars;
		_tmp5_ = bala_collection_get_size ((BalaCollection*) _tmp4_);
		_tmp6_ = _tmp5_;
		i = _tmp6_ - 1;
		{
			gboolean _tmp7_ = FALSE;
			_tmp7_ = TRUE;
			while (TRUE) {
				BalaLocalVariable* local = NULL;
				BalaList* _tmp9_;
				gpointer _tmp10_;
				gboolean _tmp11_ = FALSE;
				gboolean _tmp12_ = FALSE;
				gboolean _tmp13_ = FALSE;
				BalaLocalVariable* _tmp14_;
				gboolean _tmp15_;
				gboolean _tmp16_;
				if (!_tmp7_) {
					gint _tmp8_;
					_tmp8_ = i;
					i = _tmp8_ - 1;
				}
				_tmp7_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp9_ = local_vars;
				_tmp10_ = bala_list_get (_tmp9_, i);
				local = (BalaLocalVariable*) _tmp10_;
				_tmp14_ = local;
				_tmp15_ = bala_code_node_get_unreachable ((BalaCodeNode*) _tmp14_);
				_tmp16_ = _tmp15_;
				if (!_tmp16_) {
					BalaLocalVariable* _tmp17_;
					gboolean _tmp18_;
					gboolean _tmp19_;
					_tmp17_ = local;
					_tmp18_ = bala_symbol_get_active ((BalaSymbol*) _tmp17_);
					_tmp19_ = _tmp18_;
					_tmp13_ = _tmp19_;
				} else {
					_tmp13_ = FALSE;
				}
				if (_tmp13_) {
					BalaLocalVariable* _tmp20_;
					gboolean _tmp21_;
					gboolean _tmp22_;
					_tmp20_ = local;
					_tmp21_ = bala_local_variable_get_captured (_tmp20_);
					_tmp22_ = _tmp21_;
					_tmp12_ = !_tmp22_;
				} else {
					_tmp12_ = FALSE;
				}
				if (_tmp12_) {
					BalaLocalVariable* _tmp23_;
					BalaDataType* _tmp24_;
					BalaDataType* _tmp25_;
					_tmp23_ = local;
					_tmp24_ = bala_variable_get_variable_type ((BalaVariable*) _tmp23_);
					_tmp25_ = _tmp24_;
					_tmp11_ = bala_ccode_base_module_requires_destroy (_tmp25_);
				} else {
					_tmp11_ = FALSE;
				}
				if (_tmp11_) {
					BalaCCodeFunction* _tmp26_;
					BalaCCodeFunction* _tmp27_;
					BalaLocalVariable* _tmp28_;
					BalaCCodeExpression* _tmp29_;
					BalaCCodeExpression* _tmp30_;
					_tmp26_ = bala_ccode_base_module_get_ccode (self);
					_tmp27_ = _tmp26_;
					_tmp28_ = local;
					_tmp29_ = bala_ccode_base_module_destroy_local (self, _tmp28_);
					_tmp30_ = _tmp29_;
					bala_ccode_function_add_expression (_tmp27_, _tmp30_);
					_bala_ccode_node_unref0 (_tmp30_);
				}
				_bala_code_node_unref0 (local);
			}
		}
	}
	_tmp31_ = b;
	_tmp32_ = bala_block_get_captured (_tmp31_);
	_tmp33_ = _tmp32_;
	if (_tmp33_) {
		gint block_id = 0;
		BalaBlock* _tmp34_;
		BalaCCodeFunctionCall* data_unref = NULL;
		gchar* _tmp35_;
		gchar* _tmp36_;
		BalaCCodeIdentifier* _tmp37_;
		BalaCCodeIdentifier* _tmp38_;
		BalaCCodeFunctionCall* _tmp39_;
		BalaCCodeFunctionCall* _tmp40_;
		BalaCCodeFunctionCall* _tmp41_;
		gchar* _tmp42_;
		gchar* _tmp43_;
		BalaCCodeExpression* _tmp44_;
		BalaCCodeExpression* _tmp45_;
		BalaCCodeFunction* _tmp46_;
		BalaCCodeFunction* _tmp47_;
		BalaCCodeFunctionCall* _tmp48_;
		BalaCCodeFunction* _tmp49_;
		BalaCCodeFunction* _tmp50_;
		gchar* _tmp51_;
		gchar* _tmp52_;
		BalaCCodeExpression* _tmp53_;
		BalaCCodeExpression* _tmp54_;
		BalaCCodeConstant* _tmp55_;
		BalaCCodeConstant* _tmp56_;
		_tmp34_ = b;
		block_id = bala_ccode_base_module_get_block_id (self, _tmp34_);
		_tmp35_ = g_strdup_printf ("block%d_data_unref", block_id);
		_tmp36_ = _tmp35_;
		_tmp37_ = bala_ccode_identifier_new (_tmp36_);
		_tmp38_ = _tmp37_;
		_tmp39_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp38_);
		_tmp40_ = _tmp39_;
		_bala_ccode_node_unref0 (_tmp38_);
		_g_free0 (_tmp36_);
		data_unref = _tmp40_;
		_tmp41_ = data_unref;
		_tmp42_ = g_strdup_printf ("_data%d_", block_id);
		_tmp43_ = _tmp42_;
		_tmp44_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp43_);
		_tmp45_ = _tmp44_;
		bala_ccode_function_call_add_argument (_tmp41_, _tmp45_);
		_bala_ccode_node_unref0 (_tmp45_);
		_g_free0 (_tmp43_);
		_tmp46_ = bala_ccode_base_module_get_ccode (self);
		_tmp47_ = _tmp46_;
		_tmp48_ = data_unref;
		bala_ccode_function_add_expression (_tmp47_, (BalaCCodeExpression*) _tmp48_);
		_tmp49_ = bala_ccode_base_module_get_ccode (self);
		_tmp50_ = _tmp49_;
		_tmp51_ = g_strdup_printf ("_data%d_", block_id);
		_tmp52_ = _tmp51_;
		_tmp53_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp52_);
		_tmp54_ = _tmp53_;
		_tmp55_ = bala_ccode_constant_new ("NULL");
		_tmp56_ = _tmp55_;
		bala_ccode_function_add_assignment (_tmp50_, _tmp54_, (BalaCCodeExpression*) _tmp56_);
		_bala_ccode_node_unref0 (_tmp56_);
		_bala_ccode_node_unref0 (_tmp54_);
		_g_free0 (_tmp52_);
		_bala_ccode_node_unref0 (data_unref);
	}
	_bala_iterable_unref0 (local_vars);
	_bala_code_node_unref0 (b);
}

void
bala_ccode_base_module_append_scope_free (BalaCCodeBaseModule* self,
                                          BalaSymbol* sym,
                                          BalaCodeNode* stop_at)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->append_scope_free (self, sym, stop_at);
}

void
bala_ccode_base_module_append_local_free (BalaCCodeBaseModule* self,
                                          BalaSymbol* sym,
                                          BalaStatement* jump_stmt,
                                          BalaCodeNode* stop_at)
{
	BalaBlock* b = NULL;
	BalaBlock* _tmp0_;
	gboolean _tmp19_ = FALSE;
	BalaSymbol* _tmp23_;
	BalaSymbol* _tmp24_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sym != NULL);
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (sym, BALA_TYPE_BLOCK, BalaBlock));
	b = _tmp0_;
	bala_ccode_base_module_append_scope_free (self, sym, stop_at);
	if (G_TYPE_CHECK_INSTANCE_TYPE (jump_stmt, BALA_TYPE_BREAK_STATEMENT)) {
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		BalaBlock* _tmp3_;
		BalaCodeNode* _tmp4_;
		BalaCodeNode* _tmp5_;
		_tmp3_ = b;
		_tmp4_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp3_);
		_tmp5_ = _tmp4_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, BALA_TYPE_LOOP)) {
			_tmp2_ = TRUE;
		} else {
			BalaBlock* _tmp6_;
			BalaCodeNode* _tmp7_;
			BalaCodeNode* _tmp8_;
			_tmp6_ = b;
			_tmp7_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp6_);
			_tmp8_ = _tmp7_;
			_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_FOREACH_STATEMENT);
		}
		if (_tmp2_) {
			_tmp1_ = TRUE;
		} else {
			BalaBlock* _tmp9_;
			BalaCodeNode* _tmp10_;
			BalaCodeNode* _tmp11_;
			_tmp9_ = b;
			_tmp10_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp9_);
			_tmp11_ = _tmp10_;
			_tmp1_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, BALA_TYPE_SWITCH_STATEMENT);
		}
		if (_tmp1_) {
			_bala_code_node_unref0 (b);
			return;
		}
	} else {
		if (G_TYPE_CHECK_INSTANCE_TYPE (jump_stmt, BALA_TYPE_CONTINUE_STATEMENT)) {
			gboolean _tmp12_ = FALSE;
			BalaBlock* _tmp13_;
			BalaCodeNode* _tmp14_;
			BalaCodeNode* _tmp15_;
			_tmp13_ = b;
			_tmp14_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp13_);
			_tmp15_ = _tmp14_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp15_, BALA_TYPE_LOOP)) {
				_tmp12_ = TRUE;
			} else {
				BalaBlock* _tmp16_;
				BalaCodeNode* _tmp17_;
				BalaCodeNode* _tmp18_;
				_tmp16_ = b;
				_tmp17_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp16_);
				_tmp18_ = _tmp17_;
				_tmp12_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, BALA_TYPE_FOREACH_STATEMENT);
			}
			if (_tmp12_) {
				_bala_code_node_unref0 (b);
				return;
			}
		}
	}
	if (stop_at != NULL) {
		BalaBlock* _tmp20_;
		BalaCodeNode* _tmp21_;
		BalaCodeNode* _tmp22_;
		_tmp20_ = b;
		_tmp21_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp20_);
		_tmp22_ = _tmp21_;
		_tmp19_ = _tmp22_ == stop_at;
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		_bala_code_node_unref0 (b);
		return;
	}
	_tmp23_ = bala_symbol_get_parent_symbol (sym);
	_tmp24_ = _tmp23_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp24_, BALA_TYPE_BLOCK)) {
		BalaSymbol* _tmp25_;
		BalaSymbol* _tmp26_;
		_tmp25_ = bala_symbol_get_parent_symbol (sym);
		_tmp26_ = _tmp25_;
		bala_ccode_base_module_append_local_free (self, _tmp26_, jump_stmt, stop_at);
	} else {
		BalaSymbol* _tmp27_;
		BalaSymbol* _tmp28_;
		_tmp27_ = bala_symbol_get_parent_symbol (sym);
		_tmp28_ = _tmp27_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp28_, BALA_TYPE_METHOD)) {
			BalaSymbol* _tmp29_;
			BalaSymbol* _tmp30_;
			_tmp29_ = bala_symbol_get_parent_symbol (sym);
			_tmp30_ = _tmp29_;
			bala_ccode_base_module_append_param_free (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp30_, BALA_TYPE_METHOD, BalaMethod));
		} else {
			BalaSymbol* _tmp31_;
			BalaSymbol* _tmp32_;
			_tmp31_ = bala_symbol_get_parent_symbol (sym);
			_tmp32_ = _tmp31_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp32_, BALA_TYPE_PROPERTY_ACCESSOR)) {
				BalaPropertyAccessor* acc = NULL;
				BalaSymbol* _tmp33_;
				BalaSymbol* _tmp34_;
				BalaPropertyAccessor* _tmp35_;
				gboolean _tmp36_ = FALSE;
				BalaPropertyAccessor* _tmp37_;
				BalaParameter* _tmp38_;
				BalaParameter* _tmp39_;
				_tmp33_ = bala_symbol_get_parent_symbol (sym);
				_tmp34_ = _tmp33_;
				_tmp35_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp34_, BALA_TYPE_PROPERTY_ACCESSOR, BalaPropertyAccessor));
				acc = _tmp35_;
				_tmp37_ = acc;
				_tmp38_ = bala_property_accessor_get_value_parameter (_tmp37_);
				_tmp39_ = _tmp38_;
				if (_tmp39_ != NULL) {
					BalaPropertyAccessor* _tmp40_;
					BalaParameter* _tmp41_;
					BalaParameter* _tmp42_;
					BalaDataType* _tmp43_;
					BalaDataType* _tmp44_;
					_tmp40_ = acc;
					_tmp41_ = bala_property_accessor_get_value_parameter (_tmp40_);
					_tmp42_ = _tmp41_;
					_tmp43_ = bala_variable_get_variable_type ((BalaVariable*) _tmp42_);
					_tmp44_ = _tmp43_;
					_tmp36_ = bala_ccode_base_module_requires_destroy (_tmp44_);
				} else {
					_tmp36_ = FALSE;
				}
				if (_tmp36_) {
					BalaCCodeFunction* _tmp45_;
					BalaCCodeFunction* _tmp46_;
					BalaPropertyAccessor* _tmp47_;
					BalaParameter* _tmp48_;
					BalaParameter* _tmp49_;
					BalaCCodeExpression* _tmp50_;
					BalaCCodeExpression* _tmp51_;
					_tmp45_ = bala_ccode_base_module_get_ccode (self);
					_tmp46_ = _tmp45_;
					_tmp47_ = acc;
					_tmp48_ = bala_property_accessor_get_value_parameter (_tmp47_);
					_tmp49_ = _tmp48_;
					_tmp50_ = bala_ccode_base_module_destroy_parameter (self, _tmp49_);
					_tmp51_ = _tmp50_;
					bala_ccode_function_add_expression (_tmp46_, _tmp51_);
					_bala_ccode_node_unref0 (_tmp51_);
				}
				_bala_code_node_unref0 (acc);
			}
		}
	}
	_bala_code_node_unref0 (b);
}

static void
bala_ccode_base_module_append_param_free (BalaCCodeBaseModule* self,
                                          BalaMethod* m)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (m != NULL);
	{
		BalaList* _param_list = NULL;
		BalaList* _tmp0_;
		BalaList* _tmp1_;
		gint _param_size = 0;
		BalaList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _param_index = 0;
		_tmp0_ = bala_callable_get_parameters ((BalaCallable*) m);
		_tmp1_ = _bala_iterable_ref0 (_tmp0_);
		_param_list = _tmp1_;
		_tmp2_ = _param_list;
		_tmp3_ = bala_collection_get_size ((BalaCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_param_size = _tmp4_;
		_param_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			BalaParameter* param = NULL;
			BalaList* _tmp7_;
			gpointer _tmp8_;
			gboolean _tmp9_ = FALSE;
			gboolean _tmp10_ = FALSE;
			gboolean _tmp11_ = FALSE;
			gboolean _tmp12_ = FALSE;
			BalaParameter* _tmp13_;
			gboolean _tmp14_;
			gboolean _tmp15_;
			_param_index = _param_index + 1;
			_tmp5_ = _param_index;
			_tmp6_ = _param_size;
			if (!(_tmp5_ < _tmp6_)) {
				break;
			}
			_tmp7_ = _param_list;
			_tmp8_ = bala_list_get (_tmp7_, _param_index);
			param = (BalaParameter*) _tmp8_;
			_tmp13_ = param;
			_tmp14_ = bala_parameter_get_captured (_tmp13_);
			_tmp15_ = _tmp14_;
			if (!_tmp15_) {
				BalaParameter* _tmp16_;
				gboolean _tmp17_;
				gboolean _tmp18_;
				_tmp16_ = param;
				_tmp17_ = bala_parameter_get_ellipsis (_tmp16_);
				_tmp18_ = _tmp17_;
				_tmp12_ = !_tmp18_;
			} else {
				_tmp12_ = FALSE;
			}
			if (_tmp12_) {
				BalaParameter* _tmp19_;
				gboolean _tmp20_;
				gboolean _tmp21_;
				_tmp19_ = param;
				_tmp20_ = bala_parameter_get_params_array (_tmp19_);
				_tmp21_ = _tmp20_;
				_tmp11_ = !_tmp21_;
			} else {
				_tmp11_ = FALSE;
			}
			if (_tmp11_) {
				BalaParameter* _tmp22_;
				BalaDataType* _tmp23_;
				BalaDataType* _tmp24_;
				_tmp22_ = param;
				_tmp23_ = bala_variable_get_variable_type ((BalaVariable*) _tmp22_);
				_tmp24_ = _tmp23_;
				_tmp10_ = bala_ccode_base_module_requires_destroy (_tmp24_);
			} else {
				_tmp10_ = FALSE;
			}
			if (_tmp10_) {
				BalaParameter* _tmp25_;
				BalaParameterDirection _tmp26_;
				BalaParameterDirection _tmp27_;
				_tmp25_ = param;
				_tmp26_ = bala_parameter_get_direction (_tmp25_);
				_tmp27_ = _tmp26_;
				_tmp9_ = _tmp27_ == BALA_PARAMETER_DIRECTION_IN;
			} else {
				_tmp9_ = FALSE;
			}
			if (_tmp9_) {
				BalaCCodeFunction* _tmp28_;
				BalaCCodeFunction* _tmp29_;
				BalaParameter* _tmp30_;
				BalaCCodeExpression* _tmp31_;
				BalaCCodeExpression* _tmp32_;
				_tmp28_ = bala_ccode_base_module_get_ccode (self);
				_tmp29_ = _tmp28_;
				_tmp30_ = param;
				_tmp31_ = bala_ccode_base_module_destroy_parameter (self, _tmp30_);
				_tmp32_ = _tmp31_;
				bala_ccode_function_add_expression (_tmp29_, _tmp32_);
				_bala_ccode_node_unref0 (_tmp32_);
			}
			_bala_code_node_unref0 (param);
		}
		_bala_iterable_unref0 (_param_list);
	}
}

void
bala_ccode_base_module_append_out_param_free (BalaCCodeBaseModule* self,
                                              BalaMethod* m)
{
	g_return_if_fail (self != NULL);
	if (m == NULL) {
		return;
	}
	{
		BalaList* _param_list = NULL;
		BalaList* _tmp0_;
		BalaList* _tmp1_;
		gint _param_size = 0;
		BalaList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _param_index = 0;
		_tmp0_ = bala_callable_get_parameters ((BalaCallable*) m);
		_tmp1_ = _bala_iterable_ref0 (_tmp0_);
		_param_list = _tmp1_;
		_tmp2_ = _param_list;
		_tmp3_ = bala_collection_get_size ((BalaCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_param_size = _tmp4_;
		_param_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			BalaParameter* param = NULL;
			BalaList* _tmp7_;
			gpointer _tmp8_;
			gboolean _tmp9_ = FALSE;
			BalaParameter* _tmp10_;
			BalaParameterDirection _tmp11_;
			BalaParameterDirection _tmp12_;
			_param_index = _param_index + 1;
			_tmp5_ = _param_index;
			_tmp6_ = _param_size;
			if (!(_tmp5_ < _tmp6_)) {
				break;
			}
			_tmp7_ = _param_list;
			_tmp8_ = bala_list_get (_tmp7_, _param_index);
			param = (BalaParameter*) _tmp8_;
			_tmp10_ = param;
			_tmp11_ = bala_parameter_get_direction (_tmp10_);
			_tmp12_ = _tmp11_;
			if (_tmp12_ == BALA_PARAMETER_DIRECTION_OUT) {
				BalaParameter* _tmp13_;
				BalaDataType* _tmp14_;
				BalaDataType* _tmp15_;
				_tmp13_ = param;
				_tmp14_ = bala_variable_get_variable_type ((BalaVariable*) _tmp13_);
				_tmp15_ = _tmp14_;
				_tmp9_ = bala_data_type_is_disposable (_tmp15_);
			} else {
				_tmp9_ = FALSE;
			}
			if (_tmp9_) {
				BalaCCodeFunction* _tmp16_;
				BalaCCodeFunction* _tmp17_;
				BalaParameter* _tmp18_;
				BalaCCodeExpression* _tmp19_;
				BalaCCodeExpression* _tmp20_;
				_tmp16_ = bala_ccode_base_module_get_ccode (self);
				_tmp17_ = _tmp16_;
				_tmp18_ = param;
				_tmp19_ = bala_ccode_base_module_destroy_parameter (self, _tmp18_);
				_tmp20_ = _tmp19_;
				bala_ccode_function_add_expression (_tmp17_, _tmp20_);
				_bala_ccode_node_unref0 (_tmp20_);
			}
			_bala_code_node_unref0 (param);
		}
		_bala_iterable_unref0 (_param_list);
	}
}

gboolean
bala_ccode_base_module_variable_accessible_in_finally (BalaCCodeBaseModule* self,
                                                       BalaLocalVariable* local)
{
	BalaTryStatement* _tmp0_;
	BalaTryStatement* _tmp1_;
	BalaSymbol* sym = NULL;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaSymbol* _tmp4_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (local != NULL, FALSE);
	_tmp0_ = bala_ccode_base_module_get_current_try (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == NULL) {
		result = FALSE;
		return result;
	}
	_tmp2_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp3_ = _tmp2_;
	_tmp4_ = _bala_code_node_ref0 (_tmp3_);
	sym = _tmp4_;
	while (TRUE) {
		gboolean _tmp5_ = FALSE;
		gboolean _tmp6_ = FALSE;
		BalaSymbol* _tmp7_;
		gboolean _tmp16_ = FALSE;
		gboolean _tmp17_ = FALSE;
		BalaSymbol* _tmp18_;
		BalaCodeNode* _tmp19_;
		BalaCodeNode* _tmp20_;
		BalaSymbol* _tmp37_;
		BalaSymbol* _tmp38_;
		BalaSymbol* _tmp39_;
		BalaSymbol* _tmp40_;
		_tmp7_ = sym;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, BALA_TYPE_METHOD)) {
			_tmp6_ = TRUE;
		} else {
			BalaSymbol* _tmp8_;
			_tmp8_ = sym;
			_tmp6_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_PROPERTY_ACCESSOR);
		}
		if (!_tmp6_) {
			BalaSymbol* _tmp9_;
			BalaScope* _tmp10_;
			BalaScope* _tmp11_;
			const gchar* _tmp12_;
			const gchar* _tmp13_;
			BalaSymbol* _tmp14_;
			BalaSymbol* _tmp15_;
			_tmp9_ = sym;
			_tmp10_ = bala_symbol_get_scope (_tmp9_);
			_tmp11_ = _tmp10_;
			_tmp12_ = bala_symbol_get_name ((BalaSymbol*) local);
			_tmp13_ = _tmp12_;
			_tmp14_ = bala_scope_lookup (_tmp11_, _tmp13_);
			_tmp15_ = _tmp14_;
			_tmp5_ = _tmp15_ == NULL;
			_bala_code_node_unref0 (_tmp15_);
		} else {
			_tmp5_ = FALSE;
		}
		if (!_tmp5_) {
			break;
		}
		_tmp18_ = sym;
		_tmp19_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp18_);
		_tmp20_ = _tmp19_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp20_, BALA_TYPE_TRY_STATEMENT)) {
			BalaSymbol* _tmp21_;
			BalaCodeNode* _tmp22_;
			BalaCodeNode* _tmp23_;
			BalaBlock* _tmp24_;
			BalaBlock* _tmp25_;
			_tmp21_ = sym;
			_tmp22_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_try_statement_get_finally_body (G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, BALA_TYPE_TRY_STATEMENT, BalaTryStatement));
			_tmp25_ = _tmp24_;
			_tmp17_ = _tmp25_ != NULL;
		} else {
			_tmp17_ = FALSE;
		}
		if (_tmp17_) {
			_tmp16_ = TRUE;
		} else {
			gboolean _tmp26_ = FALSE;
			BalaSymbol* _tmp27_;
			BalaCodeNode* _tmp28_;
			BalaCodeNode* _tmp29_;
			_tmp27_ = sym;
			_tmp28_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp27_);
			_tmp29_ = _tmp28_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp29_, BALA_TYPE_CATCH_CLAUSE)) {
				BalaSymbol* _tmp30_;
				BalaCodeNode* _tmp31_;
				BalaCodeNode* _tmp32_;
				BalaCodeNode* _tmp33_;
				BalaCodeNode* _tmp34_;
				BalaBlock* _tmp35_;
				BalaBlock* _tmp36_;
				_tmp30_ = sym;
				_tmp31_ = bala_code_node_get_parent_node ((BalaCodeNode*) _tmp30_);
				_tmp32_ = _tmp31_;
				_tmp33_ = bala_code_node_get_parent_node (_tmp32_);
				_tmp34_ = _tmp33_;
				_tmp35_ = bala_try_statement_get_finally_body (G_TYPE_CHECK_INSTANCE_CAST (_tmp34_, BALA_TYPE_TRY_STATEMENT, BalaTryStatement));
				_tmp36_ = _tmp35_;
				_tmp26_ = _tmp36_ != NULL;
			} else {
				_tmp26_ = FALSE;
			}
			_tmp16_ = _tmp26_;
		}
		if (_tmp16_) {
			result = TRUE;
			_bala_code_node_unref0 (sym);
			return result;
		}
		_tmp37_ = sym;
		_tmp38_ = bala_symbol_get_parent_symbol (_tmp37_);
		_tmp39_ = _tmp38_;
		_tmp40_ = _bala_code_node_ref0 (_tmp39_);
		_bala_code_node_unref0 (sym);
		sym = _tmp40_;
	}
	result = FALSE;
	_bala_code_node_unref0 (sym);
	return result;
}

void
bala_ccode_base_module_return_out_parameter (BalaCCodeBaseModule* self,
                                             BalaParameter* param)
{
	BalaDelegateType* delegate_type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDelegateType* _tmp2_;
	BalaTargetValue* value = NULL;
	BalaTargetValue* _tmp3_;
	gboolean old_coroutine = FALSE;
	BalaMethod* _tmp4_;
	BalaMethod* _tmp5_;
	BalaCCodeFunction* _tmp6_;
	BalaCCodeFunction* _tmp7_;
	BalaCCodeExpression* _tmp8_;
	BalaCCodeExpression* _tmp9_;
	BalaCCodeFunction* _tmp10_;
	BalaCCodeFunction* _tmp11_;
	BalaCCodeExpression* _tmp12_;
	BalaCCodeExpression* _tmp13_;
	BalaCCodeUnaryExpression* _tmp14_;
	BalaCCodeUnaryExpression* _tmp15_;
	BalaTargetValue* _tmp16_;
	BalaCCodeExpression* _tmp17_;
	gboolean _tmp18_ = FALSE;
	gboolean _tmp19_ = FALSE;
	BalaDataType* _tmp50_;
	BalaDataType* _tmp51_;
	BalaCCodeFunction* _tmp62_;
	BalaCCodeFunction* _tmp63_;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp64_;
	BalaDataType* _tmp65_;
	BalaArrayType* _tmp66_;
	gboolean _tmp67_ = FALSE;
	gboolean _tmp68_ = FALSE;
	BalaArrayType* _tmp69_;
	BalaMethod* _tmp96_;
	BalaMethod* _tmp97_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (param != NULL);
	_tmp0_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_DELEGATE_TYPE) ? ((BalaDelegateType*) _tmp1_) : NULL);
	delegate_type = _tmp2_;
	_tmp3_ = bala_ccode_base_module_get_parameter_cvalue (self, param);
	value = _tmp3_;
	old_coroutine = bala_ccode_base_module_is_in_coroutine (self);
	_tmp4_ = bala_ccode_base_module_get_current_method (self);
	_tmp5_ = _tmp4_;
	bala_method_set_coroutine (_tmp5_, FALSE);
	_tmp6_ = bala_ccode_base_module_get_ccode (self);
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_ccode_base_module_get_parameter_cexpression (self, param);
	_tmp9_ = _tmp8_;
	bala_ccode_function_open_if (_tmp7_, _tmp9_);
	_bala_ccode_node_unref0 (_tmp9_);
	_tmp10_ = bala_ccode_base_module_get_ccode (self);
	_tmp11_ = _tmp10_;
	_tmp12_ = bala_ccode_base_module_get_parameter_cexpression (self, param);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp13_);
	_tmp15_ = _tmp14_;
	_tmp16_ = value;
	_tmp17_ = bala_get_cvalue_ (_tmp16_);
	bala_ccode_function_add_assignment (_tmp11_, (BalaCCodeExpression*) _tmp15_, _tmp17_);
	_bala_ccode_node_unref0 (_tmp15_);
	_bala_ccode_node_unref0 (_tmp13_);
	if (bala_get_ccode_delegate_target ((BalaCodeNode*) param)) {
		BalaDelegateType* _tmp20_;
		_tmp20_ = delegate_type;
		_tmp19_ = _tmp20_ != NULL;
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		BalaDelegateType* _tmp21_;
		BalaDelegate* _tmp22_;
		BalaDelegate* _tmp23_;
		gboolean _tmp24_;
		gboolean _tmp25_;
		_tmp21_ = delegate_type;
		_tmp22_ = bala_delegate_type_get_delegate_symbol (_tmp21_);
		_tmp23_ = _tmp22_;
		_tmp24_ = bala_delegate_get_has_target (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp18_ = _tmp25_;
	} else {
		_tmp18_ = FALSE;
	}
	if (_tmp18_) {
		BalaCCodeFunction* _tmp26_;
		BalaCCodeFunction* _tmp27_;
		gchar* _tmp28_;
		gchar* _tmp29_;
		BalaCCodeExpression* _tmp30_;
		BalaCCodeExpression* _tmp31_;
		BalaCCodeUnaryExpression* _tmp32_;
		BalaCCodeUnaryExpression* _tmp33_;
		BalaTargetValue* _tmp34_;
		BalaCCodeExpression* _tmp35_;
		BalaCCodeExpression* _tmp36_;
		BalaDelegateType* _tmp37_;
		_tmp26_ = bala_ccode_base_module_get_ccode (self);
		_tmp27_ = _tmp26_;
		_tmp28_ = bala_get_ccode_delegate_target_name ((BalaVariable*) param);
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_ccode_base_module_get_cexpression (self, _tmp29_);
		_tmp31_ = _tmp30_;
		_tmp32_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp31_);
		_tmp33_ = _tmp32_;
		_tmp34_ = value;
		_tmp35_ = bala_ccode_base_module_get_delegate_target_cvalue (self, _tmp34_);
		_tmp36_ = _tmp35_;
		bala_ccode_function_add_assignment (_tmp27_, (BalaCCodeExpression*) _tmp33_, _tmp36_);
		_bala_ccode_node_unref0 (_tmp36_);
		_bala_ccode_node_unref0 (_tmp33_);
		_bala_ccode_node_unref0 (_tmp31_);
		_g_free0 (_tmp29_);
		_tmp37_ = delegate_type;
		if (bala_data_type_is_disposable ((BalaDataType*) _tmp37_)) {
			BalaCCodeFunction* _tmp38_;
			BalaCCodeFunction* _tmp39_;
			gchar* _tmp40_;
			gchar* _tmp41_;
			BalaCCodeExpression* _tmp42_;
			BalaCCodeExpression* _tmp43_;
			BalaCCodeUnaryExpression* _tmp44_;
			BalaCCodeUnaryExpression* _tmp45_;
			BalaTargetValue* _tmp46_;
			BalaTargetValue* _tmp47_;
			BalaCCodeExpression* _tmp48_;
			BalaCCodeExpression* _tmp49_;
			_tmp38_ = bala_ccode_base_module_get_ccode (self);
			_tmp39_ = _tmp38_;
			_tmp40_ = bala_get_ccode_delegate_target_destroy_notify_name ((BalaVariable*) param);
			_tmp41_ = _tmp40_;
			_tmp42_ = bala_ccode_base_module_get_cexpression (self, _tmp41_);
			_tmp43_ = _tmp42_;
			_tmp44_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp43_);
			_tmp45_ = _tmp44_;
			_tmp46_ = bala_ccode_base_module_get_parameter_cvalue (self, param);
			_tmp47_ = _tmp46_;
			_tmp48_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, _tmp47_);
			_tmp49_ = _tmp48_;
			bala_ccode_function_add_assignment (_tmp39_, (BalaCCodeExpression*) _tmp45_, _tmp49_);
			_bala_ccode_node_unref0 (_tmp49_);
			_bala_target_value_unref0 (_tmp47_);
			_bala_ccode_node_unref0 (_tmp45_);
			_bala_ccode_node_unref0 (_tmp43_);
			_g_free0 (_tmp41_);
		}
	}
	_tmp50_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp51_ = _tmp50_;
	if (bala_data_type_is_disposable (_tmp51_)) {
		BalaCCodeFunction* _tmp52_;
		BalaCCodeFunction* _tmp53_;
		BalaMethod* _tmp54_;
		BalaMethod* _tmp55_;
		BalaCCodeFunction* _tmp56_;
		BalaCCodeFunction* _tmp57_;
		BalaCCodeExpression* _tmp58_;
		BalaCCodeExpression* _tmp59_;
		BalaMethod* _tmp60_;
		BalaMethod* _tmp61_;
		_tmp52_ = bala_ccode_base_module_get_ccode (self);
		_tmp53_ = _tmp52_;
		bala_ccode_function_add_else (_tmp53_);
		_tmp54_ = bala_ccode_base_module_get_current_method (self);
		_tmp55_ = _tmp54_;
		bala_method_set_coroutine (_tmp55_, old_coroutine);
		_tmp56_ = bala_ccode_base_module_get_ccode (self);
		_tmp57_ = _tmp56_;
		_tmp58_ = bala_ccode_base_module_destroy_parameter (self, param);
		_tmp59_ = _tmp58_;
		bala_ccode_function_add_expression (_tmp57_, _tmp59_);
		_bala_ccode_node_unref0 (_tmp59_);
		_tmp60_ = bala_ccode_base_module_get_current_method (self);
		_tmp61_ = _tmp60_;
		bala_method_set_coroutine (_tmp61_, FALSE);
	}
	_tmp62_ = bala_ccode_base_module_get_ccode (self);
	_tmp63_ = _tmp62_;
	bala_ccode_function_close (_tmp63_);
	_tmp64_ = bala_variable_get_variable_type ((BalaVariable*) param);
	_tmp65_ = _tmp64_;
	_tmp66_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp65_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp65_) : NULL);
	array_type = _tmp66_;
	_tmp69_ = array_type;
	if (_tmp69_ != NULL) {
		BalaArrayType* _tmp70_;
		gboolean _tmp71_;
		gboolean _tmp72_;
		_tmp70_ = array_type;
		_tmp71_ = bala_array_type_get_fixed_length (_tmp70_);
		_tmp72_ = _tmp71_;
		_tmp68_ = !_tmp72_;
	} else {
		_tmp68_ = FALSE;
	}
	if (_tmp68_) {
		_tmp67_ = bala_get_ccode_array_length ((BalaCodeNode*) param);
	} else {
		_tmp67_ = FALSE;
	}
	if (_tmp67_) {
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp73_ = FALSE;
				_tmp73_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp75_;
					gint _tmp76_;
					gint _tmp77_;
					gchar* length_cname = NULL;
					gchar* _tmp78_;
					BalaCCodeFunction* _tmp79_;
					BalaCCodeFunction* _tmp80_;
					const gchar* _tmp81_;
					BalaCCodeExpression* _tmp82_;
					BalaCCodeExpression* _tmp83_;
					BalaCCodeFunction* _tmp84_;
					BalaCCodeFunction* _tmp85_;
					const gchar* _tmp86_;
					BalaCCodeExpression* _tmp87_;
					BalaCCodeExpression* _tmp88_;
					BalaCCodeUnaryExpression* _tmp89_;
					BalaCCodeUnaryExpression* _tmp90_;
					BalaTargetValue* _tmp91_;
					BalaCCodeExpression* _tmp92_;
					BalaCCodeExpression* _tmp93_;
					BalaCCodeFunction* _tmp94_;
					BalaCCodeFunction* _tmp95_;
					if (!_tmp73_) {
						gint _tmp74_;
						_tmp74_ = dim;
						dim = _tmp74_ + 1;
					}
					_tmp73_ = FALSE;
					_tmp75_ = array_type;
					_tmp76_ = bala_array_type_get_rank (_tmp75_);
					_tmp77_ = _tmp76_;
					if (!(dim <= _tmp77_)) {
						break;
					}
					_tmp78_ = bala_ccode_base_module_get_variable_array_length_cname (self, (BalaVariable*) param, dim);
					length_cname = _tmp78_;
					_tmp79_ = bala_ccode_base_module_get_ccode (self);
					_tmp80_ = _tmp79_;
					_tmp81_ = length_cname;
					_tmp82_ = bala_ccode_base_module_get_cexpression (self, _tmp81_);
					_tmp83_ = _tmp82_;
					bala_ccode_function_open_if (_tmp80_, _tmp83_);
					_bala_ccode_node_unref0 (_tmp83_);
					_tmp84_ = bala_ccode_base_module_get_ccode (self);
					_tmp85_ = _tmp84_;
					_tmp86_ = length_cname;
					_tmp87_ = bala_ccode_base_module_get_cexpression (self, _tmp86_);
					_tmp88_ = _tmp87_;
					_tmp89_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp88_);
					_tmp90_ = _tmp89_;
					_tmp91_ = value;
					_tmp92_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp91_, dim);
					_tmp93_ = _tmp92_;
					bala_ccode_function_add_assignment (_tmp85_, (BalaCCodeExpression*) _tmp90_, _tmp93_);
					_bala_ccode_node_unref0 (_tmp93_);
					_bala_ccode_node_unref0 (_tmp90_);
					_bala_ccode_node_unref0 (_tmp88_);
					_tmp94_ = bala_ccode_base_module_get_ccode (self);
					_tmp95_ = _tmp94_;
					bala_ccode_function_close (_tmp95_);
					_g_free0 (length_cname);
				}
			}
		}
	}
	_tmp96_ = bala_ccode_base_module_get_current_method (self);
	_tmp97_ = _tmp96_;
	bala_method_set_coroutine (_tmp97_, old_coroutine);
	_bala_code_node_unref0 (array_type);
	_bala_target_value_unref0 (value);
	_bala_code_node_unref0 (delegate_type);
}

static void
bala_ccode_base_module_real_visit_return_statement (BalaCodeVisitor* base,
                                                    BalaReturnStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaSymbol* return_expression_symbol = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	gboolean _tmp14_ = FALSE;
	gboolean _tmp15_ = FALSE;
	gboolean _tmp16_ = FALSE;
	BalaMethod* _tmp17_;
	BalaMethod* _tmp18_;
	BalaExpression* _tmp120_;
	BalaExpression* _tmp121_;
	BalaMethod* _tmp134_;
	BalaMethod* _tmp135_;
	BalaSymbol* _tmp148_;
	BalaSymbol* _tmp149_;
	gboolean _tmp150_ = FALSE;
	BalaMethod* _tmp151_;
	BalaMethod* _tmp152_;
	gboolean _tmp172_ = FALSE;
	BalaMethod* _tmp173_;
	BalaMethod* _tmp174_;
	BalaSymbol* _tmp235_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	return_expression_symbol = NULL;
	_tmp0_ = bala_return_statement_get_return_expression (stmt);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaLocalVariable* local = NULL;
		BalaExpression* _tmp2_;
		BalaExpression* _tmp3_;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaLocalVariable* _tmp6_;
		gboolean _tmp7_ = FALSE;
		BalaLocalVariable* _tmp8_;
		_tmp2_ = bala_return_statement_get_return_expression (stmt);
		_tmp3_ = _tmp2_;
		_tmp4_ = bala_expression_get_symbol_reference (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp6_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, BALA_TYPE_LOCAL_VARIABLE) ? ((BalaLocalVariable*) _tmp5_) : NULL);
		local = _tmp6_;
		_tmp8_ = local;
		if (_tmp8_ != NULL) {
			BalaLocalVariable* _tmp9_;
			gboolean _tmp10_;
			gboolean _tmp11_;
			_tmp9_ = local;
			_tmp10_ = bala_symbol_get_active ((BalaSymbol*) _tmp9_);
			_tmp11_ = _tmp10_;
			_tmp7_ = !_tmp11_;
		} else {
			_tmp7_ = FALSE;
		}
		if (_tmp7_) {
			BalaLocalVariable* _tmp12_;
			BalaSymbol* _tmp13_;
			_tmp12_ = local;
			_tmp13_ = _bala_code_node_ref0 ((BalaSymbol*) _tmp12_);
			_bala_code_node_unref0 (return_expression_symbol);
			return_expression_symbol = _tmp13_;
		}
		_bala_code_node_unref0 (local);
	}
	_tmp17_ = bala_ccode_base_module_get_current_method (self);
	_tmp18_ = _tmp17_;
	if (_tmp18_ != NULL) {
		BalaMethod* _tmp19_;
		BalaMethod* _tmp20_;
		_tmp19_ = bala_ccode_base_module_get_current_method (self);
		_tmp20_ = _tmp19_;
		_tmp16_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp20_);
	} else {
		_tmp16_ = FALSE;
	}
	if (_tmp16_) {
		_tmp15_ = TRUE;
	} else {
		gboolean _tmp21_ = FALSE;
		BalaPropertyAccessor* _tmp22_;
		BalaPropertyAccessor* _tmp23_;
		_tmp22_ = bala_ccode_base_module_get_current_property_accessor (self);
		_tmp23_ = _tmp22_;
		if (_tmp23_ != NULL) {
			BalaPropertyAccessor* _tmp24_;
			BalaPropertyAccessor* _tmp25_;
			_tmp24_ = bala_ccode_base_module_get_current_property_accessor (self);
			_tmp25_ = _tmp24_;
			_tmp21_ = bala_get_ccode_array_length ((BalaCodeNode*) _tmp25_);
		} else {
			_tmp21_ = FALSE;
		}
		_tmp15_ = _tmp21_;
	}
	if (_tmp15_) {
		BalaDataType* _tmp26_;
		BalaDataType* _tmp27_;
		_tmp26_ = bala_ccode_base_module_get_current_return_type (self);
		_tmp27_ = _tmp26_;
		_tmp14_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp27_, BALA_TYPE_ARRAY_TYPE);
	} else {
		_tmp14_ = FALSE;
	}
	if (_tmp14_) {
		BalaTargetValue* temp_value = NULL;
		BalaExpression* _tmp28_;
		BalaExpression* _tmp29_;
		BalaTargetValue* _tmp30_;
		BalaTargetValue* _tmp31_;
		BalaTargetValue* _tmp32_;
		BalaArrayType* array_type = NULL;
		BalaDataType* _tmp33_;
		BalaDataType* _tmp34_;
		BalaArrayType* _tmp35_;
		BalaExpression* _tmp62_;
		BalaExpression* _tmp63_;
		BalaTargetValue* _tmp64_;
		_tmp28_ = bala_return_statement_get_return_expression (stmt);
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_expression_get_target_value (_tmp29_);
		_tmp31_ = _tmp30_;
		_tmp32_ = bala_ccode_base_module_store_temp_value (self, _tmp31_, (BalaCodeNode*) stmt, NULL);
		temp_value = _tmp32_;
		_tmp33_ = bala_ccode_base_module_get_current_return_type (self);
		_tmp34_ = _tmp33_;
		_tmp35_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp34_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		array_type = _tmp35_;
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp36_ = FALSE;
				_tmp36_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp38_;
					gint _tmp39_;
					gint _tmp40_;
					BalaCCodeExpression* len_l = NULL;
					gchar* _tmp41_;
					gchar* _tmp42_;
					BalaCCodeExpression* _tmp43_;
					BalaCCodeExpression* _tmp44_;
					BalaCCodeExpression* len_r = NULL;
					BalaTargetValue* _tmp45_;
					BalaCCodeExpression* _tmp46_;
					if (!_tmp36_) {
						gint _tmp37_;
						_tmp37_ = dim;
						dim = _tmp37_ + 1;
					}
					_tmp36_ = FALSE;
					_tmp38_ = array_type;
					_tmp39_ = bala_array_type_get_rank (_tmp38_);
					_tmp40_ = _tmp39_;
					if (!(dim <= _tmp40_)) {
						break;
					}
					_tmp41_ = bala_ccode_base_module_get_array_length_cname (self, "result", dim);
					_tmp42_ = _tmp41_;
					_tmp43_ = bala_ccode_base_module_get_cexpression (self, _tmp42_);
					_tmp44_ = _tmp43_;
					_g_free0 (_tmp42_);
					len_l = _tmp44_;
					_tmp45_ = temp_value;
					_tmp46_ = bala_ccode_base_module_get_array_length_cvalue (self, _tmp45_, dim);
					len_r = _tmp46_;
					if (!bala_ccode_base_module_is_in_coroutine (self)) {
						BalaCCodeFunction* _tmp47_;
						BalaCCodeFunction* _tmp48_;
						BalaCCodeExpression* _tmp49_;
						BalaCCodeExpression* _tmp50_;
						BalaCCodeUnaryExpression* _tmp51_;
						BalaCCodeFunction* _tmp52_;
						BalaCCodeFunction* _tmp53_;
						BalaCCodeExpression* _tmp54_;
						BalaCCodeExpression* _tmp55_;
						BalaCCodeFunction* _tmp56_;
						BalaCCodeFunction* _tmp57_;
						_tmp47_ = bala_ccode_base_module_get_ccode (self);
						_tmp48_ = _tmp47_;
						_tmp49_ = len_l;
						bala_ccode_function_open_if (_tmp48_, _tmp49_);
						_tmp50_ = len_l;
						_tmp51_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp50_);
						_bala_ccode_node_unref0 (len_l);
						len_l = (BalaCCodeExpression*) _tmp51_;
						_tmp52_ = bala_ccode_base_module_get_ccode (self);
						_tmp53_ = _tmp52_;
						_tmp54_ = len_l;
						_tmp55_ = len_r;
						bala_ccode_function_add_assignment (_tmp53_, _tmp54_, _tmp55_);
						_tmp56_ = bala_ccode_base_module_get_ccode (self);
						_tmp57_ = _tmp56_;
						bala_ccode_function_close (_tmp57_);
					} else {
						BalaCCodeFunction* _tmp58_;
						BalaCCodeFunction* _tmp59_;
						BalaCCodeExpression* _tmp60_;
						BalaCCodeExpression* _tmp61_;
						_tmp58_ = bala_ccode_base_module_get_ccode (self);
						_tmp59_ = _tmp58_;
						_tmp60_ = len_l;
						_tmp61_ = len_r;
						bala_ccode_function_add_assignment (_tmp59_, _tmp60_, _tmp61_);
					}
					_bala_ccode_node_unref0 (len_r);
					_bala_ccode_node_unref0 (len_l);
				}
			}
		}
		_tmp62_ = bala_return_statement_get_return_expression (stmt);
		_tmp63_ = _tmp62_;
		_tmp64_ = temp_value;
		bala_expression_set_target_value (_tmp63_, _tmp64_);
		_bala_code_node_unref0 (array_type);
		_bala_target_value_unref0 (temp_value);
	} else {
		gboolean _tmp65_ = FALSE;
		gboolean _tmp66_ = FALSE;
		gboolean _tmp67_ = FALSE;
		BalaMethod* _tmp68_;
		BalaMethod* _tmp69_;
		_tmp68_ = bala_ccode_base_module_get_current_method (self);
		_tmp69_ = _tmp68_;
		if (_tmp69_ != NULL) {
			BalaMethod* _tmp70_;
			BalaMethod* _tmp71_;
			_tmp70_ = bala_ccode_base_module_get_current_method (self);
			_tmp71_ = _tmp70_;
			_tmp67_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp71_);
		} else {
			_tmp67_ = FALSE;
		}
		if (_tmp67_) {
			_tmp66_ = TRUE;
		} else {
			gboolean _tmp72_ = FALSE;
			BalaPropertyAccessor* _tmp73_;
			BalaPropertyAccessor* _tmp74_;
			_tmp73_ = bala_ccode_base_module_get_current_property_accessor (self);
			_tmp74_ = _tmp73_;
			if (_tmp74_ != NULL) {
				BalaPropertyAccessor* _tmp75_;
				BalaPropertyAccessor* _tmp76_;
				_tmp75_ = bala_ccode_base_module_get_current_property_accessor (self);
				_tmp76_ = _tmp75_;
				_tmp72_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp76_);
			} else {
				_tmp72_ = FALSE;
			}
			_tmp66_ = _tmp72_;
		}
		if (_tmp66_) {
			BalaDataType* _tmp77_;
			BalaDataType* _tmp78_;
			_tmp77_ = bala_ccode_base_module_get_current_return_type (self);
			_tmp78_ = _tmp77_;
			_tmp65_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp78_, BALA_TYPE_DELEGATE_TYPE);
		} else {
			_tmp65_ = FALSE;
		}
		if (_tmp65_) {
			BalaDelegateType* delegate_type = NULL;
			BalaDataType* _tmp79_;
			BalaDataType* _tmp80_;
			BalaDelegateType* _tmp81_;
			BalaDelegateType* _tmp82_;
			BalaDelegate* _tmp83_;
			BalaDelegate* _tmp84_;
			gboolean _tmp85_;
			gboolean _tmp86_;
			_tmp79_ = bala_ccode_base_module_get_current_return_type (self);
			_tmp80_ = _tmp79_;
			_tmp81_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp80_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			delegate_type = _tmp81_;
			_tmp82_ = delegate_type;
			_tmp83_ = bala_delegate_type_get_delegate_symbol (_tmp82_);
			_tmp84_ = _tmp83_;
			_tmp85_ = bala_delegate_get_has_target (_tmp84_);
			_tmp86_ = _tmp85_;
			if (_tmp86_) {
				BalaTargetValue* temp_value = NULL;
				BalaExpression* _tmp87_;
				BalaExpression* _tmp88_;
				BalaTargetValue* _tmp89_;
				BalaTargetValue* _tmp90_;
				BalaTargetValue* _tmp91_;
				BalaCCodeExpression* target_l = NULL;
				gchar* _tmp92_;
				gchar* _tmp93_;
				BalaCCodeExpression* _tmp94_;
				BalaCCodeExpression* _tmp95_;
				BalaCCodeExpression* target_r = NULL;
				BalaTargetValue* _tmp98_;
				BalaCCodeExpression* _tmp99_;
				BalaCCodeFunction* _tmp100_;
				BalaCCodeFunction* _tmp101_;
				BalaCCodeExpression* _tmp102_;
				BalaCCodeExpression* _tmp103_;
				BalaDelegateType* _tmp104_;
				BalaExpression* _tmp117_;
				BalaExpression* _tmp118_;
				BalaTargetValue* _tmp119_;
				_tmp87_ = bala_return_statement_get_return_expression (stmt);
				_tmp88_ = _tmp87_;
				_tmp89_ = bala_expression_get_target_value (_tmp88_);
				_tmp90_ = _tmp89_;
				_tmp91_ = bala_ccode_base_module_store_temp_value (self, _tmp90_, (BalaCodeNode*) stmt, NULL);
				temp_value = _tmp91_;
				_tmp92_ = bala_ccode_base_module_get_delegate_target_cname (self, "result");
				_tmp93_ = _tmp92_;
				_tmp94_ = bala_ccode_base_module_get_cexpression (self, _tmp93_);
				_tmp95_ = _tmp94_;
				_g_free0 (_tmp93_);
				target_l = _tmp95_;
				if (!bala_ccode_base_module_is_in_coroutine (self)) {
					BalaCCodeExpression* _tmp96_;
					BalaCCodeUnaryExpression* _tmp97_;
					_tmp96_ = target_l;
					_tmp97_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp96_);
					_bala_ccode_node_unref0 (target_l);
					target_l = (BalaCCodeExpression*) _tmp97_;
				}
				_tmp98_ = temp_value;
				_tmp99_ = bala_ccode_base_module_get_delegate_target_cvalue (self, _tmp98_);
				target_r = _tmp99_;
				_tmp100_ = bala_ccode_base_module_get_ccode (self);
				_tmp101_ = _tmp100_;
				_tmp102_ = target_l;
				_tmp103_ = target_r;
				bala_ccode_function_add_assignment (_tmp101_, _tmp102_, _tmp103_);
				_tmp104_ = delegate_type;
				if (bala_data_type_is_disposable ((BalaDataType*) _tmp104_)) {
					BalaCCodeExpression* target_l_destroy_notify = NULL;
					gchar* _tmp105_;
					gchar* _tmp106_;
					BalaCCodeExpression* _tmp107_;
					BalaCCodeExpression* _tmp108_;
					BalaCCodeExpression* target_r_destroy_notify = NULL;
					BalaTargetValue* _tmp111_;
					BalaCCodeExpression* _tmp112_;
					BalaCCodeFunction* _tmp113_;
					BalaCCodeFunction* _tmp114_;
					BalaCCodeExpression* _tmp115_;
					BalaCCodeExpression* _tmp116_;
					_tmp105_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cname (self, "result");
					_tmp106_ = _tmp105_;
					_tmp107_ = bala_ccode_base_module_get_cexpression (self, _tmp106_);
					_tmp108_ = _tmp107_;
					_g_free0 (_tmp106_);
					target_l_destroy_notify = _tmp108_;
					if (!bala_ccode_base_module_is_in_coroutine (self)) {
						BalaCCodeExpression* _tmp109_;
						BalaCCodeUnaryExpression* _tmp110_;
						_tmp109_ = target_l_destroy_notify;
						_tmp110_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp109_);
						_bala_ccode_node_unref0 (target_l_destroy_notify);
						target_l_destroy_notify = (BalaCCodeExpression*) _tmp110_;
					}
					_tmp111_ = temp_value;
					_tmp112_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, _tmp111_);
					target_r_destroy_notify = _tmp112_;
					_tmp113_ = bala_ccode_base_module_get_ccode (self);
					_tmp114_ = _tmp113_;
					_tmp115_ = target_l_destroy_notify;
					_tmp116_ = target_r_destroy_notify;
					bala_ccode_function_add_assignment (_tmp114_, _tmp115_, _tmp116_);
					_bala_ccode_node_unref0 (target_r_destroy_notify);
					_bala_ccode_node_unref0 (target_l_destroy_notify);
				}
				_tmp117_ = bala_return_statement_get_return_expression (stmt);
				_tmp118_ = _tmp117_;
				_tmp119_ = temp_value;
				bala_expression_set_target_value (_tmp118_, _tmp119_);
				_bala_ccode_node_unref0 (target_r);
				_bala_ccode_node_unref0 (target_l);
				_bala_target_value_unref0 (temp_value);
			}
			_bala_code_node_unref0 (delegate_type);
		}
	}
	_tmp120_ = bala_return_statement_get_return_expression (stmt);
	_tmp121_ = _tmp120_;
	if (_tmp121_ != NULL) {
		BalaCCodeExpression* result_lhs = NULL;
		BalaCCodeExpression* _tmp122_;
		gboolean _tmp123_ = FALSE;
		BalaDataType* _tmp124_;
		BalaDataType* _tmp125_;
		BalaCCodeFunction* _tmp128_;
		BalaCCodeFunction* _tmp129_;
		BalaCCodeExpression* _tmp130_;
		BalaExpression* _tmp131_;
		BalaExpression* _tmp132_;
		BalaCCodeExpression* _tmp133_;
		_tmp122_ = bala_ccode_base_module_get_cexpression (self, "result");
		result_lhs = _tmp122_;
		_tmp124_ = bala_ccode_base_module_get_current_return_type (self);
		_tmp125_ = _tmp124_;
		if (bala_data_type_is_real_non_null_struct_type (_tmp125_)) {
			_tmp123_ = !bala_ccode_base_module_is_in_coroutine (self);
		} else {
			_tmp123_ = FALSE;
		}
		if (_tmp123_) {
			BalaCCodeExpression* _tmp126_;
			BalaCCodeUnaryExpression* _tmp127_;
			_tmp126_ = result_lhs;
			_tmp127_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp126_);
			_bala_ccode_node_unref0 (result_lhs);
			result_lhs = (BalaCCodeExpression*) _tmp127_;
		}
		_tmp128_ = bala_ccode_base_module_get_ccode (self);
		_tmp129_ = _tmp128_;
		_tmp130_ = result_lhs;
		_tmp131_ = bala_return_statement_get_return_expression (stmt);
		_tmp132_ = _tmp131_;
		_tmp133_ = bala_get_cvalue (_tmp132_);
		bala_ccode_function_add_assignment (_tmp129_, _tmp130_, _tmp133_);
		_bala_ccode_node_unref0 (result_lhs);
	}
	_tmp134_ = bala_ccode_base_module_get_current_method (self);
	_tmp135_ = _tmp134_;
	if (_tmp135_ != NULL) {
		{
			BalaList* _postcondition_list = NULL;
			BalaMethod* _tmp136_;
			BalaMethod* _tmp137_;
			BalaList* _tmp138_;
			BalaList* _tmp139_;
			gint _postcondition_size = 0;
			BalaList* _tmp140_;
			gint _tmp141_;
			gint _tmp142_;
			gint _postcondition_index = 0;
			_tmp136_ = bala_ccode_base_module_get_current_method (self);
			_tmp137_ = _tmp136_;
			_tmp138_ = bala_method_get_postconditions (_tmp137_);
			_tmp139_ = _bala_iterable_ref0 (_tmp138_);
			_postcondition_list = _tmp139_;
			_tmp140_ = _postcondition_list;
			_tmp141_ = bala_collection_get_size ((BalaCollection*) _tmp140_);
			_tmp142_ = _tmp141_;
			_postcondition_size = _tmp142_;
			_postcondition_index = -1;
			while (TRUE) {
				gint _tmp143_;
				gint _tmp144_;
				BalaExpression* postcondition = NULL;
				BalaList* _tmp145_;
				gpointer _tmp146_;
				BalaExpression* _tmp147_;
				_postcondition_index = _postcondition_index + 1;
				_tmp143_ = _postcondition_index;
				_tmp144_ = _postcondition_size;
				if (!(_tmp143_ < _tmp144_)) {
					break;
				}
				_tmp145_ = _postcondition_list;
				_tmp146_ = bala_list_get (_tmp145_, _postcondition_index);
				postcondition = (BalaExpression*) _tmp146_;
				_tmp147_ = postcondition;
				bala_ccode_base_module_create_postcondition_statement (self, _tmp147_);
				_bala_code_node_unref0 (postcondition);
			}
			_bala_iterable_unref0 (_postcondition_list);
		}
	}
	_tmp148_ = bala_ccode_base_module_get_current_symbol (self);
	_tmp149_ = _tmp148_;
	bala_ccode_base_module_append_local_free (self, _tmp149_, NULL, NULL);
	_tmp151_ = bala_ccode_base_module_get_current_method (self);
	_tmp152_ = _tmp151_;
	if (_tmp152_ != NULL) {
		BalaMethod* _tmp153_;
		BalaMethod* _tmp154_;
		gboolean _tmp155_;
		gboolean _tmp156_;
		_tmp153_ = bala_ccode_base_module_get_current_method (self);
		_tmp154_ = _tmp153_;
		_tmp155_ = bala_method_get_coroutine (_tmp154_);
		_tmp156_ = _tmp155_;
		_tmp150_ = !_tmp156_;
	} else {
		_tmp150_ = FALSE;
	}
	if (_tmp150_) {
		{
			BalaList* _param_list = NULL;
			BalaMethod* _tmp157_;
			BalaMethod* _tmp158_;
			BalaList* _tmp159_;
			BalaList* _tmp160_;
			gint _param_size = 0;
			BalaList* _tmp161_;
			gint _tmp162_;
			gint _tmp163_;
			gint _param_index = 0;
			_tmp157_ = bala_ccode_base_module_get_current_method (self);
			_tmp158_ = _tmp157_;
			_tmp159_ = bala_callable_get_parameters ((BalaCallable*) _tmp158_);
			_tmp160_ = _bala_iterable_ref0 (_tmp159_);
			_param_list = _tmp160_;
			_tmp161_ = _param_list;
			_tmp162_ = bala_collection_get_size ((BalaCollection*) _tmp161_);
			_tmp163_ = _tmp162_;
			_param_size = _tmp163_;
			_param_index = -1;
			while (TRUE) {
				gint _tmp164_;
				gint _tmp165_;
				BalaParameter* param = NULL;
				BalaList* _tmp166_;
				gpointer _tmp167_;
				BalaParameter* _tmp168_;
				BalaParameterDirection _tmp169_;
				BalaParameterDirection _tmp170_;
				BalaParameter* _tmp171_;
				_param_index = _param_index + 1;
				_tmp164_ = _param_index;
				_tmp165_ = _param_size;
				if (!(_tmp164_ < _tmp165_)) {
					break;
				}
				_tmp166_ = _param_list;
				_tmp167_ = bala_list_get (_tmp166_, _param_index);
				param = (BalaParameter*) _tmp167_;
				_tmp168_ = param;
				_tmp169_ = bala_parameter_get_direction (_tmp168_);
				_tmp170_ = _tmp169_;
				if (_tmp170_ != BALA_PARAMETER_DIRECTION_OUT) {
					_bala_code_node_unref0 (param);
					continue;
				}
				_tmp171_ = param;
				bala_ccode_base_module_return_out_parameter (self, _tmp171_);
				_bala_code_node_unref0 (param);
			}
			_bala_iterable_unref0 (_param_list);
		}
	}
	_tmp173_ = bala_ccode_base_module_get_current_method (self);
	_tmp174_ = _tmp173_;
	if (_tmp174_ != NULL) {
		BalaMethod* _tmp175_;
		BalaMethod* _tmp176_;
		BalaAttribute* _tmp177_;
		_tmp175_ = bala_ccode_base_module_get_current_method (self);
		_tmp176_ = _tmp175_;
		_tmp177_ = bala_code_node_get_attribute ((BalaCodeNode*) _tmp176_, "Profile");
		_tmp172_ = _tmp177_ != NULL;
	} else {
		_tmp172_ = FALSE;
	}
	if (_tmp172_) {
		gchar* prefix = NULL;
		BalaMethod* _tmp178_;
		BalaMethod* _tmp179_;
		gchar* _tmp180_;
		gchar* _tmp181_;
		gchar* _tmp182_;
		gchar* _tmp183_;
		BalaCCodeIdentifier* level = NULL;
		const gchar* _tmp184_;
		gchar* _tmp185_;
		gchar* _tmp186_;
		BalaCCodeIdentifier* _tmp187_;
		BalaCCodeIdentifier* _tmp188_;
		BalaCCodeFunction* _tmp189_;
		BalaCCodeFunction* _tmp190_;
		BalaCCodeIdentifier* _tmp191_;
		BalaCCodeUnaryExpression* _tmp192_;
		BalaCCodeUnaryExpression* _tmp193_;
		BalaCCodeUnaryExpression* _tmp194_;
		BalaCCodeUnaryExpression* _tmp195_;
		BalaCCodeIdentifier* timer = NULL;
		const gchar* _tmp196_;
		gchar* _tmp197_;
		gchar* _tmp198_;
		BalaCCodeIdentifier* _tmp199_;
		BalaCCodeIdentifier* _tmp200_;
		BalaCCodeFunctionCall* stop_call = NULL;
		BalaCCodeIdentifier* _tmp201_;
		BalaCCodeIdentifier* _tmp202_;
		BalaCCodeFunctionCall* _tmp203_;
		BalaCCodeFunctionCall* _tmp204_;
		BalaCCodeFunctionCall* _tmp205_;
		BalaCCodeIdentifier* _tmp206_;
		BalaCCodeFunction* _tmp207_;
		BalaCCodeFunction* _tmp208_;
		BalaCCodeFunctionCall* _tmp209_;
		BalaCCodeFunction* _tmp210_;
		BalaCCodeFunction* _tmp211_;
		_tmp178_ = bala_ccode_base_module_get_current_method (self);
		_tmp179_ = _tmp178_;
		_tmp180_ = bala_get_ccode_real_name ((BalaSymbol*) _tmp179_);
		_tmp181_ = _tmp180_;
		_tmp182_ = g_strdup_printf ("_bala_prof_%s", _tmp181_);
		_tmp183_ = _tmp182_;
		_g_free0 (_tmp181_);
		prefix = _tmp183_;
		_tmp184_ = prefix;
		_tmp185_ = g_strconcat (_tmp184_, "_level", NULL);
		_tmp186_ = _tmp185_;
		_tmp187_ = bala_ccode_identifier_new (_tmp186_);
		_tmp188_ = _tmp187_;
		_g_free0 (_tmp186_);
		level = _tmp188_;
		_tmp189_ = bala_ccode_base_module_get_ccode (self);
		_tmp190_ = _tmp189_;
		_tmp191_ = level;
		_tmp192_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_PREFIX_DECREMENT, (BalaCCodeExpression*) _tmp191_);
		_tmp193_ = _tmp192_;
		_tmp194_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (BalaCCodeExpression*) _tmp193_);
		_tmp195_ = _tmp194_;
		bala_ccode_function_open_if (_tmp190_, (BalaCCodeExpression*) _tmp195_);
		_bala_ccode_node_unref0 (_tmp195_);
		_bala_ccode_node_unref0 (_tmp193_);
		_tmp196_ = prefix;
		_tmp197_ = g_strconcat (_tmp196_, "_timer", NULL);
		_tmp198_ = _tmp197_;
		_tmp199_ = bala_ccode_identifier_new (_tmp198_);
		_tmp200_ = _tmp199_;
		_g_free0 (_tmp198_);
		timer = _tmp200_;
		_tmp201_ = bala_ccode_identifier_new ("g_timer_stop");
		_tmp202_ = _tmp201_;
		_tmp203_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp202_);
		_tmp204_ = _tmp203_;
		_bala_ccode_node_unref0 (_tmp202_);
		stop_call = _tmp204_;
		_tmp205_ = stop_call;
		_tmp206_ = timer;
		bala_ccode_function_call_add_argument (_tmp205_, (BalaCCodeExpression*) _tmp206_);
		_tmp207_ = bala_ccode_base_module_get_ccode (self);
		_tmp208_ = _tmp207_;
		_tmp209_ = stop_call;
		bala_ccode_function_add_expression (_tmp208_, (BalaCCodeExpression*) _tmp209_);
		_tmp210_ = bala_ccode_base_module_get_ccode (self);
		_tmp211_ = _tmp210_;
		bala_ccode_function_close (_tmp211_);
		_bala_ccode_node_unref0 (stop_call);
		_bala_ccode_node_unref0 (timer);
		_bala_ccode_node_unref0 (level);
		_g_free0 (prefix);
	}
	if (bala_ccode_base_module_is_in_constructor (self)) {
		BalaCCodeFunction* _tmp212_;
		BalaCCodeFunction* _tmp213_;
		BalaCCodeIdentifier* _tmp214_;
		BalaCCodeIdentifier* _tmp215_;
		_tmp212_ = bala_ccode_base_module_get_ccode (self);
		_tmp213_ = _tmp212_;
		_tmp214_ = bala_ccode_identifier_new ("obj");
		_tmp215_ = _tmp214_;
		bala_ccode_function_add_return (_tmp213_, (BalaCCodeExpression*) _tmp215_);
		_bala_ccode_node_unref0 (_tmp215_);
	} else {
		if (bala_ccode_base_module_is_in_destructor (self)) {
			BalaCCodeFunction* _tmp216_;
			BalaCCodeFunction* _tmp217_;
			_tmp216_ = bala_ccode_base_module_get_ccode (self);
			_tmp217_ = _tmp216_;
			bala_ccode_function_add_goto (_tmp217_, "_return");
		} else {
			if (bala_ccode_base_module_is_in_coroutine (self)) {
			} else {
				BalaMethod* _tmp218_;
				BalaMethod* _tmp219_;
				_tmp218_ = bala_ccode_base_module_get_current_method (self);
				_tmp219_ = _tmp218_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp219_, BALA_TYPE_CREATION_METHOD)) {
					BalaCCodeFunction* _tmp220_;
					BalaCCodeFunction* _tmp221_;
					BalaCCodeIdentifier* _tmp222_;
					BalaCCodeIdentifier* _tmp223_;
					_tmp220_ = bala_ccode_base_module_get_ccode (self);
					_tmp221_ = _tmp220_;
					_tmp222_ = bala_ccode_identifier_new ("self");
					_tmp223_ = _tmp222_;
					bala_ccode_function_add_return (_tmp221_, (BalaCCodeExpression*) _tmp223_);
					_bala_ccode_node_unref0 (_tmp223_);
				} else {
					gboolean _tmp224_ = FALSE;
					BalaDataType* _tmp225_;
					BalaDataType* _tmp226_;
					_tmp225_ = bala_ccode_base_module_get_current_return_type (self);
					_tmp226_ = _tmp225_;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp226_, BALA_TYPE_VOID_TYPE)) {
						_tmp224_ = TRUE;
					} else {
						BalaDataType* _tmp227_;
						BalaDataType* _tmp228_;
						_tmp227_ = bala_ccode_base_module_get_current_return_type (self);
						_tmp228_ = _tmp227_;
						_tmp224_ = bala_data_type_is_real_non_null_struct_type (_tmp228_);
					}
					if (_tmp224_) {
						BalaCCodeFunction* _tmp229_;
						BalaCCodeFunction* _tmp230_;
						_tmp229_ = bala_ccode_base_module_get_ccode (self);
						_tmp230_ = _tmp229_;
						bala_ccode_function_add_return (_tmp230_, NULL);
					} else {
						BalaCCodeFunction* _tmp231_;
						BalaCCodeFunction* _tmp232_;
						BalaCCodeIdentifier* _tmp233_;
						BalaCCodeIdentifier* _tmp234_;
						_tmp231_ = bala_ccode_base_module_get_ccode (self);
						_tmp232_ = _tmp231_;
						_tmp233_ = bala_ccode_identifier_new ("result");
						_tmp234_ = _tmp233_;
						bala_ccode_function_add_return (_tmp232_, (BalaCCodeExpression*) _tmp234_);
						_bala_ccode_node_unref0 (_tmp234_);
					}
				}
			}
		}
	}
	_tmp235_ = return_expression_symbol;
	if (_tmp235_ != NULL) {
		BalaSymbol* _tmp236_;
		_tmp236_ = return_expression_symbol;
		bala_symbol_set_active (_tmp236_, TRUE);
	}
	bala_ccode_base_module_set_current_method_return (self, TRUE);
	_bala_code_node_unref0 (return_expression_symbol);
}

static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (old != NULL, NULL);
	g_return_val_if_fail (replacement != NULL, NULL);
	if ((*((gchar*) self)) == '\0') {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = (*((gchar*) old)) == '\0';
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
	}
	if (_tmp0_) {
		gchar* _tmp2_;
		_tmp2_ = g_strdup (self);
		result = _tmp2_;
		return result;
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		_tmp3_ = g_regex_escape_string (old, -1);
		_tmp4_ = _tmp3_;
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
		_tmp6_ = _tmp5_;
		_g_free0 (_tmp4_);
		regex = _tmp6_;
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
			_g_free0 (_tmp7_);
			_g_regex_unref0 (regex);
			if (_inner_error0_->domain == G_REGEX_ERROR) {
				goto __catch0_g_regex_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
			g_clear_error (&_inner_error0_);
			return NULL;
		}
		_tmp8_ = regex;
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
		_tmp7_ = _tmp9_;
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
			_g_free0 (_tmp7_);
			_g_regex_unref0 (regex);
			if (_inner_error0_->domain == G_REGEX_ERROR) {
				goto __catch0_g_regex_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
			g_clear_error (&_inner_error0_);
			return NULL;
		}
		_tmp10_ = _tmp7_;
		_tmp7_ = NULL;
		result = _tmp10_;
		_g_free0 (_tmp7_);
		_g_regex_unref0 (regex);
		return result;
	}
	goto __finally0;
	__catch0_g_regex_error:
	{
		g_clear_error (&_inner_error0_);
		g_assert_not_reached ();
	}
	__finally0:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
	g_clear_error (&_inner_error0_);
	return NULL;
}

gchar*
bala_ccode_base_module_get_symbol_lock_name (BalaCCodeBaseModule* self,
                                             const gchar* symname)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (symname != NULL, NULL);
	_tmp0_ = string_replace (symname, "-", "_");
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("__lock_%s", _tmp1_);
	_tmp3_ = _tmp2_;
	_g_free0 (_tmp1_);
	result = _tmp3_;
	return result;
}

static BalaCCodeExpression*
bala_ccode_base_module_get_lock_expression (BalaCCodeBaseModule* self,
                                            BalaStatement* stmt,
                                            BalaExpression* resource)
{
	BalaCCodeExpression* l = NULL;
	BalaExpression* inner_node = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaExpression* _tmp2_;
	BalaSymbol* member = NULL;
	BalaSymbol* _tmp3_;
	BalaSymbol* _tmp4_;
	BalaSymbol* _tmp5_;
	BalaTypeSymbol* parent = NULL;
	BalaSymbol* _tmp6_;
	BalaSymbol* _tmp7_;
	BalaSymbol* _tmp8_;
	BalaSymbol* _tmp9_;
	BalaTypeSymbol* _tmp10_;
	BalaSymbol* _tmp11_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (stmt != NULL, NULL);
	g_return_val_if_fail (resource != NULL, NULL);
	l = NULL;
	_tmp0_ = bala_member_access_get_inner (G_TYPE_CHECK_INSTANCE_CAST (resource, BALA_TYPE_MEMBER_ACCESS, BalaMemberAccess));
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	inner_node = _tmp2_;
	_tmp3_ = bala_expression_get_symbol_reference (resource);
	_tmp4_ = _tmp3_;
	_tmp5_ = _bala_code_node_ref0 (_tmp4_);
	member = _tmp5_;
	_tmp6_ = bala_expression_get_symbol_reference (resource);
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_symbol_get_parent_symbol (_tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
	parent = _tmp10_;
	_tmp11_ = member;
	if (bala_symbol_is_instance_member (_tmp11_)) {
		BalaExpression* _tmp12_;
		BalaCCodeExpression* _tmp24_;
		BalaCCodeMemberAccess* _tmp25_;
		BalaCCodeMemberAccess* _tmp26_;
		BalaSymbol* _tmp27_;
		gchar* _tmp28_;
		gchar* _tmp29_;
		gchar* _tmp30_;
		gchar* _tmp31_;
		BalaCCodeMemberAccess* _tmp32_;
		_tmp12_ = inner_node;
		if (_tmp12_ == NULL) {
			BalaCCodeIdentifier* _tmp13_;
			_tmp13_ = bala_ccode_identifier_new ("self");
			_bala_ccode_node_unref0 (l);
			l = (BalaCCodeExpression*) _tmp13_;
		} else {
			BalaTypeSymbol* _tmp14_;
			BalaTypeSymbol* _tmp15_;
			BalaTypeSymbol* _tmp16_;
			_tmp14_ = parent;
			_tmp15_ = bala_ccode_base_module_get_current_type_symbol (self);
			_tmp16_ = _tmp15_;
			if (_tmp14_ != _tmp16_) {
				BalaExpression* _tmp17_;
				BalaCCodeExpression* _tmp18_;
				BalaTypeSymbol* _tmp19_;
				BalaCCodeFunctionCall* _tmp20_;
				_tmp17_ = inner_node;
				_tmp18_ = bala_get_cvalue (_tmp17_);
				_tmp19_ = parent;
				_tmp20_ = bala_ccode_base_module_generate_instance_cast (self, _tmp18_, _tmp19_);
				_bala_ccode_node_unref0 (l);
				l = (BalaCCodeExpression*) _tmp20_;
			} else {
				BalaExpression* _tmp21_;
				BalaCCodeExpression* _tmp22_;
				BalaCCodeExpression* _tmp23_;
				_tmp21_ = inner_node;
				_tmp22_ = bala_get_cvalue (_tmp21_);
				_tmp23_ = _bala_ccode_node_ref0 (_tmp22_);
				_bala_ccode_node_unref0 (l);
				l = _tmp23_;
			}
		}
		_tmp24_ = l;
		_tmp25_ = bala_ccode_member_access_new_pointer (_tmp24_, "priv");
		_tmp26_ = _tmp25_;
		_tmp27_ = member;
		_tmp28_ = bala_get_ccode_name ((BalaCodeNode*) _tmp27_);
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp29_);
		_tmp31_ = _tmp30_;
		_tmp32_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp26_, _tmp31_);
		_bala_ccode_node_unref0 (l);
		l = (BalaCCodeExpression*) _tmp32_;
		_g_free0 (_tmp31_);
		_g_free0 (_tmp29_);
		_bala_ccode_node_unref0 (_tmp26_);
	} else {
		BalaSymbol* _tmp33_;
		_tmp33_ = member;
		if (bala_symbol_is_class_member (_tmp33_)) {
			BalaCCodeExpression* klass = NULL;
			BalaDataType* _tmp34_;
			BalaCCodeFunctionCall* get_class_private_call = NULL;
			BalaTypeSymbol* _tmp45_;
			gchar* _tmp46_;
			gchar* _tmp47_;
			BalaCCodeIdentifier* _tmp48_;
			BalaCCodeIdentifier* _tmp49_;
			BalaCCodeFunctionCall* _tmp50_;
			BalaCCodeFunctionCall* _tmp51_;
			BalaCCodeFunctionCall* _tmp52_;
			BalaCCodeExpression* _tmp53_;
			BalaCCodeFunctionCall* _tmp54_;
			BalaSymbol* _tmp55_;
			gchar* _tmp56_;
			gchar* _tmp57_;
			gchar* _tmp58_;
			gchar* _tmp59_;
			BalaCCodeMemberAccess* _tmp60_;
			_tmp34_ = bala_ccode_base_module_get_this_type (self);
			if (_tmp34_ != NULL) {
				BalaCCodeFunctionCall* k = NULL;
				BalaCCodeIdentifier* _tmp35_;
				BalaCCodeIdentifier* _tmp36_;
				BalaCCodeFunctionCall* _tmp37_;
				BalaCCodeFunctionCall* _tmp38_;
				BalaCCodeFunctionCall* _tmp39_;
				BalaCCodeIdentifier* _tmp40_;
				BalaCCodeIdentifier* _tmp41_;
				BalaCCodeFunctionCall* _tmp42_;
				BalaCCodeExpression* _tmp43_;
				_tmp35_ = bala_ccode_identifier_new ("G_OBJECT_GET_CLASS");
				_tmp36_ = _tmp35_;
				_tmp37_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp36_);
				_tmp38_ = _tmp37_;
				_bala_ccode_node_unref0 (_tmp36_);
				k = _tmp38_;
				_tmp39_ = k;
				_tmp40_ = bala_ccode_identifier_new ("self");
				_tmp41_ = _tmp40_;
				bala_ccode_function_call_add_argument (_tmp39_, (BalaCCodeExpression*) _tmp41_);
				_bala_ccode_node_unref0 (_tmp41_);
				_tmp42_ = k;
				_tmp43_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp42_);
				_bala_ccode_node_unref0 (klass);
				klass = _tmp43_;
				_bala_ccode_node_unref0 (k);
			} else {
				BalaCCodeIdentifier* _tmp44_;
				_tmp44_ = bala_ccode_identifier_new ("klass");
				_bala_ccode_node_unref0 (klass);
				klass = (BalaCCodeExpression*) _tmp44_;
			}
			_tmp45_ = parent;
			_tmp46_ = bala_get_ccode_class_get_private_function (G_TYPE_CHECK_INSTANCE_CAST (_tmp45_, BALA_TYPE_CLASS, BalaClass));
			_tmp47_ = _tmp46_;
			_tmp48_ = bala_ccode_identifier_new (_tmp47_);
			_tmp49_ = _tmp48_;
			_tmp50_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp49_);
			_tmp51_ = _tmp50_;
			_bala_ccode_node_unref0 (_tmp49_);
			_g_free0 (_tmp47_);
			get_class_private_call = _tmp51_;
			_tmp52_ = get_class_private_call;
			_tmp53_ = klass;
			bala_ccode_function_call_add_argument (_tmp52_, _tmp53_);
			_tmp54_ = get_class_private_call;
			_tmp55_ = member;
			_tmp56_ = bala_get_ccode_name ((BalaCodeNode*) _tmp55_);
			_tmp57_ = _tmp56_;
			_tmp58_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp57_);
			_tmp59_ = _tmp58_;
			_tmp60_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp54_, _tmp59_);
			_bala_ccode_node_unref0 (l);
			l = (BalaCCodeExpression*) _tmp60_;
			_g_free0 (_tmp59_);
			_g_free0 (_tmp57_);
			_bala_ccode_node_unref0 (get_class_private_call);
			_bala_ccode_node_unref0 (klass);
		} else {
			gchar* lock_name = NULL;
			BalaTypeSymbol* _tmp61_;
			gchar* _tmp62_;
			gchar* _tmp63_;
			BalaSymbol* _tmp64_;
			gchar* _tmp65_;
			gchar* _tmp66_;
			gchar* _tmp67_;
			gchar* _tmp68_;
			const gchar* _tmp69_;
			gchar* _tmp70_;
			gchar* _tmp71_;
			BalaCCodeIdentifier* _tmp72_;
			_tmp61_ = parent;
			_tmp62_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp61_, NULL);
			_tmp63_ = _tmp62_;
			_tmp64_ = member;
			_tmp65_ = bala_get_ccode_name ((BalaCodeNode*) _tmp64_);
			_tmp66_ = _tmp65_;
			_tmp67_ = g_strdup_printf ("%s_%s", _tmp63_, _tmp66_);
			_tmp68_ = _tmp67_;
			_g_free0 (_tmp66_);
			_g_free0 (_tmp63_);
			lock_name = _tmp68_;
			_tmp69_ = lock_name;
			_tmp70_ = bala_ccode_base_module_get_symbol_lock_name (self, _tmp69_);
			_tmp71_ = _tmp70_;
			_tmp72_ = bala_ccode_identifier_new (_tmp71_);
			_bala_ccode_node_unref0 (l);
			l = (BalaCCodeExpression*) _tmp72_;
			_g_free0 (_tmp71_);
			_g_free0 (lock_name);
		}
	}
	result = l;
	_bala_code_node_unref0 (parent);
	_bala_code_node_unref0 (member);
	_bala_code_node_unref0 (inner_node);
	return result;
}

static void
bala_ccode_base_module_real_visit_lock_statement (BalaCodeVisitor* base,
                                                  BalaLockStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaCCodeExpression* l = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeFunctionCall* fc = NULL;
	BalaStruct* _tmp3_;
	BalaScope* _tmp4_;
	BalaScope* _tmp5_;
	BalaSymbol* _tmp6_;
	BalaSymbol* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BalaCCodeIdentifier* _tmp10_;
	BalaCCodeIdentifier* _tmp11_;
	BalaCCodeFunctionCall* _tmp12_;
	BalaCCodeFunctionCall* _tmp13_;
	BalaCCodeUnaryExpression* _tmp14_;
	BalaCCodeUnaryExpression* _tmp15_;
	BalaCCodeFunction* _tmp16_;
	BalaCCodeFunction* _tmp17_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	_tmp0_ = bala_lock_statement_get_resource (stmt);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_lock_expression (self, (BalaStatement*) stmt, _tmp1_);
	l = _tmp2_;
	_tmp3_ = self->mutex_type;
	_tmp4_ = bala_symbol_get_scope ((BalaSymbol*) _tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_scope_lookup (_tmp5_, "lock");
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) _tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_ccode_identifier_new (_tmp9_);
	_tmp11_ = _tmp10_;
	_tmp12_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp11_);
	_tmp13_ = _tmp12_;
	_bala_ccode_node_unref0 (_tmp11_);
	_g_free0 (_tmp9_);
	_bala_code_node_unref0 (_tmp7_);
	fc = _tmp13_;
	_tmp14_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, l);
	_tmp15_ = _tmp14_;
	bala_ccode_function_call_add_argument (fc, (BalaCCodeExpression*) _tmp15_);
	_bala_ccode_node_unref0 (_tmp15_);
	_tmp16_ = bala_ccode_base_module_get_ccode (self);
	_tmp17_ = _tmp16_;
	bala_ccode_function_add_expression (_tmp17_, (BalaCCodeExpression*) fc);
	_bala_ccode_node_unref0 (fc);
	_bala_ccode_node_unref0 (l);
}

static void
bala_ccode_base_module_real_visit_unlock_statement (BalaCodeVisitor* base,
                                                    BalaUnlockStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaCCodeExpression* l = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeFunctionCall* fc = NULL;
	BalaStruct* _tmp3_;
	BalaScope* _tmp4_;
	BalaScope* _tmp5_;
	BalaSymbol* _tmp6_;
	BalaSymbol* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BalaCCodeIdentifier* _tmp10_;
	BalaCCodeIdentifier* _tmp11_;
	BalaCCodeFunctionCall* _tmp12_;
	BalaCCodeFunctionCall* _tmp13_;
	BalaCCodeUnaryExpression* _tmp14_;
	BalaCCodeUnaryExpression* _tmp15_;
	BalaCCodeFunction* _tmp16_;
	BalaCCodeFunction* _tmp17_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	_tmp0_ = bala_unlock_statement_get_resource (stmt);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_lock_expression (self, (BalaStatement*) stmt, _tmp1_);
	l = _tmp2_;
	_tmp3_ = self->mutex_type;
	_tmp4_ = bala_symbol_get_scope ((BalaSymbol*) _tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_scope_lookup (_tmp5_, "unlock");
	_tmp7_ = _tmp6_;
	_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) _tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_ccode_identifier_new (_tmp9_);
	_tmp11_ = _tmp10_;
	_tmp12_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp11_);
	_tmp13_ = _tmp12_;
	_bala_ccode_node_unref0 (_tmp11_);
	_g_free0 (_tmp9_);
	_bala_code_node_unref0 (_tmp7_);
	fc = _tmp13_;
	_tmp14_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, l);
	_tmp15_ = _tmp14_;
	bala_ccode_function_call_add_argument (fc, (BalaCCodeExpression*) _tmp15_);
	_bala_ccode_node_unref0 (_tmp15_);
	_tmp16_ = bala_ccode_base_module_get_ccode (self);
	_tmp17_ = _tmp16_;
	bala_ccode_function_add_expression (_tmp17_, (BalaCCodeExpression*) fc);
	_bala_ccode_node_unref0 (fc);
	_bala_ccode_node_unref0 (l);
}

static void
bala_ccode_base_module_real_visit_delete_statement (BalaCodeVisitor* base,
                                                    BalaDeleteStatement* stmt)
{
	BalaCCodeBaseModule * self;
	BalaDataType* type = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	BalaPointerType* pointer_type = NULL;
	BalaDataType* _tmp4_;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	BalaPointerType* _tmp7_;
	BalaCCodeFunctionCall* ccall = NULL;
	BalaDataType* _tmp21_;
	BalaCCodeExpression* _tmp22_;
	BalaCCodeExpression* _tmp23_;
	BalaCCodeFunctionCall* _tmp24_;
	BalaCCodeFunctionCall* _tmp25_;
	BalaExpression* _tmp26_;
	BalaExpression* _tmp27_;
	BalaCCodeExpression* _tmp28_;
	BalaCCodeFunction* _tmp29_;
	BalaCCodeFunction* _tmp30_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (stmt != NULL);
	_tmp0_ = bala_delete_statement_get_expression (stmt);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_expression_get_value_type (_tmp1_);
	_tmp3_ = _tmp2_;
	type = _tmp3_;
	_tmp4_ = type;
	pointer_type = G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, BALA_TYPE_POINTER_TYPE) ? ((BalaPointerType*) _tmp4_) : NULL;
	_tmp7_ = pointer_type;
	if (_tmp7_ != NULL) {
		BalaPointerType* _tmp8_;
		BalaDataType* _tmp9_;
		BalaDataType* _tmp10_;
		BalaTypeSymbol* _tmp11_;
		BalaTypeSymbol* _tmp12_;
		_tmp8_ = pointer_type;
		_tmp9_ = bala_pointer_type_get_base_type (_tmp8_);
		_tmp10_ = _tmp9_;
		_tmp11_ = bala_data_type_get_type_symbol (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp6_ = _tmp12_ != NULL;
	} else {
		_tmp6_ = FALSE;
	}
	if (_tmp6_) {
		BalaPointerType* _tmp13_;
		BalaDataType* _tmp14_;
		BalaDataType* _tmp15_;
		BalaTypeSymbol* _tmp16_;
		BalaTypeSymbol* _tmp17_;
		_tmp13_ = pointer_type;
		_tmp14_ = bala_pointer_type_get_base_type (_tmp13_);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_data_type_get_type_symbol (_tmp15_);
		_tmp17_ = _tmp16_;
		_tmp5_ = bala_typesymbol_is_reference_type (_tmp17_);
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		BalaPointerType* _tmp18_;
		BalaDataType* _tmp19_;
		BalaDataType* _tmp20_;
		_tmp18_ = pointer_type;
		_tmp19_ = bala_pointer_type_get_base_type (_tmp18_);
		_tmp20_ = _tmp19_;
		type = _tmp20_;
	}
	_tmp21_ = type;
	_tmp22_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp21_, FALSE);
	_tmp23_ = _tmp22_;
	_tmp24_ = bala_ccode_function_call_new (_tmp23_);
	_tmp25_ = _tmp24_;
	_bala_ccode_node_unref0 (_tmp23_);
	ccall = _tmp25_;
	_tmp26_ = bala_delete_statement_get_expression (stmt);
	_tmp27_ = _tmp26_;
	_tmp28_ = bala_get_cvalue (_tmp27_);
	bala_ccode_function_call_add_argument (ccall, _tmp28_);
	_tmp29_ = bala_ccode_base_module_get_ccode (self);
	_tmp30_ = _tmp29_;
	bala_ccode_function_add_expression (_tmp30_, (BalaCCodeExpression*) ccall);
	_bala_ccode_node_unref0 (ccall);
}

static gboolean
bala_ccode_base_module_is_compact_class_destructor_call (BalaExpression* expr)
{
	BalaClass* cl = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	BalaClass* _tmp6_;
	gboolean result = FALSE;
	g_return_val_if_fail (expr != NULL, FALSE);
	_tmp0_ = bala_expression_get_value_type (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (_tmp1_);
	_tmp3_ = _tmp2_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp3_) : NULL;
	_tmp6_ = cl;
	if (_tmp6_ != NULL) {
		BalaClass* _tmp7_;
		gboolean _tmp8_;
		gboolean _tmp9_;
		_tmp7_ = cl;
		_tmp8_ = bala_class_get_is_compact (_tmp7_);
		_tmp9_ = _tmp8_;
		_tmp5_ = _tmp9_;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		BalaCodeNode* _tmp10_;
		BalaCodeNode* _tmp11_;
		_tmp10_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
		_tmp11_ = _tmp10_;
		_tmp4_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, BALA_TYPE_MEMBER_ACCESS);
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		BalaMethodType* mt = NULL;
		BalaCodeNode* _tmp12_;
		BalaCodeNode* _tmp13_;
		BalaDataType* _tmp14_;
		BalaDataType* _tmp15_;
		gboolean _tmp16_ = FALSE;
		gboolean _tmp17_ = FALSE;
		BalaMethodType* _tmp18_;
		_tmp12_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
		_tmp13_ = _tmp12_;
		_tmp14_ = bala_expression_get_value_type ((BalaExpression*) G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, BALA_TYPE_MEMBER_ACCESS, BalaMemberAccess));
		_tmp15_ = _tmp14_;
		mt = G_TYPE_CHECK_INSTANCE_TYPE (_tmp15_, BALA_TYPE_METHOD_TYPE) ? ((BalaMethodType*) _tmp15_) : NULL;
		_tmp18_ = mt;
		if (_tmp18_ != NULL) {
			BalaMethodType* _tmp19_;
			BalaMethod* _tmp20_;
			BalaMethod* _tmp21_;
			_tmp19_ = mt;
			_tmp20_ = bala_method_type_get_method_symbol (_tmp19_);
			_tmp21_ = _tmp20_;
			_tmp17_ = _tmp21_ != NULL;
		} else {
			_tmp17_ = FALSE;
		}
		if (_tmp17_) {
			BalaMethodType* _tmp22_;
			BalaMethod* _tmp23_;
			BalaMethod* _tmp24_;
			BalaAttribute* _tmp25_;
			_tmp22_ = mt;
			_tmp23_ = bala_method_type_get_method_symbol (_tmp22_);
			_tmp24_ = _tmp23_;
			_tmp25_ = bala_code_node_get_attribute ((BalaCodeNode*) _tmp24_, "DestroysInstance");
			_tmp16_ = _tmp25_ != NULL;
		} else {
			_tmp16_ = FALSE;
		}
		if (_tmp16_) {
			result = TRUE;
			return result;
		}
	}
	result = FALSE;
	return result;
}

static void
bala_ccode_base_module_real_visit_expression (BalaCodeVisitor* base,
                                              BalaExpression* expr)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_ = FALSE;
	BalaCCodeExpression* _tmp1_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp1_ = bala_get_cvalue (expr);
	if (_tmp1_ != NULL) {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = bala_expression_get_lvalue (expr);
		_tmp3_ = _tmp2_;
		_tmp0_ = !_tmp3_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gboolean _tmp4_ = FALSE;
		BalaDataType* _tmp5_;
		BalaDataType* _tmp6_;
		BalaDataType* _tmp37_;
		BalaDataType* _tmp38_;
		BalaTargetValue* _tmp49_;
		BalaTargetValue* _tmp50_;
		gboolean _tmp51_ = FALSE;
		BalaDataType* _tmp52_;
		BalaDataType* _tmp53_;
		gboolean _tmp70_ = FALSE;
		BalaDataType* _tmp71_;
		BalaDataType* _tmp72_;
		_tmp5_ = bala_expression_get_formal_value_type (expr);
		_tmp6_ = _tmp5_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_GENERIC_TYPE)) {
			BalaDataType* _tmp7_;
			BalaDataType* _tmp8_;
			_tmp7_ = bala_expression_get_value_type (expr);
			_tmp8_ = _tmp7_;
			_tmp4_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_GENERIC_TYPE);
		} else {
			_tmp4_ = FALSE;
		}
		if (_tmp4_) {
			BalaTypeParameter* type_parameter = NULL;
			BalaDataType* _tmp9_;
			BalaDataType* _tmp10_;
			BalaTypeParameter* _tmp11_;
			BalaTypeParameter* _tmp12_;
			BalaTypeParameter* _tmp13_;
			BalaStruct* st = NULL;
			BalaTypeParameter* _tmp14_;
			BalaSymbol* _tmp15_;
			BalaSymbol* _tmp16_;
			BalaSymbol* _tmp17_;
			BalaSymbol* _tmp18_;
			BalaStruct* _tmp19_;
			gboolean _tmp20_ = FALSE;
			BalaTypeParameter* _tmp21_;
			BalaSymbol* _tmp22_;
			BalaSymbol* _tmp23_;
			BalaTypeSymbol* _tmp24_;
			_tmp9_ = bala_expression_get_formal_value_type (expr);
			_tmp10_ = _tmp9_;
			_tmp11_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
			_tmp12_ = _tmp11_;
			_tmp13_ = _bala_code_node_ref0 (_tmp12_);
			type_parameter = _tmp13_;
			_tmp14_ = type_parameter;
			_tmp15_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp14_);
			_tmp16_ = _tmp15_;
			_tmp17_ = bala_symbol_get_parent_symbol (_tmp16_);
			_tmp18_ = _tmp17_;
			_tmp19_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp18_) : NULL);
			st = _tmp19_;
			_tmp21_ = type_parameter;
			_tmp22_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = self->garray_type;
			if (_tmp23_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp24_, BALA_TYPE_SYMBOL, BalaSymbol)) {
				gboolean _tmp25_ = FALSE;
				BalaStruct* _tmp26_;
				_tmp26_ = st;
				if (_tmp26_ == NULL) {
					_tmp25_ = TRUE;
				} else {
					BalaStruct* _tmp27_;
					gchar* _tmp28_;
					gchar* _tmp29_;
					_tmp27_ = st;
					_tmp28_ = bala_get_ccode_name ((BalaCodeNode*) _tmp27_);
					_tmp29_ = _tmp28_;
					_tmp25_ = g_strcmp0 (_tmp29_, "va_list") != 0;
					_g_free0 (_tmp29_);
				}
				_tmp20_ = _tmp25_;
			} else {
				_tmp20_ = FALSE;
			}
			if (_tmp20_) {
				BalaCCodeExpression* _tmp30_;
				BalaDataType* _tmp31_;
				BalaDataType* _tmp32_;
				BalaCCodeExpression* _tmp33_;
				BalaCCodeExpression* _tmp34_;
				BalaTargetValue* _tmp35_;
				BalaTargetValue* _tmp36_;
				_tmp30_ = bala_get_cvalue (expr);
				_tmp31_ = bala_expression_get_value_type (expr);
				_tmp32_ = _tmp31_;
				_tmp33_ = bala_ccode_base_module_convert_from_generic_pointer (self, _tmp30_, _tmp32_);
				_tmp34_ = _tmp33_;
				bala_set_cvalue (expr, _tmp34_);
				_bala_ccode_node_unref0 (_tmp34_);
				_tmp35_ = bala_expression_get_target_value (expr);
				_tmp36_ = _tmp35_;
				G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = FALSE;
			}
			_bala_code_node_unref0 (st);
			_bala_code_node_unref0 (type_parameter);
		}
		_tmp37_ = bala_expression_get_value_type (expr);
		_tmp38_ = _tmp37_;
		if (_tmp38_ != NULL) {
			BalaTargetValue* _tmp39_;
			BalaTargetValue* _tmp40_;
			BalaDataType* _tmp41_;
			BalaDataType* _tmp42_;
			BalaTargetValue* _tmp43_;
			BalaTargetValue* _tmp44_;
			BalaDataType* _tmp45_;
			BalaDataType* _tmp46_;
			BalaTargetValue* _tmp47_;
			BalaTargetValue* _tmp48_;
			_tmp39_ = bala_expression_get_target_value (expr);
			_tmp40_ = _tmp39_;
			_tmp41_ = bala_expression_get_value_type (expr);
			_tmp42_ = _tmp41_;
			bala_target_value_set_value_type (_tmp40_, _tmp42_);
			_tmp43_ = bala_expression_get_target_value (expr);
			_tmp44_ = _tmp43_;
			_tmp45_ = bala_expression_get_target_type (expr);
			_tmp46_ = _tmp45_;
			_tmp47_ = bala_ccode_base_module_transform_value (self, _tmp44_, _tmp46_, (BalaCodeNode*) expr);
			_tmp48_ = _tmp47_;
			bala_expression_set_target_value (expr, _tmp48_);
			_bala_target_value_unref0 (_tmp48_);
		}
		_tmp49_ = bala_expression_get_target_value (expr);
		_tmp50_ = _tmp49_;
		if (_tmp50_ == NULL) {
			return;
		}
		_tmp52_ = bala_expression_get_formal_target_type (expr);
		_tmp53_ = _tmp52_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp53_, BALA_TYPE_GENERIC_TYPE)) {
			BalaDataType* _tmp54_;
			BalaDataType* _tmp55_;
			_tmp54_ = bala_expression_get_target_type (expr);
			_tmp55_ = _tmp54_;
			_tmp51_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp55_, BALA_TYPE_GENERIC_TYPE);
		} else {
			_tmp51_ = FALSE;
		}
		if (_tmp51_) {
			BalaDataType* _tmp56_;
			BalaDataType* _tmp57_;
			BalaTypeParameter* _tmp58_;
			BalaTypeParameter* _tmp59_;
			BalaSymbol* _tmp60_;
			BalaSymbol* _tmp61_;
			BalaTypeSymbol* _tmp62_;
			_tmp56_ = bala_expression_get_formal_target_type (expr);
			_tmp57_ = _tmp56_;
			_tmp58_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
			_tmp59_ = _tmp58_;
			_tmp60_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp59_);
			_tmp61_ = _tmp60_;
			_tmp62_ = self->garray_type;
			if (_tmp61_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp62_, BALA_TYPE_SYMBOL, BalaSymbol)) {
				BalaCCodeExpression* _tmp63_;
				BalaDataType* _tmp64_;
				BalaDataType* _tmp65_;
				BalaCCodeExpression* _tmp66_;
				BalaCCodeExpression* _tmp67_;
				BalaTargetValue* _tmp68_;
				BalaTargetValue* _tmp69_;
				_tmp63_ = bala_get_cvalue (expr);
				_tmp64_ = bala_expression_get_target_type (expr);
				_tmp65_ = _tmp64_;
				_tmp66_ = bala_ccode_base_module_convert_to_generic_pointer (self, _tmp63_, _tmp65_);
				_tmp67_ = _tmp66_;
				bala_set_cvalue (expr, _tmp67_);
				_bala_ccode_node_unref0 (_tmp67_);
				_tmp68_ = bala_expression_get_target_value (expr);
				_tmp69_ = _tmp68_;
				G_TYPE_CHECK_INSTANCE_CAST (_tmp69_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = FALSE;
			}
		}
		_tmp71_ = bala_expression_get_value_type (expr);
		_tmp72_ = _tmp71_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp72_, BALA_TYPE_VALUE_TYPE)) {
			BalaDataType* _tmp73_;
			BalaDataType* _tmp74_;
			gboolean _tmp75_;
			gboolean _tmp76_;
			_tmp73_ = bala_expression_get_value_type (expr);
			_tmp74_ = _tmp73_;
			_tmp75_ = bala_data_type_get_nullable (_tmp74_);
			_tmp76_ = _tmp75_;
			_tmp70_ = !_tmp76_;
		} else {
			_tmp70_ = FALSE;
		}
		if (!_tmp70_) {
			BalaTargetValue* _tmp77_;
			BalaTargetValue* _tmp78_;
			_tmp77_ = bala_expression_get_target_value (expr);
			_tmp78_ = _tmp77_;
			G_TYPE_CHECK_INSTANCE_CAST (_tmp78_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->non_null = bala_expression_is_non_null (expr);
		}
	} else {
		gboolean _tmp79_ = FALSE;
		BalaDataType* _tmp80_;
		BalaDataType* _tmp81_;
		_tmp80_ = bala_expression_get_value_type (expr);
		_tmp81_ = _tmp80_;
		if (_tmp81_ != NULL) {
			_tmp79_ = bala_ccode_base_module_is_compact_class_destructor_call (expr);
		} else {
			_tmp79_ = FALSE;
		}
		if (_tmp79_) {
			BalaTargetValue* temp_value = NULL;
			BalaTargetValue* _tmp82_;
			BalaTargetValue* _tmp83_;
			BalaTargetValue* _tmp84_;
			BalaCCodeFunction* _tmp85_;
			BalaCCodeFunction* _tmp86_;
			BalaCCodeExpression* _tmp87_;
			BalaCCodeConstant* _tmp88_;
			BalaCCodeConstant* _tmp89_;
			BalaTargetValue* _tmp90_;
			_tmp82_ = bala_expression_get_target_value (expr);
			_tmp83_ = _tmp82_;
			_tmp84_ = bala_ccode_base_module_store_temp_value (self, _tmp83_, (BalaCodeNode*) expr, NULL);
			temp_value = _tmp84_;
			_tmp85_ = bala_ccode_base_module_get_ccode (self);
			_tmp86_ = _tmp85_;
			_tmp87_ = bala_get_cvalue (expr);
			_tmp88_ = bala_ccode_constant_new ("NULL");
			_tmp89_ = _tmp88_;
			bala_ccode_function_add_assignment (_tmp86_, _tmp87_, (BalaCCodeExpression*) _tmp89_);
			_bala_ccode_node_unref0 (_tmp89_);
			_tmp90_ = temp_value;
			bala_expression_set_target_value (expr, _tmp90_);
			_bala_target_value_unref0 (temp_value);
		}
	}
}

static void
bala_ccode_base_module_real_visit_boolean_literal (BalaCodeVisitor* base,
                                                   BalaBooleanLiteral* expr)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_boolean_literal_get_value (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_get_boolean_cconstant (self, _tmp1_);
	_tmp3_ = _tmp2_;
	bala_set_cvalue ((BalaExpression*) expr, _tmp3_);
	_bala_ccode_node_unref0 (_tmp3_);
}

static void
bala_ccode_base_module_real_visit_character_literal (BalaCodeVisitor* base,
                                                     BalaCharacterLiteral* expr)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_ = FALSE;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	if (bala_character_literal_get_char (expr) >= ((gunichar) 0x20)) {
		_tmp0_ = bala_character_literal_get_char (expr) < ((gunichar) 0x80);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		const gchar* _tmp1_;
		const gchar* _tmp2_;
		BalaCCodeConstant* _tmp3_;
		BalaCCodeConstant* _tmp4_;
		_tmp1_ = bala_character_literal_get_value (expr);
		_tmp2_ = _tmp1_;
		_tmp3_ = bala_ccode_constant_new (_tmp2_);
		_tmp4_ = _tmp3_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp4_);
		_bala_ccode_node_unref0 (_tmp4_);
	} else {
		gchar* _tmp5_;
		gchar* _tmp6_;
		BalaCCodeConstant* _tmp7_;
		BalaCCodeConstant* _tmp8_;
		_tmp5_ = g_strdup_printf ("%uU", (guint) bala_character_literal_get_char (expr));
		_tmp6_ = _tmp5_;
		_tmp7_ = bala_ccode_constant_new (_tmp6_);
		_tmp8_ = _tmp7_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp8_);
		_bala_ccode_node_unref0 (_tmp8_);
		_g_free0 (_tmp6_);
	}
}

static void
bala_ccode_base_module_real_visit_integer_literal (BalaCodeVisitor* base,
                                                   BalaIntegerLiteral* expr)
{
	BalaCCodeBaseModule * self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	BalaCCodeConstant* _tmp6_;
	BalaCCodeConstant* _tmp7_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_integer_literal_get_value (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_integer_literal_get_type_suffix (expr);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strconcat (_tmp1_, _tmp3_, NULL);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_ccode_constant_new (_tmp5_);
	_tmp7_ = _tmp6_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp7_);
	_bala_ccode_node_unref0 (_tmp7_);
	_g_free0 (_tmp5_);
}

static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	glong result = 0L;
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
	end = _tmp0_;
	_tmp1_ = end;
	if (_tmp1_ == NULL) {
		result = maxlen;
		return result;
	} else {
		gchar* _tmp2_;
		_tmp2_ = end;
		result = (glong) (_tmp2_ - str);
		return result;
	}
}

static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	gchar* _tmp3_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	if (offset >= ((glong) 0)) {
		_tmp0_ = len >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		string_length = string_strnlen ((gchar*) self, offset + len);
	} else {
		gint _tmp1_;
		gint _tmp2_;
		_tmp1_ = strlen (self);
		_tmp2_ = _tmp1_;
		string_length = (glong) _tmp2_;
	}
	if (offset < ((glong) 0)) {
		offset = string_length + offset;
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
	} else {
		g_return_val_if_fail (offset <= string_length, NULL);
	}
	if (len < ((glong) 0)) {
		len = string_length - offset;
	}
	g_return_val_if_fail ((offset + len) <= string_length, NULL);
	_tmp3_ = g_strndup (((gchar*) self) + offset, (gsize) len);
	result = _tmp3_;
	return result;
}

static gboolean
string_contains (const gchar* self,
                 const gchar* needle)
{
	gchar* _tmp0_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (needle != NULL, FALSE);
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
	result = _tmp0_ != NULL;
	return result;
}

static void
bala_ccode_base_module_real_visit_real_literal (BalaCodeVisitor* base,
                                                BalaRealLiteral* expr)
{
	BalaCCodeBaseModule * self;
	gchar* c_literal = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp4_;
	gboolean _tmp11_ = FALSE;
	gboolean _tmp12_ = FALSE;
	const gchar* _tmp13_;
	const gchar* _tmp28_;
	BalaCCodeConstant* _tmp29_;
	BalaCCodeConstant* _tmp30_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_real_literal_get_value (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup (_tmp1_);
	c_literal = _tmp2_;
	_tmp4_ = c_literal;
	if (g_str_has_suffix (_tmp4_, "d")) {
		_tmp3_ = TRUE;
	} else {
		const gchar* _tmp5_;
		_tmp5_ = c_literal;
		_tmp3_ = g_str_has_suffix (_tmp5_, "D");
	}
	if (_tmp3_) {
		const gchar* _tmp6_;
		const gchar* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		gchar* _tmp10_;
		_tmp6_ = c_literal;
		_tmp7_ = c_literal;
		_tmp8_ = strlen (_tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = string_substring (_tmp6_, (glong) 0, (glong) (_tmp9_ - 1));
		_g_free0 (c_literal);
		c_literal = _tmp10_;
	}
	_tmp13_ = c_literal;
	if (string_contains (_tmp13_, ".")) {
		_tmp12_ = TRUE;
	} else {
		const gchar* _tmp14_;
		_tmp14_ = c_literal;
		_tmp12_ = string_contains (_tmp14_, "e");
	}
	if (_tmp12_) {
		_tmp11_ = TRUE;
	} else {
		const gchar* _tmp15_;
		_tmp15_ = c_literal;
		_tmp11_ = string_contains (_tmp15_, "E");
	}
	if (!_tmp11_) {
		gboolean _tmp16_ = FALSE;
		const gchar* _tmp17_;
		_tmp17_ = c_literal;
		if (string_contains (_tmp17_, "f")) {
			_tmp16_ = TRUE;
		} else {
			const gchar* _tmp18_;
			_tmp18_ = c_literal;
			_tmp16_ = string_contains (_tmp18_, "F");
		}
		if (_tmp16_) {
			const gchar* _tmp19_;
			const gchar* _tmp20_;
			gint _tmp21_;
			gint _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
			gchar* _tmp25_;
			_tmp19_ = c_literal;
			_tmp20_ = c_literal;
			_tmp21_ = strlen (_tmp20_);
			_tmp22_ = _tmp21_;
			_tmp23_ = string_substring (_tmp19_, (glong) 0, (glong) (_tmp22_ - 1));
			_tmp24_ = _tmp23_;
			_tmp25_ = g_strconcat (_tmp24_, ".f", NULL);
			_g_free0 (c_literal);
			c_literal = _tmp25_;
			_g_free0 (_tmp24_);
		} else {
			const gchar* _tmp26_;
			gchar* _tmp27_;
			_tmp26_ = c_literal;
			_tmp27_ = g_strconcat (_tmp26_, ".", NULL);
			_g_free0 (c_literal);
			c_literal = _tmp27_;
		}
	}
	_tmp28_ = c_literal;
	_tmp29_ = bala_ccode_constant_new (_tmp28_);
	_tmp30_ = _tmp29_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp30_);
	_bala_ccode_node_unref0 (_tmp30_);
	_g_free0 (c_literal);
}

static void
bala_ccode_base_module_real_visit_string_literal (BalaCodeVisitor* base,
                                                  BalaStringLiteral* expr)
{
	BalaCCodeBaseModule * self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	BalaCCodeConstant* _tmp4_;
	BalaCCodeConstant* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_string_literal_get_value (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = string_replace (_tmp1_, "\n", "\\n");
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_constant_new_string (_tmp3_);
	_tmp5_ = _tmp4_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp5_);
	_bala_ccode_node_unref0 (_tmp5_);
	_g_free0 (_tmp3_);
	_tmp6_ = bala_string_literal_get_translate (expr);
	_tmp7_ = _tmp6_;
	if (_tmp7_) {
		BalaCCodeFunctionCall* translate = NULL;
		BalaCCodeIdentifier* _tmp8_;
		BalaCCodeIdentifier* _tmp9_;
		BalaCCodeFunctionCall* _tmp10_;
		BalaCCodeFunctionCall* _tmp11_;
		BalaCCodeFunctionCall* _tmp12_;
		BalaCCodeExpression* _tmp13_;
		BalaCCodeFunctionCall* _tmp14_;
		_tmp8_ = bala_ccode_identifier_new ("_");
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp9_);
		_tmp11_ = _tmp10_;
		_bala_ccode_node_unref0 (_tmp9_);
		translate = _tmp11_;
		_tmp12_ = translate;
		_tmp13_ = bala_get_cvalue ((BalaExpression*) expr);
		bala_ccode_function_call_add_argument (_tmp12_, _tmp13_);
		_tmp14_ = translate;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp14_);
		_bala_ccode_node_unref0 (translate);
	}
}

static void
bala_ccode_base_module_real_visit_regex_literal (BalaCodeVisitor* base,
                                                 BalaRegexLiteral* expr)
{
	BalaCCodeBaseModule * self;
	gchar** parts = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar** _tmp2_;
	gchar** _tmp3_;
	gint parts_length1;
	gint _parts_size_;
	gchar* re = NULL;
	gchar** _tmp4_;
	gint _tmp4__length1;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* flags = NULL;
	gchar* _tmp7_;
	gchar** _tmp8_;
	gint _tmp8__length1;
	const gchar* _tmp9_;
	gchar** _tmp12_;
	gint _tmp12__length1;
	const gchar* _tmp13_;
	gchar** _tmp16_;
	gint _tmp16__length1;
	const gchar* _tmp17_;
	gchar** _tmp20_;
	gint _tmp20__length1;
	const gchar* _tmp21_;
	BalaCCodeDeclaration* _cdecl_ = NULL;
	BalaCCodeDeclaration* _tmp24_;
	gchar* cname = NULL;
	gchar* _tmp25_;
	gint _tmp90_;
	BalaCCodeDeclaration* _tmp91_;
	const gchar* _tmp92_;
	gchar* _tmp93_;
	gchar* _tmp94_;
	BalaCCodeVariableDeclarator* _tmp95_;
	BalaCCodeVariableDeclarator* _tmp96_;
	BalaCCodeDeclaration* _tmp97_;
	BalaCCodeConstant* regex_const = NULL;
	const gchar* _tmp98_;
	const gchar* _tmp99_;
	const gchar* _tmp100_;
	gchar* _tmp101_;
	gchar* _tmp102_;
	BalaCCodeConstant* _tmp103_;
	BalaCCodeConstant* _tmp104_;
	BalaCCodeFile* _tmp105_;
	BalaCCodeDeclaration* _tmp106_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_regex_literal_get_value (expr);
	_tmp1_ = _tmp0_;
	_tmp3_ = _tmp2_ = g_strsplit (_tmp1_, "/", 3);
	parts = _tmp3_;
	parts_length1 = _bala_array_length (_tmp2_);
	_parts_size_ = parts_length1;
	_tmp4_ = parts;
	_tmp4__length1 = parts_length1;
	_tmp5_ = _tmp4_[2];
	_tmp6_ = g_strescape (_tmp5_, "");
	re = _tmp6_;
	_tmp7_ = g_strdup ("0");
	flags = _tmp7_;
	_tmp8_ = parts;
	_tmp8__length1 = parts_length1;
	_tmp9_ = _tmp8_[1];
	if (string_contains (_tmp9_, "i")) {
		const gchar* _tmp10_;
		gchar* _tmp11_;
		_tmp10_ = flags;
		_tmp11_ = g_strconcat (_tmp10_, " | G_REGEX_CASELESS", NULL);
		_g_free0 (flags);
		flags = _tmp11_;
	}
	_tmp12_ = parts;
	_tmp12__length1 = parts_length1;
	_tmp13_ = _tmp12_[1];
	if (string_contains (_tmp13_, "m")) {
		const gchar* _tmp14_;
		gchar* _tmp15_;
		_tmp14_ = flags;
		_tmp15_ = g_strconcat (_tmp14_, " | G_REGEX_MULTILINE", NULL);
		_g_free0 (flags);
		flags = _tmp15_;
	}
	_tmp16_ = parts;
	_tmp16__length1 = parts_length1;
	_tmp17_ = _tmp16_[1];
	if (string_contains (_tmp17_, "s")) {
		const gchar* _tmp18_;
		gchar* _tmp19_;
		_tmp18_ = flags;
		_tmp19_ = g_strconcat (_tmp18_, " | G_REGEX_DOTALL", NULL);
		_g_free0 (flags);
		flags = _tmp19_;
	}
	_tmp20_ = parts;
	_tmp20__length1 = parts_length1;
	_tmp21_ = _tmp20_[1];
	if (string_contains (_tmp21_, "x")) {
		const gchar* _tmp22_;
		gchar* _tmp23_;
		_tmp22_ = flags;
		_tmp23_ = g_strconcat (_tmp22_, " | G_REGEX_EXTENDED", NULL);
		_g_free0 (flags);
		flags = _tmp23_;
	}
	_tmp24_ = bala_ccode_declaration_new ("GRegex*");
	_cdecl_ = _tmp24_;
	_tmp25_ = g_strdup_printf ("_tmp_regex_%d", self->next_regex_id);
	cname = _tmp25_;
	if (self->next_regex_id == 0) {
		BalaCCodeFunction* fun = NULL;
		BalaCCodeFunction* _tmp26_;
		BalaCCodeFunction* _tmp27_;
		BalaCCodeFunction* _tmp28_;
		BalaCCodeParameter* _tmp29_;
		BalaCCodeParameter* _tmp30_;
		BalaCCodeFunction* _tmp31_;
		BalaCCodeParameter* _tmp32_;
		BalaCCodeParameter* _tmp33_;
		BalaCCodeFunction* _tmp34_;
		BalaCCodeParameter* _tmp35_;
		BalaCCodeParameter* _tmp36_;
		BalaCCodeFunction* _tmp37_;
		BalaCCodeFunctionCall* once_enter_call = NULL;
		BalaCCodeIdentifier* _tmp38_;
		BalaCCodeIdentifier* _tmp39_;
		BalaCCodeFunctionCall* _tmp40_;
		BalaCCodeFunctionCall* _tmp41_;
		BalaCCodeFunctionCall* _tmp42_;
		BalaCCodeConstant* _tmp43_;
		BalaCCodeConstant* _tmp44_;
		BalaCCodeFunction* _tmp45_;
		BalaCCodeFunction* _tmp46_;
		BalaCCodeFunctionCall* _tmp47_;
		BalaCCodeFunctionCall* regex_new_call = NULL;
		BalaCCodeIdentifier* _tmp48_;
		BalaCCodeIdentifier* _tmp49_;
		BalaCCodeFunctionCall* _tmp50_;
		BalaCCodeFunctionCall* _tmp51_;
		BalaCCodeFunctionCall* _tmp52_;
		BalaCCodeConstant* _tmp53_;
		BalaCCodeConstant* _tmp54_;
		BalaCCodeFunctionCall* _tmp55_;
		BalaCCodeConstant* _tmp56_;
		BalaCCodeConstant* _tmp57_;
		BalaCCodeFunctionCall* _tmp58_;
		BalaCCodeConstant* _tmp59_;
		BalaCCodeConstant* _tmp60_;
		BalaCCodeFunctionCall* _tmp61_;
		BalaCCodeConstant* _tmp62_;
		BalaCCodeConstant* _tmp63_;
		BalaCCodeFunction* _tmp64_;
		BalaCCodeFunction* _tmp65_;
		BalaCCodeIdentifier* _tmp66_;
		BalaCCodeIdentifier* _tmp67_;
		BalaCCodeFunctionCall* _tmp68_;
		BalaCCodeFunctionCall* once_leave_call = NULL;
		BalaCCodeIdentifier* _tmp69_;
		BalaCCodeIdentifier* _tmp70_;
		BalaCCodeFunctionCall* _tmp71_;
		BalaCCodeFunctionCall* _tmp72_;
		BalaCCodeFunctionCall* _tmp73_;
		BalaCCodeConstant* _tmp74_;
		BalaCCodeConstant* _tmp75_;
		BalaCCodeFunctionCall* _tmp76_;
		BalaCCodeConstant* _tmp77_;
		BalaCCodeConstant* _tmp78_;
		BalaCCodeFunction* _tmp79_;
		BalaCCodeFunction* _tmp80_;
		BalaCCodeFunctionCall* _tmp81_;
		BalaCCodeFunction* _tmp82_;
		BalaCCodeFunction* _tmp83_;
		BalaCCodeFunction* _tmp84_;
		BalaCCodeFunction* _tmp85_;
		BalaCCodeIdentifier* _tmp86_;
		BalaCCodeIdentifier* _tmp87_;
		BalaCCodeFile* _tmp88_;
		BalaCCodeFunction* _tmp89_;
		_tmp26_ = bala_ccode_function_new ("_thread_safe_regex_init", "GRegex*");
		fun = _tmp26_;
		_tmp27_ = fun;
		bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp27_, BALA_CCODE_MODIFIERS_STATIC | BALA_CCODE_MODIFIERS_INLINE);
		_tmp28_ = fun;
		_tmp29_ = bala_ccode_parameter_new ("re", "GRegex**");
		_tmp30_ = _tmp29_;
		bala_ccode_function_add_parameter (_tmp28_, _tmp30_);
		_bala_ccode_node_unref0 (_tmp30_);
		_tmp31_ = fun;
		_tmp32_ = bala_ccode_parameter_new ("pattern", "const gchar *");
		_tmp33_ = _tmp32_;
		bala_ccode_function_add_parameter (_tmp31_, _tmp33_);
		_bala_ccode_node_unref0 (_tmp33_);
		_tmp34_ = fun;
		_tmp35_ = bala_ccode_parameter_new ("compile_flags", "GRegexCompileFlags");
		_tmp36_ = _tmp35_;
		bala_ccode_function_add_parameter (_tmp34_, _tmp36_);
		_bala_ccode_node_unref0 (_tmp36_);
		_tmp37_ = fun;
		bala_ccode_base_module_push_function (self, _tmp37_);
		_tmp38_ = bala_ccode_identifier_new ("g_once_init_enter");
		_tmp39_ = _tmp38_;
		_tmp40_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp39_);
		_tmp41_ = _tmp40_;
		_bala_ccode_node_unref0 (_tmp39_);
		once_enter_call = _tmp41_;
		_tmp42_ = once_enter_call;
		_tmp43_ = bala_ccode_constant_new ("(volatile gsize*) re");
		_tmp44_ = _tmp43_;
		bala_ccode_function_call_add_argument (_tmp42_, (BalaCCodeExpression*) _tmp44_);
		_bala_ccode_node_unref0 (_tmp44_);
		_tmp45_ = bala_ccode_base_module_get_ccode (self);
		_tmp46_ = _tmp45_;
		_tmp47_ = once_enter_call;
		bala_ccode_function_open_if (_tmp46_, (BalaCCodeExpression*) _tmp47_);
		_tmp48_ = bala_ccode_identifier_new ("g_regex_new");
		_tmp49_ = _tmp48_;
		_tmp50_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp49_);
		_tmp51_ = _tmp50_;
		_bala_ccode_node_unref0 (_tmp49_);
		regex_new_call = _tmp51_;
		_tmp52_ = regex_new_call;
		_tmp53_ = bala_ccode_constant_new ("pattern");
		_tmp54_ = _tmp53_;
		bala_ccode_function_call_add_argument (_tmp52_, (BalaCCodeExpression*) _tmp54_);
		_bala_ccode_node_unref0 (_tmp54_);
		_tmp55_ = regex_new_call;
		_tmp56_ = bala_ccode_constant_new ("compile_flags");
		_tmp57_ = _tmp56_;
		bala_ccode_function_call_add_argument (_tmp55_, (BalaCCodeExpression*) _tmp57_);
		_bala_ccode_node_unref0 (_tmp57_);
		_tmp58_ = regex_new_call;
		_tmp59_ = bala_ccode_constant_new ("0");
		_tmp60_ = _tmp59_;
		bala_ccode_function_call_add_argument (_tmp58_, (BalaCCodeExpression*) _tmp60_);
		_bala_ccode_node_unref0 (_tmp60_);
		_tmp61_ = regex_new_call;
		_tmp62_ = bala_ccode_constant_new ("NULL");
		_tmp63_ = _tmp62_;
		bala_ccode_function_call_add_argument (_tmp61_, (BalaCCodeExpression*) _tmp63_);
		_bala_ccode_node_unref0 (_tmp63_);
		_tmp64_ = bala_ccode_base_module_get_ccode (self);
		_tmp65_ = _tmp64_;
		_tmp66_ = bala_ccode_identifier_new ("GRegex* val");
		_tmp67_ = _tmp66_;
		_tmp68_ = regex_new_call;
		bala_ccode_function_add_assignment (_tmp65_, (BalaCCodeExpression*) _tmp67_, (BalaCCodeExpression*) _tmp68_);
		_bala_ccode_node_unref0 (_tmp67_);
		_tmp69_ = bala_ccode_identifier_new ("g_once_init_leave");
		_tmp70_ = _tmp69_;
		_tmp71_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp70_);
		_tmp72_ = _tmp71_;
		_bala_ccode_node_unref0 (_tmp70_);
		once_leave_call = _tmp72_;
		_tmp73_ = once_leave_call;
		_tmp74_ = bala_ccode_constant_new ("(volatile gsize*) re");
		_tmp75_ = _tmp74_;
		bala_ccode_function_call_add_argument (_tmp73_, (BalaCCodeExpression*) _tmp75_);
		_bala_ccode_node_unref0 (_tmp75_);
		_tmp76_ = once_leave_call;
		_tmp77_ = bala_ccode_constant_new ("(gsize) val");
		_tmp78_ = _tmp77_;
		bala_ccode_function_call_add_argument (_tmp76_, (BalaCCodeExpression*) _tmp78_);
		_bala_ccode_node_unref0 (_tmp78_);
		_tmp79_ = bala_ccode_base_module_get_ccode (self);
		_tmp80_ = _tmp79_;
		_tmp81_ = once_leave_call;
		bala_ccode_function_add_expression (_tmp80_, (BalaCCodeExpression*) _tmp81_);
		_tmp82_ = bala_ccode_base_module_get_ccode (self);
		_tmp83_ = _tmp82_;
		bala_ccode_function_close (_tmp83_);
		_tmp84_ = bala_ccode_base_module_get_ccode (self);
		_tmp85_ = _tmp84_;
		_tmp86_ = bala_ccode_identifier_new ("*re");
		_tmp87_ = _tmp86_;
		bala_ccode_function_add_return (_tmp85_, (BalaCCodeExpression*) _tmp87_);
		_bala_ccode_node_unref0 (_tmp87_);
		bala_ccode_base_module_pop_function (self);
		_tmp88_ = self->cfile;
		_tmp89_ = fun;
		bala_ccode_file_add_function (_tmp88_, _tmp89_);
		_bala_ccode_node_unref0 (once_leave_call);
		_bala_ccode_node_unref0 (regex_new_call);
		_bala_ccode_node_unref0 (once_enter_call);
		_bala_ccode_node_unref0 (fun);
	}
	_tmp90_ = self->next_regex_id;
	self->next_regex_id = _tmp90_ + 1;
	_tmp91_ = _cdecl_;
	_tmp92_ = cname;
	_tmp93_ = g_strconcat (_tmp92_, " = NULL", NULL);
	_tmp94_ = _tmp93_;
	_tmp95_ = bala_ccode_variable_declarator_new (_tmp94_, NULL, NULL);
	_tmp96_ = _tmp95_;
	bala_ccode_declaration_add_declarator (_tmp91_, (BalaCCodeDeclarator*) _tmp96_);
	_bala_ccode_node_unref0 (_tmp96_);
	_g_free0 (_tmp94_);
	_tmp97_ = _cdecl_;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp97_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp98_ = cname;
	_tmp99_ = re;
	_tmp100_ = flags;
	_tmp101_ = g_strdup_printf ("_thread_safe_regex_init (&%s, \"%s\", %s)", _tmp98_, _tmp99_, _tmp100_);
	_tmp102_ = _tmp101_;
	_tmp103_ = bala_ccode_constant_new (_tmp102_);
	_tmp104_ = _tmp103_;
	_g_free0 (_tmp102_);
	regex_const = _tmp104_;
	_tmp105_ = self->cfile;
	_tmp106_ = _cdecl_;
	bala_ccode_file_add_constant_declaration (_tmp105_, (BalaCCodeNode*) _tmp106_);
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) regex_const);
	_bala_ccode_node_unref0 (regex_const);
	_g_free0 (cname);
	_bala_ccode_node_unref0 (_cdecl_);
	_g_free0 (flags);
	_g_free0 (re);
	parts = (_bala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
}

static void
bala_ccode_base_module_real_visit_null_literal (BalaCodeVisitor* base,
                                                BalaNullLiteral* expr)
{
	BalaCCodeBaseModule * self;
	BalaCodeContext* _tmp0_;
	BalaProfile _tmp1_;
	BalaProfile _tmp2_;
	BalaCCodeConstant* _tmp5_;
	BalaCCodeConstant* _tmp6_;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp7_;
	BalaDataType* _tmp8_;
	BalaArrayType* _tmp9_;
	BalaDelegateType* delegate_type = NULL;
	BalaDataType* _tmp10_;
	BalaDataType* _tmp11_;
	BalaDelegateType* _tmp12_;
	BalaArrayType* _tmp13_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = self->priv->_context;
	_tmp1_ = bala_code_context_get_profile (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == BALA_PROFILE_GOBJECT) {
		BalaCCodeFile* _tmp3_;
		_tmp3_ = self->cfile;
		bala_ccode_file_add_include (_tmp3_, "glib.h", FALSE);
	} else {
		BalaCCodeFile* _tmp4_;
		_tmp4_ = self->cfile;
		bala_ccode_file_add_include (_tmp4_, "stddef.h", FALSE);
	}
	_tmp5_ = bala_ccode_constant_new ("NULL");
	_tmp6_ = _tmp5_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp6_);
	_bala_ccode_node_unref0 (_tmp6_);
	_tmp7_ = bala_expression_get_target_type ((BalaExpression*) expr);
	_tmp8_ = _tmp7_;
	_tmp9_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp8_) : NULL);
	array_type = _tmp9_;
	_tmp10_ = bala_expression_get_target_type ((BalaExpression*) expr);
	_tmp11_ = _tmp10_;
	_tmp12_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, BALA_TYPE_DELEGATE_TYPE) ? ((BalaDelegateType*) _tmp11_) : NULL);
	delegate_type = _tmp12_;
	_tmp13_ = array_type;
	if (_tmp13_ != NULL) {
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp14_ = FALSE;
				_tmp14_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp16_;
					gint _tmp17_;
					gint _tmp18_;
					BalaCCodeConstant* _tmp19_;
					BalaCCodeConstant* _tmp20_;
					if (!_tmp14_) {
						gint _tmp15_;
						_tmp15_ = dim;
						dim = _tmp15_ + 1;
					}
					_tmp14_ = FALSE;
					_tmp16_ = array_type;
					_tmp17_ = bala_array_type_get_rank (_tmp16_);
					_tmp18_ = _tmp17_;
					if (!(dim <= _tmp18_)) {
						break;
					}
					_tmp19_ = bala_ccode_constant_new ("0");
					_tmp20_ = _tmp19_;
					bala_append_array_length ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp20_);
					_bala_ccode_node_unref0 (_tmp20_);
				}
			}
		}
	} else {
		gboolean _tmp21_ = FALSE;
		BalaDelegateType* _tmp22_;
		_tmp22_ = delegate_type;
		if (_tmp22_ != NULL) {
			BalaDelegateType* _tmp23_;
			BalaDelegate* _tmp24_;
			BalaDelegate* _tmp25_;
			gboolean _tmp26_;
			gboolean _tmp27_;
			_tmp23_ = delegate_type;
			_tmp24_ = bala_delegate_type_get_delegate_symbol (_tmp23_);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_delegate_get_has_target (_tmp25_);
			_tmp27_ = _tmp26_;
			_tmp21_ = _tmp27_;
		} else {
			_tmp21_ = FALSE;
		}
		if (_tmp21_) {
			BalaCCodeConstant* _tmp28_;
			BalaCCodeConstant* _tmp29_;
			BalaCCodeConstant* _tmp30_;
			BalaCCodeConstant* _tmp31_;
			_tmp28_ = bala_ccode_constant_new ("NULL");
			_tmp29_ = _tmp28_;
			bala_set_delegate_target ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp29_);
			_bala_ccode_node_unref0 (_tmp29_);
			_tmp30_ = bala_ccode_constant_new ("NULL");
			_tmp31_ = _tmp30_;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp31_);
			_bala_ccode_node_unref0 (_tmp31_);
		}
	}
	_bala_code_node_unref0 (delegate_type);
	_bala_code_node_unref0 (array_type);
}

static BalaTargetValue*
bala_ccode_base_module_real_get_local_cvalue (BalaCCodeBaseModule* self,
                                              BalaLocalVariable* local)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_get_local_cvalue'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTargetValue*
bala_ccode_base_module_get_local_cvalue (BalaCCodeBaseModule* self,
                                         BalaLocalVariable* local)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_local_cvalue (self, local);
}

static BalaTargetValue*
bala_ccode_base_module_real_get_parameter_cvalue (BalaCCodeBaseModule* self,
                                                  BalaParameter* param)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_get_parameter_cvalue'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTargetValue*
bala_ccode_base_module_get_parameter_cvalue (BalaCCodeBaseModule* self,
                                             BalaParameter* param)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_parameter_cvalue (self, param);
}

static BalaTargetValue*
bala_ccode_base_module_real_get_field_cvalue (BalaCCodeBaseModule* self,
                                              BalaField* field,
                                              BalaTargetValue* instance)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_get_field_cvalue'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTargetValue*
bala_ccode_base_module_get_field_cvalue (BalaCCodeBaseModule* self,
                                         BalaField* field,
                                         BalaTargetValue* instance)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_field_cvalue (self, field, instance);
}

static BalaTargetValue*
bala_ccode_base_module_real_load_variable (BalaCCodeBaseModule* self,
                                           BalaVariable* variable,
                                           BalaTargetValue* value,
                                           BalaExpression* expr)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_load_variable'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTargetValue*
bala_ccode_base_module_load_variable (BalaCCodeBaseModule* self,
                                      BalaVariable* variable,
                                      BalaTargetValue* value,
                                      BalaExpression* expr)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->load_variable (self, variable, value, expr);
}

static BalaTargetValue*
bala_ccode_base_module_real_load_this_parameter (BalaCCodeBaseModule* self,
                                                 BalaTypeSymbol* sym)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_load_this_parameter'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}

BalaTargetValue*
bala_ccode_base_module_load_this_parameter (BalaCCodeBaseModule* self,
                                            BalaTypeSymbol* sym)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->load_this_parameter (self, sym);
}

static void
bala_ccode_base_module_real_store_value (BalaCCodeBaseModule* self,
                                         BalaTargetValue* lvalue,
                                         BalaTargetValue* value,
                                         BalaSourceReference* source_reference)
{
	g_critical ("Type `%s' does not implement abstract method `bala_ccode_base_module_store_value'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return;
}

void
bala_ccode_base_module_store_value (BalaCCodeBaseModule* self,
                                    BalaTargetValue* lvalue,
                                    BalaTargetValue* value,
                                    BalaSourceReference* source_reference)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->store_value (self, lvalue, value, source_reference);
}

static gchar*
bala_ccode_base_module_real_get_delegate_target_cname (BalaCCodeBaseModule* self,
                                                       const gchar* delegate_cname)
{
	g_return_val_if_fail (delegate_cname != NULL, NULL);
	g_assert_not_reached ();
}

gchar*
bala_ccode_base_module_get_delegate_target_cname (BalaCCodeBaseModule* self,
                                                  const gchar* delegate_cname)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_delegate_target_cname (self, delegate_cname);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_delegate_target_cexpression (BalaCCodeBaseModule* self,
                                                             BalaExpression* delegate_expr,
                                                             BalaCCodeExpression* * delegate_target_destroy_notify)
{
	BalaCCodeExpression* _bala_delegate_target_destroy_notify = NULL;
	g_return_val_if_fail (delegate_expr != NULL, NULL);
	g_assert_not_reached ();
	if (delegate_target_destroy_notify) {
		*delegate_target_destroy_notify = _bala_delegate_target_destroy_notify;
	} else {
		_bala_ccode_node_unref0 (_bala_delegate_target_destroy_notify);
	}
}

BalaCCodeExpression*
bala_ccode_base_module_get_delegate_target_cexpression (BalaCCodeBaseModule* self,
                                                        BalaExpression* delegate_expr,
                                                        BalaCCodeExpression* * delegate_target_destroy_notify)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_delegate_target_cexpression (self, delegate_expr, delegate_target_destroy_notify);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_delegate_target_cvalue (BalaCCodeBaseModule* self,
                                                        BalaTargetValue* value)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_delegate_target_cvalue (BalaCCodeBaseModule* self,
                                                   BalaTargetValue* value)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_delegate_target_cvalue (self, value);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_delegate_target_destroy_notify_cvalue (BalaCCodeBaseModule* self,
                                                                       BalaTargetValue* value)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (BalaCCodeBaseModule* self,
                                                                  BalaTargetValue* value)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_delegate_target_destroy_notify_cvalue (self, value);
}

static gchar*
bala_ccode_base_module_real_get_delegate_target_destroy_notify_cname (BalaCCodeBaseModule* self,
                                                                      const gchar* delegate_cname)
{
	g_return_val_if_fail (delegate_cname != NULL, NULL);
	g_assert_not_reached ();
}

gchar*
bala_ccode_base_module_get_delegate_target_destroy_notify_cname (BalaCCodeBaseModule* self,
                                                                 const gchar* delegate_cname)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_delegate_target_destroy_notify_cname (self, delegate_cname);
}

static void
bala_ccode_base_module_real_visit_base_access (BalaCodeVisitor* base,
                                               BalaBaseAccess* expr)
{
	BalaCCodeBaseModule * self;
	BalaClass* cl = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	gboolean _tmp4_ = FALSE;
	BalaClass* _tmp5_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_expression_get_value_type ((BalaExpression*) expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (_tmp1_);
	_tmp3_ = _tmp2_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp3_) : NULL;
	_tmp5_ = cl;
	if (_tmp5_ != NULL) {
		BalaClass* _tmp6_;
		gboolean _tmp7_;
		gboolean _tmp8_;
		_tmp6_ = cl;
		_tmp7_ = bala_class_get_is_compact (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp4_ = !_tmp8_;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		BalaCCodeExpression* _tmp9_;
		BalaCCodeExpression* _tmp10_;
		BalaClass* _tmp11_;
		BalaCCodeFunctionCall* _tmp12_;
		BalaCCodeFunctionCall* _tmp13_;
		_tmp9_ = bala_ccode_base_module_get_this_cexpression (self);
		_tmp10_ = _tmp9_;
		_tmp11_ = cl;
		_tmp12_ = bala_ccode_base_module_generate_instance_cast (self, _tmp10_, (BalaTypeSymbol*) _tmp11_);
		_tmp13_ = _tmp12_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp13_);
		_bala_ccode_node_unref0 (_tmp13_);
		_bala_ccode_node_unref0 (_tmp10_);
	} else {
		BalaDataType* _tmp14_;
		BalaDataType* _tmp15_;
		BalaTypeSymbol* _tmp16_;
		BalaTypeSymbol* _tmp17_;
		BalaTargetValue* _tmp18_;
		BalaTargetValue* _tmp19_;
		_tmp14_ = bala_expression_get_value_type ((BalaExpression*) expr);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_data_type_get_type_symbol (_tmp15_);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_base_module_load_this_parameter (self, _tmp17_);
		_tmp19_ = _tmp18_;
		bala_expression_set_target_value ((BalaExpression*) expr, _tmp19_);
		_bala_target_value_unref0 (_tmp19_);
	}
}

static void
bala_ccode_base_module_real_visit_postfix_expression (BalaCodeVisitor* base,
                                                      BalaPostfixExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaMemberAccess* ma = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaMemberAccess* _tmp2_;
	BalaMemberAccess* _tmp3_;
	BalaTargetValue* temp_value = NULL;
	BalaExpression* _tmp32_;
	BalaExpression* _tmp33_;
	BalaTargetValue* _tmp34_;
	BalaTargetValue* _tmp35_;
	BalaTargetValue* _tmp36_;
	BalaCCodeBinaryOperator _tmp37_ = 0;
	gboolean _tmp38_;
	gboolean _tmp39_;
	BalaCCodeBinaryOperator op = 0;
	BalaCCodeBinaryExpression* cexpr = NULL;
	BalaCCodeBinaryOperator _tmp40_;
	BalaTargetValue* _tmp41_;
	BalaCCodeExpression* _tmp42_;
	BalaCCodeConstant* _tmp43_;
	BalaCCodeConstant* _tmp44_;
	BalaCCodeBinaryExpression* _tmp45_;
	BalaCCodeBinaryExpression* _tmp46_;
	BalaCCodeFunction* _tmp47_;
	BalaCCodeFunction* _tmp48_;
	BalaExpression* _tmp49_;
	BalaExpression* _tmp50_;
	BalaCCodeExpression* _tmp51_;
	BalaCCodeBinaryExpression* _tmp52_;
	BalaTargetValue* _tmp53_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_postfix_expression_get_inner (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_find_property_access (self, _tmp1_);
	ma = _tmp2_;
	_tmp3_ = ma;
	if (_tmp3_ != NULL) {
		BalaProperty* prop = NULL;
		BalaMemberAccess* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaSymbol* _tmp6_;
		BalaProperty* _tmp7_;
		BalaCCodeBinaryOperator _tmp8_ = 0;
		gboolean _tmp9_;
		gboolean _tmp10_;
		BalaCCodeBinaryOperator op = 0;
		BalaCCodeBinaryExpression* cexpr = NULL;
		BalaCCodeBinaryOperator _tmp11_;
		BalaExpression* _tmp12_;
		BalaExpression* _tmp13_;
		BalaCCodeExpression* _tmp14_;
		BalaCCodeConstant* _tmp15_;
		BalaCCodeConstant* _tmp16_;
		BalaCCodeBinaryExpression* _tmp17_;
		BalaCCodeBinaryExpression* _tmp18_;
		BalaProperty* _tmp19_;
		BalaMemberAccess* _tmp20_;
		BalaExpression* _tmp21_;
		BalaExpression* _tmp22_;
		BalaDataType* _tmp23_;
		BalaDataType* _tmp24_;
		BalaCCodeBinaryExpression* _tmp25_;
		BalaGLibValue* _tmp26_;
		BalaGLibValue* _tmp27_;
		BalaExpression* _tmp28_;
		BalaExpression* _tmp29_;
		BalaTargetValue* _tmp30_;
		BalaTargetValue* _tmp31_;
		_tmp4_ = ma;
		_tmp5_ = bala_expression_get_symbol_reference ((BalaExpression*) _tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, BALA_TYPE_PROPERTY, BalaProperty));
		prop = _tmp7_;
		_tmp9_ = bala_postfix_expression_get_increment (expr);
		_tmp10_ = _tmp9_;
		if (_tmp10_) {
			_tmp8_ = BALA_CCODE_BINARY_OPERATOR_PLUS;
		} else {
			_tmp8_ = BALA_CCODE_BINARY_OPERATOR_MINUS;
		}
		op = _tmp8_;
		_tmp11_ = op;
		_tmp12_ = bala_postfix_expression_get_inner (expr);
		_tmp13_ = _tmp12_;
		_tmp14_ = bala_get_cvalue (_tmp13_);
		_tmp15_ = bala_ccode_constant_new ("1");
		_tmp16_ = _tmp15_;
		_tmp17_ = bala_ccode_binary_expression_new (_tmp11_, _tmp14_, (BalaCCodeExpression*) _tmp16_);
		_tmp18_ = _tmp17_;
		_bala_ccode_node_unref0 (_tmp16_);
		cexpr = _tmp18_;
		_tmp19_ = prop;
		_tmp20_ = ma;
		_tmp21_ = bala_member_access_get_inner (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_expression_get_value_type ((BalaExpression*) expr);
		_tmp24_ = _tmp23_;
		_tmp25_ = cexpr;
		_tmp26_ = bala_glib_value_new (_tmp24_, (BalaCCodeExpression*) _tmp25_, FALSE);
		_tmp27_ = _tmp26_;
		bala_ccode_base_module_store_property (self, _tmp19_, _tmp22_, (BalaTargetValue*) _tmp27_);
		_bala_target_value_unref0 (_tmp27_);
		_tmp28_ = bala_postfix_expression_get_inner (expr);
		_tmp29_ = _tmp28_;
		_tmp30_ = bala_expression_get_target_value (_tmp29_);
		_tmp31_ = _tmp30_;
		bala_expression_set_target_value ((BalaExpression*) expr, _tmp31_);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (prop);
		_bala_code_node_unref0 (ma);
		return;
	}
	_tmp32_ = bala_postfix_expression_get_inner (expr);
	_tmp33_ = _tmp32_;
	_tmp34_ = bala_expression_get_target_value (_tmp33_);
	_tmp35_ = _tmp34_;
	_tmp36_ = bala_ccode_base_module_store_temp_value (self, _tmp35_, (BalaCodeNode*) expr, NULL);
	temp_value = _tmp36_;
	_tmp38_ = bala_postfix_expression_get_increment (expr);
	_tmp39_ = _tmp38_;
	if (_tmp39_) {
		_tmp37_ = BALA_CCODE_BINARY_OPERATOR_PLUS;
	} else {
		_tmp37_ = BALA_CCODE_BINARY_OPERATOR_MINUS;
	}
	op = _tmp37_;
	_tmp40_ = op;
	_tmp41_ = temp_value;
	_tmp42_ = bala_get_cvalue_ (_tmp41_);
	_tmp43_ = bala_ccode_constant_new ("1");
	_tmp44_ = _tmp43_;
	_tmp45_ = bala_ccode_binary_expression_new (_tmp40_, _tmp42_, (BalaCCodeExpression*) _tmp44_);
	_tmp46_ = _tmp45_;
	_bala_ccode_node_unref0 (_tmp44_);
	cexpr = _tmp46_;
	_tmp47_ = bala_ccode_base_module_get_ccode (self);
	_tmp48_ = _tmp47_;
	_tmp49_ = bala_postfix_expression_get_inner (expr);
	_tmp50_ = _tmp49_;
	_tmp51_ = bala_get_cvalue (_tmp50_);
	_tmp52_ = cexpr;
	bala_ccode_function_add_assignment (_tmp48_, _tmp51_, (BalaCCodeExpression*) _tmp52_);
	_tmp53_ = temp_value;
	bala_expression_set_target_value ((BalaExpression*) expr, _tmp53_);
	_bala_ccode_node_unref0 (cexpr);
	_bala_target_value_unref0 (temp_value);
	_bala_code_node_unref0 (ma);
}

static BalaMemberAccess*
bala_ccode_base_module_find_property_access (BalaCCodeBaseModule* self,
                                             BalaExpression* expr)
{
	BalaMemberAccess* ma = NULL;
	BalaMemberAccess* _tmp0_;
	BalaMemberAccess* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaMemberAccess* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	if (!G_TYPE_CHECK_INSTANCE_TYPE (expr, BALA_TYPE_MEMBER_ACCESS)) {
		result = NULL;
		return result;
	}
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (expr, BALA_TYPE_MEMBER_ACCESS, BalaMemberAccess));
	ma = _tmp0_;
	_tmp1_ = ma;
	_tmp2_ = bala_expression_get_symbol_reference ((BalaExpression*) _tmp1_);
	_tmp3_ = _tmp2_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_PROPERTY)) {
		result = ma;
		return result;
	}
	result = NULL;
	_bala_code_node_unref0 (ma);
	return result;
}

static gboolean
bala_ccode_base_module_is_limited_generic_type (BalaGenericType* type)
{
	BalaClass* cl = NULL;
	BalaTypeParameter* _tmp0_;
	BalaTypeParameter* _tmp1_;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	BalaStruct* st = NULL;
	BalaTypeParameter* _tmp4_;
	BalaTypeParameter* _tmp5_;
	BalaSymbol* _tmp6_;
	BalaSymbol* _tmp7_;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	BalaClass* _tmp10_;
	gboolean result = FALSE;
	g_return_val_if_fail (type != NULL, FALSE);
	_tmp0_ = bala_generic_type_get_type_parameter (type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp1_);
	_tmp3_ = _tmp2_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp3_) : NULL;
	_tmp4_ = bala_generic_type_get_type_parameter (type);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp5_);
	_tmp7_ = _tmp6_;
	st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp7_) : NULL;
	_tmp10_ = cl;
	if (_tmp10_ != NULL) {
		BalaClass* _tmp11_;
		gboolean _tmp12_;
		gboolean _tmp13_;
		_tmp11_ = cl;
		_tmp12_ = bala_class_get_is_compact (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp9_ = _tmp13_;
	} else {
		_tmp9_ = FALSE;
	}
	if (_tmp9_) {
		_tmp8_ = TRUE;
	} else {
		BalaStruct* _tmp14_;
		_tmp14_ = st;
		_tmp8_ = _tmp14_ != NULL;
	}
	if (_tmp8_) {
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}

gboolean
bala_ccode_base_module_requires_copy (BalaDataType* type)
{
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	BalaClass* _tmp4_;
	gboolean result = FALSE;
	g_return_val_if_fail (type != NULL, FALSE);
	if (!bala_data_type_is_disposable (type)) {
		result = FALSE;
		return result;
	}
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp1_) : NULL;
	_tmp4_ = cl;
	if (_tmp4_ != NULL) {
		BalaClass* _tmp5_;
		_tmp5_ = cl;
		_tmp3_ = bala_is_reference_counting ((BalaTypeSymbol*) _tmp5_);
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		BalaClass* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		_tmp6_ = cl;
		_tmp7_ = bala_get_ccode_ref_function ((BalaTypeSymbol*) _tmp6_);
		_tmp8_ = _tmp7_;
		_tmp2_ = g_strcmp0 (_tmp8_, "") == 0;
		_g_free0 (_tmp8_);
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		result = FALSE;
		return result;
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
		if (bala_ccode_base_module_is_limited_generic_type (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType))) {
			result = FALSE;
			return result;
		}
	}
	result = TRUE;
	return result;
}

gboolean
bala_ccode_base_module_requires_destroy (BalaDataType* type)
{
	BalaArrayType* array_type = NULL;
	BalaArrayType* _tmp0_;
	gboolean _tmp1_ = FALSE;
	BalaArrayType* _tmp2_;
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp9_;
	BalaTypeSymbol* _tmp10_;
	gboolean _tmp11_ = FALSE;
	gboolean _tmp12_ = FALSE;
	BalaClass* _tmp13_;
	gboolean result = FALSE;
	g_return_val_if_fail (type != NULL, FALSE);
	if (!bala_data_type_is_disposable (type)) {
		result = FALSE;
		return result;
	}
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) type) : NULL);
	array_type = _tmp0_;
	_tmp2_ = array_type;
	if (_tmp2_ != NULL) {
		BalaArrayType* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp3_ = array_type;
		_tmp4_ = bala_array_type_get_fixed_length (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp1_ = _tmp5_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		BalaArrayType* _tmp6_;
		BalaDataType* _tmp7_;
		BalaDataType* _tmp8_;
		_tmp6_ = array_type;
		_tmp7_ = bala_array_type_get_element_type (_tmp6_);
		_tmp8_ = _tmp7_;
		result = bala_ccode_base_module_requires_destroy (_tmp8_);
		_bala_code_node_unref0 (array_type);
		return result;
	}
	_tmp9_ = bala_data_type_get_type_symbol (type);
	_tmp10_ = _tmp9_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp10_) : NULL;
	_tmp13_ = cl;
	if (_tmp13_ != NULL) {
		BalaClass* _tmp14_;
		_tmp14_ = cl;
		_tmp12_ = bala_is_reference_counting ((BalaTypeSymbol*) _tmp14_);
	} else {
		_tmp12_ = FALSE;
	}
	if (_tmp12_) {
		BalaClass* _tmp15_;
		gchar* _tmp16_;
		gchar* _tmp17_;
		_tmp15_ = cl;
		_tmp16_ = bala_get_ccode_unref_function ((BalaObjectTypeSymbol*) _tmp15_);
		_tmp17_ = _tmp16_;
		_tmp11_ = g_strcmp0 (_tmp17_, "") == 0;
		_g_free0 (_tmp17_);
	} else {
		_tmp11_ = FALSE;
	}
	if (_tmp11_) {
		result = FALSE;
		_bala_code_node_unref0 (array_type);
		return result;
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
		if (bala_ccode_base_module_is_limited_generic_type (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_GENERIC_TYPE, BalaGenericType))) {
			result = FALSE;
			_bala_code_node_unref0 (array_type);
			return result;
		}
	}
	result = TRUE;
	_bala_code_node_unref0 (array_type);
	return result;
}

static BalaTargetValue*
bala_ccode_base_module_real_copy_value (BalaCCodeBaseModule* self,
                                        BalaTargetValue* value,
                                        BalaCodeNode* node)
{
	BalaDataType* type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDataType* _tmp2_;
	BalaCCodeExpression* cexpr = NULL;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* _tmp4_;
	BalaGLibValue* _result_ = NULL;
	BalaGLibValue* _tmp5_;
	BalaDataType* _tmp6_;
	gboolean _tmp23_ = FALSE;
	BalaDataType* _tmp24_;
	BalaCCodeExpression* dupexpr = NULL;
	BalaDataType* _tmp117_;
	BalaSourceReference* _tmp118_;
	BalaSourceReference* _tmp119_;
	BalaCCodeExpression* _tmp120_;
	BalaCCodeExpression* _tmp121_;
	gboolean _tmp122_ = FALSE;
	gboolean _tmp123_ = FALSE;
	gboolean _tmp124_ = FALSE;
	BalaCCodeExpression* _tmp125_;
	BalaCCodeFunctionCall* ccall = NULL;
	BalaCCodeExpression* _tmp188_;
	BalaCCodeFunctionCall* _tmp189_;
	gboolean _tmp190_ = FALSE;
	gboolean _tmp191_ = FALSE;
	BalaDataType* _tmp192_;
	BalaTargetValue* result = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = bala_target_value_get_value_type (value);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	type = _tmp2_;
	_tmp3_ = bala_get_cvalue_ (value);
	_tmp4_ = _bala_ccode_node_ref0 (_tmp3_);
	cexpr = _tmp4_;
	_tmp5_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (value, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
	_result_ = _tmp5_;
	_tmp6_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALA_TYPE_DELEGATE_TYPE)) {
		BalaDelegateType* delegate_type = NULL;
		BalaDataType* _tmp7_;
		BalaDelegateType* _tmp8_;
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_ = FALSE;
		BalaGLibValue* _tmp21_;
		BalaCCodeConstant* _tmp22_;
		_tmp7_ = type;
		_tmp8_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
		delegate_type = _tmp8_;
		if (bala_get_ccode_delegate_target (node)) {
			BalaDelegateType* _tmp11_;
			BalaDelegate* _tmp12_;
			BalaDelegate* _tmp13_;
			gboolean _tmp14_;
			gboolean _tmp15_;
			_tmp11_ = delegate_type;
			_tmp12_ = bala_delegate_type_get_delegate_symbol (_tmp11_);
			_tmp13_ = _tmp12_;
			_tmp14_ = bala_delegate_get_has_target (_tmp13_);
			_tmp15_ = _tmp14_;
			_tmp10_ = _tmp15_;
		} else {
			_tmp10_ = FALSE;
		}
		if (_tmp10_) {
			BalaCodeContext* _tmp16_;
			gboolean _tmp17_;
			gboolean _tmp18_;
			_tmp16_ = self->priv->_context;
			_tmp17_ = bala_code_context_get_deprecated (_tmp16_);
			_tmp18_ = _tmp17_;
			_tmp9_ = !_tmp18_;
		} else {
			_tmp9_ = FALSE;
		}
		if (_tmp9_) {
			BalaSourceReference* _tmp19_;
			BalaSourceReference* _tmp20_;
			_tmp19_ = bala_code_node_get_source_reference (node);
			_tmp20_ = _tmp19_;
			bala_report_deprecated (_tmp20_, "copying delegates is not supported");
		}
		_tmp21_ = _result_;
		_tmp22_ = bala_ccode_constant_new ("NULL");
		_bala_ccode_node_unref0 (_tmp21_->delegate_target_destroy_notify_cvalue);
		_tmp21_->delegate_target_destroy_notify_cvalue = (BalaCCodeExpression*) _tmp22_;
		result = (BalaTargetValue*) _result_;
		_bala_code_node_unref0 (delegate_type);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp24_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp24_, BALA_TYPE_VALUE_TYPE)) {
		BalaDataType* _tmp25_;
		gboolean _tmp26_;
		gboolean _tmp27_;
		_tmp25_ = type;
		_tmp26_ = bala_data_type_get_nullable (_tmp25_);
		_tmp27_ = _tmp26_;
		_tmp23_ = !_tmp27_;
	} else {
		_tmp23_ = FALSE;
	}
	if (_tmp23_) {
		BalaTargetValue* temp_cvalue = NULL;
		BalaDataType* _tmp28_;
		BalaTargetValue* _tmp29_;
		BalaTargetValue* _tmp30_;
		BalaSourceReference* _tmp31_;
		BalaSourceReference* _tmp32_;
		BalaTargetValue* _tmp33_;
		BalaCCodeExpression* _tmp34_;
		BalaCCodeExpression* _tmp35_;
		BalaTargetValue* temp_value = NULL;
		BalaDataType* _tmp36_;
		gboolean _tmp37_;
		BalaTargetValue* _tmp38_;
		BalaCCodeExpression* ctemp = NULL;
		BalaTargetValue* _tmp39_;
		BalaCCodeExpression* _tmp40_;
		BalaCCodeExpression* _tmp41_;
		BalaValueType* vt = NULL;
		BalaDataType* _tmp42_;
		BalaValueType* _tmp43_;
		BalaStruct* st = NULL;
		BalaValueType* _tmp44_;
		BalaTypeSymbol* _tmp45_;
		BalaTypeSymbol* _tmp46_;
		BalaStruct* _tmp47_;
		BalaCCodeFunctionCall* copy_call = NULL;
		BalaStruct* _tmp48_;
		gchar* _tmp49_;
		gchar* _tmp50_;
		BalaCCodeIdentifier* _tmp51_;
		BalaCCodeIdentifier* _tmp52_;
		BalaCCodeFunctionCall* _tmp53_;
		BalaCCodeFunctionCall* _tmp54_;
		BalaCCodeFunctionCall* _tmp55_;
		BalaCCodeExpression* _tmp56_;
		BalaCCodeUnaryExpression* _tmp57_;
		BalaCCodeUnaryExpression* _tmp58_;
		BalaCCodeFunctionCall* _tmp59_;
		BalaCCodeExpression* _tmp60_;
		BalaCCodeUnaryExpression* _tmp61_;
		BalaCCodeUnaryExpression* _tmp62_;
		BalaStruct* _tmp63_;
		gboolean _tmp65_ = FALSE;
		BalaStruct* _tmp66_;
		_tmp28_ = type;
		_tmp29_ = bala_ccode_base_module_create_temp_value (self, _tmp28_, FALSE, node, NULL);
		temp_cvalue = _tmp29_;
		_tmp30_ = temp_cvalue;
		_tmp31_ = bala_code_node_get_source_reference (node);
		_tmp32_ = _tmp31_;
		bala_ccode_base_module_store_value (self, _tmp30_, value, _tmp32_);
		_tmp33_ = temp_cvalue;
		_tmp34_ = bala_get_cvalue_ (_tmp33_);
		_tmp35_ = _bala_ccode_node_ref0 (_tmp34_);
		_bala_ccode_node_unref0 (cexpr);
		cexpr = _tmp35_;
		_tmp36_ = type;
		_tmp37_ = TRUE;
		_tmp38_ = bala_ccode_base_module_create_temp_value (self, _tmp36_, TRUE, node, &_tmp37_);
		temp_value = _tmp38_;
		_tmp39_ = temp_value;
		_tmp40_ = bala_get_cvalue_ (_tmp39_);
		_tmp41_ = _bala_ccode_node_ref0 (_tmp40_);
		ctemp = _tmp41_;
		_tmp42_ = type;
		_tmp43_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, BALA_TYPE_VALUE_TYPE, BalaValueType));
		vt = _tmp43_;
		_tmp44_ = vt;
		_tmp45_ = bala_data_type_get_type_symbol ((BalaDataType*) _tmp44_);
		_tmp46_ = _tmp45_;
		_tmp47_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp46_, BALA_TYPE_STRUCT, BalaStruct));
		st = _tmp47_;
		_tmp48_ = st;
		_tmp49_ = bala_get_ccode_copy_function ((BalaTypeSymbol*) _tmp48_);
		_tmp50_ = _tmp49_;
		_tmp51_ = bala_ccode_identifier_new (_tmp50_);
		_tmp52_ = _tmp51_;
		_tmp53_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp52_);
		_tmp54_ = _tmp53_;
		_bala_ccode_node_unref0 (_tmp52_);
		_g_free0 (_tmp50_);
		copy_call = _tmp54_;
		_tmp55_ = copy_call;
		_tmp56_ = cexpr;
		_tmp57_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp56_);
		_tmp58_ = _tmp57_;
		bala_ccode_function_call_add_argument (_tmp55_, (BalaCCodeExpression*) _tmp58_);
		_bala_ccode_node_unref0 (_tmp58_);
		_tmp59_ = copy_call;
		_tmp60_ = ctemp;
		_tmp61_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp60_);
		_tmp62_ = _tmp61_;
		bala_ccode_function_call_add_argument (_tmp59_, (BalaCCodeExpression*) _tmp62_);
		_bala_ccode_node_unref0 (_tmp62_);
		_tmp63_ = st;
		if (!bala_get_ccode_has_copy_function (_tmp63_)) {
			BalaStruct* _tmp64_;
			_tmp64_ = st;
			bala_ccode_base_module_generate_struct_copy_function (self, _tmp64_);
		}
		_tmp66_ = self->gvalue_type;
		if (_tmp66_ != NULL) {
			BalaDataType* _tmp67_;
			BalaTypeSymbol* _tmp68_;
			BalaTypeSymbol* _tmp69_;
			BalaStruct* _tmp70_;
			_tmp67_ = type;
			_tmp68_ = bala_data_type_get_type_symbol (_tmp67_);
			_tmp69_ = _tmp68_;
			_tmp70_ = self->gvalue_type;
			_tmp65_ = _tmp69_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp70_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		} else {
			_tmp65_ = FALSE;
		}
		if (_tmp65_) {
			BalaCCodeFunctionCall* cisvalid = NULL;
			BalaCCodeIdentifier* _tmp71_;
			BalaCCodeIdentifier* _tmp72_;
			BalaCCodeFunctionCall* _tmp73_;
			BalaCCodeFunctionCall* _tmp74_;
			BalaCCodeFunctionCall* _tmp75_;
			BalaCCodeExpression* _tmp76_;
			BalaCCodeUnaryExpression* _tmp77_;
			BalaCCodeUnaryExpression* _tmp78_;
			BalaCCodeFunction* _tmp79_;
			BalaCCodeFunction* _tmp80_;
			BalaCCodeFunctionCall* _tmp81_;
			BalaCCodeFunctionCall* value_type_call = NULL;
			BalaCCodeIdentifier* _tmp82_;
			BalaCCodeIdentifier* _tmp83_;
			BalaCCodeFunctionCall* _tmp84_;
			BalaCCodeFunctionCall* _tmp85_;
			BalaCCodeFunctionCall* _tmp86_;
			BalaCCodeExpression* _tmp87_;
			BalaCCodeUnaryExpression* _tmp88_;
			BalaCCodeUnaryExpression* _tmp89_;
			BalaCCodeFunctionCall* init_call = NULL;
			BalaCCodeIdentifier* _tmp90_;
			BalaCCodeIdentifier* _tmp91_;
			BalaCCodeFunctionCall* _tmp92_;
			BalaCCodeFunctionCall* _tmp93_;
			BalaCCodeFunctionCall* _tmp94_;
			BalaCCodeExpression* _tmp95_;
			BalaCCodeUnaryExpression* _tmp96_;
			BalaCCodeUnaryExpression* _tmp97_;
			BalaCCodeFunctionCall* _tmp98_;
			BalaCCodeFunctionCall* _tmp99_;
			BalaCCodeFunction* _tmp100_;
			BalaCCodeFunction* _tmp101_;
			BalaCCodeFunctionCall* _tmp102_;
			BalaCCodeFunction* _tmp103_;
			BalaCCodeFunction* _tmp104_;
			BalaCCodeFunctionCall* _tmp105_;
			BalaCCodeFunction* _tmp106_;
			BalaCCodeFunction* _tmp107_;
			BalaTargetValue* _tmp108_;
			BalaTargetValue* _tmp109_;
			BalaSourceReference* _tmp110_;
			BalaSourceReference* _tmp111_;
			BalaCCodeFunction* _tmp112_;
			BalaCCodeFunction* _tmp113_;
			_tmp71_ = bala_ccode_identifier_new ("G_IS_VALUE");
			_tmp72_ = _tmp71_;
			_tmp73_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp72_);
			_tmp74_ = _tmp73_;
			_bala_ccode_node_unref0 (_tmp72_);
			cisvalid = _tmp74_;
			_tmp75_ = cisvalid;
			_tmp76_ = cexpr;
			_tmp77_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp76_);
			_tmp78_ = _tmp77_;
			bala_ccode_function_call_add_argument (_tmp75_, (BalaCCodeExpression*) _tmp78_);
			_bala_ccode_node_unref0 (_tmp78_);
			_tmp79_ = bala_ccode_base_module_get_ccode (self);
			_tmp80_ = _tmp79_;
			_tmp81_ = cisvalid;
			bala_ccode_function_open_if (_tmp80_, (BalaCCodeExpression*) _tmp81_);
			_tmp82_ = bala_ccode_identifier_new ("G_VALUE_TYPE");
			_tmp83_ = _tmp82_;
			_tmp84_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp83_);
			_tmp85_ = _tmp84_;
			_bala_ccode_node_unref0 (_tmp83_);
			value_type_call = _tmp85_;
			_tmp86_ = value_type_call;
			_tmp87_ = cexpr;
			_tmp88_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp87_);
			_tmp89_ = _tmp88_;
			bala_ccode_function_call_add_argument (_tmp86_, (BalaCCodeExpression*) _tmp89_);
			_bala_ccode_node_unref0 (_tmp89_);
			_tmp90_ = bala_ccode_identifier_new ("g_value_init");
			_tmp91_ = _tmp90_;
			_tmp92_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp91_);
			_tmp93_ = _tmp92_;
			_bala_ccode_node_unref0 (_tmp91_);
			init_call = _tmp93_;
			_tmp94_ = init_call;
			_tmp95_ = ctemp;
			_tmp96_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp95_);
			_tmp97_ = _tmp96_;
			bala_ccode_function_call_add_argument (_tmp94_, (BalaCCodeExpression*) _tmp97_);
			_bala_ccode_node_unref0 (_tmp97_);
			_tmp98_ = init_call;
			_tmp99_ = value_type_call;
			bala_ccode_function_call_add_argument (_tmp98_, (BalaCCodeExpression*) _tmp99_);
			_tmp100_ = bala_ccode_base_module_get_ccode (self);
			_tmp101_ = _tmp100_;
			_tmp102_ = init_call;
			bala_ccode_function_add_expression (_tmp101_, (BalaCCodeExpression*) _tmp102_);
			_tmp103_ = bala_ccode_base_module_get_ccode (self);
			_tmp104_ = _tmp103_;
			_tmp105_ = copy_call;
			bala_ccode_function_add_expression (_tmp104_, (BalaCCodeExpression*) _tmp105_);
			_tmp106_ = bala_ccode_base_module_get_ccode (self);
			_tmp107_ = _tmp106_;
			bala_ccode_function_add_else (_tmp107_);
			_tmp108_ = temp_value;
			_tmp109_ = temp_cvalue;
			_tmp110_ = bala_code_node_get_source_reference (node);
			_tmp111_ = _tmp110_;
			bala_ccode_base_module_store_value (self, _tmp108_, _tmp109_, _tmp111_);
			_tmp112_ = bala_ccode_base_module_get_ccode (self);
			_tmp113_ = _tmp112_;
			bala_ccode_function_close (_tmp113_);
			_bala_ccode_node_unref0 (init_call);
			_bala_ccode_node_unref0 (value_type_call);
			_bala_ccode_node_unref0 (cisvalid);
		} else {
			BalaCCodeFunction* _tmp114_;
			BalaCCodeFunction* _tmp115_;
			BalaCCodeFunctionCall* _tmp116_;
			_tmp114_ = bala_ccode_base_module_get_ccode (self);
			_tmp115_ = _tmp114_;
			_tmp116_ = copy_call;
			bala_ccode_function_add_expression (_tmp115_, (BalaCCodeExpression*) _tmp116_);
		}
		result = temp_value;
		_bala_ccode_node_unref0 (copy_call);
		_bala_code_node_unref0 (st);
		_bala_code_node_unref0 (vt);
		_bala_ccode_node_unref0 (ctemp);
		_bala_target_value_unref0 (temp_cvalue);
		_bala_target_value_unref0 (_result_);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp117_ = type;
	_tmp118_ = bala_code_node_get_source_reference (node);
	_tmp119_ = _tmp118_;
	_tmp120_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp117_, _tmp119_, FALSE);
	dupexpr = _tmp120_;
	_tmp121_ = dupexpr;
	if (_tmp121_ == NULL) {
		bala_code_node_set_error (node, TRUE);
		result = NULL;
		_bala_ccode_node_unref0 (dupexpr);
		_bala_target_value_unref0 (_result_);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp125_ = dupexpr;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp125_, BALA_TYPE_CCODE_IDENTIFIER)) {
		BalaDataType* _tmp126_;
		_tmp126_ = type;
		_tmp124_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp126_, BALA_TYPE_ARRAY_TYPE);
	} else {
		_tmp124_ = FALSE;
	}
	if (_tmp124_) {
		BalaDataType* _tmp127_;
		_tmp127_ = type;
		_tmp123_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp127_, BALA_TYPE_GENERIC_TYPE);
	} else {
		_tmp123_ = FALSE;
	}
	if (_tmp123_) {
		BalaDataType* _tmp128_;
		_tmp128_ = type;
		_tmp122_ = !bala_is_ref_function_void (_tmp128_);
	} else {
		_tmp122_ = FALSE;
	}
	if (_tmp122_) {
		BalaCCodeIdentifier* dupid = NULL;
		BalaCCodeExpression* _tmp129_;
		BalaCCodeIdentifier* _tmp130_;
		gchar* dup0_func = NULL;
		BalaCCodeIdentifier* _tmp131_;
		const gchar* _tmp132_;
		const gchar* _tmp133_;
		gchar* _tmp134_;
		BalaCCodeIdentifier* _tmp135_;
		const gchar* _tmp136_;
		const gchar* _tmp137_;
		BalaCCodeFunctionCall* ccall = NULL;
		const gchar* _tmp173_;
		BalaCCodeIdentifier* _tmp174_;
		BalaCCodeIdentifier* _tmp175_;
		BalaCCodeFunctionCall* _tmp176_;
		BalaCCodeFunctionCall* _tmp177_;
		BalaCCodeFunctionCall* _tmp178_;
		BalaCCodeExpression* _tmp179_;
		BalaGLibValue* _tmp180_;
		BalaCCodeFunctionCall* _tmp181_;
		BalaCCodeExpression* _tmp182_;
		BalaGLibValue* _tmp183_;
		BalaDataType* _tmp184_;
		BalaDataType* _tmp185_;
		BalaGLibValue* _tmp186_;
		BalaTargetValue* _tmp187_;
		_tmp129_ = dupexpr;
		_tmp130_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp129_, BALA_TYPE_CCODE_IDENTIFIER, BalaCCodeIdentifier));
		dupid = _tmp130_;
		_tmp131_ = dupid;
		_tmp132_ = bala_ccode_identifier_get_name (_tmp131_);
		_tmp133_ = _tmp132_;
		_tmp134_ = g_strdup_printf ("_%s0", _tmp133_);
		dup0_func = _tmp134_;
		_tmp135_ = dupid;
		_tmp136_ = bala_ccode_identifier_get_name (_tmp135_);
		_tmp137_ = _tmp136_;
		if (g_strcmp0 (_tmp137_, "g_strdup") == 0) {
			BalaCCodeIdentifier* _tmp138_;
			const gchar* _tmp139_;
			const gchar* _tmp140_;
			gchar* _tmp141_;
			_tmp138_ = dupid;
			_tmp139_ = bala_ccode_identifier_get_name (_tmp138_);
			_tmp140_ = _tmp139_;
			_tmp141_ = g_strdup (_tmp140_);
			_g_free0 (dup0_func);
			dup0_func = _tmp141_;
		} else {
			const gchar* _tmp142_;
			_tmp142_ = dup0_func;
			if (bala_ccode_base_module_add_wrapper (self, _tmp142_)) {
				BalaCCodeFunction* dup0_fun = NULL;
				const gchar* _tmp143_;
				BalaDataType* _tmp144_;
				gchar* _tmp145_;
				gchar* _tmp146_;
				BalaCCodeFunction* _tmp147_;
				BalaCCodeFunction* _tmp148_;
				BalaCCodeFunction* _tmp149_;
				BalaDataType* _tmp150_;
				gchar* _tmp151_;
				gchar* _tmp152_;
				BalaCCodeParameter* _tmp153_;
				BalaCCodeParameter* _tmp154_;
				BalaCCodeFunction* _tmp155_;
				BalaCCodeFunction* _tmp156_;
				BalaCCodeFunctionCall* dup_call = NULL;
				BalaCCodeExpression* _tmp157_;
				BalaCCodeFunctionCall* _tmp158_;
				BalaCCodeFunctionCall* _tmp159_;
				BalaCCodeIdentifier* _tmp160_;
				BalaCCodeIdentifier* _tmp161_;
				BalaCCodeFunction* _tmp162_;
				BalaCCodeFunction* _tmp163_;
				BalaCCodeIdentifier* _tmp164_;
				BalaCCodeIdentifier* _tmp165_;
				BalaCCodeFunctionCall* _tmp166_;
				BalaCCodeConstant* _tmp167_;
				BalaCCodeConstant* _tmp168_;
				BalaCCodeConditionalExpression* _tmp169_;
				BalaCCodeConditionalExpression* _tmp170_;
				BalaCCodeFile* _tmp171_;
				BalaCCodeFunction* _tmp172_;
				_tmp143_ = dup0_func;
				_tmp144_ = self->pointer_type;
				_tmp145_ = bala_get_ccode_name ((BalaCodeNode*) _tmp144_);
				_tmp146_ = _tmp145_;
				_tmp147_ = bala_ccode_function_new (_tmp143_, _tmp146_);
				_tmp148_ = _tmp147_;
				_g_free0 (_tmp146_);
				dup0_fun = _tmp148_;
				_tmp149_ = dup0_fun;
				_tmp150_ = self->pointer_type;
				_tmp151_ = bala_get_ccode_name ((BalaCodeNode*) _tmp150_);
				_tmp152_ = _tmp151_;
				_tmp153_ = bala_ccode_parameter_new ("self", _tmp152_);
				_tmp154_ = _tmp153_;
				bala_ccode_function_add_parameter (_tmp149_, _tmp154_);
				_bala_ccode_node_unref0 (_tmp154_);
				_g_free0 (_tmp152_);
				_tmp155_ = dup0_fun;
				bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp155_, BALA_CCODE_MODIFIERS_STATIC);
				_tmp156_ = dup0_fun;
				bala_ccode_base_module_push_function (self, _tmp156_);
				_tmp157_ = dupexpr;
				_tmp158_ = bala_ccode_function_call_new (_tmp157_);
				dup_call = _tmp158_;
				_tmp159_ = dup_call;
				_tmp160_ = bala_ccode_identifier_new ("self");
				_tmp161_ = _tmp160_;
				bala_ccode_function_call_add_argument (_tmp159_, (BalaCCodeExpression*) _tmp161_);
				_bala_ccode_node_unref0 (_tmp161_);
				_tmp162_ = bala_ccode_base_module_get_ccode (self);
				_tmp163_ = _tmp162_;
				_tmp164_ = bala_ccode_identifier_new ("self");
				_tmp165_ = _tmp164_;
				_tmp166_ = dup_call;
				_tmp167_ = bala_ccode_constant_new ("NULL");
				_tmp168_ = _tmp167_;
				_tmp169_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp165_, (BalaCCodeExpression*) _tmp166_, (BalaCCodeExpression*) _tmp168_);
				_tmp170_ = _tmp169_;
				bala_ccode_function_add_return (_tmp163_, (BalaCCodeExpression*) _tmp170_);
				_bala_ccode_node_unref0 (_tmp170_);
				_bala_ccode_node_unref0 (_tmp168_);
				_bala_ccode_node_unref0 (_tmp165_);
				bala_ccode_base_module_pop_function (self);
				_tmp171_ = self->cfile;
				_tmp172_ = dup0_fun;
				bala_ccode_file_add_function (_tmp171_, _tmp172_);
				_bala_ccode_node_unref0 (dup_call);
				_bala_ccode_node_unref0 (dup0_fun);
			}
		}
		_tmp173_ = dup0_func;
		_tmp174_ = bala_ccode_identifier_new (_tmp173_);
		_tmp175_ = _tmp174_;
		_tmp176_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp175_);
		_tmp177_ = _tmp176_;
		_bala_ccode_node_unref0 (_tmp175_);
		ccall = _tmp177_;
		_tmp178_ = ccall;
		_tmp179_ = cexpr;
		bala_ccode_function_call_add_argument (_tmp178_, _tmp179_);
		_tmp180_ = _result_;
		_tmp181_ = ccall;
		_tmp182_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp181_);
		_bala_ccode_node_unref0 (_tmp180_->cvalue);
		_tmp180_->cvalue = _tmp182_;
		_tmp183_ = _result_;
		_tmp184_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp183_);
		_tmp185_ = _tmp184_;
		bala_data_type_set_value_owned (_tmp185_, TRUE);
		_tmp186_ = _result_;
		_tmp187_ = bala_ccode_base_module_store_temp_value (self, (BalaTargetValue*) _tmp186_, node, NULL);
		result = _tmp187_;
		_bala_ccode_node_unref0 (ccall);
		_g_free0 (dup0_func);
		_bala_ccode_node_unref0 (dupid);
		_bala_ccode_node_unref0 (dupexpr);
		_bala_target_value_unref0 (_result_);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp188_ = dupexpr;
	_tmp189_ = bala_ccode_function_call_new (_tmp188_);
	ccall = _tmp189_;
	_tmp192_ = type;
	if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp192_, BALA_TYPE_ARRAY_TYPE)) {
		_tmp191_ = bala_get_non_null (value);
	} else {
		_tmp191_ = FALSE;
	}
	if (_tmp191_) {
		BalaDataType* _tmp193_;
		_tmp193_ = type;
		_tmp190_ = !bala_is_ref_function_void (_tmp193_);
	} else {
		_tmp190_ = FALSE;
	}
	if (_tmp190_) {
		BalaCCodeFunctionCall* _tmp194_;
		BalaCCodeExpression* _tmp195_;
		BalaDataType* _tmp196_;
		BalaCCodeFunctionCall* _tmp197_;
		BalaGLibValue* _tmp198_;
		BalaGLibValue* _tmp199_;
		BalaTargetValue* _tmp200_;
		BalaTargetValue* _tmp201_;
		_tmp194_ = ccall;
		_tmp195_ = cexpr;
		bala_ccode_function_call_add_argument (_tmp194_, _tmp195_);
		_tmp196_ = type;
		_tmp197_ = ccall;
		_tmp198_ = bala_glib_value_new (_tmp196_, (BalaCCodeExpression*) _tmp197_, FALSE);
		_tmp199_ = _tmp198_;
		_tmp200_ = bala_ccode_base_module_store_temp_value (self, (BalaTargetValue*) _tmp199_, node, NULL);
		_tmp201_ = _tmp200_;
		_bala_target_value_unref0 (_tmp199_);
		result = _tmp201_;
		_bala_ccode_node_unref0 (ccall);
		_bala_ccode_node_unref0 (dupexpr);
		_bala_target_value_unref0 (_result_);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	} else {
		BalaCCodeBinaryExpression* cnotnull = NULL;
		BalaCCodeExpression* _tmp202_;
		BalaCCodeConstant* _tmp203_;
		BalaCCodeConstant* _tmp204_;
		BalaCCodeBinaryExpression* _tmp205_;
		BalaCCodeBinaryExpression* _tmp206_;
		BalaDataType* _tmp207_;
		BalaDataType* _tmp220_;
		BalaDataType* _tmp230_;
		BalaCCodeExpression* cifnull = NULL;
		BalaDataType* _tmp249_;
		BalaTypeSymbol* _tmp250_;
		BalaTypeSymbol* _tmp251_;
		BalaDataType* _tmp258_;
		_tmp202_ = cexpr;
		_tmp203_ = bala_ccode_constant_new ("NULL");
		_tmp204_ = _tmp203_;
		_tmp205_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, _tmp202_, (BalaCCodeExpression*) _tmp204_);
		_tmp206_ = _tmp205_;
		_bala_ccode_node_unref0 (_tmp204_);
		cnotnull = _tmp206_;
		_tmp207_ = type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp207_, BALA_TYPE_GENERIC_TYPE)) {
			BalaCCodeBinaryExpression* cdupnotnull = NULL;
			BalaDataType* _tmp208_;
			BalaSourceReference* _tmp209_;
			BalaSourceReference* _tmp210_;
			BalaCCodeExpression* _tmp211_;
			BalaCCodeExpression* _tmp212_;
			BalaCCodeConstant* _tmp213_;
			BalaCCodeConstant* _tmp214_;
			BalaCCodeBinaryExpression* _tmp215_;
			BalaCCodeBinaryExpression* _tmp216_;
			BalaCCodeBinaryExpression* _tmp217_;
			BalaCCodeBinaryExpression* _tmp218_;
			BalaCCodeBinaryExpression* _tmp219_;
			_tmp208_ = type;
			_tmp209_ = bala_code_node_get_source_reference (node);
			_tmp210_ = _tmp209_;
			_tmp211_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp208_, _tmp210_, FALSE);
			_tmp212_ = _tmp211_;
			_tmp213_ = bala_ccode_constant_new ("NULL");
			_tmp214_ = _tmp213_;
			_tmp215_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, _tmp212_, (BalaCCodeExpression*) _tmp214_);
			_tmp216_ = _tmp215_;
			_bala_ccode_node_unref0 (_tmp214_);
			_bala_ccode_node_unref0 (_tmp212_);
			cdupnotnull = _tmp216_;
			_tmp217_ = cnotnull;
			_tmp218_ = cdupnotnull;
			_tmp219_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_AND, (BalaCCodeExpression*) _tmp217_, (BalaCCodeExpression*) _tmp218_);
			_bala_ccode_node_unref0 (cnotnull);
			cnotnull = _tmp219_;
			_bala_ccode_node_unref0 (cdupnotnull);
		}
		_tmp220_ = type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp220_, BALA_TYPE_GENERIC_TYPE)) {
			BalaCCodeFunctionCall* _tmp221_;
			BalaCCodeExpression* _tmp222_;
			BalaDataType* _tmp223_;
			gchar* _tmp224_;
			gchar* _tmp225_;
			BalaCCodeCastExpression* _tmp226_;
			BalaCCodeCastExpression* _tmp227_;
			_tmp221_ = ccall;
			_tmp222_ = cexpr;
			_tmp223_ = self->pointer_type;
			_tmp224_ = bala_get_ccode_name ((BalaCodeNode*) _tmp223_);
			_tmp225_ = _tmp224_;
			_tmp226_ = bala_ccode_cast_expression_new (_tmp222_, _tmp225_);
			_tmp227_ = _tmp226_;
			bala_ccode_function_call_add_argument (_tmp221_, (BalaCCodeExpression*) _tmp227_);
			_bala_ccode_node_unref0 (_tmp227_);
			_g_free0 (_tmp225_);
		} else {
			BalaCCodeFunctionCall* _tmp228_;
			BalaCCodeExpression* _tmp229_;
			_tmp228_ = ccall;
			_tmp229_ = cexpr;
			bala_ccode_function_call_add_argument (_tmp228_, _tmp229_);
		}
		_tmp230_ = type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp230_, BALA_TYPE_ARRAY_TYPE)) {
			BalaArrayType* array_type = NULL;
			BalaDataType* _tmp231_;
			BalaArrayType* _tmp232_;
			BalaCCodeFunctionCall* _tmp233_;
			BalaCCodeExpression* _tmp234_;
			BalaCCodeExpression* _tmp235_;
			BalaArrayType* _tmp236_;
			BalaDataType* _tmp237_;
			BalaDataType* _tmp238_;
			_tmp231_ = type;
			_tmp232_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp231_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			array_type = _tmp232_;
			_tmp233_ = ccall;
			_tmp234_ = bala_ccode_base_module_get_array_length_cvalue (self, value, -1);
			_tmp235_ = _tmp234_;
			bala_ccode_function_call_add_argument (_tmp233_, _tmp235_);
			_bala_ccode_node_unref0 (_tmp235_);
			_tmp236_ = array_type;
			_tmp237_ = bala_array_type_get_element_type (_tmp236_);
			_tmp238_ = _tmp237_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp238_, BALA_TYPE_GENERIC_TYPE)) {
				BalaCCodeExpression* elem_dupexpr = NULL;
				BalaArrayType* _tmp239_;
				BalaDataType* _tmp240_;
				BalaDataType* _tmp241_;
				BalaSourceReference* _tmp242_;
				BalaSourceReference* _tmp243_;
				BalaCCodeExpression* _tmp244_;
				BalaCCodeExpression* _tmp245_;
				BalaCCodeFunctionCall* _tmp247_;
				BalaCCodeExpression* _tmp248_;
				_tmp239_ = array_type;
				_tmp240_ = bala_array_type_get_element_type (_tmp239_);
				_tmp241_ = _tmp240_;
				_tmp242_ = bala_code_node_get_source_reference (node);
				_tmp243_ = _tmp242_;
				_tmp244_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp241_, _tmp243_, FALSE);
				elem_dupexpr = _tmp244_;
				_tmp245_ = elem_dupexpr;
				if (_tmp245_ == NULL) {
					BalaCCodeConstant* _tmp246_;
					_tmp246_ = bala_ccode_constant_new ("NULL");
					_bala_ccode_node_unref0 (elem_dupexpr);
					elem_dupexpr = (BalaCCodeExpression*) _tmp246_;
				}
				_tmp247_ = ccall;
				_tmp248_ = elem_dupexpr;
				bala_ccode_function_call_add_argument (_tmp247_, _tmp248_);
				_bala_ccode_node_unref0 (elem_dupexpr);
			}
			_bala_code_node_unref0 (array_type);
		}
		_tmp249_ = type;
		_tmp250_ = bala_data_type_get_type_symbol (_tmp249_);
		_tmp251_ = _tmp250_;
		if (_tmp251_ != NULL) {
			BalaCCodeConstant* _tmp252_;
			_tmp252_ = bala_ccode_constant_new ("NULL");
			_bala_ccode_node_unref0 (cifnull);
			cifnull = (BalaCCodeExpression*) _tmp252_;
		} else {
			BalaCCodeExpression* _tmp253_;
			BalaDataType* _tmp254_;
			gchar* _tmp255_;
			gchar* _tmp256_;
			BalaCCodeCastExpression* _tmp257_;
			_tmp253_ = cexpr;
			_tmp254_ = self->pointer_type;
			_tmp255_ = bala_get_ccode_name ((BalaCodeNode*) _tmp254_);
			_tmp256_ = _tmp255_;
			_tmp257_ = bala_ccode_cast_expression_new (_tmp253_, _tmp256_);
			_bala_ccode_node_unref0 (cifnull);
			cifnull = (BalaCCodeExpression*) _tmp257_;
			_g_free0 (_tmp256_);
		}
		_tmp258_ = type;
		if (bala_is_ref_function_void (_tmp258_)) {
			BalaCCodeFunction* _tmp259_;
			BalaCCodeFunction* _tmp260_;
			BalaCCodeBinaryExpression* _tmp261_;
			BalaCCodeFunction* _tmp262_;
			BalaCCodeFunction* _tmp263_;
			BalaCCodeFunctionCall* _tmp264_;
			BalaCCodeFunction* _tmp265_;
			BalaCCodeFunction* _tmp266_;
			_tmp259_ = bala_ccode_base_module_get_ccode (self);
			_tmp260_ = _tmp259_;
			_tmp261_ = cnotnull;
			bala_ccode_function_open_if (_tmp260_, (BalaCCodeExpression*) _tmp261_);
			_tmp262_ = bala_ccode_base_module_get_ccode (self);
			_tmp263_ = _tmp262_;
			_tmp264_ = ccall;
			bala_ccode_function_add_expression (_tmp263_, (BalaCCodeExpression*) _tmp264_);
			_tmp265_ = bala_ccode_base_module_get_ccode (self);
			_tmp266_ = _tmp265_;
			bala_ccode_function_close (_tmp266_);
		} else {
			BalaGLibValue* _tmp277_;
			gboolean _tmp278_;
			BalaTargetValue* _tmp279_;
			if (bala_get_non_null (value)) {
				BalaGLibValue* _tmp267_;
				BalaCCodeFunctionCall* _tmp268_;
				BalaCCodeExpression* _tmp269_;
				_tmp267_ = _result_;
				_tmp268_ = ccall;
				_tmp269_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp268_);
				_bala_ccode_node_unref0 (_tmp267_->cvalue);
				_tmp267_->cvalue = _tmp269_;
			} else {
				BalaCCodeConditionalExpression* ccond = NULL;
				BalaCCodeBinaryExpression* _tmp270_;
				BalaCCodeFunctionCall* _tmp271_;
				BalaCCodeExpression* _tmp272_;
				BalaCCodeConditionalExpression* _tmp273_;
				BalaGLibValue* _tmp274_;
				BalaCCodeConditionalExpression* _tmp275_;
				BalaCCodeExpression* _tmp276_;
				_tmp270_ = cnotnull;
				_tmp271_ = ccall;
				_tmp272_ = cifnull;
				_tmp273_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp270_, (BalaCCodeExpression*) _tmp271_, _tmp272_);
				ccond = _tmp273_;
				_tmp274_ = _result_;
				_tmp275_ = ccond;
				_tmp276_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp275_);
				_bala_ccode_node_unref0 (_tmp274_->cvalue);
				_tmp274_->cvalue = _tmp276_;
				_bala_ccode_node_unref0 (ccond);
			}
			_tmp277_ = _result_;
			_tmp278_ = TRUE;
			_tmp279_ = bala_ccode_base_module_store_temp_value (self, (BalaTargetValue*) _tmp277_, node, &_tmp278_);
			_bala_target_value_unref0 (_result_);
			_result_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp279_, BALA_TYPE_GLIB_VALUE, BalaGLibValue);
		}
		result = (BalaTargetValue*) _result_;
		_bala_ccode_node_unref0 (cifnull);
		_bala_ccode_node_unref0 (cnotnull);
		_bala_ccode_node_unref0 (ccall);
		_bala_ccode_node_unref0 (dupexpr);
		_bala_ccode_node_unref0 (cexpr);
		_bala_code_node_unref0 (type);
		return result;
	}
	_bala_ccode_node_unref0 (ccall);
	_bala_ccode_node_unref0 (dupexpr);
	_bala_target_value_unref0 (_result_);
	_bala_ccode_node_unref0 (cexpr);
	_bala_code_node_unref0 (type);
}

BalaTargetValue*
bala_ccode_base_module_copy_value (BalaCCodeBaseModule* self,
                                   BalaTargetValue* value,
                                   BalaCodeNode* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->copy_value (self, value, node);
}

static void
bala_ccode_base_module_real_generate_class_declaration (BalaCCodeBaseModule* self,
                                                        BalaClass* cl,
                                                        BalaCCodeFile* decl_space)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	g_return_if_fail (cl != NULL);
	g_return_if_fail (decl_space != NULL);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) cl);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_base_module_add_symbol_declaration (self, decl_space, (BalaSymbol*) cl, _tmp1_);
	_g_free0 (_tmp1_);
	if (_tmp2_) {
		return;
	}
}

void
bala_ccode_base_module_generate_class_declaration (BalaCCodeBaseModule* self,
                                                   BalaClass* cl,
                                                   BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_class_declaration (self, cl, decl_space);
}

static void
bala_ccode_base_module_real_generate_interface_declaration (BalaCCodeBaseModule* self,
                                                            BalaInterface* iface,
                                                            BalaCCodeFile* decl_space)
{
	g_return_if_fail (iface != NULL);
	g_return_if_fail (decl_space != NULL);
}

void
bala_ccode_base_module_generate_interface_declaration (BalaCCodeBaseModule* self,
                                                       BalaInterface* iface,
                                                       BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_interface_declaration (self, iface, decl_space);
}

static gboolean
bala_ccode_base_module_real_generate_method_declaration (BalaCCodeBaseModule* self,
                                                         BalaMethod* m,
                                                         BalaCCodeFile* decl_space)
{
	gboolean result = FALSE;
	g_return_val_if_fail (m != NULL, FALSE);
	g_return_val_if_fail (decl_space != NULL, FALSE);
	result = FALSE;
	return result;
}

gboolean
bala_ccode_base_module_generate_method_declaration (BalaCCodeBaseModule* self,
                                                    BalaMethod* m,
                                                    BalaCCodeFile* decl_space)
{
	g_return_val_if_fail (self != NULL, FALSE);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_method_declaration (self, m, decl_space);
}

static void
bala_ccode_base_module_real_generate_error_domain_declaration (BalaCCodeBaseModule* self,
                                                               BalaErrorDomain* edomain,
                                                               BalaCCodeFile* decl_space)
{
	g_return_if_fail (edomain != NULL);
	g_return_if_fail (decl_space != NULL);
}

void
bala_ccode_base_module_generate_error_domain_declaration (BalaCCodeBaseModule* self,
                                                          BalaErrorDomain* edomain,
                                                          BalaCCodeFile* decl_space)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_error_domain_declaration (self, edomain, decl_space);
}

void
bala_ccode_base_module_add_generic_type_arguments (BalaCCodeBaseModule* self,
                                                   BalaMap* arg_map,
                                                   BalaList* type_args,
                                                   BalaCodeNode* expr,
                                                   gboolean is_chainup,
                                                   BalaList* type_parameters)
{
	gint type_param_index = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (arg_map != NULL);
	g_return_if_fail (type_args != NULL);
	g_return_if_fail (expr != NULL);
	type_param_index = 0;
	{
		BalaList* _type_arg_list = NULL;
		BalaList* _tmp0_;
		gint _type_arg_size = 0;
		BalaList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _type_arg_index = 0;
		_tmp0_ = _bala_iterable_ref0 (type_args);
		_type_arg_list = _tmp0_;
		_tmp1_ = _type_arg_list;
		_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		_type_arg_size = _tmp3_;
		_type_arg_index = -1;
		while (TRUE) {
			gint _tmp4_;
			gint _tmp5_;
			BalaDataType* type_arg = NULL;
			BalaList* _tmp6_;
			gpointer _tmp7_;
			BalaDataType* _tmp31_;
			BalaCCodeExpression* _tmp32_;
			BalaCCodeExpression* _tmp33_;
			BalaDataType* _tmp34_;
			gint _tmp53_;
			_type_arg_index = _type_arg_index + 1;
			_tmp4_ = _type_arg_index;
			_tmp5_ = _type_arg_size;
			if (!(_tmp4_ < _tmp5_)) {
				break;
			}
			_tmp6_ = _type_arg_list;
			_tmp7_ = bala_list_get (_tmp6_, _type_arg_index);
			type_arg = (BalaDataType*) _tmp7_;
			if (type_parameters != NULL) {
				gchar* type_param_name = NULL;
				gpointer _tmp8_;
				BalaTypeParameter* _tmp9_;
				const gchar* _tmp10_;
				const gchar* _tmp11_;
				gchar* _tmp12_;
				gchar* _tmp13_;
				gchar* _tmp14_;
				gchar* _tmp15_;
				const gchar* _tmp16_;
				gchar* _tmp17_;
				gchar* _tmp18_;
				BalaCCodeConstant* _tmp19_;
				BalaCCodeConstant* _tmp20_;
				const gchar* _tmp21_;
				gchar* _tmp22_;
				gchar* _tmp23_;
				BalaCCodeConstant* _tmp24_;
				BalaCCodeConstant* _tmp25_;
				const gchar* _tmp26_;
				gchar* _tmp27_;
				gchar* _tmp28_;
				BalaCCodeConstant* _tmp29_;
				BalaCCodeConstant* _tmp30_;
				_tmp8_ = bala_list_get (type_parameters, type_param_index);
				_tmp9_ = (BalaTypeParameter*) _tmp8_;
				_tmp10_ = bala_symbol_get_name ((BalaSymbol*) _tmp9_);
				_tmp11_ = _tmp10_;
				_tmp12_ = g_ascii_strdown (_tmp11_, (gssize) -1);
				_tmp13_ = _tmp12_;
				_tmp14_ = string_replace (_tmp13_, "_", "-");
				_tmp15_ = _tmp14_;
				_g_free0 (_tmp13_);
				_bala_code_node_unref0 (_tmp9_);
				type_param_name = _tmp15_;
				_tmp16_ = type_param_name;
				_tmp17_ = g_strdup_printf ("\"%s-type\"", _tmp16_);
				_tmp18_ = _tmp17_;
				_tmp19_ = bala_ccode_constant_new (_tmp18_);
				_tmp20_ = _tmp19_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.01, FALSE)), (BalaCCodeExpression*) _tmp20_);
				_bala_ccode_node_unref0 (_tmp20_);
				_g_free0 (_tmp18_);
				_tmp21_ = type_param_name;
				_tmp22_ = g_strdup_printf ("\"%s-dup-func\"", _tmp21_);
				_tmp23_ = _tmp22_;
				_tmp24_ = bala_ccode_constant_new (_tmp23_);
				_tmp25_ = _tmp24_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.03, FALSE)), (BalaCCodeExpression*) _tmp25_);
				_bala_ccode_node_unref0 (_tmp25_);
				_g_free0 (_tmp23_);
				_tmp26_ = type_param_name;
				_tmp27_ = g_strdup_printf ("\"%s-destroy-func\"", _tmp26_);
				_tmp28_ = _tmp27_;
				_tmp29_ = bala_ccode_constant_new (_tmp28_);
				_tmp30_ = _tmp29_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.05, FALSE)), (BalaCCodeExpression*) _tmp30_);
				_bala_ccode_node_unref0 (_tmp30_);
				_g_free0 (_tmp28_);
				_g_free0 (type_param_name);
			}
			_tmp31_ = type_arg;
			_tmp32_ = bala_ccode_base_module_get_type_id_expression (self, _tmp31_, is_chainup);
			_tmp33_ = _tmp32_;
			bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.02, FALSE)), _tmp33_);
			_bala_ccode_node_unref0 (_tmp33_);
			_tmp34_ = type_arg;
			if (bala_ccode_base_module_requires_copy (_tmp34_)) {
				BalaCCodeExpression* dup_func = NULL;
				BalaDataType* _tmp35_;
				BalaDataType* _tmp36_;
				BalaSourceReference* _tmp37_;
				BalaSourceReference* _tmp38_;
				BalaCCodeExpression* _tmp39_;
				BalaCCodeExpression* _tmp40_;
				BalaCCodeExpression* _tmp41_;
				BalaCCodeCastExpression* _tmp42_;
				BalaCCodeCastExpression* _tmp43_;
				BalaDataType* _tmp44_;
				BalaCCodeExpression* _tmp45_;
				BalaCCodeExpression* _tmp46_;
				BalaCCodeCastExpression* _tmp47_;
				BalaCCodeCastExpression* _tmp48_;
				_tmp35_ = type_arg;
				_tmp36_ = type_arg;
				_tmp37_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp36_);
				_tmp38_ = _tmp37_;
				_tmp39_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp35_, _tmp38_, is_chainup);
				dup_func = _tmp39_;
				_tmp40_ = dup_func;
				if (_tmp40_ == NULL) {
					bala_code_node_set_error (expr, TRUE);
					_bala_ccode_node_unref0 (dup_func);
					_bala_code_node_unref0 (type_arg);
					_bala_iterable_unref0 (_type_arg_list);
					return;
				}
				_tmp41_ = dup_func;
				_tmp42_ = bala_ccode_cast_expression_new (_tmp41_, "GBoxedCopyFunc");
				_tmp43_ = _tmp42_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.04, FALSE)), (BalaCCodeExpression*) _tmp43_);
				_bala_ccode_node_unref0 (_tmp43_);
				_tmp44_ = type_arg;
				_tmp45_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp44_, is_chainup);
				_tmp46_ = _tmp45_;
				_tmp47_ = bala_ccode_cast_expression_new (_tmp46_, "GDestroyNotify");
				_tmp48_ = _tmp47_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.06, FALSE)), (BalaCCodeExpression*) _tmp48_);
				_bala_ccode_node_unref0 (_tmp48_);
				_bala_ccode_node_unref0 (_tmp46_);
				_bala_ccode_node_unref0 (dup_func);
			} else {
				BalaCCodeConstant* _tmp49_;
				BalaCCodeConstant* _tmp50_;
				BalaCCodeConstant* _tmp51_;
				BalaCCodeConstant* _tmp52_;
				_tmp49_ = bala_ccode_constant_new ("NULL");
				_tmp50_ = _tmp49_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.04, FALSE)), (BalaCCodeExpression*) _tmp50_);
				_bala_ccode_node_unref0 (_tmp50_);
				_tmp51_ = bala_ccode_constant_new ("NULL");
				_tmp52_ = _tmp51_;
				bala_map_set (arg_map, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (0.1 * type_param_index) + 0.06, FALSE)), (BalaCCodeExpression*) _tmp52_);
				_bala_ccode_node_unref0 (_tmp52_);
			}
			_tmp53_ = type_param_index;
			type_param_index = _tmp53_ + 1;
			_bala_code_node_unref0 (type_arg);
		}
		_bala_iterable_unref0 (_type_arg_list);
	}
}

static gpointer
_bala_map_ref0 (gpointer self)
{
	return self ? bala_map_ref (self) : NULL;
}

static void
bala_ccode_base_module_real_visit_object_creation_expression (BalaCodeVisitor* base,
                                                              BalaObjectCreationExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaCCodeExpression* instance = NULL;
	BalaCCodeExpression* creation_expr = NULL;
	BalaStruct* st = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	BalaStruct* _tmp6_;
	BalaSymbol* _tmp134_;
	BalaSymbol* _tmp135_;
	BalaLocalVariable* local = NULL;
	BalaCodeNode* _tmp645_;
	BalaCodeNode* _tmp646_;
	BalaLocalVariable* _tmp647_;
	gboolean _tmp648_ = FALSE;
	BalaLocalVariable* _tmp649_;
	BalaTargetValue* _tmp884_;
	BalaTargetValue* _tmp885_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	instance = NULL;
	creation_expr = NULL;
	_tmp0_ = bala_object_creation_expression_get_type_reference (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (_tmp1_);
	_tmp3_ = _tmp2_;
	st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp3_) : NULL;
	_tmp6_ = st;
	if (_tmp6_ != NULL) {
		gboolean _tmp7_ = FALSE;
		BalaStruct* _tmp8_;
		_tmp8_ = st;
		if (!bala_struct_is_simple_type (_tmp8_)) {
			_tmp7_ = TRUE;
		} else {
			BalaStruct* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			_tmp9_ = st;
			_tmp10_ = bala_get_ccode_name ((BalaCodeNode*) _tmp9_);
			_tmp11_ = _tmp10_;
			_tmp7_ = g_strcmp0 (_tmp11_, "va_list") == 0;
			_g_free0 (_tmp11_);
		}
		_tmp5_ = _tmp7_;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		_tmp4_ = TRUE;
	} else {
		BalaList* _tmp12_;
		gint _tmp13_;
		gint _tmp14_;
		_tmp12_ = bala_object_creation_expression_get_object_initializer (expr);
		_tmp13_ = bala_collection_get_size ((BalaCollection*) _tmp12_);
		_tmp14_ = _tmp13_;
		_tmp4_ = _tmp14_ > 0;
	}
	if (_tmp4_) {
		BalaLocalVariable* local = NULL;
		BalaCodeNode* _tmp15_;
		BalaCodeNode* _tmp16_;
		BalaLocalVariable* _tmp17_;
		BalaField* field = NULL;
		BalaCodeNode* _tmp18_;
		BalaCodeNode* _tmp19_;
		BalaField* _tmp20_;
		BalaAssignment* a = NULL;
		BalaCodeNode* _tmp21_;
		BalaCodeNode* _tmp22_;
		BalaAssignment* _tmp23_;
		gboolean _tmp24_ = FALSE;
		BalaLocalVariable* _tmp25_;
		_tmp15_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
		_tmp16_ = _tmp15_;
		_tmp17_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp16_, BALA_TYPE_LOCAL_VARIABLE) ? ((BalaLocalVariable*) _tmp16_) : NULL);
		local = _tmp17_;
		_tmp18_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
		_tmp19_ = _tmp18_;
		_tmp20_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, BALA_TYPE_FIELD) ? ((BalaField*) _tmp19_) : NULL);
		field = _tmp20_;
		_tmp21_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
		_tmp22_ = _tmp21_;
		_tmp23_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp22_, BALA_TYPE_ASSIGNMENT) ? ((BalaAssignment*) _tmp22_) : NULL);
		a = _tmp23_;
		_tmp25_ = local;
		if (_tmp25_ != NULL) {
			BalaLocalVariable* _tmp26_;
			BalaLocalVariable* _tmp27_;
			BalaExpression* _tmp28_;
			BalaExpression* _tmp29_;
			_tmp26_ = local;
			_tmp27_ = local;
			_tmp28_ = bala_variable_get_initializer ((BalaVariable*) _tmp27_);
			_tmp29_ = _tmp28_;
			_tmp24_ = bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) _tmp26_, _tmp29_);
		} else {
			_tmp24_ = FALSE;
		}
		if (_tmp24_) {
			BalaLocalVariable* _tmp30_;
			BalaTargetValue* _tmp31_;
			BalaTargetValue* _tmp32_;
			BalaCCodeExpression* _tmp33_;
			BalaCCodeExpression* _tmp34_;
			_tmp30_ = local;
			_tmp31_ = bala_ccode_base_module_get_local_cvalue (self, _tmp30_);
			_tmp32_ = _tmp31_;
			_tmp33_ = bala_get_cvalue_ (_tmp32_);
			_tmp34_ = _bala_ccode_node_ref0 (_tmp33_);
			_bala_ccode_node_unref0 (instance);
			instance = _tmp34_;
			_bala_target_value_unref0 (_tmp32_);
		} else {
			gboolean _tmp35_ = FALSE;
			BalaField* _tmp36_;
			_tmp36_ = field;
			if (_tmp36_ != NULL) {
				BalaField* _tmp37_;
				BalaField* _tmp38_;
				BalaExpression* _tmp39_;
				BalaExpression* _tmp40_;
				_tmp37_ = field;
				_tmp38_ = field;
				_tmp39_ = bala_variable_get_initializer ((BalaVariable*) _tmp38_);
				_tmp40_ = _tmp39_;
				_tmp35_ = bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) _tmp37_, _tmp40_);
			} else {
				_tmp35_ = FALSE;
			}
			if (_tmp35_) {
				BalaTargetValue* thisparam = NULL;
				BalaField* _tmp41_;
				BalaSymbol* _tmp42_;
				BalaSymbol* _tmp43_;
				BalaTargetValue* _tmp44_;
				BalaField* _tmp45_;
				BalaTargetValue* _tmp46_;
				BalaTargetValue* _tmp47_;
				BalaTargetValue* _tmp48_;
				BalaCCodeExpression* _tmp49_;
				BalaCCodeExpression* _tmp50_;
				_tmp41_ = field;
				_tmp42_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp41_);
				_tmp43_ = _tmp42_;
				_tmp44_ = bala_ccode_base_module_load_this_parameter (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp43_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
				thisparam = _tmp44_;
				_tmp45_ = field;
				_tmp46_ = thisparam;
				_tmp47_ = bala_ccode_base_module_get_field_cvalue (self, _tmp45_, _tmp46_);
				_tmp48_ = _tmp47_;
				_tmp49_ = bala_get_cvalue_ (_tmp48_);
				_tmp50_ = _bala_ccode_node_ref0 (_tmp49_);
				_bala_ccode_node_unref0 (instance);
				instance = _tmp50_;
				_bala_target_value_unref0 (_tmp48_);
				_bala_target_value_unref0 (thisparam);
			} else {
				gboolean _tmp51_ = FALSE;
				gboolean _tmp52_ = FALSE;
				BalaAssignment* _tmp53_;
				_tmp53_ = a;
				if (_tmp53_ != NULL) {
					BalaAssignment* _tmp54_;
					BalaExpression* _tmp55_;
					BalaExpression* _tmp56_;
					BalaSymbol* _tmp57_;
					BalaSymbol* _tmp58_;
					_tmp54_ = a;
					_tmp55_ = bala_assignment_get_left (_tmp54_);
					_tmp56_ = _tmp55_;
					_tmp57_ = bala_expression_get_symbol_reference (_tmp56_);
					_tmp58_ = _tmp57_;
					_tmp52_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp58_, BALA_TYPE_VARIABLE);
				} else {
					_tmp52_ = FALSE;
				}
				if (_tmp52_) {
					BalaAssignment* _tmp59_;
					BalaExpression* _tmp60_;
					BalaExpression* _tmp61_;
					BalaSymbol* _tmp62_;
					BalaSymbol* _tmp63_;
					BalaAssignment* _tmp64_;
					BalaExpression* _tmp65_;
					BalaExpression* _tmp66_;
					_tmp59_ = a;
					_tmp60_ = bala_assignment_get_left (_tmp59_);
					_tmp61_ = _tmp60_;
					_tmp62_ = bala_expression_get_symbol_reference (_tmp61_);
					_tmp63_ = _tmp62_;
					_tmp64_ = a;
					_tmp65_ = bala_assignment_get_right (_tmp64_);
					_tmp66_ = _tmp65_;
					_tmp51_ = bala_ccode_base_module_is_simple_struct_creation (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp63_, BALA_TYPE_VARIABLE, BalaVariable), _tmp66_);
				} else {
					_tmp51_ = FALSE;
				}
				if (_tmp51_) {
					BalaAssignment* _tmp67_;
					BalaExpression* _tmp68_;
					BalaExpression* _tmp69_;
					BalaDataType* _tmp70_;
					BalaDataType* _tmp71_;
					BalaAssignment* _tmp81_;
					BalaExpression* _tmp82_;
					BalaExpression* _tmp83_;
					BalaSymbol* _tmp84_;
					BalaSymbol* _tmp85_;
					BalaLocalVariable* _tmp86_;
					BalaAssignment* _tmp87_;
					BalaExpression* _tmp88_;
					BalaExpression* _tmp89_;
					BalaSymbol* _tmp90_;
					BalaSymbol* _tmp91_;
					BalaField* _tmp92_;
					BalaParameter* param = NULL;
					BalaAssignment* _tmp93_;
					BalaExpression* _tmp94_;
					BalaExpression* _tmp95_;
					BalaSymbol* _tmp96_;
					BalaSymbol* _tmp97_;
					BalaParameter* _tmp98_;
					BalaLocalVariable* _tmp99_;
					_tmp67_ = a;
					_tmp68_ = bala_assignment_get_left (_tmp67_);
					_tmp69_ = _tmp68_;
					_tmp70_ = bala_expression_get_value_type (_tmp69_);
					_tmp71_ = _tmp70_;
					if (bala_ccode_base_module_requires_destroy (_tmp71_)) {
						BalaCCodeFunction* _tmp72_;
						BalaCCodeFunction* _tmp73_;
						BalaAssignment* _tmp74_;
						BalaExpression* _tmp75_;
						BalaExpression* _tmp76_;
						BalaTargetValue* _tmp77_;
						BalaTargetValue* _tmp78_;
						BalaCCodeExpression* _tmp79_;
						BalaCCodeExpression* _tmp80_;
						_tmp72_ = bala_ccode_base_module_get_ccode (self);
						_tmp73_ = _tmp72_;
						_tmp74_ = a;
						_tmp75_ = bala_assignment_get_left (_tmp74_);
						_tmp76_ = _tmp75_;
						_tmp77_ = bala_expression_get_target_value (_tmp76_);
						_tmp78_ = _tmp77_;
						_tmp79_ = bala_ccode_base_module_destroy_value (self, _tmp78_, FALSE);
						_tmp80_ = _tmp79_;
						bala_ccode_function_add_expression (_tmp73_, _tmp80_);
						_bala_ccode_node_unref0 (_tmp80_);
					}
					_tmp81_ = a;
					_tmp82_ = bala_assignment_get_left (_tmp81_);
					_tmp83_ = _tmp82_;
					_tmp84_ = bala_expression_get_symbol_reference (_tmp83_);
					_tmp85_ = _tmp84_;
					_tmp86_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp85_, BALA_TYPE_LOCAL_VARIABLE) ? ((BalaLocalVariable*) _tmp85_) : NULL);
					_bala_code_node_unref0 (local);
					local = _tmp86_;
					_tmp87_ = a;
					_tmp88_ = bala_assignment_get_left (_tmp87_);
					_tmp89_ = _tmp88_;
					_tmp90_ = bala_expression_get_symbol_reference (_tmp89_);
					_tmp91_ = _tmp90_;
					_tmp92_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp91_, BALA_TYPE_FIELD) ? ((BalaField*) _tmp91_) : NULL);
					_bala_code_node_unref0 (field);
					field = _tmp92_;
					_tmp93_ = a;
					_tmp94_ = bala_assignment_get_left (_tmp93_);
					_tmp95_ = _tmp94_;
					_tmp96_ = bala_expression_get_symbol_reference (_tmp95_);
					_tmp97_ = _tmp96_;
					_tmp98_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp97_, BALA_TYPE_PARAMETER) ? ((BalaParameter*) _tmp97_) : NULL);
					param = _tmp98_;
					_tmp99_ = local;
					if (_tmp99_ != NULL) {
						BalaLocalVariable* _tmp100_;
						BalaTargetValue* _tmp101_;
						BalaTargetValue* _tmp102_;
						BalaCCodeExpression* _tmp103_;
						BalaCCodeExpression* _tmp104_;
						_tmp100_ = local;
						_tmp101_ = bala_ccode_base_module_get_local_cvalue (self, _tmp100_);
						_tmp102_ = _tmp101_;
						_tmp103_ = bala_get_cvalue_ (_tmp102_);
						_tmp104_ = _bala_ccode_node_ref0 (_tmp103_);
						_bala_ccode_node_unref0 (instance);
						instance = _tmp104_;
						_bala_target_value_unref0 (_tmp102_);
					} else {
						BalaField* _tmp105_;
						_tmp105_ = field;
						if (_tmp105_ != NULL) {
							BalaExpression* inner = NULL;
							BalaAssignment* _tmp106_;
							BalaExpression* _tmp107_;
							BalaExpression* _tmp108_;
							BalaExpression* _tmp109_;
							BalaExpression* _tmp110_;
							BalaExpression* _tmp111_;
							BalaTargetValue* _tmp112_ = NULL;
							BalaExpression* _tmp113_;
							BalaField* _tmp117_;
							BalaTargetValue* _tmp118_;
							BalaTargetValue* _tmp119_;
							BalaCCodeExpression* _tmp120_;
							BalaCCodeExpression* _tmp121_;
							_tmp106_ = a;
							_tmp107_ = bala_assignment_get_left (_tmp106_);
							_tmp108_ = _tmp107_;
							_tmp109_ = bala_member_access_get_inner (G_TYPE_CHECK_INSTANCE_CAST (_tmp108_, BALA_TYPE_MEMBER_ACCESS, BalaMemberAccess));
							_tmp110_ = _tmp109_;
							_tmp111_ = _bala_code_node_ref0 (_tmp110_);
							inner = _tmp111_;
							_tmp113_ = inner;
							if (_tmp113_ != NULL) {
								BalaExpression* _tmp114_;
								BalaTargetValue* _tmp115_;
								BalaTargetValue* _tmp116_;
								_tmp114_ = inner;
								_tmp115_ = bala_expression_get_target_value (_tmp114_);
								_tmp116_ = _tmp115_;
								_tmp112_ = _tmp116_;
							} else {
								_tmp112_ = NULL;
							}
							_tmp117_ = field;
							_tmp118_ = bala_ccode_base_module_get_field_cvalue (self, _tmp117_, _tmp112_);
							_tmp119_ = _tmp118_;
							_tmp120_ = bala_get_cvalue_ (_tmp119_);
							_tmp121_ = _bala_ccode_node_ref0 (_tmp120_);
							_bala_ccode_node_unref0 (instance);
							instance = _tmp121_;
							_bala_target_value_unref0 (_tmp119_);
							_bala_code_node_unref0 (inner);
						} else {
							BalaParameter* _tmp122_;
							_tmp122_ = param;
							if (_tmp122_ != NULL) {
								BalaParameter* _tmp123_;
								BalaTargetValue* _tmp124_;
								BalaTargetValue* _tmp125_;
								BalaCCodeExpression* _tmp126_;
								BalaCCodeExpression* _tmp127_;
								_tmp123_ = param;
								_tmp124_ = bala_ccode_base_module_get_parameter_cvalue (self, _tmp123_);
								_tmp125_ = _tmp124_;
								_tmp126_ = bala_get_cvalue_ (_tmp125_);
								_tmp127_ = _bala_ccode_node_ref0 (_tmp126_);
								_bala_ccode_node_unref0 (instance);
								instance = _tmp127_;
								_bala_target_value_unref0 (_tmp125_);
							}
						}
					}
					_bala_code_node_unref0 (param);
				} else {
					BalaTargetValue* temp_value = NULL;
					BalaDataType* _tmp128_;
					BalaDataType* _tmp129_;
					BalaTargetValue* _tmp130_;
					BalaTargetValue* _tmp131_;
					BalaCCodeExpression* _tmp132_;
					BalaCCodeExpression* _tmp133_;
					_tmp128_ = bala_object_creation_expression_get_type_reference (expr);
					_tmp129_ = _tmp128_;
					_tmp130_ = bala_ccode_base_module_create_temp_value (self, _tmp129_, TRUE, (BalaCodeNode*) expr, NULL);
					temp_value = _tmp130_;
					_tmp131_ = temp_value;
					_tmp132_ = bala_get_cvalue_ (_tmp131_);
					_tmp133_ = _bala_ccode_node_ref0 (_tmp132_);
					_bala_ccode_node_unref0 (instance);
					instance = _tmp133_;
					_bala_target_value_unref0 (temp_value);
				}
			}
		}
		_bala_code_node_unref0 (a);
		_bala_code_node_unref0 (field);
		_bala_code_node_unref0 (local);
	}
	_tmp134_ = bala_expression_get_symbol_reference ((BalaExpression*) expr);
	_tmp135_ = _tmp134_;
	if (_tmp135_ == NULL) {
		BalaDataType* _tmp136_;
		BalaDataType* _tmp137_;
		BalaTypeSymbol* _tmp138_;
		BalaTypeSymbol* _tmp139_;
		_tmp136_ = bala_object_creation_expression_get_type_reference (expr);
		_tmp137_ = _tmp136_;
		_tmp138_ = bala_data_type_get_type_symbol (_tmp137_);
		_tmp139_ = _tmp138_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp139_, BALA_TYPE_STRUCT)) {
			BalaCCodeFile* _tmp140_;
			BalaCCodeFunctionCall* creation_call = NULL;
			BalaCCodeIdentifier* _tmp141_;
			BalaCCodeIdentifier* _tmp142_;
			BalaCCodeFunctionCall* _tmp143_;
			BalaCCodeFunctionCall* _tmp144_;
			BalaCCodeFunctionCall* _tmp145_;
			BalaCCodeExpression* _tmp146_;
			BalaCCodeUnaryExpression* _tmp147_;
			BalaCCodeUnaryExpression* _tmp148_;
			BalaCCodeFunctionCall* _tmp149_;
			BalaCCodeConstant* _tmp150_;
			BalaCCodeConstant* _tmp151_;
			BalaCCodeFunctionCall* _tmp152_;
			BalaDataType* _tmp153_;
			BalaDataType* _tmp154_;
			gchar* _tmp155_;
			gchar* _tmp156_;
			gchar* _tmp157_;
			gchar* _tmp158_;
			BalaCCodeIdentifier* _tmp159_;
			BalaCCodeIdentifier* _tmp160_;
			BalaCCodeFunctionCall* _tmp161_;
			BalaCCodeExpression* _tmp162_;
			_tmp140_ = self->cfile;
			bala_ccode_file_add_include (_tmp140_, "string.h", FALSE);
			_tmp141_ = bala_ccode_identifier_new ("memset");
			_tmp142_ = _tmp141_;
			_tmp143_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp142_);
			_tmp144_ = _tmp143_;
			_bala_ccode_node_unref0 (_tmp142_);
			creation_call = _tmp144_;
			_tmp145_ = creation_call;
			_tmp146_ = instance;
			_tmp147_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp146_);
			_tmp148_ = _tmp147_;
			bala_ccode_function_call_add_argument (_tmp145_, (BalaCCodeExpression*) _tmp148_);
			_bala_ccode_node_unref0 (_tmp148_);
			_tmp149_ = creation_call;
			_tmp150_ = bala_ccode_constant_new ("0");
			_tmp151_ = _tmp150_;
			bala_ccode_function_call_add_argument (_tmp149_, (BalaCCodeExpression*) _tmp151_);
			_bala_ccode_node_unref0 (_tmp151_);
			_tmp152_ = creation_call;
			_tmp153_ = bala_object_creation_expression_get_type_reference (expr);
			_tmp154_ = _tmp153_;
			_tmp155_ = bala_get_ccode_name ((BalaCodeNode*) _tmp154_);
			_tmp156_ = _tmp155_;
			_tmp157_ = g_strdup_printf ("sizeof (%s)", _tmp156_);
			_tmp158_ = _tmp157_;
			_tmp159_ = bala_ccode_identifier_new (_tmp158_);
			_tmp160_ = _tmp159_;
			bala_ccode_function_call_add_argument (_tmp152_, (BalaCCodeExpression*) _tmp160_);
			_bala_ccode_node_unref0 (_tmp160_);
			_g_free0 (_tmp158_);
			_g_free0 (_tmp156_);
			_tmp161_ = creation_call;
			_tmp162_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp161_);
			_bala_ccode_node_unref0 (creation_expr);
			creation_expr = _tmp162_;
			_bala_ccode_node_unref0 (creation_call);
		}
	} else {
		gboolean _tmp163_ = FALSE;
		BalaDataType* _tmp164_;
		BalaDataType* _tmp165_;
		BalaTypeSymbol* _tmp166_;
		BalaTypeSymbol* _tmp167_;
		BalaClass* _tmp168_;
		_tmp164_ = bala_object_creation_expression_get_type_reference (expr);
		_tmp165_ = _tmp164_;
		_tmp166_ = bala_data_type_get_type_symbol (_tmp165_);
		_tmp167_ = _tmp166_;
		_tmp168_ = self->glist_type;
		if (_tmp167_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp168_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol)) {
			_tmp163_ = TRUE;
		} else {
			BalaDataType* _tmp169_;
			BalaDataType* _tmp170_;
			BalaTypeSymbol* _tmp171_;
			BalaTypeSymbol* _tmp172_;
			BalaClass* _tmp173_;
			_tmp169_ = bala_object_creation_expression_get_type_reference (expr);
			_tmp170_ = _tmp169_;
			_tmp171_ = bala_data_type_get_type_symbol (_tmp170_);
			_tmp172_ = _tmp171_;
			_tmp173_ = self->gslist_type;
			_tmp163_ = _tmp172_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp173_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
		}
		if (_tmp163_) {
			BalaCCodeConstant* _tmp174_;
			BalaCCodeConstant* _tmp175_;
			_tmp174_ = bala_ccode_constant_new ("NULL");
			_tmp175_ = _tmp174_;
			bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp175_);
			_bala_ccode_node_unref0 (_tmp175_);
		} else {
			BalaSymbol* _tmp176_;
			BalaSymbol* _tmp177_;
			_tmp176_ = bala_expression_get_symbol_reference ((BalaExpression*) expr);
			_tmp177_ = _tmp176_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp177_, BALA_TYPE_METHOD)) {
				BalaMethod* m = NULL;
				BalaSymbol* _tmp178_;
				BalaSymbol* _tmp179_;
				BalaMethod* _tmp180_;
				BalaList* params = NULL;
				BalaMethod* _tmp181_;
				BalaList* _tmp182_;
				BalaList* _tmp183_;
				BalaCCodeFunctionCall* creation_call = NULL;
				BalaCCodeFunctionCall* async_call = NULL;
				BalaCCodeFunctionCall* finish_call = NULL;
				BalaMethod* _tmp184_;
				BalaCCodeFile* _tmp185_;
				BalaClass* cl = NULL;
				BalaDataType* _tmp186_;
				BalaDataType* _tmp187_;
				BalaTypeSymbol* _tmp188_;
				BalaTypeSymbol* _tmp189_;
				BalaMethod* _tmp190_;
				gboolean _tmp209_ = FALSE;
				gboolean _tmp210_ = FALSE;
				BalaStruct* _tmp211_;
				BalaDataType* _tmp281_;
				BalaDataType* _tmp282_;
				BalaCCodeFile* _tmp283_;
				BalaHashMap* in_arg_map = NULL;
				GHashFunc _tmp284_;
				GEqualFunc _tmp285_;
				GEqualFunc _tmp286_;
				BalaHashMap* _tmp287_;
				BalaHashMap* out_arg_map = NULL;
				BalaHashMap* _tmp288_;
				BalaHashMap* _tmp289_;
				gboolean _tmp290_ = FALSE;
				BalaMethod* _tmp291_;
				gboolean _tmp319_ = FALSE;
				BalaClass* _tmp320_;
				gboolean ellipsis = FALSE;
				gint i = 0;
				gint arg_pos = 0;
				BalaIterator* params_it = NULL;
				BalaList* _tmp351_;
				BalaIterator* _tmp352_;
				BalaIterator* _tmp450_;
				gboolean _tmp460_;
				gboolean _tmp461_;
				gboolean _tmp488_ = FALSE;
				gboolean _tmp489_ = FALSE;
				BalaStruct* _tmp490_;
				gboolean _tmp497_ = FALSE;
				BalaMethod* _tmp498_;
				gboolean _tmp514_ = FALSE;
				gboolean _tmp515_ = FALSE;
				BalaMethod* _tmp516_;
				gint last_pos = 0;
				gint min_pos = 0;
				BalaCCodeFunctionCall* _tmp531_;
				BalaCCodeFunctionCall* _tmp532_;
				BalaCCodeFunctionCall* _tmp547_;
				gboolean _tmp562_;
				gboolean _tmp563_;
				BalaCCodeFunctionCall* _tmp587_;
				BalaCCodeExpression* _tmp588_;
				BalaMethod* _tmp589_;
				gchar* _tmp590_;
				gchar* _tmp591_;
				gboolean _tmp592_;
				_tmp178_ = bala_expression_get_symbol_reference ((BalaExpression*) expr);
				_tmp179_ = _tmp178_;
				_tmp180_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp179_, BALA_TYPE_METHOD, BalaMethod));
				m = _tmp180_;
				_tmp181_ = m;
				_tmp182_ = bala_callable_get_parameters ((BalaCallable*) _tmp181_);
				_tmp183_ = _bala_iterable_ref0 (_tmp182_);
				params = _tmp183_;
				async_call = NULL;
				finish_call = NULL;
				_tmp184_ = m;
				_tmp185_ = self->cfile;
				bala_ccode_base_module_generate_method_declaration (self, _tmp184_, _tmp185_);
				_tmp186_ = bala_object_creation_expression_get_type_reference (expr);
				_tmp187_ = _tmp186_;
				_tmp188_ = bala_data_type_get_type_symbol (_tmp187_);
				_tmp189_ = _tmp188_;
				cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp189_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp189_) : NULL;
				_tmp190_ = m;
				if (!bala_get_ccode_has_new_function (_tmp190_)) {
					BalaMethod* _tmp191_;
					gchar* _tmp192_;
					gchar* _tmp193_;
					BalaCCodeIdentifier* _tmp194_;
					BalaCCodeIdentifier* _tmp195_;
					BalaCCodeFunctionCall* _tmp196_;
					BalaCCodeFunctionCall* _tmp197_;
					BalaClass* _tmp198_;
					gchar* _tmp199_;
					gchar* _tmp200_;
					BalaCCodeIdentifier* _tmp201_;
					BalaCCodeIdentifier* _tmp202_;
					_tmp191_ = m;
					_tmp192_ = bala_get_ccode_real_name ((BalaSymbol*) _tmp191_);
					_tmp193_ = _tmp192_;
					_tmp194_ = bala_ccode_identifier_new (_tmp193_);
					_tmp195_ = _tmp194_;
					_tmp196_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp195_);
					_bala_ccode_node_unref0 (creation_call);
					creation_call = _tmp196_;
					_bala_ccode_node_unref0 (_tmp195_);
					_g_free0 (_tmp193_);
					_tmp197_ = creation_call;
					_tmp198_ = cl;
					_tmp199_ = bala_get_ccode_type_id ((BalaCodeNode*) _tmp198_);
					_tmp200_ = _tmp199_;
					_tmp201_ = bala_ccode_identifier_new (_tmp200_);
					_tmp202_ = _tmp201_;
					bala_ccode_function_call_add_argument (_tmp197_, (BalaCCodeExpression*) _tmp202_);
					_bala_ccode_node_unref0 (_tmp202_);
					_g_free0 (_tmp200_);
				} else {
					BalaMethod* _tmp203_;
					gchar* _tmp204_;
					gchar* _tmp205_;
					BalaCCodeIdentifier* _tmp206_;
					BalaCCodeIdentifier* _tmp207_;
					BalaCCodeFunctionCall* _tmp208_;
					_tmp203_ = m;
					_tmp204_ = bala_get_ccode_name ((BalaCodeNode*) _tmp203_);
					_tmp205_ = _tmp204_;
					_tmp206_ = bala_ccode_identifier_new (_tmp205_);
					_tmp207_ = _tmp206_;
					_tmp208_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp207_);
					_bala_ccode_node_unref0 (creation_call);
					creation_call = _tmp208_;
					_bala_ccode_node_unref0 (_tmp207_);
					_g_free0 (_tmp205_);
				}
				_tmp211_ = st;
				if (_tmp211_ != NULL) {
					BalaStruct* _tmp212_;
					_tmp212_ = st;
					_tmp210_ = !bala_struct_is_simple_type (_tmp212_);
				} else {
					_tmp210_ = FALSE;
				}
				if (_tmp210_) {
					BalaMethod* _tmp213_;
					_tmp213_ = m;
					_tmp209_ = !(bala_get_ccode_instance_pos ((BalaCodeNode*) _tmp213_) < ((gdouble) 0));
				} else {
					_tmp209_ = FALSE;
				}
				if (_tmp209_) {
					BalaCCodeFunctionCall* _tmp214_;
					BalaCCodeExpression* _tmp215_;
					BalaCCodeUnaryExpression* _tmp216_;
					BalaCCodeUnaryExpression* _tmp217_;
					_tmp214_ = creation_call;
					_tmp215_ = instance;
					_tmp216_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp215_);
					_tmp217_ = _tmp216_;
					bala_ccode_function_call_add_argument (_tmp214_, (BalaCCodeExpression*) _tmp217_);
					_bala_ccode_node_unref0 (_tmp217_);
				} else {
					gboolean _tmp218_ = FALSE;
					BalaStruct* _tmp219_;
					_tmp219_ = st;
					if (_tmp219_ != NULL) {
						BalaStruct* _tmp220_;
						gchar* _tmp221_;
						gchar* _tmp222_;
						_tmp220_ = st;
						_tmp221_ = bala_get_ccode_name ((BalaCodeNode*) _tmp220_);
						_tmp222_ = _tmp221_;
						_tmp218_ = g_strcmp0 (_tmp222_, "va_list") == 0;
						_g_free0 (_tmp222_);
					} else {
						_tmp218_ = FALSE;
					}
					if (_tmp218_) {
						BalaCCodeFunctionCall* _tmp223_;
						BalaCCodeExpression* _tmp224_;
						BalaMethod* _tmp225_;
						gchar* _tmp226_;
						gchar* _tmp227_;
						gboolean _tmp228_;
						_tmp223_ = creation_call;
						_tmp224_ = instance;
						bala_ccode_function_call_add_argument (_tmp223_, _tmp224_);
						_tmp225_ = m;
						_tmp226_ = bala_get_ccode_name ((BalaCodeNode*) _tmp225_);
						_tmp227_ = _tmp226_;
						_tmp228_ = g_strcmp0 (_tmp227_, "va_start") == 0;
						_g_free0 (_tmp227_);
						if (_tmp228_) {
							gboolean _tmp229_;
							gboolean _tmp230_;
							_tmp229_ = bala_ccode_base_module_get_in_creation_method (self);
							_tmp230_ = _tmp229_;
							if (_tmp230_) {
								BalaCCodeIdentifier* _tmp231_;
								BalaCCodeIdentifier* _tmp232_;
								BalaCCodeFunctionCall* _tmp233_;
								BalaCCodeFunctionCall* _tmp234_;
								BalaCCodeExpression* _tmp235_;
								BalaCCodeFunctionCall* _tmp236_;
								BalaCCodeIdentifier* _tmp237_;
								BalaCCodeIdentifier* _tmp238_;
								_tmp231_ = bala_ccode_identifier_new ("va_copy");
								_tmp232_ = _tmp231_;
								_tmp233_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp232_);
								_bala_ccode_node_unref0 (creation_call);
								creation_call = _tmp233_;
								_bala_ccode_node_unref0 (_tmp232_);
								_tmp234_ = creation_call;
								_tmp235_ = instance;
								bala_ccode_function_call_add_argument (_tmp234_, _tmp235_);
								_tmp236_ = creation_call;
								_tmp237_ = bala_ccode_identifier_new ("_bala_va_list");
								_tmp238_ = _tmp237_;
								bala_ccode_function_call_add_argument (_tmp236_, (BalaCCodeExpression*) _tmp238_);
								_bala_ccode_node_unref0 (_tmp238_);
							} else {
								BalaParameter* last_param = NULL;
								gint nParams = 0;
								BalaCCodeFunction* _tmp259_;
								BalaCCodeFunction* _tmp260_;
								gboolean _tmp261_ = FALSE;
								last_param = NULL;
								{
									BalaList* _param_list = NULL;
									BalaMethod* _tmp239_;
									BalaMethod* _tmp240_;
									BalaList* _tmp241_;
									BalaList* _tmp242_;
									gint _param_size = 0;
									BalaList* _tmp243_;
									gint _tmp244_;
									gint _tmp245_;
									gint _param_index = 0;
									_tmp239_ = bala_ccode_base_module_get_current_method (self);
									_tmp240_ = _tmp239_;
									_tmp241_ = bala_callable_get_parameters ((BalaCallable*) _tmp240_);
									_tmp242_ = _bala_iterable_ref0 (_tmp241_);
									_param_list = _tmp242_;
									_tmp243_ = _param_list;
									_tmp244_ = bala_collection_get_size ((BalaCollection*) _tmp243_);
									_tmp245_ = _tmp244_;
									_param_size = _tmp245_;
									_param_index = -1;
									while (TRUE) {
										gint _tmp246_;
										gint _tmp247_;
										BalaParameter* param = NULL;
										BalaList* _tmp248_;
										gpointer _tmp249_;
										gboolean _tmp250_ = FALSE;
										BalaParameter* _tmp251_;
										gboolean _tmp252_;
										gboolean _tmp253_;
										BalaParameter* _tmp257_;
										BalaParameter* _tmp258_;
										_param_index = _param_index + 1;
										_tmp246_ = _param_index;
										_tmp247_ = _param_size;
										if (!(_tmp246_ < _tmp247_)) {
											break;
										}
										_tmp248_ = _param_list;
										_tmp249_ = bala_list_get (_tmp248_, _param_index);
										param = (BalaParameter*) _tmp249_;
										_tmp251_ = param;
										_tmp252_ = bala_parameter_get_ellipsis (_tmp251_);
										_tmp253_ = _tmp252_;
										if (_tmp253_) {
											_tmp250_ = TRUE;
										} else {
											BalaParameter* _tmp254_;
											gboolean _tmp255_;
											gboolean _tmp256_;
											_tmp254_ = param;
											_tmp255_ = bala_parameter_get_params_array (_tmp254_);
											_tmp256_ = _tmp255_;
											_tmp250_ = _tmp256_;
										}
										if (_tmp250_) {
											_bala_code_node_unref0 (param);
											break;
										}
										_tmp257_ = param;
										_tmp258_ = _bala_code_node_ref0 (_tmp257_);
										_bala_code_node_unref0 (last_param);
										last_param = _tmp258_;
										_bala_code_node_unref0 (param);
									}
									_bala_iterable_unref0 (_param_list);
								}
								_tmp259_ = bala_ccode_base_module_get_ccode (self);
								_tmp260_ = _tmp259_;
								nParams = bala_ccode_function_get_parameter_count (_tmp260_);
								if (nParams == 0) {
									_tmp261_ = TRUE;
								} else {
									BalaCCodeFunction* _tmp262_;
									BalaCCodeFunction* _tmp263_;
									BalaCCodeParameter* _tmp264_;
									BalaCCodeParameter* _tmp265_;
									gboolean _tmp266_;
									gboolean _tmp267_;
									_tmp262_ = bala_ccode_base_module_get_ccode (self);
									_tmp263_ = _tmp262_;
									_tmp264_ = bala_ccode_function_get_parameter (_tmp263_, nParams - 1);
									_tmp265_ = _tmp264_;
									_tmp266_ = bala_ccode_parameter_get_ellipsis (_tmp265_);
									_tmp267_ = _tmp266_;
									_tmp261_ = !_tmp267_;
									_bala_ccode_node_unref0 (_tmp265_);
								}
								if (_tmp261_) {
									BalaSourceReference* _tmp268_;
									BalaSourceReference* _tmp269_;
									_tmp268_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
									_tmp269_ = _tmp268_;
									bala_report_error (_tmp269_, "`va_list' used in method with fixed args");
								} else {
									if (nParams == 1) {
										BalaSourceReference* _tmp270_;
										BalaSourceReference* _tmp271_;
										_tmp270_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
										_tmp271_ = _tmp270_;
										bala_report_error (_tmp271_, "`va_list' used in method without parameter");
									} else {
										BalaCCodeFunctionCall* _tmp272_;
										BalaCCodeFunction* _tmp273_;
										BalaCCodeFunction* _tmp274_;
										BalaCCodeParameter* _tmp275_;
										BalaCCodeParameter* _tmp276_;
										const gchar* _tmp277_;
										const gchar* _tmp278_;
										BalaCCodeIdentifier* _tmp279_;
										BalaCCodeIdentifier* _tmp280_;
										_tmp272_ = creation_call;
										_tmp273_ = bala_ccode_base_module_get_ccode (self);
										_tmp274_ = _tmp273_;
										_tmp275_ = bala_ccode_function_get_parameter (_tmp274_, nParams - 2);
										_tmp276_ = _tmp275_;
										_tmp277_ = bala_ccode_parameter_get_name (_tmp276_);
										_tmp278_ = _tmp277_;
										_tmp279_ = bala_ccode_identifier_new (_tmp278_);
										_tmp280_ = _tmp279_;
										bala_ccode_function_call_add_argument (_tmp272_, (BalaCCodeExpression*) _tmp280_);
										_bala_ccode_node_unref0 (_tmp280_);
										_bala_ccode_node_unref0 (_tmp276_);
									}
								}
								_bala_code_node_unref0 (last_param);
							}
						}
					}
				}
				_tmp281_ = bala_object_creation_expression_get_type_reference (expr);
				_tmp282_ = _tmp281_;
				_tmp283_ = self->cfile;
				bala_ccode_base_module_generate_type_declaration (self, _tmp282_, _tmp283_);
				_tmp284_ = g_direct_hash;
				_tmp285_ = g_direct_equal;
				_tmp286_ = g_direct_equal;
				_tmp287_ = bala_hash_map_new (G_TYPE_INT, NULL, NULL, BALA_TYPE_CCODE_EXPRESSION, (GBoxedCopyFunc) bala_ccode_node_ref, (GDestroyNotify) bala_ccode_node_unref, _tmp284_, _tmp285_, _tmp286_);
				in_arg_map = _tmp287_;
				_tmp288_ = in_arg_map;
				_tmp289_ = _bala_map_ref0 (_tmp288_);
				out_arg_map = _tmp289_;
				_tmp291_ = m;
				if (_tmp291_ != NULL) {
					BalaMethod* _tmp292_;
					gboolean _tmp293_;
					gboolean _tmp294_;
					_tmp292_ = m;
					_tmp293_ = bala_method_get_coroutine (_tmp292_);
					_tmp294_ = _tmp293_;
					_tmp290_ = _tmp294_;
				} else {
					_tmp290_ = FALSE;
				}
				if (_tmp290_) {
					BalaMethod* _tmp295_;
					gchar* _tmp296_;
					gchar* _tmp297_;
					BalaCCodeIdentifier* _tmp298_;
					BalaCCodeIdentifier* _tmp299_;
					BalaCCodeFunctionCall* _tmp300_;
					BalaMethod* _tmp301_;
					gchar* _tmp302_;
					gchar* _tmp303_;
					BalaCCodeIdentifier* _tmp304_;
					BalaCCodeIdentifier* _tmp305_;
					BalaCCodeFunctionCall* _tmp306_;
					BalaCCodeFunctionCall* _tmp307_;
					BalaCCodeFunctionCall* _tmp308_;
					GHashFunc _tmp309_;
					GEqualFunc _tmp310_;
					GEqualFunc _tmp311_;
					BalaHashMap* _tmp312_;
					BalaHashMap* _tmp313_;
					BalaMethod* _tmp314_;
					BalaCCodeIdentifier* _tmp315_;
					BalaCCodeIdentifier* _tmp316_;
					BalaCCodeMemberAccess* _tmp317_;
					BalaCCodeMemberAccess* _tmp318_;
					_tmp295_ = m;
					_tmp296_ = bala_get_ccode_name ((BalaCodeNode*) _tmp295_);
					_tmp297_ = _tmp296_;
					_tmp298_ = bala_ccode_identifier_new (_tmp297_);
					_tmp299_ = _tmp298_;
					_tmp300_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp299_);
					_bala_ccode_node_unref0 (async_call);
					async_call = _tmp300_;
					_bala_ccode_node_unref0 (_tmp299_);
					_g_free0 (_tmp297_);
					_tmp301_ = m;
					_tmp302_ = bala_get_ccode_finish_name (_tmp301_);
					_tmp303_ = _tmp302_;
					_tmp304_ = bala_ccode_identifier_new (_tmp303_);
					_tmp305_ = _tmp304_;
					_tmp306_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp305_);
					_bala_ccode_node_unref0 (finish_call);
					finish_call = _tmp306_;
					_bala_ccode_node_unref0 (_tmp305_);
					_g_free0 (_tmp303_);
					_tmp307_ = finish_call;
					_tmp308_ = _bala_ccode_node_ref0 (_tmp307_);
					_bala_ccode_node_unref0 (creation_call);
					creation_call = _tmp308_;
					_tmp309_ = g_direct_hash;
					_tmp310_ = g_direct_equal;
					_tmp311_ = g_direct_equal;
					_tmp312_ = bala_hash_map_new (G_TYPE_INT, NULL, NULL, BALA_TYPE_CCODE_EXPRESSION, (GBoxedCopyFunc) bala_ccode_node_ref, (GDestroyNotify) bala_ccode_node_unref, _tmp309_, _tmp310_, _tmp311_);
					_bala_map_unref0 (out_arg_map);
					out_arg_map = _tmp312_;
					_tmp313_ = out_arg_map;
					_tmp314_ = m;
					_tmp315_ = bala_ccode_identifier_new ("_data_");
					_tmp316_ = _tmp315_;
					_tmp317_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp316_, "_res_");
					_tmp318_ = _tmp317_;
					bala_map_set ((BalaMap*) _tmp313_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, bala_get_ccode_async_result_pos (_tmp314_), FALSE)), (BalaCCodeExpression*) _tmp318_);
					_bala_ccode_node_unref0 (_tmp318_);
					_bala_ccode_node_unref0 (_tmp316_);
				}
				_tmp320_ = cl;
				if (_tmp320_ != NULL) {
					BalaClass* _tmp321_;
					gboolean _tmp322_;
					gboolean _tmp323_;
					_tmp321_ = cl;
					_tmp322_ = bala_class_get_is_compact (_tmp321_);
					_tmp323_ = _tmp322_;
					_tmp319_ = !_tmp323_;
				} else {
					_tmp319_ = FALSE;
				}
				if (_tmp319_) {
					BalaHashMap* _tmp324_;
					BalaDataType* _tmp325_;
					BalaDataType* _tmp326_;
					BalaList* _tmp327_;
					_tmp324_ = in_arg_map;
					_tmp325_ = bala_object_creation_expression_get_type_reference (expr);
					_tmp326_ = _tmp325_;
					_tmp327_ = bala_data_type_get_type_arguments (_tmp326_);
					bala_ccode_base_module_add_generic_type_arguments (self, (BalaMap*) _tmp324_, _tmp327_, (BalaCodeNode*) expr, FALSE, NULL);
				} else {
					gboolean _tmp328_ = FALSE;
					BalaClass* _tmp329_;
					_tmp329_ = cl;
					if (_tmp329_ != NULL) {
						BalaMethod* _tmp330_;
						_tmp330_ = m;
						_tmp328_ = bala_get_ccode_simple_generics (_tmp330_);
					} else {
						_tmp328_ = FALSE;
					}
					if (_tmp328_) {
						gint type_param_index = 0;
						type_param_index = 0;
						{
							BalaList* _type_arg_list = NULL;
							BalaDataType* _tmp331_;
							BalaDataType* _tmp332_;
							BalaList* _tmp333_;
							BalaList* _tmp334_;
							gint _type_arg_size = 0;
							BalaList* _tmp335_;
							gint _tmp336_;
							gint _tmp337_;
							gint _type_arg_index = 0;
							_tmp331_ = bala_object_creation_expression_get_type_reference (expr);
							_tmp332_ = _tmp331_;
							_tmp333_ = bala_data_type_get_type_arguments (_tmp332_);
							_tmp334_ = _bala_iterable_ref0 (_tmp333_);
							_type_arg_list = _tmp334_;
							_tmp335_ = _type_arg_list;
							_tmp336_ = bala_collection_get_size ((BalaCollection*) _tmp335_);
							_tmp337_ = _tmp336_;
							_type_arg_size = _tmp337_;
							_type_arg_index = -1;
							while (TRUE) {
								gint _tmp338_;
								gint _tmp339_;
								BalaDataType* type_arg = NULL;
								BalaList* _tmp340_;
								gpointer _tmp341_;
								BalaDataType* _tmp342_;
								gint _tmp350_;
								_type_arg_index = _type_arg_index + 1;
								_tmp338_ = _type_arg_index;
								_tmp339_ = _type_arg_size;
								if (!(_tmp338_ < _tmp339_)) {
									break;
								}
								_tmp340_ = _type_arg_list;
								_tmp341_ = bala_list_get (_tmp340_, _type_arg_index);
								type_arg = (BalaDataType*) _tmp341_;
								_tmp342_ = type_arg;
								if (bala_ccode_base_module_requires_copy (_tmp342_)) {
									BalaHashMap* _tmp343_;
									BalaDataType* _tmp344_;
									BalaCCodeExpression* _tmp345_;
									BalaCCodeExpression* _tmp346_;
									_tmp343_ = in_arg_map;
									_tmp344_ = type_arg;
									_tmp345_ = bala_ccode_base_module_get_destroy0_func_expression (self, _tmp344_, FALSE);
									_tmp346_ = _tmp345_;
									bala_map_set ((BalaMap*) _tmp343_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (-1 + (0.1 * type_param_index)) + 0.03, FALSE)), _tmp346_);
									_bala_ccode_node_unref0 (_tmp346_);
								} else {
									BalaHashMap* _tmp347_;
									BalaCCodeConstant* _tmp348_;
									BalaCCodeConstant* _tmp349_;
									_tmp347_ = in_arg_map;
									_tmp348_ = bala_ccode_constant_new ("NULL");
									_tmp349_ = _tmp348_;
									bala_map_set ((BalaMap*) _tmp347_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (-1 + (0.1 * type_param_index)) + 0.03, FALSE)), (BalaCCodeExpression*) _tmp349_);
									_bala_ccode_node_unref0 (_tmp349_);
								}
								_tmp350_ = type_param_index;
								type_param_index = _tmp350_ + 1;
								_bala_code_node_unref0 (type_arg);
							}
							_bala_iterable_unref0 (_type_arg_list);
						}
					}
				}
				ellipsis = FALSE;
				i = 1;
				_tmp351_ = params;
				_tmp352_ = bala_iterable_iterator ((BalaIterable*) _tmp351_);
				params_it = _tmp352_;
				{
					BalaList* _arg_list = NULL;
					BalaList* _tmp353_;
					BalaList* _tmp354_;
					gint _arg_size = 0;
					BalaList* _tmp355_;
					gint _tmp356_;
					gint _tmp357_;
					gint _arg_index = 0;
					_tmp353_ = bala_object_creation_expression_get_argument_list (expr);
					_tmp354_ = _bala_iterable_ref0 (_tmp353_);
					_arg_list = _tmp354_;
					_tmp355_ = _arg_list;
					_tmp356_ = bala_collection_get_size ((BalaCollection*) _tmp355_);
					_tmp357_ = _tmp356_;
					_arg_size = _tmp357_;
					_arg_index = -1;
					while (TRUE) {
						gint _tmp358_;
						gint _tmp359_;
						BalaExpression* arg = NULL;
						BalaList* _tmp360_;
						gpointer _tmp361_;
						BalaCCodeExpression* cexpr = NULL;
						BalaExpression* _tmp362_;
						BalaCCodeExpression* _tmp363_;
						BalaCCodeExpression* _tmp364_;
						BalaHashMap* carg_map = NULL;
						BalaHashMap* _tmp365_;
						BalaHashMap* _tmp366_;
						BalaParameter* param = NULL;
						BalaIterator* _tmp367_;
						BalaHashMap* _tmp447_;
						BalaCCodeExpression* _tmp448_;
						gint _tmp449_;
						_arg_index = _arg_index + 1;
						_tmp358_ = _arg_index;
						_tmp359_ = _arg_size;
						if (!(_tmp358_ < _tmp359_)) {
							break;
						}
						_tmp360_ = _arg_list;
						_tmp361_ = bala_list_get (_tmp360_, _arg_index);
						arg = (BalaExpression*) _tmp361_;
						_tmp362_ = arg;
						_tmp363_ = bala_get_cvalue (_tmp362_);
						_tmp364_ = _bala_ccode_node_ref0 (_tmp363_);
						cexpr = _tmp364_;
						_tmp365_ = in_arg_map;
						_tmp366_ = _bala_map_ref0 (_tmp365_);
						carg_map = _tmp366_;
						param = NULL;
						_tmp367_ = params_it;
						if (bala_iterator_next (_tmp367_)) {
							BalaIterator* _tmp368_;
							gpointer _tmp369_;
							gboolean _tmp370_ = FALSE;
							BalaParameter* _tmp371_;
							gboolean _tmp372_;
							gboolean _tmp373_;
							BalaParameter* _tmp443_;
							_tmp368_ = params_it;
							_tmp369_ = bala_iterator_get (_tmp368_);
							_bala_code_node_unref0 (param);
							param = (BalaParameter*) _tmp369_;
							_tmp371_ = param;
							_tmp372_ = bala_parameter_get_ellipsis (_tmp371_);
							_tmp373_ = _tmp372_;
							if (_tmp373_) {
								_tmp370_ = TRUE;
							} else {
								BalaParameter* _tmp374_;
								gboolean _tmp375_;
								gboolean _tmp376_;
								_tmp374_ = param;
								_tmp375_ = bala_parameter_get_params_array (_tmp374_);
								_tmp376_ = _tmp375_;
								_tmp370_ = _tmp376_;
							}
							ellipsis = _tmp370_;
							if (!ellipsis) {
								BalaParameter* _tmp377_;
								BalaParameterDirection _tmp378_;
								BalaParameterDirection _tmp379_;
								gboolean _tmp382_ = FALSE;
								BalaParameter* _tmp383_;
								BalaParameter* _tmp427_;
								BalaExpression* _tmp428_;
								BalaCCodeExpression* _tmp429_;
								BalaCCodeExpression* _tmp430_;
								BalaParameter* _tmp431_;
								gchar* _tmp432_;
								gchar* _tmp433_;
								gboolean _tmp434_;
								_tmp377_ = param;
								_tmp378_ = bala_parameter_get_direction (_tmp377_);
								_tmp379_ = _tmp378_;
								if (_tmp379_ == BALA_PARAMETER_DIRECTION_OUT) {
									BalaHashMap* _tmp380_;
									BalaHashMap* _tmp381_;
									_tmp380_ = out_arg_map;
									_tmp381_ = _bala_map_ref0 (_tmp380_);
									_bala_map_unref0 (carg_map);
									carg_map = _tmp381_;
								}
								_tmp383_ = param;
								if (bala_get_ccode_array_length ((BalaCodeNode*) _tmp383_)) {
									BalaParameter* _tmp384_;
									BalaDataType* _tmp385_;
									BalaDataType* _tmp386_;
									_tmp384_ = param;
									_tmp385_ = bala_variable_get_variable_type ((BalaVariable*) _tmp384_);
									_tmp386_ = _tmp385_;
									_tmp382_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp386_, BALA_TYPE_ARRAY_TYPE);
								} else {
									_tmp382_ = FALSE;
								}
								if (_tmp382_) {
									BalaArrayType* array_type = NULL;
									BalaParameter* _tmp387_;
									BalaDataType* _tmp388_;
									BalaDataType* _tmp389_;
									BalaArrayType* _tmp390_;
									_tmp387_ = param;
									_tmp388_ = bala_variable_get_variable_type ((BalaVariable*) _tmp387_);
									_tmp389_ = _tmp388_;
									_tmp390_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp389_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
									array_type = _tmp390_;
									{
										gint dim = 0;
										dim = 1;
										{
											gboolean _tmp391_ = FALSE;
											_tmp391_ = TRUE;
											while (TRUE) {
												BalaArrayType* _tmp393_;
												gint _tmp394_;
												gint _tmp395_;
												BalaHashMap* _tmp396_;
												BalaParameter* _tmp397_;
												BalaExpression* _tmp398_;
												BalaCCodeExpression* _tmp399_;
												BalaCCodeExpression* _tmp400_;
												if (!_tmp391_) {
													gint _tmp392_;
													_tmp392_ = dim;
													dim = _tmp392_ + 1;
												}
												_tmp391_ = FALSE;
												_tmp393_ = array_type;
												_tmp394_ = bala_array_type_get_rank (_tmp393_);
												_tmp395_ = _tmp394_;
												if (!(dim <= _tmp395_)) {
													break;
												}
												_tmp396_ = carg_map;
												_tmp397_ = param;
												_tmp398_ = arg;
												_tmp399_ = bala_ccode_base_module_get_array_length_cexpression (self, _tmp398_, dim);
												_tmp400_ = _tmp399_;
												bala_map_set ((BalaMap*) _tmp396_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, bala_get_ccode_array_length_pos ((BalaCodeNode*) _tmp397_) + (0.01 * dim), FALSE)), _tmp400_);
												_bala_ccode_node_unref0 (_tmp400_);
											}
										}
									}
									_bala_code_node_unref0 (array_type);
								} else {
									gboolean _tmp401_ = FALSE;
									BalaParameter* _tmp402_;
									_tmp402_ = param;
									if (bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp402_)) {
										BalaParameter* _tmp403_;
										BalaDataType* _tmp404_;
										BalaDataType* _tmp405_;
										_tmp403_ = param;
										_tmp404_ = bala_variable_get_variable_type ((BalaVariable*) _tmp403_);
										_tmp405_ = _tmp404_;
										_tmp401_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp405_, BALA_TYPE_DELEGATE_TYPE);
									} else {
										_tmp401_ = FALSE;
									}
									if (_tmp401_) {
										BalaDelegateType* deleg_type = NULL;
										BalaParameter* _tmp406_;
										BalaDataType* _tmp407_;
										BalaDataType* _tmp408_;
										BalaDelegateType* _tmp409_;
										BalaDelegate* d = NULL;
										BalaDelegateType* _tmp410_;
										BalaDelegate* _tmp411_;
										BalaDelegate* _tmp412_;
										BalaDelegate* _tmp413_;
										BalaDelegate* _tmp414_;
										gboolean _tmp415_;
										gboolean _tmp416_;
										_tmp406_ = param;
										_tmp407_ = bala_variable_get_variable_type ((BalaVariable*) _tmp406_);
										_tmp408_ = _tmp407_;
										_tmp409_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp408_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
										deleg_type = _tmp409_;
										_tmp410_ = deleg_type;
										_tmp411_ = bala_delegate_type_get_delegate_symbol (_tmp410_);
										_tmp412_ = _tmp411_;
										_tmp413_ = _bala_code_node_ref0 (_tmp412_);
										d = _tmp413_;
										_tmp414_ = d;
										_tmp415_ = bala_delegate_get_has_target (_tmp414_);
										_tmp416_ = _tmp415_;
										if (_tmp416_) {
											BalaCCodeExpression* delegate_target_destroy_notify = NULL;
											BalaCCodeExpression* delegate_target = NULL;
											BalaExpression* _tmp417_;
											BalaCCodeExpression* _tmp418_ = NULL;
											BalaCCodeExpression* _tmp419_;
											BalaHashMap* _tmp420_;
											BalaParameter* _tmp421_;
											BalaCCodeExpression* _tmp422_;
											BalaDelegateType* _tmp423_;
											_tmp417_ = arg;
											_tmp419_ = bala_ccode_base_module_get_delegate_target_cexpression (self, _tmp417_, &_tmp418_);
											_bala_ccode_node_unref0 (delegate_target_destroy_notify);
											delegate_target_destroy_notify = _tmp418_;
											delegate_target = _tmp419_;
											_tmp420_ = carg_map;
											_tmp421_ = param;
											_tmp422_ = delegate_target;
											bala_map_set ((BalaMap*) _tmp420_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, bala_get_ccode_delegate_target_pos ((BalaCodeNode*) _tmp421_), FALSE)), _tmp422_);
											_tmp423_ = deleg_type;
											if (bala_data_type_is_disposable ((BalaDataType*) _tmp423_)) {
												BalaHashMap* _tmp424_;
												BalaParameter* _tmp425_;
												BalaCCodeExpression* _tmp426_;
												_tmp424_ = carg_map;
												_tmp425_ = param;
												_tmp426_ = delegate_target_destroy_notify;
												bala_map_set ((BalaMap*) _tmp424_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, bala_get_ccode_destroy_notify_pos ((BalaCodeNode*) _tmp425_), FALSE)), _tmp426_);
											}
											_bala_ccode_node_unref0 (delegate_target);
											_bala_ccode_node_unref0 (delegate_target_destroy_notify);
										}
										_bala_code_node_unref0 (d);
										_bala_code_node_unref0 (deleg_type);
									}
								}
								_tmp427_ = param;
								_tmp428_ = arg;
								_tmp429_ = cexpr;
								_tmp430_ = bala_ccode_base_module_handle_struct_argument (self, _tmp427_, _tmp428_, _tmp429_);
								_bala_ccode_node_unref0 (cexpr);
								cexpr = _tmp430_;
								_tmp431_ = param;
								_tmp432_ = bala_get_ccode_type ((BalaCodeNode*) _tmp431_);
								_tmp433_ = _tmp432_;
								_tmp434_ = _tmp433_ != NULL;
								_g_free0 (_tmp433_);
								if (_tmp434_) {
									BalaCCodeExpression* _tmp435_;
									BalaParameter* _tmp436_;
									gchar* _tmp437_;
									gchar* _tmp438_;
									BalaCCodeCastExpression* _tmp439_;
									_tmp435_ = cexpr;
									_tmp436_ = param;
									_tmp437_ = bala_get_ccode_type ((BalaCodeNode*) _tmp436_);
									_tmp438_ = _tmp437_;
									_tmp439_ = bala_ccode_cast_expression_new (_tmp435_, _tmp438_);
									_bala_ccode_node_unref0 (cexpr);
									cexpr = (BalaCCodeExpression*) _tmp439_;
									_g_free0 (_tmp438_);
								}
							} else {
								BalaExpression* _tmp440_;
								BalaCCodeExpression* _tmp441_;
								BalaCCodeExpression* _tmp442_;
								_tmp440_ = arg;
								_tmp441_ = cexpr;
								_tmp442_ = bala_ccode_base_module_handle_struct_argument (self, NULL, _tmp440_, _tmp441_);
								_bala_ccode_node_unref0 (cexpr);
								cexpr = _tmp442_;
							}
							_tmp443_ = param;
							arg_pos = bala_ccode_base_module_get_param_pos (self, bala_get_ccode_pos (_tmp443_), ellipsis);
						} else {
							BalaExpression* _tmp444_;
							BalaCCodeExpression* _tmp445_;
							BalaCCodeExpression* _tmp446_;
							_tmp444_ = arg;
							_tmp445_ = cexpr;
							_tmp446_ = bala_ccode_base_module_handle_struct_argument (self, NULL, _tmp444_, _tmp445_);
							_bala_ccode_node_unref0 (cexpr);
							cexpr = _tmp446_;
							arg_pos = bala_ccode_base_module_get_param_pos (self, (gdouble) i, ellipsis);
						}
						_tmp447_ = carg_map;
						_tmp448_ = cexpr;
						bala_map_set ((BalaMap*) _tmp447_, (gpointer) ((gintptr) arg_pos), _tmp448_);
						_tmp449_ = i;
						i = _tmp449_ + 1;
						_bala_code_node_unref0 (param);
						_bala_map_unref0 (carg_map);
						_bala_ccode_node_unref0 (cexpr);
						_bala_code_node_unref0 (arg);
					}
					_bala_iterable_unref0 (_arg_list);
				}
				_tmp450_ = params_it;
				if (bala_iterator_next (_tmp450_)) {
					BalaParameter* param = NULL;
					BalaIterator* _tmp451_;
					gpointer _tmp452_;
					gboolean _tmp453_ = FALSE;
					BalaParameter* _tmp454_;
					gboolean _tmp455_;
					gboolean _tmp456_;
					_tmp451_ = params_it;
					_tmp452_ = bala_iterator_get (_tmp451_);
					param = (BalaParameter*) _tmp452_;
					_tmp454_ = param;
					_tmp455_ = bala_parameter_get_params_array (_tmp454_);
					_tmp456_ = _tmp455_;
					if (_tmp456_) {
						_tmp453_ = TRUE;
					} else {
						BalaParameter* _tmp457_;
						gboolean _tmp458_;
						gboolean _tmp459_;
						_tmp457_ = param;
						_tmp458_ = bala_parameter_get_ellipsis (_tmp457_);
						_tmp459_ = _tmp458_;
						_tmp453_ = _tmp459_;
					}
					_bala_assert (_tmp453_, "param.params_array || param.ellipsis");
					ellipsis = TRUE;
					_bala_code_node_unref0 (param);
				}
				_tmp460_ = bala_code_node_get_tree_can_fail ((BalaCodeNode*) expr);
				_tmp461_ = _tmp460_;
				if (_tmp461_) {
					BalaHashMap* _tmp462_;
					BalaCCodeExpression* _tmp463_;
					BalaCCodeExpression* _tmp464_;
					BalaCCodeUnaryExpression* _tmp465_;
					BalaCCodeUnaryExpression* _tmp466_;
					bala_ccode_base_module_set_current_method_inner_error (self, TRUE);
					_tmp462_ = out_arg_map;
					_tmp463_ = bala_ccode_base_module_get_inner_error_cexpression (self);
					_tmp464_ = _tmp463_;
					_tmp465_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp464_);
					_tmp466_ = _tmp465_;
					bala_map_set ((BalaMap*) _tmp462_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (gdouble) -1, FALSE)), (BalaCCodeExpression*) _tmp466_);
					_bala_ccode_node_unref0 (_tmp466_);
					_bala_ccode_node_unref0 (_tmp464_);
				}
				if (ellipsis) {
					BalaMethod* _tmp467_;
					_tmp467_ = m;
					if (_tmp467_ == NULL) {
						BalaHashMap* _tmp468_;
						BalaCCodeConstant* _tmp469_;
						BalaCCodeConstant* _tmp470_;
						_tmp468_ = in_arg_map;
						_tmp469_ = bala_ccode_constant_new ("NULL");
						_tmp470_ = _tmp469_;
						bala_map_set ((BalaMap*) _tmp468_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (gdouble) -1, TRUE)), (BalaCCodeExpression*) _tmp470_);
						_bala_ccode_node_unref0 (_tmp470_);
					} else {
						gboolean _tmp471_ = FALSE;
						gboolean _tmp472_ = FALSE;
						BalaMethod* _tmp473_;
						gboolean _tmp474_;
						gboolean _tmp475_;
						_tmp473_ = m;
						_tmp474_ = bala_method_get_printf_format (_tmp473_);
						_tmp475_ = _tmp474_;
						if (!_tmp475_) {
							BalaMethod* _tmp476_;
							gboolean _tmp477_;
							gboolean _tmp478_;
							_tmp476_ = m;
							_tmp477_ = bala_method_get_scanf_format (_tmp476_);
							_tmp478_ = _tmp477_;
							_tmp472_ = !_tmp478_;
						} else {
							_tmp472_ = FALSE;
						}
						if (_tmp472_) {
							BalaMethod* _tmp479_;
							gchar* _tmp480_;
							gchar* _tmp481_;
							_tmp479_ = m;
							_tmp480_ = bala_get_ccode_sentinel (_tmp479_);
							_tmp481_ = _tmp480_;
							_tmp471_ = g_strcmp0 (_tmp481_, "") != 0;
							_g_free0 (_tmp481_);
						} else {
							_tmp471_ = FALSE;
						}
						if (_tmp471_) {
							BalaHashMap* _tmp482_;
							BalaMethod* _tmp483_;
							gchar* _tmp484_;
							gchar* _tmp485_;
							BalaCCodeConstant* _tmp486_;
							BalaCCodeConstant* _tmp487_;
							_tmp482_ = in_arg_map;
							_tmp483_ = m;
							_tmp484_ = bala_get_ccode_sentinel (_tmp483_);
							_tmp485_ = _tmp484_;
							_tmp486_ = bala_ccode_constant_new (_tmp485_);
							_tmp487_ = _tmp486_;
							bala_map_set ((BalaMap*) _tmp482_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (gdouble) -1, TRUE)), (BalaCCodeExpression*) _tmp487_);
							_bala_ccode_node_unref0 (_tmp487_);
							_g_free0 (_tmp485_);
						}
					}
				}
				_tmp490_ = st;
				if (_tmp490_ != NULL) {
					BalaStruct* _tmp491_;
					_tmp491_ = st;
					_tmp489_ = !bala_struct_is_simple_type (_tmp491_);
				} else {
					_tmp489_ = FALSE;
				}
				if (_tmp489_) {
					BalaMethod* _tmp492_;
					_tmp492_ = m;
					_tmp488_ = bala_get_ccode_instance_pos ((BalaCodeNode*) _tmp492_) < ((gdouble) 0);
				} else {
					_tmp488_ = FALSE;
				}
				if (_tmp488_) {
					BalaHashMap* _tmp493_;
					BalaCCodeExpression* _tmp494_;
					BalaCCodeUnaryExpression* _tmp495_;
					BalaCCodeUnaryExpression* _tmp496_;
					_tmp493_ = out_arg_map;
					_tmp494_ = instance;
					_tmp495_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp494_);
					_tmp496_ = _tmp495_;
					bala_map_set ((BalaMap*) _tmp493_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (gdouble) -3, FALSE)), (BalaCCodeExpression*) _tmp496_);
					_bala_ccode_node_unref0 (_tmp496_);
				}
				_tmp498_ = m;
				if (_tmp498_ != NULL) {
					BalaMethod* _tmp499_;
					gboolean _tmp500_;
					gboolean _tmp501_;
					_tmp499_ = m;
					_tmp500_ = bala_method_get_coroutine (_tmp499_);
					_tmp501_ = _tmp500_;
					_tmp497_ = _tmp501_;
				} else {
					_tmp497_ = FALSE;
				}
				if (_tmp497_) {
					gboolean _tmp502_;
					gboolean _tmp503_;
					_tmp502_ = bala_object_creation_expression_get_is_yield_expression (expr);
					_tmp503_ = _tmp502_;
					if (_tmp503_) {
						BalaHashMap* _tmp504_;
						BalaMethod* _tmp505_;
						BalaMethod* _tmp506_;
						gchar* _tmp507_;
						gchar* _tmp508_;
						BalaCCodeIdentifier* _tmp509_;
						BalaCCodeIdentifier* _tmp510_;
						BalaHashMap* _tmp511_;
						BalaCCodeIdentifier* _tmp512_;
						BalaCCodeIdentifier* _tmp513_;
						_tmp504_ = in_arg_map;
						_tmp505_ = bala_ccode_base_module_get_current_method (self);
						_tmp506_ = _tmp505_;
						_tmp507_ = bala_ccode_base_module_generate_ready_function (self, _tmp506_);
						_tmp508_ = _tmp507_;
						_tmp509_ = bala_ccode_identifier_new (_tmp508_);
						_tmp510_ = _tmp509_;
						bala_map_set ((BalaMap*) _tmp504_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, (gdouble) -1, FALSE)), (BalaCCodeExpression*) _tmp510_);
						_bala_ccode_node_unref0 (_tmp510_);
						_g_free0 (_tmp508_);
						_tmp511_ = in_arg_map;
						_tmp512_ = bala_ccode_identifier_new ("_data_");
						_tmp513_ = _tmp512_;
						bala_map_set ((BalaMap*) _tmp511_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, -0.9, FALSE)), (BalaCCodeExpression*) _tmp513_);
						_bala_ccode_node_unref0 (_tmp513_);
					}
				}
				_tmp516_ = m;
				if (_tmp516_ != NULL) {
					BalaMethod* _tmp517_;
					gboolean _tmp518_;
					gboolean _tmp519_;
					_tmp517_ = m;
					_tmp518_ = bala_method_get_coroutine (_tmp517_);
					_tmp519_ = _tmp518_;
					_tmp515_ = _tmp519_;
				} else {
					_tmp515_ = FALSE;
				}
				if (_tmp515_) {
					BalaMethod* _tmp520_;
					BalaSymbol* _tmp521_;
					BalaSymbol* _tmp522_;
					_tmp520_ = m;
					_tmp521_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp520_);
					_tmp522_ = _tmp521_;
					_tmp514_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp522_, BALA_TYPE_CLASS);
				} else {
					_tmp514_ = FALSE;
				}
				if (_tmp514_) {
					BalaMethod* _tmp523_;
					_tmp523_ = m;
					if (bala_get_ccode_finish_instance (_tmp523_)) {
						BalaCCodeMemberAccess* tmp = NULL;
						BalaCCodeIdentifier* _tmp524_;
						BalaCCodeIdentifier* _tmp525_;
						BalaCCodeMemberAccess* _tmp526_;
						BalaCCodeMemberAccess* _tmp527_;
						BalaHashMap* _tmp528_;
						BalaMethod* _tmp529_;
						BalaCCodeMemberAccess* _tmp530_;
						_tmp524_ = bala_ccode_identifier_new ("_data_");
						_tmp525_ = _tmp524_;
						_tmp526_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp525_, "_source_object_");
						_tmp527_ = _tmp526_;
						_bala_ccode_node_unref0 (_tmp525_);
						tmp = _tmp527_;
						_tmp528_ = out_arg_map;
						_tmp529_ = m;
						_tmp530_ = tmp;
						bala_map_set ((BalaMap*) _tmp528_, (gpointer) ((gintptr) bala_ccode_base_module_get_param_pos (self, bala_get_ccode_instance_pos ((BalaCodeNode*) _tmp529_), FALSE)), (BalaCCodeExpression*) _tmp530_);
						_bala_ccode_node_unref0 (tmp);
					}
				}
				_tmp531_ = async_call;
				_tmp532_ = creation_call;
				if (_tmp531_ != _tmp532_) {
					last_pos = -1;
					while (TRUE) {
						BalaCCodeFunctionCall* _tmp543_;
						BalaHashMap* _tmp544_;
						gpointer _tmp545_;
						BalaCCodeExpression* _tmp546_;
						min_pos = -1;
						{
							BalaIterator* _pos_it = NULL;
							BalaHashMap* _tmp533_;
							BalaSet* _tmp534_;
							BalaSet* _tmp535_;
							BalaIterator* _tmp536_;
							BalaIterator* _tmp537_;
							_tmp533_ = out_arg_map;
							_tmp534_ = bala_map_get_keys ((BalaMap*) _tmp533_);
							_tmp535_ = _tmp534_;
							_tmp536_ = bala_iterable_iterator ((BalaIterable*) _tmp535_);
							_tmp537_ = _tmp536_;
							_bala_iterable_unref0 (_tmp535_);
							_pos_it = _tmp537_;
							while (TRUE) {
								BalaIterator* _tmp538_;
								gint pos = 0;
								BalaIterator* _tmp539_;
								gpointer _tmp540_;
								gboolean _tmp541_ = FALSE;
								_tmp538_ = _pos_it;
								if (!bala_iterator_next (_tmp538_)) {
									break;
								}
								_tmp539_ = _pos_it;
								_tmp540_ = bala_iterator_get (_tmp539_);
								pos = (gint) ((gintptr) _tmp540_);
								if (pos > last_pos) {
									gboolean _tmp542_ = FALSE;
									if (min_pos == -1) {
										_tmp542_ = TRUE;
									} else {
										_tmp542_ = pos < min_pos;
									}
									_tmp541_ = _tmp542_;
								} else {
									_tmp541_ = FALSE;
								}
								if (_tmp541_) {
									min_pos = pos;
								}
							}
							_bala_iterator_unref0 (_pos_it);
						}
						if (min_pos == -1) {
							break;
						}
						_tmp543_ = creation_call;
						_tmp544_ = out_arg_map;
						_tmp545_ = bala_map_get ((BalaMap*) _tmp544_, (gpointer) ((gintptr) min_pos));
						_tmp546_ = (BalaCCodeExpression*) _tmp545_;
						bala_ccode_function_call_add_argument (_tmp543_, _tmp546_);
						_bala_ccode_node_unref0 (_tmp546_);
						last_pos = min_pos;
					}
				}
				_tmp547_ = async_call;
				if (_tmp547_ != NULL) {
					last_pos = -1;
					while (TRUE) {
						BalaCCodeFunctionCall* _tmp558_;
						BalaHashMap* _tmp559_;
						gpointer _tmp560_;
						BalaCCodeExpression* _tmp561_;
						min_pos = -1;
						{
							BalaIterator* _pos_it = NULL;
							BalaHashMap* _tmp548_;
							BalaSet* _tmp549_;
							BalaSet* _tmp550_;
							BalaIterator* _tmp551_;
							BalaIterator* _tmp552_;
							_tmp548_ = in_arg_map;
							_tmp549_ = bala_map_get_keys ((BalaMap*) _tmp548_);
							_tmp550_ = _tmp549_;
							_tmp551_ = bala_iterable_iterator ((BalaIterable*) _tmp550_);
							_tmp552_ = _tmp551_;
							_bala_iterable_unref0 (_tmp550_);
							_pos_it = _tmp552_;
							while (TRUE) {
								BalaIterator* _tmp553_;
								gint pos = 0;
								BalaIterator* _tmp554_;
								gpointer _tmp555_;
								gboolean _tmp556_ = FALSE;
								_tmp553_ = _pos_it;
								if (!bala_iterator_next (_tmp553_)) {
									break;
								}
								_tmp554_ = _pos_it;
								_tmp555_ = bala_iterator_get (_tmp554_);
								pos = (gint) ((gintptr) _tmp555_);
								if (pos > last_pos) {
									gboolean _tmp557_ = FALSE;
									if (min_pos == -1) {
										_tmp557_ = TRUE;
									} else {
										_tmp557_ = pos < min_pos;
									}
									_tmp556_ = _tmp557_;
								} else {
									_tmp556_ = FALSE;
								}
								if (_tmp556_) {
									min_pos = pos;
								}
							}
							_bala_iterator_unref0 (_pos_it);
						}
						if (min_pos == -1) {
							break;
						}
						_tmp558_ = async_call;
						_tmp559_ = in_arg_map;
						_tmp560_ = bala_map_get ((BalaMap*) _tmp559_, (gpointer) ((gintptr) min_pos));
						_tmp561_ = (BalaCCodeExpression*) _tmp560_;
						bala_ccode_function_call_add_argument (_tmp558_, _tmp561_);
						_bala_ccode_node_unref0 (_tmp561_);
						last_pos = min_pos;
					}
				}
				_tmp562_ = bala_object_creation_expression_get_is_yield_expression (expr);
				_tmp563_ = _tmp562_;
				if (_tmp563_) {
					gint state = 0;
					BalaCCodeBaseModuleEmitContext* _tmp564_;
					gint _tmp565_;
					BalaCCodeFunction* _tmp566_;
					BalaCCodeFunction* _tmp567_;
					BalaCCodeIdentifier* _tmp568_;
					BalaCCodeIdentifier* _tmp569_;
					BalaCCodeMemberAccess* _tmp570_;
					BalaCCodeMemberAccess* _tmp571_;
					gchar* _tmp572_;
					gchar* _tmp573_;
					BalaCCodeConstant* _tmp574_;
					BalaCCodeConstant* _tmp575_;
					BalaCCodeFunction* _tmp576_;
					BalaCCodeFunction* _tmp577_;
					BalaCCodeFunctionCall* _tmp578_;
					BalaCCodeFunction* _tmp579_;
					BalaCCodeFunction* _tmp580_;
					BalaCCodeConstant* _tmp581_;
					BalaCCodeConstant* _tmp582_;
					BalaCCodeFunction* _tmp583_;
					BalaCCodeFunction* _tmp584_;
					gchar* _tmp585_;
					gchar* _tmp586_;
					_tmp564_ = self->emit_context;
					_tmp565_ = _tmp564_->next_coroutine_state;
					_tmp564_->next_coroutine_state = _tmp565_ + 1;
					state = _tmp565_;
					_tmp566_ = bala_ccode_base_module_get_ccode (self);
					_tmp567_ = _tmp566_;
					_tmp568_ = bala_ccode_identifier_new ("_data_");
					_tmp569_ = _tmp568_;
					_tmp570_ = bala_ccode_member_access_new_pointer ((BalaCCodeExpression*) _tmp569_, "_state_");
					_tmp571_ = _tmp570_;
					_tmp572_ = g_strdup_printf ("%i", state);
					_tmp573_ = _tmp572_;
					_tmp574_ = bala_ccode_constant_new (_tmp573_);
					_tmp575_ = _tmp574_;
					bala_ccode_function_add_assignment (_tmp567_, (BalaCCodeExpression*) _tmp571_, (BalaCCodeExpression*) _tmp575_);
					_bala_ccode_node_unref0 (_tmp575_);
					_g_free0 (_tmp573_);
					_bala_ccode_node_unref0 (_tmp571_);
					_bala_ccode_node_unref0 (_tmp569_);
					_tmp576_ = bala_ccode_base_module_get_ccode (self);
					_tmp577_ = _tmp576_;
					_tmp578_ = async_call;
					bala_ccode_function_add_expression (_tmp577_, (BalaCCodeExpression*) _tmp578_);
					_tmp579_ = bala_ccode_base_module_get_ccode (self);
					_tmp580_ = _tmp579_;
					_tmp581_ = bala_ccode_constant_new ("FALSE");
					_tmp582_ = _tmp581_;
					bala_ccode_function_add_return (_tmp580_, (BalaCCodeExpression*) _tmp582_);
					_bala_ccode_node_unref0 (_tmp582_);
					_tmp583_ = bala_ccode_base_module_get_ccode (self);
					_tmp584_ = _tmp583_;
					_tmp585_ = g_strdup_printf ("_state_%d", state);
					_tmp586_ = _tmp585_;
					bala_ccode_function_add_label (_tmp584_, _tmp586_);
					_g_free0 (_tmp586_);
				}
				_tmp587_ = creation_call;
				_tmp588_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp587_);
				_bala_ccode_node_unref0 (creation_expr);
				creation_expr = _tmp588_;
				_tmp589_ = m;
				_tmp590_ = bala_get_ccode_type ((BalaCodeNode*) _tmp589_);
				_tmp591_ = _tmp590_;
				_tmp592_ = _tmp591_ != NULL;
				_g_free0 (_tmp591_);
				if (_tmp592_) {
					BalaCCodeExpression* _tmp593_;
					BalaDataType* _tmp594_;
					BalaDataType* _tmp595_;
					gchar* _tmp596_;
					gchar* _tmp597_;
					BalaCCodeCastExpression* _tmp598_;
					_tmp593_ = creation_expr;
					_tmp594_ = bala_object_creation_expression_get_type_reference (expr);
					_tmp595_ = _tmp594_;
					_tmp596_ = bala_get_ccode_name ((BalaCodeNode*) _tmp595_);
					_tmp597_ = _tmp596_;
					_tmp598_ = bala_ccode_cast_expression_new (_tmp593_, _tmp597_);
					_bala_ccode_node_unref0 (creation_expr);
					creation_expr = (BalaCCodeExpression*) _tmp598_;
					_g_free0 (_tmp597_);
				}
				_bala_iterator_unref0 (params_it);
				_bala_map_unref0 (out_arg_map);
				_bala_map_unref0 (in_arg_map);
				_bala_ccode_node_unref0 (finish_call);
				_bala_ccode_node_unref0 (async_call);
				_bala_ccode_node_unref0 (creation_call);
				_bala_iterable_unref0 (params);
				_bala_code_node_unref0 (m);
			} else {
				BalaSymbol* _tmp599_;
				BalaSymbol* _tmp600_;
				_tmp599_ = bala_expression_get_symbol_reference ((BalaExpression*) expr);
				_tmp600_ = _tmp599_;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp600_, BALA_TYPE_ERROR_CODE)) {
					BalaErrorCode* ecode = NULL;
					BalaSymbol* _tmp601_;
					BalaSymbol* _tmp602_;
					BalaErrorCode* _tmp603_;
					BalaErrorDomain* edomain = NULL;
					BalaErrorCode* _tmp604_;
					BalaSymbol* _tmp605_;
					BalaSymbol* _tmp606_;
					BalaErrorDomain* _tmp607_;
					BalaCCodeFunctionCall* creation_call = NULL;
					BalaErrorDomain* _tmp608_;
					BalaCCodeFile* _tmp609_;
					BalaList* _tmp610_;
					gint _tmp611_;
					gint _tmp612_;
					BalaCCodeFunctionCall* _tmp619_;
					BalaErrorDomain* _tmp620_;
					gchar* _tmp621_;
					gchar* _tmp622_;
					BalaCCodeIdentifier* _tmp623_;
					BalaCCodeIdentifier* _tmp624_;
					BalaCCodeFunctionCall* _tmp625_;
					BalaErrorCode* _tmp626_;
					gchar* _tmp627_;
					gchar* _tmp628_;
					BalaCCodeIdentifier* _tmp629_;
					BalaCCodeIdentifier* _tmp630_;
					BalaCCodeFunctionCall* _tmp643_;
					BalaCCodeExpression* _tmp644_;
					_tmp601_ = bala_expression_get_symbol_reference ((BalaExpression*) expr);
					_tmp602_ = _tmp601_;
					_tmp603_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp602_, BALA_TYPE_ERROR_CODE, BalaErrorCode));
					ecode = _tmp603_;
					_tmp604_ = ecode;
					_tmp605_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp604_);
					_tmp606_ = _tmp605_;
					_tmp607_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp606_, BALA_TYPE_ERROR_DOMAIN, BalaErrorDomain));
					edomain = _tmp607_;
					_tmp608_ = edomain;
					_tmp609_ = self->cfile;
					bala_ccode_base_module_generate_error_domain_declaration (self, _tmp608_, _tmp609_);
					_tmp610_ = bala_object_creation_expression_get_argument_list (expr);
					_tmp611_ = bala_collection_get_size ((BalaCollection*) _tmp610_);
					_tmp612_ = _tmp611_;
					if (_tmp612_ == 1) {
						BalaCCodeIdentifier* _tmp613_;
						BalaCCodeIdentifier* _tmp614_;
						BalaCCodeFunctionCall* _tmp615_;
						_tmp613_ = bala_ccode_identifier_new ("g_error_new_literal");
						_tmp614_ = _tmp613_;
						_tmp615_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp614_);
						_bala_ccode_node_unref0 (creation_call);
						creation_call = _tmp615_;
						_bala_ccode_node_unref0 (_tmp614_);
					} else {
						BalaCCodeIdentifier* _tmp616_;
						BalaCCodeIdentifier* _tmp617_;
						BalaCCodeFunctionCall* _tmp618_;
						_tmp616_ = bala_ccode_identifier_new ("g_error_new");
						_tmp617_ = _tmp616_;
						_tmp618_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp617_);
						_bala_ccode_node_unref0 (creation_call);
						creation_call = _tmp618_;
						_bala_ccode_node_unref0 (_tmp617_);
					}
					_tmp619_ = creation_call;
					_tmp620_ = edomain;
					_tmp621_ = bala_get_ccode_upper_case_name ((BalaSymbol*) _tmp620_, NULL);
					_tmp622_ = _tmp621_;
					_tmp623_ = bala_ccode_identifier_new (_tmp622_);
					_tmp624_ = _tmp623_;
					bala_ccode_function_call_add_argument (_tmp619_, (BalaCCodeExpression*) _tmp624_);
					_bala_ccode_node_unref0 (_tmp624_);
					_g_free0 (_tmp622_);
					_tmp625_ = creation_call;
					_tmp626_ = ecode;
					_tmp627_ = bala_get_ccode_name ((BalaCodeNode*) _tmp626_);
					_tmp628_ = _tmp627_;
					_tmp629_ = bala_ccode_identifier_new (_tmp628_);
					_tmp630_ = _tmp629_;
					bala_ccode_function_call_add_argument (_tmp625_, (BalaCCodeExpression*) _tmp630_);
					_bala_ccode_node_unref0 (_tmp630_);
					_g_free0 (_tmp628_);
					{
						BalaList* _arg_list = NULL;
						BalaList* _tmp631_;
						BalaList* _tmp632_;
						gint _arg_size = 0;
						BalaList* _tmp633_;
						gint _tmp634_;
						gint _tmp635_;
						gint _arg_index = 0;
						_tmp631_ = bala_object_creation_expression_get_argument_list (expr);
						_tmp632_ = _bala_iterable_ref0 (_tmp631_);
						_arg_list = _tmp632_;
						_tmp633_ = _arg_list;
						_tmp634_ = bala_collection_get_size ((BalaCollection*) _tmp633_);
						_tmp635_ = _tmp634_;
						_arg_size = _tmp635_;
						_arg_index = -1;
						while (TRUE) {
							gint _tmp636_;
							gint _tmp637_;
							BalaExpression* arg = NULL;
							BalaList* _tmp638_;
							gpointer _tmp639_;
							BalaCCodeFunctionCall* _tmp640_;
							BalaExpression* _tmp641_;
							BalaCCodeExpression* _tmp642_;
							_arg_index = _arg_index + 1;
							_tmp636_ = _arg_index;
							_tmp637_ = _arg_size;
							if (!(_tmp636_ < _tmp637_)) {
								break;
							}
							_tmp638_ = _arg_list;
							_tmp639_ = bala_list_get (_tmp638_, _arg_index);
							arg = (BalaExpression*) _tmp639_;
							_tmp640_ = creation_call;
							_tmp641_ = arg;
							_tmp642_ = bala_get_cvalue (_tmp641_);
							bala_ccode_function_call_add_argument (_tmp640_, _tmp642_);
							_bala_code_node_unref0 (arg);
						}
						_bala_iterable_unref0 (_arg_list);
					}
					_tmp643_ = creation_call;
					_tmp644_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp643_);
					_bala_ccode_node_unref0 (creation_expr);
					creation_expr = _tmp644_;
					_bala_ccode_node_unref0 (creation_call);
					_bala_code_node_unref0 (edomain);
					_bala_code_node_unref0 (ecode);
				} else {
					_bala_assert (FALSE, "false");
				}
			}
		}
	}
	_tmp645_ = bala_code_node_get_parent_node ((BalaCodeNode*) expr);
	_tmp646_ = _tmp645_;
	_tmp647_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp646_, BALA_TYPE_LOCAL_VARIABLE) ? ((BalaLocalVariable*) _tmp646_) : NULL);
	local = _tmp647_;
	_tmp649_ = local;
	if (_tmp649_ != NULL) {
		BalaLocalVariable* _tmp650_;
		BalaLocalVariable* _tmp651_;
		BalaExpression* _tmp652_;
		BalaExpression* _tmp653_;
		_tmp650_ = local;
		_tmp651_ = local;
		_tmp652_ = bala_variable_get_initializer ((BalaVariable*) _tmp651_);
		_tmp653_ = _tmp652_;
		_tmp648_ = bala_ccode_base_module_is_simple_struct_creation (self, (BalaVariable*) _tmp650_, _tmp653_);
	} else {
		_tmp648_ = FALSE;
	}
	if (_tmp648_) {
		BalaCCodeFunction* _tmp654_;
		BalaCCodeFunction* _tmp655_;
		BalaCCodeExpression* _tmp656_;
		BalaCCodeExpression* _tmp657_;
		_tmp654_ = bala_ccode_base_module_get_ccode (self);
		_tmp655_ = _tmp654_;
		_tmp656_ = creation_expr;
		bala_ccode_function_add_expression (_tmp655_, _tmp656_);
		_tmp657_ = instance;
		bala_set_cvalue ((BalaExpression*) expr, _tmp657_);
	} else {
		BalaCCodeExpression* _tmp658_;
		_tmp658_ = instance;
		if (_tmp658_ != NULL) {
			BalaDataType* _tmp659_;
			BalaDataType* _tmp660_;
			BalaTypeSymbol* _tmp661_;
			BalaTypeSymbol* _tmp662_;
			BalaCCodeExpression* _tmp787_;
			_tmp659_ = bala_object_creation_expression_get_type_reference (expr);
			_tmp660_ = _tmp659_;
			_tmp661_ = bala_data_type_get_type_symbol (_tmp660_);
			_tmp662_ = _tmp661_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp662_, BALA_TYPE_STRUCT)) {
				BalaCCodeFunction* _tmp663_;
				BalaCCodeFunction* _tmp664_;
				BalaCCodeExpression* _tmp665_;
				_tmp663_ = bala_ccode_base_module_get_ccode (self);
				_tmp664_ = _tmp663_;
				_tmp665_ = creation_expr;
				bala_ccode_function_add_expression (_tmp664_, _tmp665_);
			} else {
				BalaCCodeFunction* _tmp666_;
				BalaCCodeFunction* _tmp667_;
				BalaCCodeExpression* _tmp668_;
				BalaCCodeExpression* _tmp669_;
				_tmp666_ = bala_ccode_base_module_get_ccode (self);
				_tmp667_ = _tmp666_;
				_tmp668_ = instance;
				_tmp669_ = creation_expr;
				bala_ccode_function_add_assignment (_tmp667_, _tmp668_, _tmp669_);
			}
			{
				BalaList* _init_list = NULL;
				BalaList* _tmp670_;
				BalaList* _tmp671_;
				gint _init_size = 0;
				BalaList* _tmp672_;
				gint _tmp673_;
				gint _tmp674_;
				gint _init_index = 0;
				_tmp670_ = bala_object_creation_expression_get_object_initializer (expr);
				_tmp671_ = _bala_iterable_ref0 (_tmp670_);
				_init_list = _tmp671_;
				_tmp672_ = _init_list;
				_tmp673_ = bala_collection_get_size ((BalaCollection*) _tmp672_);
				_tmp674_ = _tmp673_;
				_init_size = _tmp674_;
				_init_index = -1;
				while (TRUE) {
					gint _tmp675_;
					gint _tmp676_;
					BalaMemberInitializer* init = NULL;
					BalaList* _tmp677_;
					gpointer _tmp678_;
					BalaMemberInitializer* _tmp679_;
					BalaSymbol* _tmp680_;
					BalaSymbol* _tmp681_;
					_init_index = _init_index + 1;
					_tmp675_ = _init_index;
					_tmp676_ = _init_size;
					if (!(_tmp675_ < _tmp676_)) {
						break;
					}
					_tmp677_ = _init_list;
					_tmp678_ = bala_list_get (_tmp677_, _init_index);
					init = (BalaMemberInitializer*) _tmp678_;
					_tmp679_ = init;
					_tmp680_ = bala_member_initializer_get_symbol_reference (_tmp679_);
					_tmp681_ = _tmp680_;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp681_, BALA_TYPE_FIELD)) {
						BalaField* f = NULL;
						BalaMemberInitializer* _tmp682_;
						BalaSymbol* _tmp683_;
						BalaSymbol* _tmp684_;
						BalaField* _tmp685_;
						BalaDataType* instance_target_type = NULL;
						BalaField* _tmp686_;
						BalaSymbol* _tmp687_;
						BalaSymbol* _tmp688_;
						BalaDataType* _tmp689_;
						BalaTargetValue* typed_inst = NULL;
						BalaDataType* _tmp690_;
						BalaDataType* _tmp691_;
						BalaCCodeExpression* _tmp692_;
						BalaGLibValue* _tmp693_;
						BalaGLibValue* _tmp694_;
						BalaDataType* _tmp695_;
						BalaMemberInitializer* _tmp696_;
						BalaTargetValue* _tmp697_;
						BalaTargetValue* _tmp698_;
						BalaField* _tmp699_;
						BalaTargetValue* _tmp700_;
						BalaMemberInitializer* _tmp701_;
						BalaExpression* _tmp702_;
						BalaExpression* _tmp703_;
						BalaTargetValue* _tmp704_;
						BalaTargetValue* _tmp705_;
						BalaMemberInitializer* _tmp706_;
						BalaSourceReference* _tmp707_;
						BalaSourceReference* _tmp708_;
						BalaClass* cl = NULL;
						BalaField* _tmp709_;
						BalaSymbol* _tmp710_;
						BalaSymbol* _tmp711_;
						BalaClass* _tmp712_;
						BalaClass* _tmp713_;
						_tmp682_ = init;
						_tmp683_ = bala_member_initializer_get_symbol_reference (_tmp682_);
						_tmp684_ = _tmp683_;
						_tmp685_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp684_, BALA_TYPE_FIELD, BalaField));
						f = _tmp685_;
						_tmp686_ = f;
						_tmp687_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp686_);
						_tmp688_ = _tmp687_;
						_tmp689_ = bala_semantic_analyzer_get_data_type_for_symbol ((BalaSymbol*) G_TYPE_CHECK_INSTANCE_CAST (_tmp688_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
						instance_target_type = _tmp689_;
						_tmp690_ = bala_object_creation_expression_get_type_reference (expr);
						_tmp691_ = _tmp690_;
						_tmp692_ = instance;
						_tmp693_ = bala_glib_value_new (_tmp691_, _tmp692_, TRUE);
						_tmp694_ = _tmp693_;
						_tmp695_ = instance_target_type;
						_tmp696_ = init;
						_tmp697_ = bala_ccode_base_module_transform_value (self, (BalaTargetValue*) _tmp694_, _tmp695_, (BalaCodeNode*) _tmp696_);
						_tmp698_ = _tmp697_;
						_bala_target_value_unref0 (_tmp694_);
						typed_inst = _tmp698_;
						_tmp699_ = f;
						_tmp700_ = typed_inst;
						_tmp701_ = init;
						_tmp702_ = bala_member_initializer_get_initializer (_tmp701_);
						_tmp703_ = _tmp702_;
						_tmp704_ = bala_expression_get_target_value (_tmp703_);
						_tmp705_ = _tmp704_;
						_tmp706_ = init;
						_tmp707_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp706_);
						_tmp708_ = _tmp707_;
						bala_code_generator_store_field ((BalaCodeGenerator*) self, _tmp699_, _tmp700_, _tmp705_, _tmp708_);
						_tmp709_ = f;
						_tmp710_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp709_);
						_tmp711_ = _tmp710_;
						_tmp712_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp711_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp711_) : NULL);
						cl = _tmp712_;
						_tmp713_ = cl;
						if (_tmp713_ != NULL) {
							BalaClass* _tmp714_;
							BalaCCodeFile* _tmp715_;
							_tmp714_ = cl;
							_tmp715_ = self->cfile;
							bala_ccode_base_module_generate_class_struct_declaration (self, _tmp714_, _tmp715_);
						}
						_bala_code_node_unref0 (cl);
						_bala_target_value_unref0 (typed_inst);
						_bala_code_node_unref0 (instance_target_type);
						_bala_code_node_unref0 (f);
					} else {
						BalaMemberInitializer* _tmp716_;
						BalaSymbol* _tmp717_;
						BalaSymbol* _tmp718_;
						_tmp716_ = init;
						_tmp717_ = bala_member_initializer_get_symbol_reference (_tmp716_);
						_tmp718_ = _tmp717_;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp718_, BALA_TYPE_PROPERTY)) {
							BalaProperty* p = NULL;
							BalaMemberInitializer* _tmp719_;
							BalaSymbol* _tmp720_;
							BalaSymbol* _tmp721_;
							BalaProperty* _tmp722_;
							BalaProperty* _tmp723_;
							BalaProperty* _tmp724_;
							BalaProperty* _tmp725_;
							BalaDataType* instance_target_type = NULL;
							BalaProperty* _tmp737_;
							BalaSymbol* _tmp738_;
							BalaSymbol* _tmp739_;
							BalaDataType* _tmp740_;
							BalaTargetValue* typed_inst = NULL;
							BalaDataType* _tmp741_;
							BalaDataType* _tmp742_;
							BalaCCodeExpression* _tmp743_;
							BalaGLibValue* _tmp744_;
							BalaGLibValue* _tmp745_;
							BalaDataType* _tmp746_;
							BalaMemberInitializer* _tmp747_;
							BalaTargetValue* _tmp748_;
							BalaTargetValue* _tmp749_;
							BalaMemberAccess* inst_ma = NULL;
							BalaMemberAccess* _tmp750_;
							BalaMemberAccess* _tmp751_;
							BalaTargetValue* _tmp752_;
							BalaProperty* _tmp753_;
							BalaMemberAccess* _tmp754_;
							BalaMemberInitializer* _tmp755_;
							BalaExpression* _tmp756_;
							BalaExpression* _tmp757_;
							BalaTargetValue* _tmp758_;
							BalaTargetValue* _tmp759_;
							gboolean _tmp760_ = FALSE;
							BalaProperty* _tmp761_;
							BalaPropertyAccessor* _tmp762_;
							BalaPropertyAccessor* _tmp763_;
							BalaDataType* _tmp764_;
							BalaDataType* _tmp765_;
							gboolean _tmp766_;
							gboolean _tmp767_;
							_tmp719_ = init;
							_tmp720_ = bala_member_initializer_get_symbol_reference (_tmp719_);
							_tmp721_ = _tmp720_;
							_tmp722_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp721_, BALA_TYPE_PROPERTY, BalaProperty));
							p = _tmp722_;
							_tmp723_ = p;
							_tmp724_ = bala_property_get_base_property (_tmp723_);
							_tmp725_ = _tmp724_;
							if (_tmp725_ != NULL) {
								BalaProperty* _tmp726_;
								BalaProperty* _tmp727_;
								BalaProperty* _tmp728_;
								BalaProperty* _tmp729_;
								_tmp726_ = p;
								_tmp727_ = bala_property_get_base_property (_tmp726_);
								_tmp728_ = _tmp727_;
								_tmp729_ = _bala_code_node_ref0 (_tmp728_);
								_bala_code_node_unref0 (p);
								p = _tmp729_;
							} else {
								BalaProperty* _tmp730_;
								BalaProperty* _tmp731_;
								BalaProperty* _tmp732_;
								_tmp730_ = p;
								_tmp731_ = bala_property_get_base_interface_property (_tmp730_);
								_tmp732_ = _tmp731_;
								if (_tmp732_ != NULL) {
									BalaProperty* _tmp733_;
									BalaProperty* _tmp734_;
									BalaProperty* _tmp735_;
									BalaProperty* _tmp736_;
									_tmp733_ = p;
									_tmp734_ = bala_property_get_base_interface_property (_tmp733_);
									_tmp735_ = _tmp734_;
									_tmp736_ = _bala_code_node_ref0 (_tmp735_);
									_bala_code_node_unref0 (p);
									p = _tmp736_;
								}
							}
							_tmp737_ = p;
							_tmp738_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp737_);
							_tmp739_ = _tmp738_;
							_tmp740_ = bala_semantic_analyzer_get_data_type_for_symbol ((BalaSymbol*) G_TYPE_CHECK_INSTANCE_CAST (_tmp739_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
							instance_target_type = _tmp740_;
							_tmp741_ = bala_object_creation_expression_get_type_reference (expr);
							_tmp742_ = _tmp741_;
							_tmp743_ = instance;
							_tmp744_ = bala_glib_value_new (_tmp742_, _tmp743_, FALSE);
							_tmp745_ = _tmp744_;
							_tmp746_ = instance_target_type;
							_tmp747_ = init;
							_tmp748_ = bala_ccode_base_module_transform_value (self, (BalaTargetValue*) _tmp745_, _tmp746_, (BalaCodeNode*) _tmp747_);
							_tmp749_ = _tmp748_;
							_bala_target_value_unref0 (_tmp745_);
							typed_inst = _tmp749_;
							_tmp750_ = bala_member_access_new_simple ("fake", NULL);
							inst_ma = _tmp750_;
							_tmp751_ = inst_ma;
							_tmp752_ = typed_inst;
							bala_expression_set_target_value ((BalaExpression*) _tmp751_, _tmp752_);
							_tmp753_ = p;
							_tmp754_ = inst_ma;
							_tmp755_ = init;
							_tmp756_ = bala_member_initializer_get_initializer (_tmp755_);
							_tmp757_ = _tmp756_;
							_tmp758_ = bala_expression_get_target_value (_tmp757_);
							_tmp759_ = _tmp758_;
							bala_ccode_base_module_store_property (self, _tmp753_, (BalaExpression*) _tmp754_, _tmp759_);
							_tmp761_ = p;
							_tmp762_ = bala_property_get_set_accessor (_tmp761_);
							_tmp763_ = _tmp762_;
							_tmp764_ = bala_property_accessor_get_value_type (_tmp763_);
							_tmp765_ = _tmp764_;
							_tmp766_ = bala_data_type_get_value_owned (_tmp765_);
							_tmp767_ = _tmp766_;
							if (!_tmp767_) {
								BalaMemberInitializer* _tmp768_;
								BalaExpression* _tmp769_;
								BalaExpression* _tmp770_;
								BalaTargetValue* _tmp771_;
								BalaTargetValue* _tmp772_;
								BalaDataType* _tmp773_;
								BalaDataType* _tmp774_;
								_tmp768_ = init;
								_tmp769_ = bala_member_initializer_get_initializer (_tmp768_);
								_tmp770_ = _tmp769_;
								_tmp771_ = bala_expression_get_target_value (_tmp770_);
								_tmp772_ = _tmp771_;
								_tmp773_ = bala_target_value_get_value_type (_tmp772_);
								_tmp774_ = _tmp773_;
								_tmp760_ = bala_ccode_base_module_requires_destroy (_tmp774_);
							} else {
								_tmp760_ = FALSE;
							}
							if (_tmp760_) {
								BalaCCodeFunction* _tmp775_;
								BalaCCodeFunction* _tmp776_;
								BalaMemberInitializer* _tmp777_;
								BalaExpression* _tmp778_;
								BalaExpression* _tmp779_;
								BalaTargetValue* _tmp780_;
								BalaTargetValue* _tmp781_;
								BalaCCodeExpression* _tmp782_;
								BalaCCodeExpression* _tmp783_;
								_tmp775_ = bala_ccode_base_module_get_ccode (self);
								_tmp776_ = _tmp775_;
								_tmp777_ = init;
								_tmp778_ = bala_member_initializer_get_initializer (_tmp777_);
								_tmp779_ = _tmp778_;
								_tmp780_ = bala_expression_get_target_value (_tmp779_);
								_tmp781_ = _tmp780_;
								_tmp782_ = bala_ccode_base_module_destroy_value (self, _tmp781_, FALSE);
								_tmp783_ = _tmp782_;
								bala_ccode_function_add_expression (_tmp776_, _tmp783_);
								_bala_ccode_node_unref0 (_tmp783_);
							}
							_bala_code_node_unref0 (inst_ma);
							_bala_target_value_unref0 (typed_inst);
							_bala_code_node_unref0 (instance_target_type);
							_bala_code_node_unref0 (p);
						} else {
							BalaMemberInitializer* _tmp784_;
							BalaSourceReference* _tmp785_;
							BalaSourceReference* _tmp786_;
							_tmp784_ = init;
							_tmp785_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp784_);
							_tmp786_ = _tmp785_;
							bala_report_error (_tmp786_, "internal: Unsupported symbol");
						}
					}
					_bala_code_node_unref0 (init);
				}
				_bala_iterable_unref0 (_init_list);
			}
			_tmp787_ = instance;
			bala_set_cvalue ((BalaExpression*) expr, _tmp787_);
		} else {
			BalaCCodeExpression* _tmp788_;
			_tmp788_ = creation_expr;
			if (_tmp788_ != NULL) {
				BalaTargetValue* temp_value = NULL;
				BalaDataType* _tmp789_;
				BalaDataType* _tmp790_;
				BalaTargetValue* _tmp791_;
				BalaCCodeFunction* _tmp792_;
				BalaCCodeFunction* _tmp793_;
				BalaTargetValue* _tmp794_;
				BalaCCodeExpression* _tmp795_;
				BalaCCodeExpression* _tmp796_;
				BalaTargetValue* _tmp797_;
				BalaClass* cl = NULL;
				BalaDataType* _tmp798_;
				BalaDataType* _tmp799_;
				BalaTypeSymbol* _tmp800_;
				BalaTypeSymbol* _tmp801_;
				BalaCodeContext* _tmp802_;
				gboolean _tmp803_;
				gboolean _tmp804_;
				gboolean _tmp849_ = FALSE;
				BalaClass* _tmp850_;
				_tmp789_ = bala_expression_get_value_type ((BalaExpression*) expr);
				_tmp790_ = _tmp789_;
				_tmp791_ = bala_ccode_base_module_create_temp_value (self, _tmp790_, FALSE, (BalaCodeNode*) expr, NULL);
				temp_value = _tmp791_;
				_tmp792_ = bala_ccode_base_module_get_ccode (self);
				_tmp793_ = _tmp792_;
				_tmp794_ = temp_value;
				_tmp795_ = bala_get_cvalue_ (_tmp794_);
				_tmp796_ = creation_expr;
				bala_ccode_function_add_assignment (_tmp793_, _tmp795_, _tmp796_);
				_tmp797_ = temp_value;
				bala_expression_set_target_value ((BalaExpression*) expr, _tmp797_);
				_tmp798_ = bala_object_creation_expression_get_type_reference (expr);
				_tmp799_ = _tmp798_;
				_tmp800_ = bala_data_type_get_type_symbol (_tmp799_);
				_tmp801_ = _tmp800_;
				cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp801_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp801_) : NULL;
				_tmp802_ = self->priv->_context;
				_tmp803_ = bala_code_context_get_gobject_tracing (_tmp802_);
				_tmp804_ = _tmp803_;
				if (_tmp804_) {
					gboolean _tmp805_ = FALSE;
					BalaClass* _tmp806_;
					_tmp806_ = cl;
					if (_tmp806_ != NULL) {
						BalaClass* _tmp807_;
						BalaTypeSymbol* _tmp808_;
						_tmp807_ = cl;
						_tmp808_ = self->gobject_type;
						_tmp805_ = bala_typesymbol_is_subtype_of ((BalaTypeSymbol*) _tmp807_, _tmp808_);
					} else {
						_tmp805_ = FALSE;
					}
					if (_tmp805_) {
						BalaCCodeFunction* _tmp809_;
						BalaCCodeFunction* _tmp810_;
						BalaTargetValue* _tmp811_;
						BalaTargetValue* _tmp812_;
						BalaCCodeExpression* _tmp813_;
						BalaCCodeFunctionCall* set_data_call = NULL;
						BalaCCodeIdentifier* _tmp814_;
						BalaCCodeIdentifier* _tmp815_;
						BalaCCodeFunctionCall* _tmp816_;
						BalaCCodeFunctionCall* _tmp817_;
						BalaCCodeFunctionCall* _tmp818_;
						BalaTargetValue* _tmp819_;
						BalaTargetValue* _tmp820_;
						BalaCCodeExpression* _tmp821_;
						BalaCCodeCastExpression* _tmp822_;
						BalaCCodeCastExpression* _tmp823_;
						BalaCCodeFunctionCall* _tmp824_;
						BalaCCodeConstant* _tmp825_;
						BalaCCodeConstant* _tmp826_;
						gchar* func_name = NULL;
						gchar* _tmp827_;
						BalaMethod* _tmp828_;
						BalaMethod* _tmp829_;
						BalaCCodeFunctionCall* _tmp838_;
						const gchar* _tmp839_;
						gchar* _tmp840_;
						gchar* _tmp841_;
						BalaCCodeConstant* _tmp842_;
						BalaCCodeConstant* _tmp843_;
						BalaCCodeFunction* _tmp844_;
						BalaCCodeFunction* _tmp845_;
						BalaCCodeFunctionCall* _tmp846_;
						BalaCCodeFunction* _tmp847_;
						BalaCCodeFunction* _tmp848_;
						_tmp809_ = bala_ccode_base_module_get_ccode (self);
						_tmp810_ = _tmp809_;
						_tmp811_ = bala_expression_get_target_value ((BalaExpression*) expr);
						_tmp812_ = _tmp811_;
						_tmp813_ = bala_get_cvalue_ (_tmp812_);
						bala_ccode_function_open_if (_tmp810_, _tmp813_);
						_tmp814_ = bala_ccode_identifier_new ("g_object_set_data");
						_tmp815_ = _tmp814_;
						_tmp816_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp815_);
						_tmp817_ = _tmp816_;
						_bala_ccode_node_unref0 (_tmp815_);
						set_data_call = _tmp817_;
						_tmp818_ = set_data_call;
						_tmp819_ = bala_expression_get_target_value ((BalaExpression*) expr);
						_tmp820_ = _tmp819_;
						_tmp821_ = bala_get_cvalue_ (_tmp820_);
						_tmp822_ = bala_ccode_cast_expression_new (_tmp821_, "GObject *");
						_tmp823_ = _tmp822_;
						bala_ccode_function_call_add_argument (_tmp818_, (BalaCCodeExpression*) _tmp823_);
						_bala_ccode_node_unref0 (_tmp823_);
						_tmp824_ = set_data_call;
						_tmp825_ = bala_ccode_constant_new ("\"bala-creation-function\"");
						_tmp826_ = _tmp825_;
						bala_ccode_function_call_add_argument (_tmp824_, (BalaCCodeExpression*) _tmp826_);
						_bala_ccode_node_unref0 (_tmp826_);
						_tmp827_ = g_strdup ("");
						func_name = _tmp827_;
						_tmp828_ = bala_ccode_base_module_get_current_method (self);
						_tmp829_ = _tmp828_;
						if (_tmp829_ != NULL) {
							BalaMethod* _tmp830_;
							BalaMethod* _tmp831_;
							gchar* _tmp832_;
							_tmp830_ = bala_ccode_base_module_get_current_method (self);
							_tmp831_ = _tmp830_;
							_tmp832_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp831_);
							_g_free0 (func_name);
							func_name = _tmp832_;
						} else {
							BalaPropertyAccessor* _tmp833_;
							BalaPropertyAccessor* _tmp834_;
							_tmp833_ = bala_ccode_base_module_get_current_property_accessor (self);
							_tmp834_ = _tmp833_;
							if (_tmp834_ != NULL) {
								BalaPropertyAccessor* _tmp835_;
								BalaPropertyAccessor* _tmp836_;
								gchar* _tmp837_;
								_tmp835_ = bala_ccode_base_module_get_current_property_accessor (self);
								_tmp836_ = _tmp835_;
								_tmp837_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp836_);
								_g_free0 (func_name);
								func_name = _tmp837_;
							}
						}
						_tmp838_ = set_data_call;
						_tmp839_ = func_name;
						_tmp840_ = g_strdup_printf ("\"%s\"", _tmp839_);
						_tmp841_ = _tmp840_;
						_tmp842_ = bala_ccode_constant_new (_tmp841_);
						_tmp843_ = _tmp842_;
						bala_ccode_function_call_add_argument (_tmp838_, (BalaCCodeExpression*) _tmp843_);
						_bala_ccode_node_unref0 (_tmp843_);
						_g_free0 (_tmp841_);
						_tmp844_ = bala_ccode_base_module_get_ccode (self);
						_tmp845_ = _tmp844_;
						_tmp846_ = set_data_call;
						bala_ccode_function_add_expression (_tmp845_, (BalaCCodeExpression*) _tmp846_);
						_tmp847_ = bala_ccode_base_module_get_ccode (self);
						_tmp848_ = _tmp847_;
						bala_ccode_function_close (_tmp848_);
						_g_free0 (func_name);
						_bala_ccode_node_unref0 (set_data_call);
					}
				}
				_tmp850_ = cl;
				if (_tmp850_ != NULL) {
					BalaClass* _tmp851_;
					BalaTypeSymbol* _tmp852_;
					_tmp851_ = cl;
					_tmp852_ = self->garray_type;
					_tmp849_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp851_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol) == _tmp852_;
				} else {
					_tmp849_ = FALSE;
				}
				if (_tmp849_) {
					BalaDataType* type_arg = NULL;
					BalaDataType* _tmp853_;
					BalaDataType* _tmp854_;
					BalaList* _tmp855_;
					gpointer _tmp856_;
					BalaDataType* _tmp857_;
					_tmp853_ = bala_object_creation_expression_get_type_reference (expr);
					_tmp854_ = _tmp853_;
					_tmp855_ = bala_data_type_get_type_arguments (_tmp854_);
					_tmp856_ = bala_list_get (_tmp855_, 0);
					type_arg = (BalaDataType*) _tmp856_;
					_tmp857_ = type_arg;
					if (bala_ccode_base_module_requires_destroy (_tmp857_)) {
						BalaCCodeFunctionCall* clear_func = NULL;
						BalaCCodeIdentifier* _tmp858_;
						BalaCCodeIdentifier* _tmp859_;
						BalaCCodeFunctionCall* _tmp860_;
						BalaCCodeFunctionCall* _tmp861_;
						BalaCCodeFunctionCall* _tmp862_;
						BalaTargetValue* _tmp863_;
						BalaTargetValue* _tmp864_;
						BalaCCodeExpression* _tmp865_;
						gchar* destroy_func = NULL;
						gboolean _tmp866_ = FALSE;
						BalaDataType* _tmp867_;
						BalaCCodeFunctionCall* _tmp875_;
						const gchar* _tmp876_;
						BalaCCodeIdentifier* _tmp877_;
						BalaCCodeIdentifier* _tmp878_;
						BalaCCodeCastExpression* _tmp879_;
						BalaCCodeCastExpression* _tmp880_;
						BalaCCodeFunction* _tmp881_;
						BalaCCodeFunction* _tmp882_;
						BalaCCodeFunctionCall* _tmp883_;
						_tmp858_ = bala_ccode_identifier_new ("g_array_set_clear_func");
						_tmp859_ = _tmp858_;
						_tmp860_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp859_);
						_tmp861_ = _tmp860_;
						_bala_ccode_node_unref0 (_tmp859_);
						clear_func = _tmp861_;
						_tmp862_ = clear_func;
						_tmp863_ = bala_expression_get_target_value ((BalaExpression*) expr);
						_tmp864_ = _tmp863_;
						_tmp865_ = bala_get_cvalue_ (_tmp864_);
						bala_ccode_function_call_add_argument (_tmp862_, _tmp865_);
						_tmp867_ = type_arg;
						if (bala_data_type_is_non_null_simple_type (_tmp867_)) {
							_tmp866_ = TRUE;
						} else {
							BalaDataType* _tmp868_;
							_tmp868_ = type_arg;
							_tmp866_ = bala_data_type_is_real_non_null_struct_type (_tmp868_);
						}
						if (_tmp866_) {
							BalaDataType* _tmp869_;
							BalaTypeSymbol* _tmp870_;
							BalaTypeSymbol* _tmp871_;
							gchar* _tmp872_;
							_tmp869_ = type_arg;
							_tmp870_ = bala_data_type_get_type_symbol (_tmp869_);
							_tmp871_ = _tmp870_;
							_tmp872_ = bala_get_ccode_destroy_function (_tmp871_);
							_g_free0 (destroy_func);
							destroy_func = _tmp872_;
						} else {
							BalaDataType* _tmp873_;
							gchar* _tmp874_;
							_tmp873_ = type_arg;
							_tmp874_ = bala_ccode_base_module_generate_destroy_function_content_of_wrapper (self, _tmp873_);
							_g_free0 (destroy_func);
							destroy_func = _tmp874_;
						}
						_tmp875_ = clear_func;
						_tmp876_ = destroy_func;
						_tmp877_ = bala_ccode_identifier_new (_tmp876_);
						_tmp878_ = _tmp877_;
						_tmp879_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp878_, "GDestroyNotify");
						_tmp880_ = _tmp879_;
						bala_ccode_function_call_add_argument (_tmp875_, (BalaCCodeExpression*) _tmp880_);
						_bala_ccode_node_unref0 (_tmp880_);
						_bala_ccode_node_unref0 (_tmp878_);
						_tmp881_ = bala_ccode_base_module_get_ccode (self);
						_tmp882_ = _tmp881_;
						_tmp883_ = clear_func;
						bala_ccode_function_add_expression (_tmp882_, (BalaCCodeExpression*) _tmp883_);
						_g_free0 (destroy_func);
						_bala_ccode_node_unref0 (clear_func);
					}
					_bala_code_node_unref0 (type_arg);
				}
				_bala_target_value_unref0 (temp_value);
			}
		}
	}
	_tmp884_ = bala_expression_get_target_value ((BalaExpression*) expr);
	_tmp885_ = _tmp884_;
	G_TYPE_CHECK_INSTANCE_CAST (_tmp885_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = TRUE;
	_bala_code_node_unref0 (local);
	_bala_ccode_node_unref0 (creation_expr);
	_bala_ccode_node_unref0 (instance);
}

BalaCCodeExpression*
bala_ccode_base_module_handle_struct_argument (BalaCCodeBaseModule* self,
                                               BalaParameter* param,
                                               BalaExpression* arg,
                                               BalaCCodeExpression* cexpr)
{
	BalaDataType* type = NULL;
	BalaUnaryExpression* unary = NULL;
	BalaUnaryExpression* _tmp6_;
	gboolean _tmp7_ = FALSE;
	BalaDataType* _tmp8_;
	BalaDataType* _tmp9_;
	BalaCCodeExpression* _tmp35_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (arg != NULL, NULL);
	if (param != NULL) {
		BalaDataType* _tmp0_;
		BalaDataType* _tmp1_;
		BalaDataType* _tmp2_;
		_tmp0_ = bala_variable_get_variable_type ((BalaVariable*) param);
		_tmp1_ = _tmp0_;
		_tmp2_ = _bala_code_node_ref0 (_tmp1_);
		_bala_code_node_unref0 (type);
		type = _tmp2_;
	} else {
		BalaDataType* _tmp3_;
		BalaDataType* _tmp4_;
		BalaDataType* _tmp5_;
		_tmp3_ = bala_expression_get_value_type (arg);
		_tmp4_ = _tmp3_;
		_tmp5_ = _bala_code_node_ref0 (_tmp4_);
		_bala_code_node_unref0 (type);
		type = _tmp5_;
	}
	_tmp6_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (arg, BALA_TYPE_UNARY_EXPRESSION) ? ((BalaUnaryExpression*) arg) : NULL);
	unary = _tmp6_;
	_tmp8_ = bala_expression_get_value_type (arg);
	_tmp9_ = _tmp8_;
	if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp9_, BALA_TYPE_NULL_TYPE)) {
		BalaDataType* _tmp10_;
		_tmp10_ = type;
		_tmp7_ = bala_data_type_is_real_struct_type (_tmp10_);
	} else {
		_tmp7_ = FALSE;
	}
	if (_tmp7_) {
		gboolean _tmp11_ = FALSE;
		gboolean _tmp12_ = FALSE;
		BalaUnaryExpression* _tmp13_;
		_tmp13_ = unary;
		if (_tmp13_ != NULL) {
			gboolean _tmp14_ = FALSE;
			BalaUnaryExpression* _tmp15_;
			BalaUnaryOperator _tmp16_;
			BalaUnaryOperator _tmp17_;
			_tmp15_ = unary;
			_tmp16_ = bala_unary_expression_get_operator (_tmp15_);
			_tmp17_ = _tmp16_;
			if (_tmp17_ == BALA_UNARY_OPERATOR_OUT) {
				_tmp14_ = TRUE;
			} else {
				BalaUnaryExpression* _tmp18_;
				BalaUnaryOperator _tmp19_;
				BalaUnaryOperator _tmp20_;
				_tmp18_ = unary;
				_tmp19_ = bala_unary_expression_get_operator (_tmp18_);
				_tmp20_ = _tmp19_;
				_tmp14_ = _tmp20_ == BALA_UNARY_OPERATOR_REF;
			}
			_tmp12_ = _tmp14_;
		} else {
			_tmp12_ = FALSE;
		}
		if (!_tmp12_) {
			BalaDataType* _tmp21_;
			gboolean _tmp22_;
			gboolean _tmp23_;
			_tmp21_ = type;
			_tmp22_ = bala_data_type_get_nullable (_tmp21_);
			_tmp23_ = _tmp22_;
			_tmp11_ = !_tmp23_;
		} else {
			_tmp11_ = FALSE;
		}
		if (_tmp11_) {
			gboolean _tmp24_ = FALSE;
			if (G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_IDENTIFIER)) {
				_tmp24_ = TRUE;
			} else {
				_tmp24_ = G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_MEMBER_ACCESS);
			}
			if (_tmp24_) {
				BalaCCodeUnaryExpression* _tmp25_;
				_tmp25_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, cexpr);
				result = (BalaCCodeExpression*) _tmp25_;
				_bala_code_node_unref0 (unary);
				_bala_code_node_unref0 (type);
				return result;
			} else {
				BalaTargetValue* temp_value = NULL;
				BalaDataType* _tmp26_;
				BalaTargetValue* _tmp27_;
				BalaCCodeFunction* _tmp28_;
				BalaCCodeFunction* _tmp29_;
				BalaTargetValue* _tmp30_;
				BalaCCodeExpression* _tmp31_;
				BalaTargetValue* _tmp32_;
				BalaCCodeExpression* _tmp33_;
				BalaCCodeUnaryExpression* _tmp34_;
				_tmp26_ = type;
				_tmp27_ = bala_ccode_base_module_create_temp_value (self, _tmp26_, FALSE, (BalaCodeNode*) arg, NULL);
				temp_value = _tmp27_;
				_tmp28_ = bala_ccode_base_module_get_ccode (self);
				_tmp29_ = _tmp28_;
				_tmp30_ = temp_value;
				_tmp31_ = bala_get_cvalue_ (_tmp30_);
				bala_ccode_function_add_assignment (_tmp29_, _tmp31_, cexpr);
				_tmp32_ = temp_value;
				_tmp33_ = bala_get_cvalue_ (_tmp32_);
				_tmp34_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp33_);
				result = (BalaCCodeExpression*) _tmp34_;
				_bala_target_value_unref0 (temp_value);
				_bala_code_node_unref0 (unary);
				_bala_code_node_unref0 (type);
				return result;
			}
		}
	}
	_tmp35_ = _bala_ccode_node_ref0 (cexpr);
	result = _tmp35_;
	_bala_code_node_unref0 (unary);
	_bala_code_node_unref0 (type);
	return result;
}

static void
bala_ccode_base_module_real_visit_sizeof_expression (BalaCodeVisitor* base,
                                                     BalaSizeofExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaCCodeFile* _tmp2_;
	BalaCCodeFunctionCall* csizeof = NULL;
	BalaCCodeIdentifier* _tmp3_;
	BalaCCodeIdentifier* _tmp4_;
	BalaCCodeFunctionCall* _tmp5_;
	BalaCCodeFunctionCall* _tmp6_;
	BalaDataType* _tmp7_;
	BalaDataType* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	BalaCCodeIdentifier* _tmp11_;
	BalaCCodeIdentifier* _tmp12_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_sizeof_expression_get_type_reference (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, _tmp1_, _tmp2_);
	_tmp3_ = bala_ccode_identifier_new ("sizeof");
	_tmp4_ = _tmp3_;
	_tmp5_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp4_);
	_tmp6_ = _tmp5_;
	_bala_ccode_node_unref0 (_tmp4_);
	csizeof = _tmp6_;
	_tmp7_ = bala_sizeof_expression_get_type_reference (expr);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_get_ccode_name ((BalaCodeNode*) _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = bala_ccode_identifier_new (_tmp10_);
	_tmp12_ = _tmp11_;
	bala_ccode_function_call_add_argument (csizeof, (BalaCCodeExpression*) _tmp12_);
	_bala_ccode_node_unref0 (_tmp12_);
	_g_free0 (_tmp10_);
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) csizeof);
	_bala_ccode_node_unref0 (csizeof);
}

static void
bala_ccode_base_module_real_visit_typeof_expression (BalaCodeVisitor* base,
                                                     BalaTypeofExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaCCodeFile* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDataType* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* _tmp4_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = self->cfile;
	bala_ccode_file_add_include (_tmp0_, "glib-object.h", FALSE);
	_tmp1_ = bala_typeof_expression_get_type_reference (expr);
	_tmp2_ = _tmp1_;
	_tmp3_ = bala_ccode_base_module_get_type_id_expression (self, _tmp2_, FALSE);
	_tmp4_ = _tmp3_;
	bala_set_cvalue ((BalaExpression*) expr, _tmp4_);
	_bala_ccode_node_unref0 (_tmp4_);
}

static void
bala_ccode_base_module_real_visit_unary_expression (BalaCodeVisitor* base,
                                                    BalaUnaryExpression* expr)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_ = FALSE;
	BalaUnaryOperator _tmp1_;
	BalaUnaryOperator _tmp2_;
	gboolean _tmp66_ = FALSE;
	BalaUnaryOperator _tmp67_;
	BalaUnaryOperator _tmp68_;
	BalaCCodeUnaryOperator op = 0;
	BalaUnaryOperator _tmp109_;
	BalaUnaryOperator _tmp110_;
	BalaCCodeUnaryOperator _tmp111_;
	BalaExpression* _tmp112_;
	BalaExpression* _tmp113_;
	BalaCCodeExpression* _tmp114_;
	BalaCCodeUnaryExpression* _tmp115_;
	BalaCCodeUnaryExpression* _tmp116_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp1_ = bala_unary_expression_get_operator (expr);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == BALA_UNARY_OPERATOR_REF) {
		_tmp0_ = TRUE;
	} else {
		BalaUnaryOperator _tmp3_;
		BalaUnaryOperator _tmp4_;
		_tmp3_ = bala_unary_expression_get_operator (expr);
		_tmp4_ = _tmp3_;
		_tmp0_ = _tmp4_ == BALA_UNARY_OPERATOR_OUT;
	}
	if (_tmp0_) {
		BalaGLibValue* glib_value = NULL;
		BalaExpression* _tmp5_;
		BalaExpression* _tmp6_;
		BalaTargetValue* _tmp7_;
		BalaTargetValue* _tmp8_;
		BalaGLibValue* _tmp9_;
		BalaGLibValue* ref_value = NULL;
		BalaGLibValue* _tmp10_;
		BalaDataType* _tmp11_;
		BalaDataType* _tmp12_;
		BalaGLibValue* _tmp13_;
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_ = FALSE;
		BalaDataType* _tmp16_;
		BalaDataType* _tmp17_;
		BalaGLibValue* _tmp38_;
		BalaList* _tmp39_;
		BalaGLibValue* _tmp53_;
		BalaCCodeExpression* _tmp54_;
		BalaGLibValue* _tmp59_;
		BalaCCodeExpression* _tmp60_;
		BalaGLibValue* _tmp65_;
		_tmp5_ = bala_unary_expression_get_inner (expr);
		_tmp6_ = _tmp5_;
		_tmp7_ = bala_expression_get_target_value (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = _bala_target_value_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
		glib_value = _tmp9_;
		_tmp10_ = glib_value;
		_tmp11_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp10_);
		_tmp12_ = _tmp11_;
		_tmp13_ = bala_glib_value_new (_tmp12_, NULL, FALSE);
		ref_value = _tmp13_;
		_tmp16_ = bala_expression_get_target_type ((BalaExpression*) expr);
		_tmp17_ = _tmp16_;
		if (_tmp17_ != NULL) {
			BalaGLibValue* _tmp18_;
			BalaDataType* _tmp19_;
			BalaDataType* _tmp20_;
			_tmp18_ = glib_value;
			_tmp19_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp18_);
			_tmp20_ = _tmp19_;
			_tmp15_ = bala_data_type_is_real_struct_type (_tmp20_);
		} else {
			_tmp15_ = FALSE;
		}
		if (_tmp15_) {
			BalaGLibValue* _tmp21_;
			BalaDataType* _tmp22_;
			BalaDataType* _tmp23_;
			gboolean _tmp24_;
			gboolean _tmp25_;
			BalaDataType* _tmp26_;
			BalaDataType* _tmp27_;
			gboolean _tmp28_;
			gboolean _tmp29_;
			_tmp21_ = glib_value;
			_tmp22_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_data_type_get_nullable (_tmp23_);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_expression_get_target_type ((BalaExpression*) expr);
			_tmp27_ = _tmp26_;
			_tmp28_ = bala_data_type_get_nullable (_tmp27_);
			_tmp29_ = _tmp28_;
			_tmp14_ = _tmp25_ != _tmp29_;
		} else {
			_tmp14_ = FALSE;
		}
		if (_tmp14_) {
			BalaGLibValue* _tmp30_;
			BalaGLibValue* _tmp31_;
			BalaCCodeExpression* _tmp32_;
			BalaCCodeExpression* _tmp33_;
			_tmp30_ = ref_value;
			_tmp31_ = glib_value;
			_tmp32_ = _tmp31_->cvalue;
			_tmp33_ = _bala_ccode_node_ref0 (_tmp32_);
			_bala_ccode_node_unref0 (_tmp30_->cvalue);
			_tmp30_->cvalue = _tmp33_;
		} else {
			BalaGLibValue* _tmp34_;
			BalaGLibValue* _tmp35_;
			BalaCCodeExpression* _tmp36_;
			BalaCCodeUnaryExpression* _tmp37_;
			_tmp34_ = ref_value;
			_tmp35_ = glib_value;
			_tmp36_ = _tmp35_->cvalue;
			_tmp37_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp36_);
			_bala_ccode_node_unref0 (_tmp34_->cvalue);
			_tmp34_->cvalue = (BalaCCodeExpression*) _tmp37_;
		}
		_tmp38_ = glib_value;
		_tmp39_ = _tmp38_->array_length_cvalues;
		if (_tmp39_ != NULL) {
			{
				gint i = 0;
				i = 0;
				{
					gboolean _tmp40_ = FALSE;
					_tmp40_ = TRUE;
					while (TRUE) {
						BalaGLibValue* _tmp42_;
						BalaList* _tmp43_;
						gint _tmp44_;
						gint _tmp45_;
						BalaGLibValue* _tmp46_;
						BalaGLibValue* _tmp47_;
						BalaList* _tmp48_;
						gpointer _tmp49_;
						BalaCCodeExpression* _tmp50_;
						BalaCCodeUnaryExpression* _tmp51_;
						BalaCCodeUnaryExpression* _tmp52_;
						if (!_tmp40_) {
							gint _tmp41_;
							_tmp41_ = i;
							i = _tmp41_ + 1;
						}
						_tmp40_ = FALSE;
						_tmp42_ = glib_value;
						_tmp43_ = _tmp42_->array_length_cvalues;
						_tmp44_ = bala_collection_get_size ((BalaCollection*) _tmp43_);
						_tmp45_ = _tmp44_;
						if (!(i < _tmp45_)) {
							break;
						}
						_tmp46_ = ref_value;
						_tmp47_ = glib_value;
						_tmp48_ = _tmp47_->array_length_cvalues;
						_tmp49_ = bala_list_get (_tmp48_, i);
						_tmp50_ = (BalaCCodeExpression*) _tmp49_;
						_tmp51_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp50_);
						_tmp52_ = _tmp51_;
						bala_glib_value_append_array_length_cvalue (_tmp46_, (BalaCCodeExpression*) _tmp52_);
						_bala_ccode_node_unref0 (_tmp52_);
						_bala_ccode_node_unref0 (_tmp50_);
					}
				}
			}
		}
		_tmp53_ = glib_value;
		_tmp54_ = _tmp53_->delegate_target_cvalue;
		if (_tmp54_ != NULL) {
			BalaGLibValue* _tmp55_;
			BalaGLibValue* _tmp56_;
			BalaCCodeExpression* _tmp57_;
			BalaCCodeUnaryExpression* _tmp58_;
			_tmp55_ = ref_value;
			_tmp56_ = glib_value;
			_tmp57_ = _tmp56_->delegate_target_cvalue;
			_tmp58_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp57_);
			_bala_ccode_node_unref0 (_tmp55_->delegate_target_cvalue);
			_tmp55_->delegate_target_cvalue = (BalaCCodeExpression*) _tmp58_;
		}
		_tmp59_ = glib_value;
		_tmp60_ = _tmp59_->delegate_target_destroy_notify_cvalue;
		if (_tmp60_ != NULL) {
			BalaGLibValue* _tmp61_;
			BalaGLibValue* _tmp62_;
			BalaCCodeExpression* _tmp63_;
			BalaCCodeUnaryExpression* _tmp64_;
			_tmp61_ = ref_value;
			_tmp62_ = glib_value;
			_tmp63_ = _tmp62_->delegate_target_destroy_notify_cvalue;
			_tmp64_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp63_);
			_bala_ccode_node_unref0 (_tmp61_->delegate_target_destroy_notify_cvalue);
			_tmp61_->delegate_target_destroy_notify_cvalue = (BalaCCodeExpression*) _tmp64_;
		}
		_tmp65_ = ref_value;
		bala_expression_set_target_value ((BalaExpression*) expr, (BalaTargetValue*) _tmp65_);
		_bala_target_value_unref0 (ref_value);
		_bala_target_value_unref0 (glib_value);
		return;
	}
	_tmp67_ = bala_unary_expression_get_operator (expr);
	_tmp68_ = _tmp67_;
	if (_tmp68_ == BALA_UNARY_OPERATOR_INCREMENT) {
		_tmp66_ = TRUE;
	} else {
		BalaUnaryOperator _tmp69_;
		BalaUnaryOperator _tmp70_;
		_tmp69_ = bala_unary_expression_get_operator (expr);
		_tmp70_ = _tmp69_;
		_tmp66_ = _tmp70_ == BALA_UNARY_OPERATOR_DECREMENT;
	}
	if (_tmp66_) {
		BalaCCodeBinaryOperator _tmp71_ = 0;
		BalaUnaryOperator _tmp72_;
		BalaUnaryOperator _tmp73_;
		BalaCCodeBinaryOperator op = 0;
		BalaCCodeBinaryExpression* cexpr = NULL;
		BalaCCodeBinaryOperator _tmp74_;
		BalaExpression* _tmp75_;
		BalaExpression* _tmp76_;
		BalaTargetValue* _tmp77_;
		BalaTargetValue* _tmp78_;
		BalaCCodeExpression* _tmp79_;
		BalaCCodeConstant* _tmp80_;
		BalaCCodeConstant* _tmp81_;
		BalaCCodeBinaryExpression* _tmp82_;
		BalaCCodeBinaryExpression* _tmp83_;
		BalaCCodeFunction* _tmp84_;
		BalaCCodeFunction* _tmp85_;
		BalaExpression* _tmp86_;
		BalaExpression* _tmp87_;
		BalaCCodeExpression* _tmp88_;
		BalaCCodeBinaryExpression* _tmp89_;
		BalaTargetValue* temp_value = NULL;
		BalaExpression* _tmp90_;
		BalaExpression* _tmp91_;
		BalaTargetValue* _tmp92_;
		BalaTargetValue* _tmp93_;
		BalaTargetValue* _tmp94_;
		BalaMemberAccess* ma = NULL;
		BalaExpression* _tmp95_;
		BalaExpression* _tmp96_;
		BalaMemberAccess* _tmp97_;
		BalaMemberAccess* _tmp98_;
		BalaTargetValue* _tmp108_;
		_tmp72_ = bala_unary_expression_get_operator (expr);
		_tmp73_ = _tmp72_;
		if (_tmp73_ == BALA_UNARY_OPERATOR_INCREMENT) {
			_tmp71_ = BALA_CCODE_BINARY_OPERATOR_PLUS;
		} else {
			_tmp71_ = BALA_CCODE_BINARY_OPERATOR_MINUS;
		}
		op = _tmp71_;
		_tmp74_ = op;
		_tmp75_ = bala_unary_expression_get_inner (expr);
		_tmp76_ = _tmp75_;
		_tmp77_ = bala_expression_get_target_value (_tmp76_);
		_tmp78_ = _tmp77_;
		_tmp79_ = bala_get_cvalue_ (_tmp78_);
		_tmp80_ = bala_ccode_constant_new ("1");
		_tmp81_ = _tmp80_;
		_tmp82_ = bala_ccode_binary_expression_new (_tmp74_, _tmp79_, (BalaCCodeExpression*) _tmp81_);
		_tmp83_ = _tmp82_;
		_bala_ccode_node_unref0 (_tmp81_);
		cexpr = _tmp83_;
		_tmp84_ = bala_ccode_base_module_get_ccode (self);
		_tmp85_ = _tmp84_;
		_tmp86_ = bala_unary_expression_get_inner (expr);
		_tmp87_ = _tmp86_;
		_tmp88_ = bala_get_cvalue (_tmp87_);
		_tmp89_ = cexpr;
		bala_ccode_function_add_assignment (_tmp85_, _tmp88_, (BalaCCodeExpression*) _tmp89_);
		_tmp90_ = bala_unary_expression_get_inner (expr);
		_tmp91_ = _tmp90_;
		_tmp92_ = bala_expression_get_target_value (_tmp91_);
		_tmp93_ = _tmp92_;
		_tmp94_ = bala_ccode_base_module_store_temp_value (self, _tmp93_, (BalaCodeNode*) expr, NULL);
		temp_value = _tmp94_;
		_tmp95_ = bala_unary_expression_get_inner (expr);
		_tmp96_ = _tmp95_;
		_tmp97_ = bala_ccode_base_module_find_property_access (self, _tmp96_);
		ma = _tmp97_;
		_tmp98_ = ma;
		if (_tmp98_ != NULL) {
			BalaProperty* prop = NULL;
			BalaMemberAccess* _tmp99_;
			BalaSymbol* _tmp100_;
			BalaSymbol* _tmp101_;
			BalaProperty* _tmp102_;
			BalaProperty* _tmp103_;
			BalaMemberAccess* _tmp104_;
			BalaExpression* _tmp105_;
			BalaExpression* _tmp106_;
			BalaTargetValue* _tmp107_;
			_tmp99_ = ma;
			_tmp100_ = bala_expression_get_symbol_reference ((BalaExpression*) _tmp99_);
			_tmp101_ = _tmp100_;
			_tmp102_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp101_, BALA_TYPE_PROPERTY, BalaProperty));
			prop = _tmp102_;
			_tmp103_ = prop;
			_tmp104_ = ma;
			_tmp105_ = bala_member_access_get_inner (_tmp104_);
			_tmp106_ = _tmp105_;
			_tmp107_ = temp_value;
			bala_ccode_base_module_store_property (self, _tmp103_, _tmp106_, _tmp107_);
			_bala_code_node_unref0 (prop);
		}
		_tmp108_ = temp_value;
		bala_expression_set_target_value ((BalaExpression*) expr, _tmp108_);
		_bala_code_node_unref0 (ma);
		_bala_target_value_unref0 (temp_value);
		_bala_ccode_node_unref0 (cexpr);
		return;
	}
	_tmp109_ = bala_unary_expression_get_operator (expr);
	_tmp110_ = _tmp109_;
	switch (_tmp110_) {
		case BALA_UNARY_OPERATOR_PLUS:
		{
			op = BALA_CCODE_UNARY_OPERATOR_PLUS;
			break;
		}
		case BALA_UNARY_OPERATOR_MINUS:
		{
			op = BALA_CCODE_UNARY_OPERATOR_MINUS;
			break;
		}
		case BALA_UNARY_OPERATOR_LOGICAL_NEGATION:
		{
			op = BALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION;
			break;
		}
		case BALA_UNARY_OPERATOR_BITWISE_COMPLEMENT:
		{
			op = BALA_CCODE_UNARY_OPERATOR_BITWISE_COMPLEMENT;
			break;
		}
		case BALA_UNARY_OPERATOR_INCREMENT:
		{
			op = BALA_CCODE_UNARY_OPERATOR_PREFIX_INCREMENT;
			break;
		}
		case BALA_UNARY_OPERATOR_DECREMENT:
		{
			op = BALA_CCODE_UNARY_OPERATOR_PREFIX_DECREMENT;
			break;
		}
		default:
		{
			g_assert_not_reached ();
		}
	}
	_tmp111_ = op;
	_tmp112_ = bala_unary_expression_get_inner (expr);
	_tmp113_ = _tmp112_;
	_tmp114_ = bala_get_cvalue (_tmp113_);
	_tmp115_ = bala_ccode_unary_expression_new (_tmp111_, _tmp114_);
	_tmp116_ = _tmp115_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp116_);
	_bala_ccode_node_unref0 (_tmp116_);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_deserialize_expression (BalaCCodeBaseModule* self,
                                                    BalaDataType* type,
                                                    BalaCCodeExpression* variant_expr,
                                                    BalaCCodeExpression* expr,
                                                    BalaCCodeExpression* error_expr,
                                                    gboolean* may_fail)
{
	gboolean _bala_may_fail = FALSE;
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (variant_expr != NULL, NULL);
	g_assert_not_reached ();
	if (may_fail) {
		*may_fail = _bala_may_fail;
	}
}

BalaCCodeExpression*
bala_ccode_base_module_deserialize_expression (BalaCCodeBaseModule* self,
                                               BalaDataType* type,
                                               BalaCCodeExpression* variant_expr,
                                               BalaCCodeExpression* expr,
                                               BalaCCodeExpression* error_expr,
                                               gboolean* may_fail)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->deserialize_expression (self, type, variant_expr, expr, error_expr, may_fail);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_serialize_expression (BalaCCodeBaseModule* self,
                                                  BalaDataType* type,
                                                  BalaCCodeExpression* expr)
{
	g_return_val_if_fail (type != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	g_assert_not_reached ();
}

BalaCCodeExpression*
bala_ccode_base_module_serialize_expression (BalaCCodeBaseModule* self,
                                             BalaDataType* type,
                                             BalaCCodeExpression* expr)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->serialize_expression (self, type, expr);
}

static void
bala_ccode_base_module_real_visit_cast_expression (BalaCodeVisitor* base,
                                                   BalaCastExpression* expr)
{
	BalaCCodeBaseModule * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	BalaDataType* _tmp6_;
	BalaDataType* _tmp7_;
	BalaCCodeFile* _tmp8_;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp9_;
	BalaDataType* _tmp10_;
	BalaArrayType* _tmp11_;
	gboolean _tmp12_ = FALSE;
	BalaArrayType* _tmp13_;
	BalaCCodeExpression* innercexpr = NULL;
	BalaExpression* _tmp138_;
	BalaExpression* _tmp139_;
	BalaCCodeExpression* _tmp140_;
	BalaCCodeExpression* _tmp141_;
	gboolean _tmp142_ = FALSE;
	gboolean _tmp143_ = FALSE;
	gboolean _tmp144_ = FALSE;
	BalaDataType* _tmp145_;
	BalaDataType* _tmp146_;
	BalaCCodeExpression* _tmp223_;
	BalaDataType* _tmp224_;
	BalaDataType* _tmp225_;
	gchar* _tmp226_;
	gchar* _tmp227_;
	BalaCCodeCastExpression* _tmp228_;
	BalaCCodeCastExpression* _tmp229_;
	BalaDataType* _tmp230_;
	BalaDataType* _tmp231_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_cast_expression_get_is_silent_cast (expr);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		BalaCCodeInvalidExpression* _tmp2_;
		BalaCCodeInvalidExpression* _tmp3_;
		BalaSourceReference* _tmp4_;
		BalaSourceReference* _tmp5_;
		_tmp2_ = bala_ccode_invalid_expression_new ();
		_tmp3_ = _tmp2_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp3_);
		_bala_ccode_node_unref0 (_tmp3_);
		bala_code_node_set_error ((BalaCodeNode*) expr, TRUE);
		_tmp4_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
		_tmp5_ = _tmp4_;
		bala_report_error (_tmp5_, "Operation not supported for this type");
		return;
	}
	_tmp6_ = bala_cast_expression_get_type_reference (expr);
	_tmp7_ = _tmp6_;
	_tmp8_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, _tmp7_, _tmp8_);
	_tmp9_ = bala_cast_expression_get_type_reference (expr);
	_tmp10_ = _tmp9_;
	_tmp11_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp10_) : NULL);
	array_type = _tmp11_;
	_tmp13_ = array_type;
	if (_tmp13_ != NULL) {
		BalaExpression* _tmp14_;
		BalaExpression* _tmp15_;
		BalaDataType* _tmp16_;
		BalaDataType* _tmp17_;
		_tmp14_ = bala_cast_expression_get_inner (expr);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_expression_get_value_type (_tmp15_);
		_tmp17_ = _tmp16_;
		_tmp12_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_ARRAY_TYPE);
	} else {
		_tmp12_ = FALSE;
	}
	if (_tmp12_) {
		gboolean _tmp18_ = FALSE;
		BalaArrayType* _tmp19_;
		BalaDataType* _tmp20_;
		BalaDataType* _tmp21_;
		_tmp19_ = array_type;
		_tmp20_ = bala_array_type_get_element_type (_tmp19_);
		_tmp21_ = _tmp20_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp21_, BALA_TYPE_GENERIC_TYPE)) {
			_tmp18_ = TRUE;
		} else {
			BalaExpression* _tmp22_;
			BalaExpression* _tmp23_;
			BalaDataType* _tmp24_;
			BalaDataType* _tmp25_;
			BalaDataType* _tmp26_;
			BalaDataType* _tmp27_;
			_tmp22_ = bala_cast_expression_get_inner (expr);
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_expression_get_value_type (_tmp23_);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_array_type_get_element_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			_tmp27_ = _tmp26_;
			_tmp18_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp27_, BALA_TYPE_GENERIC_TYPE);
		}
		if (_tmp18_) {
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp28_ = FALSE;
					_tmp28_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp30_;
						gint _tmp31_;
						gint _tmp32_;
						BalaExpression* _tmp33_;
						BalaExpression* _tmp34_;
						BalaCCodeExpression* _tmp35_;
						BalaCCodeExpression* _tmp36_;
						if (!_tmp28_) {
							gint _tmp29_;
							_tmp29_ = dim;
							dim = _tmp29_ + 1;
						}
						_tmp28_ = FALSE;
						_tmp30_ = array_type;
						_tmp31_ = bala_array_type_get_rank (_tmp30_);
						_tmp32_ = _tmp31_;
						if (!(dim <= _tmp32_)) {
							break;
						}
						_tmp33_ = bala_cast_expression_get_inner (expr);
						_tmp34_ = _tmp33_;
						_tmp35_ = bala_ccode_base_module_get_array_length_cexpression (self, _tmp34_, dim);
						_tmp36_ = _tmp35_;
						bala_append_array_length ((BalaExpression*) expr, _tmp36_);
						_bala_ccode_node_unref0 (_tmp36_);
					}
				}
			}
		} else {
			BalaCCodeFunctionCall* sizeof_to = NULL;
			BalaCCodeIdentifier* _tmp37_;
			BalaCCodeIdentifier* _tmp38_;
			BalaCCodeFunctionCall* _tmp39_;
			BalaCCodeFunctionCall* _tmp40_;
			BalaCCodeFunctionCall* _tmp41_;
			BalaArrayType* _tmp42_;
			BalaDataType* _tmp43_;
			BalaDataType* _tmp44_;
			gchar* _tmp45_;
			gchar* _tmp46_;
			BalaCCodeConstant* _tmp47_;
			BalaCCodeConstant* _tmp48_;
			BalaCCodeFunctionCall* sizeof_from = NULL;
			BalaCCodeIdentifier* _tmp49_;
			BalaCCodeIdentifier* _tmp50_;
			BalaCCodeFunctionCall* _tmp51_;
			BalaCCodeFunctionCall* _tmp52_;
			BalaCCodeFunctionCall* _tmp53_;
			BalaExpression* _tmp54_;
			BalaExpression* _tmp55_;
			BalaDataType* _tmp56_;
			BalaDataType* _tmp57_;
			BalaDataType* _tmp58_;
			BalaDataType* _tmp59_;
			gchar* _tmp60_;
			gchar* _tmp61_;
			BalaCCodeConstant* _tmp62_;
			BalaCCodeConstant* _tmp63_;
			_tmp37_ = bala_ccode_identifier_new ("sizeof");
			_tmp38_ = _tmp37_;
			_tmp39_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp38_);
			_tmp40_ = _tmp39_;
			_bala_ccode_node_unref0 (_tmp38_);
			sizeof_to = _tmp40_;
			_tmp41_ = sizeof_to;
			_tmp42_ = array_type;
			_tmp43_ = bala_array_type_get_element_type (_tmp42_);
			_tmp44_ = _tmp43_;
			_tmp45_ = bala_get_ccode_name ((BalaCodeNode*) _tmp44_);
			_tmp46_ = _tmp45_;
			_tmp47_ = bala_ccode_constant_new (_tmp46_);
			_tmp48_ = _tmp47_;
			bala_ccode_function_call_add_argument (_tmp41_, (BalaCCodeExpression*) _tmp48_);
			_bala_ccode_node_unref0 (_tmp48_);
			_g_free0 (_tmp46_);
			_tmp49_ = bala_ccode_identifier_new ("sizeof");
			_tmp50_ = _tmp49_;
			_tmp51_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp50_);
			_tmp52_ = _tmp51_;
			_bala_ccode_node_unref0 (_tmp50_);
			sizeof_from = _tmp52_;
			_tmp53_ = sizeof_from;
			_tmp54_ = bala_cast_expression_get_inner (expr);
			_tmp55_ = _tmp54_;
			_tmp56_ = bala_expression_get_value_type (_tmp55_);
			_tmp57_ = _tmp56_;
			_tmp58_ = bala_array_type_get_element_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp57_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
			_tmp59_ = _tmp58_;
			_tmp60_ = bala_get_ccode_name ((BalaCodeNode*) _tmp59_);
			_tmp61_ = _tmp60_;
			_tmp62_ = bala_ccode_constant_new (_tmp61_);
			_tmp63_ = _tmp62_;
			bala_ccode_function_call_add_argument (_tmp53_, (BalaCCodeExpression*) _tmp63_);
			_bala_ccode_node_unref0 (_tmp63_);
			_g_free0 (_tmp61_);
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp64_ = FALSE;
					_tmp64_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp66_;
						gint _tmp67_;
						gint _tmp68_;
						BalaExpression* _tmp69_;
						BalaExpression* _tmp70_;
						BalaCCodeExpression* _tmp71_;
						BalaCCodeExpression* _tmp72_;
						BalaCCodeFunctionCall* _tmp73_;
						BalaCCodeBinaryExpression* _tmp74_;
						BalaCCodeBinaryExpression* _tmp75_;
						BalaCCodeFunctionCall* _tmp76_;
						BalaCCodeBinaryExpression* _tmp77_;
						BalaCCodeBinaryExpression* _tmp78_;
						if (!_tmp64_) {
							gint _tmp65_;
							_tmp65_ = dim;
							dim = _tmp65_ + 1;
						}
						_tmp64_ = FALSE;
						_tmp66_ = array_type;
						_tmp67_ = bala_array_type_get_rank (_tmp66_);
						_tmp68_ = _tmp67_;
						if (!(dim <= _tmp68_)) {
							break;
						}
						_tmp69_ = bala_cast_expression_get_inner (expr);
						_tmp70_ = _tmp69_;
						_tmp71_ = bala_ccode_base_module_get_array_length_cexpression (self, _tmp70_, dim);
						_tmp72_ = _tmp71_;
						_tmp73_ = sizeof_from;
						_tmp74_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_MUL, _tmp72_, (BalaCCodeExpression*) _tmp73_);
						_tmp75_ = _tmp74_;
						_tmp76_ = sizeof_to;
						_tmp77_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_DIV, (BalaCCodeExpression*) _tmp75_, (BalaCCodeExpression*) _tmp76_);
						_tmp78_ = _tmp77_;
						bala_append_array_length ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp78_);
						_bala_ccode_node_unref0 (_tmp78_);
						_bala_ccode_node_unref0 (_tmp75_);
						_bala_ccode_node_unref0 (_tmp72_);
					}
				}
			}
			_bala_ccode_node_unref0 (sizeof_from);
			_bala_ccode_node_unref0 (sizeof_to);
		}
	} else {
		BalaArrayType* _tmp79_;
		_tmp79_ = array_type;
		if (_tmp79_ != NULL) {
			BalaCCodeExpression* array_length_expr = NULL;
			BalaCCodeFunctionCall* sizeof_to = NULL;
			BalaCCodeIdentifier* _tmp80_;
			BalaCCodeIdentifier* _tmp81_;
			BalaCCodeFunctionCall* _tmp82_;
			BalaCCodeFunctionCall* _tmp83_;
			BalaCCodeFunctionCall* _tmp84_;
			BalaArrayType* _tmp85_;
			BalaDataType* _tmp86_;
			BalaDataType* _tmp87_;
			gchar* _tmp88_;
			gchar* _tmp89_;
			BalaCCodeConstant* _tmp90_;
			BalaCCodeConstant* _tmp91_;
			BalaCCodeFunctionCall* sizeof_from = NULL;
			BalaCCodeIdentifier* _tmp92_;
			BalaCCodeIdentifier* _tmp93_;
			BalaCCodeFunctionCall* _tmp94_;
			BalaCCodeFunctionCall* _tmp95_;
			BalaDataType* value_type = NULL;
			BalaExpression* _tmp96_;
			BalaExpression* _tmp97_;
			BalaDataType* _tmp98_;
			BalaDataType* _tmp99_;
			BalaDataType* _tmp100_;
			BalaDataType* _tmp101_;
			_tmp80_ = bala_ccode_identifier_new ("sizeof");
			_tmp81_ = _tmp80_;
			_tmp82_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp81_);
			_tmp83_ = _tmp82_;
			_bala_ccode_node_unref0 (_tmp81_);
			sizeof_to = _tmp83_;
			_tmp84_ = sizeof_to;
			_tmp85_ = array_type;
			_tmp86_ = bala_array_type_get_element_type (_tmp85_);
			_tmp87_ = _tmp86_;
			_tmp88_ = bala_get_ccode_name ((BalaCodeNode*) _tmp87_);
			_tmp89_ = _tmp88_;
			_tmp90_ = bala_ccode_constant_new (_tmp89_);
			_tmp91_ = _tmp90_;
			bala_ccode_function_call_add_argument (_tmp84_, (BalaCCodeExpression*) _tmp91_);
			_bala_ccode_node_unref0 (_tmp91_);
			_g_free0 (_tmp89_);
			_tmp92_ = bala_ccode_identifier_new ("sizeof");
			_tmp93_ = _tmp92_;
			_tmp94_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp93_);
			_tmp95_ = _tmp94_;
			_bala_ccode_node_unref0 (_tmp93_);
			sizeof_from = _tmp95_;
			_tmp96_ = bala_cast_expression_get_inner (expr);
			_tmp97_ = _tmp96_;
			_tmp98_ = bala_expression_get_value_type (_tmp97_);
			_tmp99_ = _tmp98_;
			_tmp100_ = _bala_code_node_ref0 (_tmp99_);
			value_type = _tmp100_;
			_tmp101_ = value_type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp101_, BALA_TYPE_VALUE_TYPE)) {
				BalaCCodeFunctionCall* _tmp102_;
				BalaDataType* _tmp103_;
				BalaTypeSymbol* _tmp104_;
				BalaTypeSymbol* _tmp105_;
				gchar* _tmp106_;
				gchar* _tmp107_;
				BalaCCodeConstant* _tmp108_;
				BalaCCodeConstant* _tmp109_;
				BalaCCodeFunctionCall* _tmp110_;
				BalaCCodeFunctionCall* _tmp111_;
				BalaCCodeBinaryExpression* _tmp112_;
				_tmp102_ = sizeof_from;
				_tmp103_ = value_type;
				_tmp104_ = bala_data_type_get_type_symbol (_tmp103_);
				_tmp105_ = _tmp104_;
				_tmp106_ = bala_get_ccode_name ((BalaCodeNode*) _tmp105_);
				_tmp107_ = _tmp106_;
				_tmp108_ = bala_ccode_constant_new (_tmp107_);
				_tmp109_ = _tmp108_;
				bala_ccode_function_call_add_argument (_tmp102_, (BalaCCodeExpression*) _tmp109_);
				_bala_ccode_node_unref0 (_tmp109_);
				_g_free0 (_tmp107_);
				_tmp110_ = sizeof_from;
				_tmp111_ = sizeof_to;
				_tmp112_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_DIV, (BalaCCodeExpression*) _tmp110_, (BalaCCodeExpression*) _tmp111_);
				_bala_ccode_node_unref0 (array_length_expr);
				array_length_expr = (BalaCCodeExpression*) _tmp112_;
			} else {
				gboolean _tmp113_ = FALSE;
				BalaDataType* _tmp114_;
				_tmp114_ = value_type;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp114_, BALA_TYPE_POINTER_TYPE)) {
					BalaDataType* _tmp115_;
					BalaDataType* _tmp116_;
					BalaDataType* _tmp117_;
					_tmp115_ = value_type;
					_tmp116_ = bala_pointer_type_get_base_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp115_, BALA_TYPE_POINTER_TYPE, BalaPointerType));
					_tmp117_ = _tmp116_;
					_tmp113_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp117_, BALA_TYPE_VALUE_TYPE);
				} else {
					_tmp113_ = FALSE;
				}
				if (_tmp113_) {
					BalaCCodeFunctionCall* _tmp118_;
					BalaDataType* _tmp119_;
					BalaDataType* _tmp120_;
					BalaDataType* _tmp121_;
					BalaTypeSymbol* _tmp122_;
					BalaTypeSymbol* _tmp123_;
					gchar* _tmp124_;
					gchar* _tmp125_;
					BalaCCodeConstant* _tmp126_;
					BalaCCodeConstant* _tmp127_;
					BalaCCodeFunctionCall* _tmp128_;
					BalaCCodeFunctionCall* _tmp129_;
					BalaCCodeBinaryExpression* _tmp130_;
					_tmp118_ = sizeof_from;
					_tmp119_ = value_type;
					_tmp120_ = bala_pointer_type_get_base_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp119_, BALA_TYPE_POINTER_TYPE, BalaPointerType));
					_tmp121_ = _tmp120_;
					_tmp122_ = bala_data_type_get_type_symbol (_tmp121_);
					_tmp123_ = _tmp122_;
					_tmp124_ = bala_get_ccode_name ((BalaCodeNode*) _tmp123_);
					_tmp125_ = _tmp124_;
					_tmp126_ = bala_ccode_constant_new (_tmp125_);
					_tmp127_ = _tmp126_;
					bala_ccode_function_call_add_argument (_tmp118_, (BalaCCodeExpression*) _tmp127_);
					_bala_ccode_node_unref0 (_tmp127_);
					_g_free0 (_tmp125_);
					_tmp128_ = sizeof_from;
					_tmp129_ = sizeof_to;
					_tmp130_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_DIV, (BalaCCodeExpression*) _tmp128_, (BalaCCodeExpression*) _tmp129_);
					_bala_ccode_node_unref0 (array_length_expr);
					array_length_expr = (BalaCCodeExpression*) _tmp130_;
				} else {
					BalaCCodeConstant* _tmp131_;
					_tmp131_ = bala_ccode_constant_new ("-1");
					_bala_ccode_node_unref0 (array_length_expr);
					array_length_expr = (BalaCCodeExpression*) _tmp131_;
				}
			}
			{
				gint dim = 0;
				dim = 1;
				{
					gboolean _tmp132_ = FALSE;
					_tmp132_ = TRUE;
					while (TRUE) {
						BalaArrayType* _tmp134_;
						gint _tmp135_;
						gint _tmp136_;
						BalaCCodeExpression* _tmp137_;
						if (!_tmp132_) {
							gint _tmp133_;
							_tmp133_ = dim;
							dim = _tmp133_ + 1;
						}
						_tmp132_ = FALSE;
						_tmp134_ = array_type;
						_tmp135_ = bala_array_type_get_rank (_tmp134_);
						_tmp136_ = _tmp135_;
						if (!(dim <= _tmp136_)) {
							break;
						}
						_tmp137_ = array_length_expr;
						bala_append_array_length ((BalaExpression*) expr, _tmp137_);
					}
				}
			}
			_bala_code_node_unref0 (value_type);
			_bala_ccode_node_unref0 (sizeof_from);
			_bala_ccode_node_unref0 (sizeof_to);
			_bala_ccode_node_unref0 (array_length_expr);
		}
	}
	_tmp138_ = bala_cast_expression_get_inner (expr);
	_tmp139_ = _tmp138_;
	_tmp140_ = bala_get_cvalue (_tmp139_);
	_tmp141_ = _bala_ccode_node_ref0 (_tmp140_);
	innercexpr = _tmp141_;
	_tmp145_ = bala_cast_expression_get_type_reference (expr);
	_tmp146_ = _tmp145_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp146_, BALA_TYPE_VALUE_TYPE)) {
		BalaDataType* _tmp147_;
		BalaDataType* _tmp148_;
		gboolean _tmp149_;
		gboolean _tmp150_;
		_tmp147_ = bala_cast_expression_get_type_reference (expr);
		_tmp148_ = _tmp147_;
		_tmp149_ = bala_data_type_get_nullable (_tmp148_);
		_tmp150_ = _tmp149_;
		_tmp144_ = !_tmp150_;
	} else {
		_tmp144_ = FALSE;
	}
	if (_tmp144_) {
		BalaExpression* _tmp151_;
		BalaExpression* _tmp152_;
		BalaDataType* _tmp153_;
		BalaDataType* _tmp154_;
		_tmp151_ = bala_cast_expression_get_inner (expr);
		_tmp152_ = _tmp151_;
		_tmp153_ = bala_expression_get_value_type (_tmp152_);
		_tmp154_ = _tmp153_;
		_tmp143_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp154_, BALA_TYPE_VALUE_TYPE);
	} else {
		_tmp143_ = FALSE;
	}
	if (_tmp143_) {
		BalaExpression* _tmp155_;
		BalaExpression* _tmp156_;
		BalaDataType* _tmp157_;
		BalaDataType* _tmp158_;
		gboolean _tmp159_;
		gboolean _tmp160_;
		_tmp155_ = bala_cast_expression_get_inner (expr);
		_tmp156_ = _tmp155_;
		_tmp157_ = bala_expression_get_value_type (_tmp156_);
		_tmp158_ = _tmp157_;
		_tmp159_ = bala_data_type_get_nullable (_tmp158_);
		_tmp160_ = _tmp159_;
		_tmp142_ = _tmp160_;
	} else {
		_tmp142_ = FALSE;
	}
	if (_tmp142_) {
		BalaExpression* inner_expr = NULL;
		BalaExpression* _tmp161_;
		BalaExpression* _tmp162_;
		gboolean _tmp167_ = FALSE;
		BalaExpression* _tmp168_;
		BalaDataType* _tmp169_;
		BalaDataType* _tmp170_;
		gboolean _tmp171_;
		gboolean _tmp172_;
		BalaCCodeExpression* _tmp188_;
		BalaCCodeUnaryExpression* _tmp189_;
		_tmp161_ = bala_cast_expression_get_inner (expr);
		_tmp162_ = _tmp161_;
		inner_expr = _tmp162_;
		while (TRUE) {
			BalaExpression* _tmp163_;
			BalaExpression* _tmp164_;
			BalaExpression* _tmp165_;
			BalaExpression* _tmp166_;
			_tmp163_ = inner_expr;
			if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp163_, BALA_TYPE_CAST_EXPRESSION)) {
				break;
			}
			_tmp164_ = inner_expr;
			_tmp165_ = bala_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (_tmp164_, BALA_TYPE_CAST_EXPRESSION, BalaCastExpression));
			_tmp166_ = _tmp165_;
			inner_expr = _tmp166_;
		}
		_tmp168_ = inner_expr;
		_tmp169_ = bala_expression_get_value_type (_tmp168_);
		_tmp170_ = _tmp169_;
		_tmp171_ = bala_data_type_get_value_owned (_tmp170_);
		_tmp172_ = _tmp171_;
		if (_tmp172_) {
			gboolean _tmp173_ = FALSE;
			BalaExpression* _tmp174_;
			BalaSymbol* _tmp175_;
			BalaSymbol* _tmp176_;
			_tmp174_ = inner_expr;
			_tmp175_ = bala_expression_get_symbol_reference (_tmp174_);
			_tmp176_ = _tmp175_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp176_, BALA_TYPE_VARIABLE)) {
				_tmp173_ = TRUE;
			} else {
				BalaExpression* _tmp177_;
				_tmp177_ = inner_expr;
				_tmp173_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp177_, BALA_TYPE_ELEMENT_ACCESS);
			}
			_tmp167_ = !_tmp173_;
		} else {
			_tmp167_ = FALSE;
		}
		if (_tmp167_) {
			BalaGLibValue* value = NULL;
			BalaVoidType* _tmp178_;
			BalaVoidType* _tmp179_;
			BalaPointerType* _tmp180_;
			BalaPointerType* _tmp181_;
			BalaCCodeExpression* _tmp182_;
			BalaGLibValue* _tmp183_;
			BalaGLibValue* _tmp184_;
			BalaArrayList* _tmp185_;
			BalaArrayList* _tmp186_;
			BalaGLibValue* _tmp187_;
			_tmp178_ = bala_void_type_new (NULL);
			_tmp179_ = _tmp178_;
			_tmp180_ = bala_pointer_type_new ((BalaDataType*) _tmp179_, NULL);
			_tmp181_ = _tmp180_;
			_tmp182_ = innercexpr;
			_tmp183_ = bala_glib_value_new ((BalaDataType*) _tmp181_, _tmp182_, FALSE);
			_tmp184_ = _tmp183_;
			_bala_code_node_unref0 (_tmp181_);
			_bala_code_node_unref0 (_tmp179_);
			value = _tmp184_;
			_tmp185_ = bala_ccode_base_module_get_temp_ref_values (self);
			_tmp186_ = _tmp185_;
			_tmp187_ = value;
			bala_list_insert ((BalaList*) _tmp186_, 0, (BalaTargetValue*) _tmp187_);
			_bala_target_value_unref0 (value);
		}
		_tmp188_ = innercexpr;
		_tmp189_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp188_);
		_bala_ccode_node_unref0 (innercexpr);
		innercexpr = (BalaCCodeExpression*) _tmp189_;
	} else {
		gboolean _tmp190_ = FALSE;
		gboolean _tmp191_ = FALSE;
		BalaDataType* _tmp192_;
		BalaDataType* _tmp193_;
		_tmp192_ = bala_cast_expression_get_type_reference (expr);
		_tmp193_ = _tmp192_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp193_, BALA_TYPE_VALUE_TYPE)) {
			BalaDataType* _tmp194_;
			BalaDataType* _tmp195_;
			gboolean _tmp196_;
			gboolean _tmp197_;
			_tmp194_ = bala_cast_expression_get_type_reference (expr);
			_tmp195_ = _tmp194_;
			_tmp196_ = bala_data_type_get_nullable (_tmp195_);
			_tmp197_ = _tmp196_;
			_tmp191_ = _tmp197_;
		} else {
			_tmp191_ = FALSE;
		}
		if (_tmp191_) {
			BalaExpression* _tmp198_;
			BalaExpression* _tmp199_;
			BalaDataType* _tmp200_;
			BalaDataType* _tmp201_;
			_tmp198_ = bala_cast_expression_get_inner (expr);
			_tmp199_ = _tmp198_;
			_tmp200_ = bala_expression_get_value_type (_tmp199_);
			_tmp201_ = _tmp200_;
			_tmp190_ = bala_data_type_is_real_non_null_struct_type (_tmp201_);
		} else {
			_tmp190_ = FALSE;
		}
		if (_tmp190_) {
			BalaCCodeExpression* _tmp202_;
			BalaCCodeUnaryExpression* _tmp203_;
			_tmp202_ = innercexpr;
			_tmp203_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp202_);
			_bala_ccode_node_unref0 (innercexpr);
			innercexpr = (BalaCCodeExpression*) _tmp203_;
		} else {
			gboolean _tmp204_ = FALSE;
			gboolean _tmp205_ = FALSE;
			gboolean _tmp206_ = FALSE;
			BalaDataType* _tmp207_;
			BalaDataType* _tmp208_;
			_tmp207_ = bala_cast_expression_get_type_reference (expr);
			_tmp208_ = _tmp207_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp208_, BALA_TYPE_ARRAY_TYPE)) {
				BalaExpression* _tmp209_;
				BalaExpression* _tmp210_;
				_tmp209_ = bala_cast_expression_get_inner (expr);
				_tmp210_ = _tmp209_;
				_tmp206_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp210_, BALA_TYPE_LITERAL);
			} else {
				_tmp206_ = FALSE;
			}
			if (_tmp206_) {
				BalaExpression* _tmp211_;
				BalaExpression* _tmp212_;
				BalaDataType* _tmp213_;
				BalaDataType* _tmp214_;
				_tmp211_ = bala_cast_expression_get_inner (expr);
				_tmp212_ = _tmp211_;
				_tmp213_ = bala_expression_get_value_type (_tmp212_);
				_tmp214_ = _tmp213_;
				_tmp205_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp214_, BALA_TYPE_VALUE_TYPE);
			} else {
				_tmp205_ = FALSE;
			}
			if (_tmp205_) {
				BalaExpression* _tmp215_;
				BalaExpression* _tmp216_;
				BalaDataType* _tmp217_;
				BalaDataType* _tmp218_;
				gboolean _tmp219_;
				gboolean _tmp220_;
				_tmp215_ = bala_cast_expression_get_inner (expr);
				_tmp216_ = _tmp215_;
				_tmp217_ = bala_expression_get_value_type (_tmp216_);
				_tmp218_ = _tmp217_;
				_tmp219_ = bala_data_type_get_nullable (_tmp218_);
				_tmp220_ = _tmp219_;
				_tmp204_ = !_tmp220_;
			} else {
				_tmp204_ = FALSE;
			}
			if (_tmp204_) {
				BalaCCodeExpression* _tmp221_;
				BalaCCodeUnaryExpression* _tmp222_;
				_tmp221_ = innercexpr;
				_tmp222_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp221_);
				_bala_ccode_node_unref0 (innercexpr);
				innercexpr = (BalaCCodeExpression*) _tmp222_;
			}
		}
	}
	_tmp223_ = innercexpr;
	_tmp224_ = bala_cast_expression_get_type_reference (expr);
	_tmp225_ = _tmp224_;
	_tmp226_ = bala_get_ccode_name ((BalaCodeNode*) _tmp225_);
	_tmp227_ = _tmp226_;
	_tmp228_ = bala_ccode_cast_expression_new (_tmp223_, _tmp227_);
	_tmp229_ = _tmp228_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp229_);
	_bala_ccode_node_unref0 (_tmp229_);
	_g_free0 (_tmp227_);
	_tmp230_ = bala_cast_expression_get_type_reference (expr);
	_tmp231_ = _tmp230_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp231_, BALA_TYPE_DELEGATE_TYPE)) {
		BalaCCodeExpression* target = NULL;
		BalaExpression* _tmp232_;
		BalaExpression* _tmp233_;
		BalaCCodeExpression* _tmp234_;
		BalaCCodeExpression* _tmp235_;
		BalaCCodeExpression* _tmp236_;
		BalaCCodeExpression* target_destroy_notify = NULL;
		BalaExpression* _tmp240_;
		BalaExpression* _tmp241_;
		BalaCCodeExpression* _tmp242_;
		BalaCCodeExpression* _tmp243_;
		BalaCCodeExpression* _tmp244_;
		_tmp232_ = bala_cast_expression_get_inner (expr);
		_tmp233_ = _tmp232_;
		_tmp234_ = bala_get_delegate_target (_tmp233_);
		_tmp235_ = _bala_ccode_node_ref0 (_tmp234_);
		target = _tmp235_;
		_tmp236_ = target;
		if (_tmp236_ != NULL) {
			BalaCCodeExpression* _tmp237_;
			_tmp237_ = target;
			bala_set_delegate_target ((BalaExpression*) expr, _tmp237_);
		} else {
			BalaCCodeConstant* _tmp238_;
			BalaCCodeConstant* _tmp239_;
			_tmp238_ = bala_ccode_constant_new ("NULL");
			_tmp239_ = _tmp238_;
			bala_set_delegate_target ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp239_);
			_bala_ccode_node_unref0 (_tmp239_);
		}
		_tmp240_ = bala_cast_expression_get_inner (expr);
		_tmp241_ = _tmp240_;
		_tmp242_ = bala_get_delegate_target_destroy_notify (_tmp241_);
		_tmp243_ = _bala_ccode_node_ref0 (_tmp242_);
		target_destroy_notify = _tmp243_;
		_tmp244_ = target_destroy_notify;
		if (_tmp244_ != NULL) {
			BalaCCodeExpression* _tmp245_;
			_tmp245_ = target_destroy_notify;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) expr, _tmp245_);
		} else {
			BalaCCodeConstant* _tmp246_;
			BalaCCodeConstant* _tmp247_;
			_tmp246_ = bala_ccode_constant_new ("NULL");
			_tmp247_ = _tmp246_;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp247_);
			_bala_ccode_node_unref0 (_tmp247_);
		}
		_bala_ccode_node_unref0 (target_destroy_notify);
		_bala_ccode_node_unref0 (target);
	}
	_bala_ccode_node_unref0 (innercexpr);
	_bala_code_node_unref0 (array_type);
}

static void
bala_ccode_base_module_real_visit_named_argument (BalaCodeVisitor* base,
                                                  BalaNamedArgument* expr)
{
	BalaCCodeBaseModule * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_named_argument_get_inner (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_cvalue (_tmp1_);
	bala_set_cvalue ((BalaExpression*) expr, _tmp2_);
}

static void
bala_ccode_base_module_real_visit_pointer_indirection (BalaCodeVisitor* base,
                                                       BalaPointerIndirection* expr)
{
	BalaCCodeBaseModule * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeUnaryExpression* _tmp3_;
	BalaCCodeUnaryExpression* _tmp4_;
	BalaTargetValue* _tmp5_;
	BalaTargetValue* _tmp6_;
	BalaExpression* _tmp7_;
	BalaExpression* _tmp8_;
	BalaTargetValue* _tmp9_;
	BalaTargetValue* _tmp10_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_pointer_indirection_get_inner (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_cvalue (_tmp1_);
	_tmp3_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp2_);
	_tmp4_ = _tmp3_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp4_);
	_bala_ccode_node_unref0 (_tmp4_);
	_tmp5_ = bala_expression_get_target_value ((BalaExpression*) expr);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_pointer_indirection_get_inner (expr);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_expression_get_target_value (_tmp8_);
	_tmp10_ = _tmp9_;
	G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, BALA_TYPE_GLIB_VALUE, BalaGLibValue)->lvalue = bala_get_lvalue (_tmp10_);
}

static void
bala_ccode_base_module_real_visit_addressof_expression (BalaCodeVisitor* base,
                                                        BalaAddressofExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeUnaryExpression* _tmp3_;
	BalaCCodeUnaryExpression* _tmp4_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_addressof_expression_get_inner (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_cvalue (_tmp1_);
	_tmp3_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp2_);
	_tmp4_ = _tmp3_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp4_);
	_bala_ccode_node_unref0 (_tmp4_);
}

static void
bala_ccode_base_module_real_visit_reference_transfer_expression (BalaCodeVisitor* base,
                                                                 BalaReferenceTransferExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaTargetValue* _tmp2_;
	BalaTargetValue* _tmp3_;
	BalaTargetValue* _tmp4_;
	BalaTargetValue* _tmp5_;
	gboolean _tmp6_ = FALSE;
	BalaExpression* _tmp7_;
	BalaExpression* _tmp8_;
	BalaDataType* _tmp9_;
	BalaDataType* _tmp10_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_reference_transfer_expression_get_inner (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_expression_get_target_value (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_base_module_store_temp_value (self, _tmp3_, (BalaCodeNode*) expr, NULL);
	_tmp5_ = _tmp4_;
	bala_expression_set_target_value ((BalaExpression*) expr, _tmp5_);
	_bala_target_value_unref0 (_tmp5_);
	_tmp7_ = bala_reference_transfer_expression_get_inner (expr);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_expression_get_value_type (_tmp8_);
	_tmp10_ = _tmp9_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
		BalaExpression* _tmp11_;
		BalaExpression* _tmp12_;
		BalaDataType* _tmp13_;
		BalaDataType* _tmp14_;
		gboolean _tmp15_;
		gboolean _tmp16_;
		_tmp11_ = bala_reference_transfer_expression_get_inner (expr);
		_tmp12_ = _tmp11_;
		_tmp13_ = bala_expression_get_value_type (_tmp12_);
		_tmp14_ = _tmp13_;
		_tmp15_ = bala_data_type_get_nullable (_tmp14_);
		_tmp16_ = _tmp15_;
		_tmp6_ = !_tmp16_;
	} else {
		_tmp6_ = FALSE;
	}
	if (_tmp6_) {
		BalaCCodeFile* _tmp17_;
		BalaCCodeFunctionCall* creation_call = NULL;
		BalaCCodeIdentifier* _tmp18_;
		BalaCCodeIdentifier* _tmp19_;
		BalaCCodeFunctionCall* _tmp20_;
		BalaCCodeFunctionCall* _tmp21_;
		BalaCCodeFunctionCall* _tmp22_;
		BalaExpression* _tmp23_;
		BalaExpression* _tmp24_;
		BalaCCodeExpression* _tmp25_;
		BalaCCodeUnaryExpression* _tmp26_;
		BalaCCodeUnaryExpression* _tmp27_;
		BalaCCodeFunctionCall* _tmp28_;
		BalaCCodeConstant* _tmp29_;
		BalaCCodeConstant* _tmp30_;
		BalaCCodeFunctionCall* _tmp31_;
		BalaExpression* _tmp32_;
		BalaExpression* _tmp33_;
		BalaDataType* _tmp34_;
		BalaDataType* _tmp35_;
		gchar* _tmp36_;
		gchar* _tmp37_;
		gchar* _tmp38_;
		gchar* _tmp39_;
		BalaCCodeIdentifier* _tmp40_;
		BalaCCodeIdentifier* _tmp41_;
		BalaCCodeFunction* _tmp42_;
		BalaCCodeFunction* _tmp43_;
		BalaCCodeFunctionCall* _tmp44_;
		_tmp17_ = self->cfile;
		bala_ccode_file_add_include (_tmp17_, "string.h", FALSE);
		_tmp18_ = bala_ccode_identifier_new ("memset");
		_tmp19_ = _tmp18_;
		_tmp20_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp19_);
		_tmp21_ = _tmp20_;
		_bala_ccode_node_unref0 (_tmp19_);
		creation_call = _tmp21_;
		_tmp22_ = creation_call;
		_tmp23_ = bala_reference_transfer_expression_get_inner (expr);
		_tmp24_ = _tmp23_;
		_tmp25_ = bala_get_cvalue (_tmp24_);
		_tmp26_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp25_);
		_tmp27_ = _tmp26_;
		bala_ccode_function_call_add_argument (_tmp22_, (BalaCCodeExpression*) _tmp27_);
		_bala_ccode_node_unref0 (_tmp27_);
		_tmp28_ = creation_call;
		_tmp29_ = bala_ccode_constant_new ("0");
		_tmp30_ = _tmp29_;
		bala_ccode_function_call_add_argument (_tmp28_, (BalaCCodeExpression*) _tmp30_);
		_bala_ccode_node_unref0 (_tmp30_);
		_tmp31_ = creation_call;
		_tmp32_ = bala_reference_transfer_expression_get_inner (expr);
		_tmp33_ = _tmp32_;
		_tmp34_ = bala_expression_get_value_type (_tmp33_);
		_tmp35_ = _tmp34_;
		_tmp36_ = bala_get_ccode_name ((BalaCodeNode*) _tmp35_);
		_tmp37_ = _tmp36_;
		_tmp38_ = g_strdup_printf ("sizeof (%s)", _tmp37_);
		_tmp39_ = _tmp38_;
		_tmp40_ = bala_ccode_identifier_new (_tmp39_);
		_tmp41_ = _tmp40_;
		bala_ccode_function_call_add_argument (_tmp31_, (BalaCCodeExpression*) _tmp41_);
		_bala_ccode_node_unref0 (_tmp41_);
		_g_free0 (_tmp39_);
		_g_free0 (_tmp37_);
		_tmp42_ = bala_ccode_base_module_get_ccode (self);
		_tmp43_ = _tmp42_;
		_tmp44_ = creation_call;
		bala_ccode_function_add_expression (_tmp43_, (BalaCCodeExpression*) _tmp44_);
		_bala_ccode_node_unref0 (creation_call);
	} else {
		BalaDataType* _tmp45_;
		BalaDataType* _tmp46_;
		_tmp45_ = bala_expression_get_value_type ((BalaExpression*) expr);
		_tmp46_ = _tmp45_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp46_, BALA_TYPE_DELEGATE_TYPE)) {
			BalaCCodeFunction* _tmp47_;
			BalaCCodeFunction* _tmp48_;
			BalaExpression* _tmp49_;
			BalaExpression* _tmp50_;
			BalaCCodeExpression* _tmp51_;
			BalaCCodeConstant* _tmp52_;
			BalaCCodeConstant* _tmp53_;
			BalaCCodeExpression* target = NULL;
			BalaExpression* _tmp54_;
			BalaExpression* _tmp55_;
			BalaTargetValue* _tmp56_;
			BalaTargetValue* _tmp57_;
			BalaCCodeExpression* _tmp58_;
			BalaCCodeExpression* _tmp59_;
			BalaCCodeExpression* target_destroy_notify = NULL;
			BalaExpression* _tmp65_;
			BalaExpression* _tmp66_;
			BalaTargetValue* _tmp67_;
			BalaTargetValue* _tmp68_;
			BalaCCodeExpression* _tmp69_;
			BalaCCodeExpression* _tmp70_;
			_tmp47_ = bala_ccode_base_module_get_ccode (self);
			_tmp48_ = _tmp47_;
			_tmp49_ = bala_reference_transfer_expression_get_inner (expr);
			_tmp50_ = _tmp49_;
			_tmp51_ = bala_get_cvalue (_tmp50_);
			_tmp52_ = bala_ccode_constant_new ("NULL");
			_tmp53_ = _tmp52_;
			bala_ccode_function_add_assignment (_tmp48_, _tmp51_, (BalaCCodeExpression*) _tmp53_);
			_bala_ccode_node_unref0 (_tmp53_);
			_tmp54_ = bala_reference_transfer_expression_get_inner (expr);
			_tmp55_ = _tmp54_;
			_tmp56_ = bala_expression_get_target_value (_tmp55_);
			_tmp57_ = _tmp56_;
			_tmp58_ = bala_ccode_base_module_get_delegate_target_cvalue (self, _tmp57_);
			target = _tmp58_;
			_tmp59_ = target;
			if (_tmp59_ != NULL) {
				BalaCCodeFunction* _tmp60_;
				BalaCCodeFunction* _tmp61_;
				BalaCCodeExpression* _tmp62_;
				BalaCCodeConstant* _tmp63_;
				BalaCCodeConstant* _tmp64_;
				_tmp60_ = bala_ccode_base_module_get_ccode (self);
				_tmp61_ = _tmp60_;
				_tmp62_ = target;
				_tmp63_ = bala_ccode_constant_new ("NULL");
				_tmp64_ = _tmp63_;
				bala_ccode_function_add_assignment (_tmp61_, _tmp62_, (BalaCCodeExpression*) _tmp64_);
				_bala_ccode_node_unref0 (_tmp64_);
			}
			_tmp65_ = bala_reference_transfer_expression_get_inner (expr);
			_tmp66_ = _tmp65_;
			_tmp67_ = bala_expression_get_target_value (_tmp66_);
			_tmp68_ = _tmp67_;
			_tmp69_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, _tmp68_);
			target_destroy_notify = _tmp69_;
			_tmp70_ = target_destroy_notify;
			if (_tmp70_ != NULL) {
				BalaCCodeFunction* _tmp71_;
				BalaCCodeFunction* _tmp72_;
				BalaCCodeExpression* _tmp73_;
				BalaCCodeConstant* _tmp74_;
				BalaCCodeConstant* _tmp75_;
				_tmp71_ = bala_ccode_base_module_get_ccode (self);
				_tmp72_ = _tmp71_;
				_tmp73_ = target_destroy_notify;
				_tmp74_ = bala_ccode_constant_new ("NULL");
				_tmp75_ = _tmp74_;
				bala_ccode_function_add_assignment (_tmp72_, _tmp73_, (BalaCCodeExpression*) _tmp75_);
				_bala_ccode_node_unref0 (_tmp75_);
			}
			_bala_ccode_node_unref0 (target_destroy_notify);
			_bala_ccode_node_unref0 (target);
		} else {
			BalaExpression* _tmp76_;
			BalaExpression* _tmp77_;
			BalaDataType* _tmp78_;
			BalaDataType* _tmp79_;
			_tmp76_ = bala_reference_transfer_expression_get_inner (expr);
			_tmp77_ = _tmp76_;
			_tmp78_ = bala_expression_get_value_type (_tmp77_);
			_tmp79_ = _tmp78_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp79_, BALA_TYPE_ARRAY_TYPE)) {
				BalaArrayType* array_type = NULL;
				BalaExpression* _tmp80_;
				BalaExpression* _tmp81_;
				BalaDataType* _tmp82_;
				BalaDataType* _tmp83_;
				BalaArrayType* _tmp84_;
				BalaGLibValue* glib_value = NULL;
				BalaExpression* _tmp85_;
				BalaExpression* _tmp86_;
				BalaTargetValue* _tmp87_;
				BalaTargetValue* _tmp88_;
				BalaGLibValue* _tmp89_;
				BalaCCodeFunction* _tmp90_;
				BalaCCodeFunction* _tmp91_;
				BalaExpression* _tmp92_;
				BalaExpression* _tmp93_;
				BalaCCodeExpression* _tmp94_;
				BalaCCodeConstant* _tmp95_;
				BalaCCodeConstant* _tmp96_;
				BalaGLibValue* _tmp97_;
				BalaList* _tmp98_;
				_tmp80_ = bala_reference_transfer_expression_get_inner (expr);
				_tmp81_ = _tmp80_;
				_tmp82_ = bala_expression_get_value_type (_tmp81_);
				_tmp83_ = _tmp82_;
				_tmp84_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp83_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
				array_type = _tmp84_;
				_tmp85_ = bala_reference_transfer_expression_get_inner (expr);
				_tmp86_ = _tmp85_;
				_tmp87_ = bala_expression_get_target_value (_tmp86_);
				_tmp88_ = _tmp87_;
				_tmp89_ = _bala_target_value_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp88_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
				glib_value = _tmp89_;
				_tmp90_ = bala_ccode_base_module_get_ccode (self);
				_tmp91_ = _tmp90_;
				_tmp92_ = bala_reference_transfer_expression_get_inner (expr);
				_tmp93_ = _tmp92_;
				_tmp94_ = bala_get_cvalue (_tmp93_);
				_tmp95_ = bala_ccode_constant_new ("NULL");
				_tmp96_ = _tmp95_;
				bala_ccode_function_add_assignment (_tmp91_, _tmp94_, (BalaCCodeExpression*) _tmp96_);
				_bala_ccode_node_unref0 (_tmp96_);
				_tmp97_ = glib_value;
				_tmp98_ = _tmp97_->array_length_cvalues;
				if (_tmp98_ != NULL) {
					{
						gint dim = 0;
						dim = 1;
						{
							gboolean _tmp99_ = FALSE;
							_tmp99_ = TRUE;
							while (TRUE) {
								BalaArrayType* _tmp101_;
								gint _tmp102_;
								gint _tmp103_;
								BalaCCodeFunction* _tmp104_;
								BalaCCodeFunction* _tmp105_;
								BalaGLibValue* _tmp106_;
								BalaCCodeExpression* _tmp107_;
								BalaCCodeExpression* _tmp108_;
								BalaCCodeConstant* _tmp109_;
								BalaCCodeConstant* _tmp110_;
								if (!_tmp99_) {
									gint _tmp100_;
									_tmp100_ = dim;
									dim = _tmp100_ + 1;
								}
								_tmp99_ = FALSE;
								_tmp101_ = array_type;
								_tmp102_ = bala_array_type_get_rank (_tmp101_);
								_tmp103_ = _tmp102_;
								if (!(dim <= _tmp103_)) {
									break;
								}
								_tmp104_ = bala_ccode_base_module_get_ccode (self);
								_tmp105_ = _tmp104_;
								_tmp106_ = glib_value;
								_tmp107_ = bala_ccode_base_module_get_array_length_cvalue (self, (BalaTargetValue*) _tmp106_, dim);
								_tmp108_ = _tmp107_;
								_tmp109_ = bala_ccode_constant_new ("0");
								_tmp110_ = _tmp109_;
								bala_ccode_function_add_assignment (_tmp105_, _tmp108_, (BalaCCodeExpression*) _tmp110_);
								_bala_ccode_node_unref0 (_tmp110_);
								_bala_ccode_node_unref0 (_tmp108_);
							}
						}
					}
				}
				_bala_target_value_unref0 (glib_value);
				_bala_code_node_unref0 (array_type);
			} else {
				BalaCCodeFunction* _tmp111_;
				BalaCCodeFunction* _tmp112_;
				BalaExpression* _tmp113_;
				BalaExpression* _tmp114_;
				BalaCCodeExpression* _tmp115_;
				BalaCCodeConstant* _tmp116_;
				BalaCCodeConstant* _tmp117_;
				_tmp111_ = bala_ccode_base_module_get_ccode (self);
				_tmp112_ = _tmp111_;
				_tmp113_ = bala_reference_transfer_expression_get_inner (expr);
				_tmp114_ = _tmp113_;
				_tmp115_ = bala_get_cvalue (_tmp114_);
				_tmp116_ = bala_ccode_constant_new ("NULL");
				_tmp117_ = _tmp116_;
				bala_ccode_function_add_assignment (_tmp112_, _tmp115_, (BalaCCodeExpression*) _tmp117_);
				_bala_ccode_node_unref0 (_tmp117_);
			}
		}
	}
}

static void
bala_ccode_base_module_real_visit_binary_expression (BalaCodeVisitor* base,
                                                     BalaBinaryExpression* expr)
{
	BalaCCodeBaseModule * self;
	BalaCCodeExpression* cleft = NULL;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* _tmp3_;
	BalaCCodeExpression* cright = NULL;
	BalaExpression* _tmp4_;
	BalaExpression* _tmp5_;
	BalaCCodeExpression* _tmp6_;
	BalaCCodeExpression* _tmp7_;
	BalaCCodeExpression* left_chain = NULL;
	gboolean _tmp8_;
	gboolean _tmp9_;
	BalaCCodeBinaryOperator op = 0;
	BalaBinaryOperator _tmp51_;
	BalaBinaryOperator _tmp52_;
	gboolean _tmp154_ = FALSE;
	BalaBinaryOperator _tmp155_;
	BalaBinaryOperator _tmp156_;
	gboolean _tmp227_ = FALSE;
	gboolean _tmp228_ = FALSE;
	gboolean _tmp229_ = FALSE;
	BalaExpression* _tmp230_;
	BalaExpression* _tmp231_;
	BalaDataType* _tmp232_;
	BalaDataType* _tmp233_;
	gboolean is_string_comparison = FALSE;
	gboolean _tmp248_ = FALSE;
	BalaExpression* _tmp249_;
	BalaExpression* _tmp250_;
	gboolean has_string_literal = FALSE;
	gboolean _tmp253_ = FALSE;
	BalaCCodeBinaryOperator _tmp380_;
	BalaCCodeExpression* _tmp381_;
	BalaCCodeExpression* _tmp382_;
	BalaCCodeBinaryExpression* _tmp383_;
	BalaCCodeBinaryExpression* _tmp384_;
	BalaCCodeExpression* _tmp385_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_binary_expression_get_left (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_cvalue (_tmp1_);
	_tmp3_ = _bala_ccode_node_ref0 (_tmp2_);
	cleft = _tmp3_;
	_tmp4_ = bala_binary_expression_get_right (expr);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_get_cvalue (_tmp5_);
	_tmp7_ = _bala_ccode_node_ref0 (_tmp6_);
	cright = _tmp7_;
	left_chain = NULL;
	_tmp8_ = bala_binary_expression_get_is_chained (expr);
	_tmp9_ = _tmp8_;
	if (_tmp9_) {
		BalaBinaryExpression* lbe = NULL;
		BalaExpression* _tmp10_;
		BalaExpression* _tmp11_;
		BalaBinaryExpression* _tmp12_;
		BalaLocalVariable* temp_decl = NULL;
		BalaBinaryExpression* _tmp13_;
		BalaExpression* _tmp14_;
		BalaExpression* _tmp15_;
		BalaDataType* _tmp16_;
		BalaDataType* _tmp17_;
		BalaLocalVariable* _tmp18_;
		BalaLocalVariable* _tmp19_;
		BalaCCodeExpression* cvar = NULL;
		BalaLocalVariable* _tmp20_;
		const gchar* _tmp21_;
		const gchar* _tmp22_;
		BalaCCodeExpression* _tmp23_;
		BalaCCodeBinaryExpression* clbe = NULL;
		BalaBinaryExpression* _tmp24_;
		BalaCCodeExpression* _tmp25_;
		BalaCCodeBinaryExpression* _tmp26_;
		BalaBinaryExpression* _tmp27_;
		gboolean _tmp28_;
		gboolean _tmp29_;
		BalaCCodeFunction* _tmp34_;
		BalaCCodeFunction* _tmp35_;
		BalaCCodeExpression* _tmp36_;
		BalaBinaryExpression* _tmp37_;
		BalaExpression* _tmp38_;
		BalaExpression* _tmp39_;
		BalaCCodeExpression* _tmp40_;
		BalaCCodeBinaryExpression* _tmp41_;
		BalaLocalVariable* _tmp42_;
		const gchar* _tmp43_;
		const gchar* _tmp44_;
		BalaCCodeExpression* _tmp45_;
		BalaCCodeExpression* _tmp46_;
		BalaCCodeExpression* _tmp47_;
		BalaCCodeExpression* _tmp48_;
		BalaCCodeExpression* _tmp49_;
		BalaCCodeExpression* _tmp50_;
		_tmp10_ = bala_binary_expression_get_left (expr);
		_tmp11_ = _tmp10_;
		_tmp12_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, BALA_TYPE_BINARY_EXPRESSION, BalaBinaryExpression));
		lbe = _tmp12_;
		_tmp13_ = lbe;
		_tmp14_ = bala_binary_expression_get_right (_tmp13_);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_expression_get_target_type (_tmp15_);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_ccode_base_module_get_temp_variable (self, _tmp17_, TRUE, NULL, FALSE);
		temp_decl = _tmp18_;
		_tmp19_ = temp_decl;
		bala_ccode_base_module_emit_temp_var (self, _tmp19_, FALSE);
		_tmp20_ = temp_decl;
		_tmp21_ = bala_symbol_get_name ((BalaSymbol*) _tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp22_);
		cvar = _tmp23_;
		_tmp24_ = lbe;
		_tmp25_ = bala_get_cvalue ((BalaExpression*) _tmp24_);
		_tmp26_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, BALA_TYPE_CCODE_BINARY_EXPRESSION, BalaCCodeBinaryExpression));
		clbe = _tmp26_;
		_tmp27_ = lbe;
		_tmp28_ = bala_binary_expression_get_is_chained (_tmp27_);
		_tmp29_ = _tmp28_;
		if (_tmp29_) {
			BalaCCodeBinaryExpression* _tmp30_;
			BalaCCodeExpression* _tmp31_;
			BalaCCodeExpression* _tmp32_;
			BalaCCodeBinaryExpression* _tmp33_;
			_tmp30_ = clbe;
			_tmp31_ = bala_ccode_binary_expression_get_right (_tmp30_);
			_tmp32_ = _tmp31_;
			_tmp33_ = _bala_ccode_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, BALA_TYPE_CCODE_BINARY_EXPRESSION, BalaCCodeBinaryExpression));
			_bala_ccode_node_unref0 (clbe);
			clbe = _tmp33_;
		}
		_tmp34_ = bala_ccode_base_module_get_ccode (self);
		_tmp35_ = _tmp34_;
		_tmp36_ = cvar;
		_tmp37_ = lbe;
		_tmp38_ = bala_binary_expression_get_right (_tmp37_);
		_tmp39_ = _tmp38_;
		_tmp40_ = bala_get_cvalue (_tmp39_);
		bala_ccode_function_add_assignment (_tmp35_, _tmp36_, _tmp40_);
		_tmp41_ = clbe;
		_tmp42_ = temp_decl;
		_tmp43_ = bala_symbol_get_name ((BalaSymbol*) _tmp42_);
		_tmp44_ = _tmp43_;
		_tmp45_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp44_);
		_tmp46_ = _tmp45_;
		bala_ccode_binary_expression_set_right (_tmp41_, _tmp46_);
		_bala_ccode_node_unref0 (_tmp46_);
		_tmp47_ = cleft;
		_tmp48_ = _bala_ccode_node_ref0 (_tmp47_);
		_bala_ccode_node_unref0 (left_chain);
		left_chain = _tmp48_;
		_tmp49_ = cvar;
		_tmp50_ = _bala_ccode_node_ref0 (_tmp49_);
		_bala_ccode_node_unref0 (cleft);
		cleft = _tmp50_;
		_bala_ccode_node_unref0 (clbe);
		_bala_ccode_node_unref0 (cvar);
		_bala_code_node_unref0 (temp_decl);
		_bala_code_node_unref0 (lbe);
	}
	_tmp51_ = bala_binary_expression_get_operator (expr);
	_tmp52_ = _tmp51_;
	switch (_tmp52_) {
		case BALA_BINARY_OPERATOR_PLUS:
		{
			op = BALA_CCODE_BINARY_OPERATOR_PLUS;
			break;
		}
		case BALA_BINARY_OPERATOR_MINUS:
		{
			op = BALA_CCODE_BINARY_OPERATOR_MINUS;
			break;
		}
		case BALA_BINARY_OPERATOR_MUL:
		{
			op = BALA_CCODE_BINARY_OPERATOR_MUL;
			break;
		}
		case BALA_BINARY_OPERATOR_DIV:
		{
			op = BALA_CCODE_BINARY_OPERATOR_DIV;
			break;
		}
		case BALA_BINARY_OPERATOR_MOD:
		{
			BalaDataType* _tmp53_;
			BalaDataType* _tmp54_;
			BalaDataType* _tmp55_;
			_tmp53_ = bala_expression_get_value_type ((BalaExpression*) expr);
			_tmp54_ = _tmp53_;
			_tmp55_ = self->double_type;
			if (bala_data_type_equals (_tmp54_, _tmp55_)) {
				BalaCCodeFile* _tmp56_;
				BalaCCodeFunctionCall* ccall = NULL;
				BalaCCodeIdentifier* _tmp57_;
				BalaCCodeIdentifier* _tmp58_;
				BalaCCodeFunctionCall* _tmp59_;
				BalaCCodeFunctionCall* _tmp60_;
				BalaCCodeFunctionCall* _tmp61_;
				BalaCCodeExpression* _tmp62_;
				BalaCCodeFunctionCall* _tmp63_;
				BalaCCodeExpression* _tmp64_;
				BalaCCodeFunctionCall* _tmp65_;
				_tmp56_ = self->cfile;
				bala_ccode_file_add_include (_tmp56_, "math.h", FALSE);
				_tmp57_ = bala_ccode_identifier_new ("fmod");
				_tmp58_ = _tmp57_;
				_tmp59_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp58_);
				_tmp60_ = _tmp59_;
				_bala_ccode_node_unref0 (_tmp58_);
				ccall = _tmp60_;
				_tmp61_ = ccall;
				_tmp62_ = cleft;
				bala_ccode_function_call_add_argument (_tmp61_, _tmp62_);
				_tmp63_ = ccall;
				_tmp64_ = cright;
				bala_ccode_function_call_add_argument (_tmp63_, _tmp64_);
				_tmp65_ = ccall;
				bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp65_);
				_bala_ccode_node_unref0 (ccall);
				_bala_ccode_node_unref0 (left_chain);
				_bala_ccode_node_unref0 (cright);
				_bala_ccode_node_unref0 (cleft);
				return;
			} else {
				BalaDataType* _tmp66_;
				BalaDataType* _tmp67_;
				BalaDataType* _tmp68_;
				_tmp66_ = bala_expression_get_value_type ((BalaExpression*) expr);
				_tmp67_ = _tmp66_;
				_tmp68_ = self->float_type;
				if (bala_data_type_equals (_tmp67_, _tmp68_)) {
					BalaCCodeFile* _tmp69_;
					BalaCCodeFunctionCall* ccall = NULL;
					BalaCCodeIdentifier* _tmp70_;
					BalaCCodeIdentifier* _tmp71_;
					BalaCCodeFunctionCall* _tmp72_;
					BalaCCodeFunctionCall* _tmp73_;
					BalaCCodeFunctionCall* _tmp74_;
					BalaCCodeExpression* _tmp75_;
					BalaCCodeFunctionCall* _tmp76_;
					BalaCCodeExpression* _tmp77_;
					BalaCCodeFunctionCall* _tmp78_;
					_tmp69_ = self->cfile;
					bala_ccode_file_add_include (_tmp69_, "math.h", FALSE);
					_tmp70_ = bala_ccode_identifier_new ("fmodf");
					_tmp71_ = _tmp70_;
					_tmp72_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp71_);
					_tmp73_ = _tmp72_;
					_bala_ccode_node_unref0 (_tmp71_);
					ccall = _tmp73_;
					_tmp74_ = ccall;
					_tmp75_ = cleft;
					bala_ccode_function_call_add_argument (_tmp74_, _tmp75_);
					_tmp76_ = ccall;
					_tmp77_ = cright;
					bala_ccode_function_call_add_argument (_tmp76_, _tmp77_);
					_tmp78_ = ccall;
					bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp78_);
					_bala_ccode_node_unref0 (ccall);
					_bala_ccode_node_unref0 (left_chain);
					_bala_ccode_node_unref0 (cright);
					_bala_ccode_node_unref0 (cleft);
					return;
				} else {
					op = BALA_CCODE_BINARY_OPERATOR_MOD;
				}
			}
			break;
		}
		case BALA_BINARY_OPERATOR_SHIFT_LEFT:
		{
			op = BALA_CCODE_BINARY_OPERATOR_SHIFT_LEFT;
			break;
		}
		case BALA_BINARY_OPERATOR_SHIFT_RIGHT:
		{
			op = BALA_CCODE_BINARY_OPERATOR_SHIFT_RIGHT;
			break;
		}
		case BALA_BINARY_OPERATOR_LESS_THAN:
		{
			op = BALA_CCODE_BINARY_OPERATOR_LESS_THAN;
			break;
		}
		case BALA_BINARY_OPERATOR_GREATER_THAN:
		{
			op = BALA_CCODE_BINARY_OPERATOR_GREATER_THAN;
			break;
		}
		case BALA_BINARY_OPERATOR_LESS_THAN_OR_EQUAL:
		{
			op = BALA_CCODE_BINARY_OPERATOR_LESS_THAN_OR_EQUAL;
			break;
		}
		case BALA_BINARY_OPERATOR_GREATER_THAN_OR_EQUAL:
		{
			op = BALA_CCODE_BINARY_OPERATOR_GREATER_THAN_OR_EQUAL;
			break;
		}
		case BALA_BINARY_OPERATOR_EQUALITY:
		{
			op = BALA_CCODE_BINARY_OPERATOR_EQUALITY;
			break;
		}
		case BALA_BINARY_OPERATOR_INEQUALITY:
		{
			op = BALA_CCODE_BINARY_OPERATOR_INEQUALITY;
			break;
		}
		case BALA_BINARY_OPERATOR_BITWISE_AND:
		{
			op = BALA_CCODE_BINARY_OPERATOR_BITWISE_AND;
			break;
		}
		case BALA_BINARY_OPERATOR_BITWISE_OR:
		{
			op = BALA_CCODE_BINARY_OPERATOR_BITWISE_OR;
			break;
		}
		case BALA_BINARY_OPERATOR_BITWISE_XOR:
		{
			op = BALA_CCODE_BINARY_OPERATOR_BITWISE_XOR;
			break;
		}
		case BALA_BINARY_OPERATOR_AND:
		{
			op = BALA_CCODE_BINARY_OPERATOR_AND;
			break;
		}
		case BALA_BINARY_OPERATOR_OR:
		{
			op = BALA_CCODE_BINARY_OPERATOR_OR;
			break;
		}
		case BALA_BINARY_OPERATOR_IN:
		{
			BalaExpression* _tmp79_;
			BalaExpression* _tmp80_;
			BalaDataType* _tmp81_;
			BalaDataType* _tmp82_;
			_tmp79_ = bala_binary_expression_get_right (expr);
			_tmp80_ = _tmp79_;
			_tmp81_ = bala_expression_get_value_type (_tmp80_);
			_tmp82_ = _tmp81_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp82_, BALA_TYPE_ARRAY_TYPE)) {
				BalaArrayType* array_type = NULL;
				BalaExpression* _tmp83_;
				BalaExpression* _tmp84_;
				BalaDataType* _tmp85_;
				BalaDataType* _tmp86_;
				BalaDataType* element_type = NULL;
				BalaArrayType* _tmp87_;
				BalaDataType* _tmp88_;
				BalaDataType* _tmp89_;
				BalaCCodeFunctionCall* ccall = NULL;
				BalaArrayType* _tmp90_;
				gchar* _tmp91_;
				gchar* _tmp92_;
				BalaCCodeIdentifier* _tmp93_;
				BalaCCodeIdentifier* _tmp94_;
				BalaCCodeFunctionCall* _tmp95_;
				BalaCCodeFunctionCall* _tmp96_;
				BalaCCodeExpression* node = NULL;
				BalaCCodeFunctionCall* _tmp97_;
				BalaCCodeExpression* _tmp98_;
				BalaCCodeFunctionCall* _tmp99_;
				BalaCCodeExpression* _tmp100_;
				BalaCCodeFunctionCall* _tmp101_;
				BalaExpression* _tmp102_;
				BalaExpression* _tmp103_;
				BalaCCodeExpression* _tmp104_;
				BalaCCodeExpression* _tmp105_;
				BalaDataType* _tmp106_;
				BalaCCodeExpression* _tmp146_;
				_tmp83_ = bala_binary_expression_get_right (expr);
				_tmp84_ = _tmp83_;
				_tmp85_ = bala_expression_get_value_type (_tmp84_);
				_tmp86_ = _tmp85_;
				array_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp86_, BALA_TYPE_ARRAY_TYPE, BalaArrayType);
				_tmp87_ = array_type;
				_tmp88_ = bala_array_type_get_element_type (_tmp87_);
				_tmp89_ = _tmp88_;
				element_type = _tmp89_;
				_tmp90_ = array_type;
				_tmp91_ = bala_ccode_base_module_generate_array_contains_wrapper (self, _tmp90_);
				_tmp92_ = _tmp91_;
				_tmp93_ = bala_ccode_identifier_new (_tmp92_);
				_tmp94_ = _tmp93_;
				_tmp95_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp94_);
				_tmp96_ = _tmp95_;
				_bala_ccode_node_unref0 (_tmp94_);
				_g_free0 (_tmp92_);
				ccall = _tmp96_;
				_tmp97_ = ccall;
				_tmp98_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp97_);
				node = _tmp98_;
				_tmp99_ = ccall;
				_tmp100_ = cright;
				bala_ccode_function_call_add_argument (_tmp99_, _tmp100_);
				_tmp101_ = ccall;
				_tmp102_ = bala_binary_expression_get_right (expr);
				_tmp103_ = _tmp102_;
				_tmp104_ = bala_ccode_base_module_get_array_length_cexpression (self, _tmp103_, -1);
				_tmp105_ = _tmp104_;
				bala_ccode_function_call_add_argument (_tmp101_, _tmp105_);
				_bala_ccode_node_unref0 (_tmp105_);
				_tmp106_ = element_type;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp106_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
					BalaCCodeFunctionCall* _tmp107_;
					BalaCCodeExpression* _tmp108_;
					BalaCCodeUnaryExpression* _tmp109_;
					BalaCCodeUnaryExpression* _tmp110_;
					_tmp107_ = ccall;
					_tmp108_ = cleft;
					_tmp109_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp108_);
					_tmp110_ = _tmp109_;
					bala_ccode_function_call_add_argument (_tmp107_, (BalaCCodeExpression*) _tmp110_);
					_bala_ccode_node_unref0 (_tmp110_);
				} else {
					gboolean _tmp111_ = FALSE;
					gboolean _tmp112_ = FALSE;
					gboolean _tmp113_ = FALSE;
					BalaDataType* _tmp114_;
					_tmp114_ = element_type;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp114_, BALA_TYPE_VALUE_TYPE)) {
						BalaDataType* _tmp115_;
						gboolean _tmp116_;
						gboolean _tmp117_;
						_tmp115_ = element_type;
						_tmp116_ = bala_data_type_get_nullable (_tmp115_);
						_tmp117_ = _tmp116_;
						_tmp113_ = !_tmp117_;
					} else {
						_tmp113_ = FALSE;
					}
					if (_tmp113_) {
						BalaExpression* _tmp118_;
						BalaExpression* _tmp119_;
						BalaDataType* _tmp120_;
						BalaDataType* _tmp121_;
						_tmp118_ = bala_binary_expression_get_left (expr);
						_tmp119_ = _tmp118_;
						_tmp120_ = bala_expression_get_value_type (_tmp119_);
						_tmp121_ = _tmp120_;
						_tmp112_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp121_, BALA_TYPE_VALUE_TYPE);
					} else {
						_tmp112_ = FALSE;
					}
					if (_tmp112_) {
						BalaExpression* _tmp122_;
						BalaExpression* _tmp123_;
						BalaDataType* _tmp124_;
						BalaDataType* _tmp125_;
						gboolean _tmp126_;
						gboolean _tmp127_;
						_tmp122_ = bala_binary_expression_get_left (expr);
						_tmp123_ = _tmp122_;
						_tmp124_ = bala_expression_get_value_type (_tmp123_);
						_tmp125_ = _tmp124_;
						_tmp126_ = bala_data_type_get_nullable (_tmp125_);
						_tmp127_ = _tmp126_;
						_tmp111_ = _tmp127_;
					} else {
						_tmp111_ = FALSE;
					}
					if (_tmp111_) {
						BalaCCodeBinaryExpression* cnull = NULL;
						BalaCCodeExpression* _tmp128_;
						BalaCCodeConstant* _tmp129_;
						BalaCCodeConstant* _tmp130_;
						BalaCCodeBinaryExpression* _tmp131_;
						BalaCCodeBinaryExpression* _tmp132_;
						BalaCCodeFunctionCall* _tmp133_;
						BalaCCodeExpression* _tmp134_;
						BalaCCodeUnaryExpression* _tmp135_;
						BalaCCodeUnaryExpression* _tmp136_;
						BalaCCodeBinaryExpression* _tmp137_;
						BalaCCodeConstant* _tmp138_;
						BalaCCodeConstant* _tmp139_;
						BalaCCodeFunctionCall* _tmp140_;
						BalaCCodeConditionalExpression* _tmp141_;
						BalaCCodeConditionalExpression* _tmp142_;
						BalaCCodeParenthesizedExpression* _tmp143_;
						_tmp128_ = cleft;
						_tmp129_ = bala_ccode_constant_new ("NULL");
						_tmp130_ = _tmp129_;
						_tmp131_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, _tmp128_, (BalaCCodeExpression*) _tmp130_);
						_tmp132_ = _tmp131_;
						_bala_ccode_node_unref0 (_tmp130_);
						cnull = _tmp132_;
						_tmp133_ = ccall;
						_tmp134_ = cleft;
						_tmp135_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp134_);
						_tmp136_ = _tmp135_;
						bala_ccode_function_call_add_argument (_tmp133_, (BalaCCodeExpression*) _tmp136_);
						_bala_ccode_node_unref0 (_tmp136_);
						_tmp137_ = cnull;
						_tmp138_ = bala_ccode_constant_new ("FALSE");
						_tmp139_ = _tmp138_;
						_tmp140_ = ccall;
						_tmp141_ = bala_ccode_conditional_expression_new ((BalaCCodeExpression*) _tmp137_, (BalaCCodeExpression*) _tmp139_, (BalaCCodeExpression*) _tmp140_);
						_tmp142_ = _tmp141_;
						_tmp143_ = bala_ccode_parenthesized_expression_new ((BalaCCodeExpression*) _tmp142_);
						_bala_ccode_node_unref0 (node);
						node = (BalaCCodeExpression*) _tmp143_;
						_bala_ccode_node_unref0 (_tmp142_);
						_bala_ccode_node_unref0 (_tmp139_);
						_bala_ccode_node_unref0 (cnull);
					} else {
						BalaCCodeFunctionCall* _tmp144_;
						BalaCCodeExpression* _tmp145_;
						_tmp144_ = ccall;
						_tmp145_ = cleft;
						bala_ccode_function_call_add_argument (_tmp144_, _tmp145_);
					}
				}
				_tmp146_ = node;
				bala_set_cvalue ((BalaExpression*) expr, _tmp146_);
				_bala_ccode_node_unref0 (node);
				_bala_ccode_node_unref0 (ccall);
			} else {
				BalaCCodeExpression* _tmp147_;
				BalaCCodeExpression* _tmp148_;
				BalaCCodeBinaryExpression* _tmp149_;
				BalaCCodeBinaryExpression* _tmp150_;
				BalaCCodeExpression* _tmp151_;
				BalaCCodeBinaryExpression* _tmp152_;
				BalaCCodeBinaryExpression* _tmp153_;
				_tmp147_ = cright;
				_tmp148_ = cleft;
				_tmp149_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_BITWISE_AND, _tmp147_, _tmp148_);
				_tmp150_ = _tmp149_;
				_tmp151_ = cleft;
				_tmp152_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp150_, _tmp151_);
				_tmp153_ = _tmp152_;
				bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp153_);
				_bala_ccode_node_unref0 (_tmp153_);
				_bala_ccode_node_unref0 (_tmp150_);
			}
			_bala_ccode_node_unref0 (left_chain);
			_bala_ccode_node_unref0 (cright);
			_bala_ccode_node_unref0 (cleft);
			return;
		}
		default:
		{
			g_assert_not_reached ();
		}
	}
	_tmp155_ = bala_binary_expression_get_operator (expr);
	_tmp156_ = _tmp155_;
	if (_tmp156_ == BALA_BINARY_OPERATOR_EQUALITY) {
		_tmp154_ = TRUE;
	} else {
		BalaBinaryOperator _tmp157_;
		BalaBinaryOperator _tmp158_;
		_tmp157_ = bala_binary_expression_get_operator (expr);
		_tmp158_ = _tmp157_;
		_tmp154_ = _tmp158_ == BALA_BINARY_OPERATOR_INEQUALITY;
	}
	if (_tmp154_) {
		BalaDataType* left_type = NULL;
		BalaExpression* _tmp159_;
		BalaExpression* _tmp160_;
		BalaDataType* _tmp161_;
		BalaDataType* _tmp162_;
		BalaDataType* _tmp163_;
		BalaDataType* right_type = NULL;
		BalaExpression* _tmp164_;
		BalaExpression* _tmp165_;
		BalaDataType* _tmp166_;
		BalaDataType* _tmp167_;
		BalaDataType* _tmp168_;
		gboolean _tmp169_ = FALSE;
		BalaDataType* _tmp170_;
		_tmp159_ = bala_binary_expression_get_left (expr);
		_tmp160_ = _tmp159_;
		_tmp161_ = bala_expression_get_target_type (_tmp160_);
		_tmp162_ = _tmp161_;
		_tmp163_ = _bala_code_node_ref0 (_tmp162_);
		left_type = _tmp163_;
		_tmp164_ = bala_binary_expression_get_right (expr);
		_tmp165_ = _tmp164_;
		_tmp166_ = bala_expression_get_target_type (_tmp165_);
		_tmp167_ = _tmp166_;
		_tmp168_ = _bala_code_node_ref0 (_tmp167_);
		right_type = _tmp168_;
		bala_ccode_base_module_make_comparable_cexpression (self, &left_type, &cleft, &right_type, &cright);
		_tmp170_ = left_type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp170_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
			BalaDataType* _tmp171_;
			_tmp171_ = right_type;
			_tmp169_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp171_, BALA_TYPE_STRUCT_VALUE_TYPE);
		} else {
			_tmp169_ = FALSE;
		}
		if (_tmp169_) {
			gchar* equalfunc = NULL;
			BalaDataType* _tmp172_;
			BalaTypeSymbol* _tmp173_;
			BalaTypeSymbol* _tmp174_;
			gchar* _tmp175_;
			BalaCCodeFunctionCall* ccall = NULL;
			const gchar* _tmp176_;
			BalaCCodeIdentifier* _tmp177_;
			BalaCCodeIdentifier* _tmp178_;
			BalaCCodeFunctionCall* _tmp179_;
			BalaCCodeFunctionCall* _tmp180_;
			BalaCCodeFunctionCall* _tmp181_;
			BalaCCodeExpression* _tmp182_;
			BalaCCodeFunctionCall* _tmp183_;
			BalaCCodeExpression* _tmp184_;
			BalaCCodeFunctionCall* _tmp185_;
			BalaCCodeExpression* _tmp186_;
			BalaCCodeExpression* _tmp187_;
			_tmp172_ = left_type;
			_tmp173_ = bala_data_type_get_type_symbol (_tmp172_);
			_tmp174_ = _tmp173_;
			_tmp175_ = bala_ccode_base_module_generate_struct_equal_function (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp174_, BALA_TYPE_STRUCT, BalaStruct));
			equalfunc = _tmp175_;
			_tmp176_ = equalfunc;
			_tmp177_ = bala_ccode_identifier_new (_tmp176_);
			_tmp178_ = _tmp177_;
			_tmp179_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp178_);
			_tmp180_ = _tmp179_;
			_bala_ccode_node_unref0 (_tmp178_);
			ccall = _tmp180_;
			_tmp181_ = ccall;
			_tmp182_ = cleft;
			bala_ccode_function_call_add_argument (_tmp181_, _tmp182_);
			_tmp183_ = ccall;
			_tmp184_ = cright;
			bala_ccode_function_call_add_argument (_tmp183_, _tmp184_);
			_tmp185_ = ccall;
			_tmp186_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp185_);
			_bala_ccode_node_unref0 (cleft);
			cleft = _tmp186_;
			_tmp187_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
			_bala_ccode_node_unref0 (cright);
			cright = _tmp187_;
			_bala_ccode_node_unref0 (ccall);
			_g_free0 (equalfunc);
		} else {
			gboolean _tmp188_ = FALSE;
			gboolean _tmp189_ = FALSE;
			gboolean _tmp190_ = FALSE;
			gboolean _tmp191_ = FALSE;
			gboolean _tmp192_ = FALSE;
			gboolean _tmp193_ = FALSE;
			BalaDataType* _tmp194_;
			_tmp194_ = left_type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp194_, BALA_TYPE_INTEGER_TYPE)) {
				_tmp193_ = TRUE;
			} else {
				BalaDataType* _tmp195_;
				_tmp195_ = left_type;
				_tmp193_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp195_, BALA_TYPE_FLOATING_TYPE);
			}
			if (_tmp193_) {
				_tmp192_ = TRUE;
			} else {
				BalaDataType* _tmp196_;
				_tmp196_ = left_type;
				_tmp192_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp196_, BALA_TYPE_BOOLEAN_TYPE);
			}
			if (_tmp192_) {
				_tmp191_ = TRUE;
			} else {
				BalaDataType* _tmp197_;
				_tmp197_ = left_type;
				_tmp191_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp197_, BALA_TYPE_ENUM_VALUE_TYPE);
			}
			if (_tmp191_) {
				BalaDataType* _tmp198_;
				gboolean _tmp199_;
				gboolean _tmp200_;
				_tmp198_ = left_type;
				_tmp199_ = bala_data_type_get_nullable (_tmp198_);
				_tmp200_ = _tmp199_;
				_tmp190_ = _tmp200_;
			} else {
				_tmp190_ = FALSE;
			}
			if (_tmp190_) {
				gboolean _tmp201_ = FALSE;
				gboolean _tmp202_ = FALSE;
				gboolean _tmp203_ = FALSE;
				BalaDataType* _tmp204_;
				_tmp204_ = right_type;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp204_, BALA_TYPE_INTEGER_TYPE)) {
					_tmp203_ = TRUE;
				} else {
					BalaDataType* _tmp205_;
					_tmp205_ = right_type;
					_tmp203_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp205_, BALA_TYPE_FLOATING_TYPE);
				}
				if (_tmp203_) {
					_tmp202_ = TRUE;
				} else {
					BalaDataType* _tmp206_;
					_tmp206_ = right_type;
					_tmp202_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp206_, BALA_TYPE_BOOLEAN_TYPE);
				}
				if (_tmp202_) {
					_tmp201_ = TRUE;
				} else {
					BalaDataType* _tmp207_;
					_tmp207_ = right_type;
					_tmp201_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp207_, BALA_TYPE_ENUM_VALUE_TYPE);
				}
				_tmp189_ = _tmp201_;
			} else {
				_tmp189_ = FALSE;
			}
			if (_tmp189_) {
				BalaDataType* _tmp208_;
				gboolean _tmp209_;
				gboolean _tmp210_;
				_tmp208_ = right_type;
				_tmp209_ = bala_data_type_get_nullable (_tmp208_);
				_tmp210_ = _tmp209_;
				_tmp188_ = _tmp210_;
			} else {
				_tmp188_ = FALSE;
			}
			if (_tmp188_) {
				gchar* equalfunc = NULL;
				BalaDataType* _tmp211_;
				BalaTypeSymbol* _tmp212_;
				BalaTypeSymbol* _tmp213_;
				gchar* _tmp214_;
				BalaCCodeFunctionCall* ccall = NULL;
				const gchar* _tmp215_;
				BalaCCodeIdentifier* _tmp216_;
				BalaCCodeIdentifier* _tmp217_;
				BalaCCodeFunctionCall* _tmp218_;
				BalaCCodeFunctionCall* _tmp219_;
				BalaCCodeFunctionCall* _tmp220_;
				BalaCCodeExpression* _tmp221_;
				BalaCCodeFunctionCall* _tmp222_;
				BalaCCodeExpression* _tmp223_;
				BalaCCodeFunctionCall* _tmp224_;
				BalaCCodeExpression* _tmp225_;
				BalaCCodeExpression* _tmp226_;
				_tmp211_ = left_type;
				_tmp212_ = bala_data_type_get_type_symbol (_tmp211_);
				_tmp213_ = _tmp212_;
				_tmp214_ = bala_ccode_base_module_generate_numeric_equal_function (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp213_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
				equalfunc = _tmp214_;
				_tmp215_ = equalfunc;
				_tmp216_ = bala_ccode_identifier_new (_tmp215_);
				_tmp217_ = _tmp216_;
				_tmp218_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp217_);
				_tmp219_ = _tmp218_;
				_bala_ccode_node_unref0 (_tmp217_);
				ccall = _tmp219_;
				_tmp220_ = ccall;
				_tmp221_ = cleft;
				bala_ccode_function_call_add_argument (_tmp220_, _tmp221_);
				_tmp222_ = ccall;
				_tmp223_ = cright;
				bala_ccode_function_call_add_argument (_tmp222_, _tmp223_);
				_tmp224_ = ccall;
				_tmp225_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp224_);
				_bala_ccode_node_unref0 (cleft);
				cleft = _tmp225_;
				_tmp226_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
				_bala_ccode_node_unref0 (cright);
				cright = _tmp226_;
				_bala_ccode_node_unref0 (ccall);
				_g_free0 (equalfunc);
			}
		}
		_bala_code_node_unref0 (right_type);
		_bala_code_node_unref0 (left_type);
	}
	_tmp230_ = bala_binary_expression_get_left (expr);
	_tmp231_ = _tmp230_;
	_tmp232_ = bala_expression_get_value_type (_tmp231_);
	_tmp233_ = _tmp232_;
	if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp233_, BALA_TYPE_NULL_TYPE)) {
		BalaExpression* _tmp234_;
		BalaExpression* _tmp235_;
		BalaDataType* _tmp236_;
		BalaDataType* _tmp237_;
		BalaDataType* _tmp238_;
		_tmp234_ = bala_binary_expression_get_left (expr);
		_tmp235_ = _tmp234_;
		_tmp236_ = bala_expression_get_value_type (_tmp235_);
		_tmp237_ = _tmp236_;
		_tmp238_ = self->string_type;
		_tmp229_ = bala_data_type_compatible (_tmp237_, _tmp238_);
	} else {
		_tmp229_ = FALSE;
	}
	if (_tmp229_) {
		BalaExpression* _tmp239_;
		BalaExpression* _tmp240_;
		BalaDataType* _tmp241_;
		BalaDataType* _tmp242_;
		_tmp239_ = bala_binary_expression_get_right (expr);
		_tmp240_ = _tmp239_;
		_tmp241_ = bala_expression_get_value_type (_tmp240_);
		_tmp242_ = _tmp241_;
		_tmp228_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp242_, BALA_TYPE_NULL_TYPE);
	} else {
		_tmp228_ = FALSE;
	}
	if (_tmp228_) {
		BalaExpression* _tmp243_;
		BalaExpression* _tmp244_;
		BalaDataType* _tmp245_;
		BalaDataType* _tmp246_;
		BalaDataType* _tmp247_;
		_tmp243_ = bala_binary_expression_get_right (expr);
		_tmp244_ = _tmp243_;
		_tmp245_ = bala_expression_get_value_type (_tmp244_);
		_tmp246_ = _tmp245_;
		_tmp247_ = self->string_type;
		_tmp227_ = bala_data_type_compatible (_tmp246_, _tmp247_);
	} else {
		_tmp227_ = FALSE;
	}
	is_string_comparison = _tmp227_;
	_tmp249_ = bala_binary_expression_get_left (expr);
	_tmp250_ = _tmp249_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp250_, BALA_TYPE_STRING_LITERAL)) {
		_tmp248_ = TRUE;
	} else {
		BalaExpression* _tmp251_;
		BalaExpression* _tmp252_;
		_tmp251_ = bala_binary_expression_get_right (expr);
		_tmp252_ = _tmp251_;
		_tmp248_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp252_, BALA_TYPE_STRING_LITERAL);
	}
	has_string_literal = _tmp248_;
	if (is_string_comparison) {
		_tmp253_ = TRUE;
	} else {
		gboolean _tmp254_ = FALSE;
		if (has_string_literal) {
			BalaBinaryOperator _tmp255_;
			BalaBinaryOperator _tmp256_;
			_tmp255_ = bala_binary_expression_get_operator (expr);
			_tmp256_ = _tmp255_;
			_tmp254_ = _tmp256_ != BALA_BINARY_OPERATOR_PLUS;
		} else {
			_tmp254_ = FALSE;
		}
		_tmp253_ = _tmp254_;
	}
	if (_tmp253_) {
		BalaBinaryOperator _tmp257_;
		BalaBinaryOperator _tmp258_;
		_tmp257_ = bala_binary_expression_get_operator (expr);
		_tmp258_ = _tmp257_;
		switch (_tmp258_) {
			case BALA_BINARY_OPERATOR_PLUS:
			{
				gboolean _tmp259_ = FALSE;
				BalaExpression* _tmp260_;
				BalaExpression* _tmp261_;
				_tmp260_ = bala_binary_expression_get_left (expr);
				_tmp261_ = _tmp260_;
				if (bala_expression_is_constant (_tmp261_)) {
					BalaExpression* _tmp262_;
					BalaExpression* _tmp263_;
					_tmp262_ = bala_binary_expression_get_right (expr);
					_tmp263_ = _tmp262_;
					_tmp259_ = bala_expression_is_constant (_tmp263_);
				} else {
					_tmp259_ = FALSE;
				}
				if (_tmp259_) {
					gchar* left = NULL;
					gchar* right = NULL;
					BalaCCodeExpression* _tmp264_;
					BalaCCodeExpression* _tmp277_;
					const gchar* _tmp290_;
					const gchar* _tmp291_;
					gchar* _tmp292_;
					gchar* _tmp293_;
					BalaCCodeConstant* _tmp294_;
					BalaCCodeConstant* _tmp295_;
					_tmp264_ = cleft;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp264_, BALA_TYPE_CCODE_IDENTIFIER)) {
						BalaCCodeExpression* _tmp265_;
						const gchar* _tmp266_;
						const gchar* _tmp267_;
						gchar* _tmp268_;
						_tmp265_ = cleft;
						_tmp266_ = bala_ccode_identifier_get_name (G_TYPE_CHECK_INSTANCE_CAST (_tmp265_, BALA_TYPE_CCODE_IDENTIFIER, BalaCCodeIdentifier));
						_tmp267_ = _tmp266_;
						_tmp268_ = g_strdup (_tmp267_);
						_g_free0 (left);
						left = _tmp268_;
					} else {
						BalaCCodeExpression* _tmp269_;
						_tmp269_ = cleft;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp269_, BALA_TYPE_CCODE_CONSTANT)) {
							BalaCCodeExpression* _tmp270_;
							const gchar* _tmp271_;
							const gchar* _tmp272_;
							gchar* _tmp273_;
							_tmp270_ = cleft;
							_tmp271_ = bala_ccode_constant_get_name (G_TYPE_CHECK_INSTANCE_CAST (_tmp270_, BALA_TYPE_CCODE_CONSTANT, BalaCCodeConstant));
							_tmp272_ = _tmp271_;
							_tmp273_ = g_strdup (_tmp272_);
							_g_free0 (left);
							left = _tmp273_;
						} else {
							BalaSourceReference* _tmp274_;
							BalaSourceReference* _tmp275_;
							gchar* _tmp276_;
							_tmp274_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
							_tmp275_ = _tmp274_;
							bala_report_error (_tmp275_, "internal: Unsupported expression");
							_tmp276_ = g_strdup ("NULL");
							_g_free0 (left);
							left = _tmp276_;
						}
					}
					_tmp277_ = cright;
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp277_, BALA_TYPE_CCODE_IDENTIFIER)) {
						BalaCCodeExpression* _tmp278_;
						const gchar* _tmp279_;
						const gchar* _tmp280_;
						gchar* _tmp281_;
						_tmp278_ = cright;
						_tmp279_ = bala_ccode_identifier_get_name (G_TYPE_CHECK_INSTANCE_CAST (_tmp278_, BALA_TYPE_CCODE_IDENTIFIER, BalaCCodeIdentifier));
						_tmp280_ = _tmp279_;
						_tmp281_ = g_strdup (_tmp280_);
						_g_free0 (right);
						right = _tmp281_;
					} else {
						BalaCCodeExpression* _tmp282_;
						_tmp282_ = cright;
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp282_, BALA_TYPE_CCODE_CONSTANT)) {
							BalaCCodeExpression* _tmp283_;
							const gchar* _tmp284_;
							const gchar* _tmp285_;
							gchar* _tmp286_;
							_tmp283_ = cright;
							_tmp284_ = bala_ccode_constant_get_name (G_TYPE_CHECK_INSTANCE_CAST (_tmp283_, BALA_TYPE_CCODE_CONSTANT, BalaCCodeConstant));
							_tmp285_ = _tmp284_;
							_tmp286_ = g_strdup (_tmp285_);
							_g_free0 (right);
							right = _tmp286_;
						} else {
							BalaSourceReference* _tmp287_;
							BalaSourceReference* _tmp288_;
							gchar* _tmp289_;
							_tmp287_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
							_tmp288_ = _tmp287_;
							bala_report_error (_tmp288_, "internal: Unsupported expression");
							_tmp289_ = g_strdup ("NULL");
							_g_free0 (right);
							right = _tmp289_;
						}
					}
					_tmp290_ = left;
					_tmp291_ = right;
					_tmp292_ = g_strdup_printf ("%s %s", _tmp290_, _tmp291_);
					_tmp293_ = _tmp292_;
					_tmp294_ = bala_ccode_constant_new (_tmp293_);
					_tmp295_ = _tmp294_;
					bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp295_);
					_bala_ccode_node_unref0 (_tmp295_);
					_g_free0 (_tmp293_);
					_g_free0 (right);
					_g_free0 (left);
				} else {
					BalaTargetValue* temp_value = NULL;
					BalaDataType* _tmp296_;
					BalaDataType* _tmp297_;
					BalaTargetValue* _tmp298_;
					BalaCCodeFunctionCall* ccall = NULL;
					BalaCodeContext* _tmp299_;
					BalaProfile _tmp300_;
					BalaProfile _tmp301_;
					BalaCCodeFunction* _tmp353_;
					BalaCCodeFunction* _tmp354_;
					BalaTargetValue* _tmp355_;
					BalaCCodeExpression* _tmp356_;
					BalaCCodeFunctionCall* _tmp357_;
					BalaTargetValue* _tmp358_;
					_tmp296_ = bala_expression_get_value_type ((BalaExpression*) expr);
					_tmp297_ = _tmp296_;
					_tmp298_ = bala_ccode_base_module_create_temp_value (self, _tmp297_, FALSE, (BalaCodeNode*) expr, NULL);
					temp_value = _tmp298_;
					_tmp299_ = self->priv->_context;
					_tmp300_ = bala_code_context_get_profile (_tmp299_);
					_tmp301_ = _tmp300_;
					if (_tmp301_ == BALA_PROFILE_POSIX) {
						BalaCCodeIdentifier* _tmp302_;
						BalaCCodeIdentifier* _tmp303_;
						BalaCCodeFunctionCall* _tmp304_;
						BalaCCodeFunctionCall* strcpy = NULL;
						BalaCCodeIdentifier* _tmp305_;
						BalaCCodeIdentifier* _tmp306_;
						BalaCCodeFunctionCall* _tmp307_;
						BalaCCodeFunctionCall* _tmp308_;
						BalaCCodeFunctionCall* malloc = NULL;
						BalaCCodeIdentifier* _tmp309_;
						BalaCCodeIdentifier* _tmp310_;
						BalaCCodeFunctionCall* _tmp311_;
						BalaCCodeFunctionCall* _tmp312_;
						BalaCCodeFunctionCall* strlen_a = NULL;
						BalaCCodeIdentifier* _tmp313_;
						BalaCCodeIdentifier* _tmp314_;
						BalaCCodeFunctionCall* _tmp315_;
						BalaCCodeFunctionCall* _tmp316_;
						BalaCCodeFunctionCall* _tmp317_;
						BalaCCodeExpression* _tmp318_;
						BalaCCodeFunctionCall* strlen_b = NULL;
						BalaCCodeIdentifier* _tmp319_;
						BalaCCodeIdentifier* _tmp320_;
						BalaCCodeFunctionCall* _tmp321_;
						BalaCCodeFunctionCall* _tmp322_;
						BalaCCodeFunctionCall* _tmp323_;
						BalaCCodeExpression* _tmp324_;
						BalaCCodeBinaryExpression* newlength = NULL;
						BalaCCodeIdentifier* _tmp325_;
						BalaCCodeIdentifier* _tmp326_;
						BalaCCodeFunctionCall* _tmp327_;
						BalaCCodeFunctionCall* _tmp328_;
						BalaCCodeBinaryExpression* _tmp329_;
						BalaCCodeBinaryExpression* _tmp330_;
						BalaCCodeBinaryExpression* _tmp331_;
						BalaCCodeBinaryExpression* _tmp332_;
						BalaCCodeFunctionCall* _tmp333_;
						BalaCCodeBinaryExpression* _tmp334_;
						BalaCCodeFunctionCall* _tmp335_;
						BalaCCodeFunctionCall* _tmp336_;
						BalaCCodeFunctionCall* _tmp337_;
						BalaCCodeExpression* _tmp338_;
						BalaCCodeFunctionCall* _tmp339_;
						BalaCCodeFunctionCall* _tmp340_;
						BalaCCodeFunctionCall* _tmp341_;
						BalaCCodeExpression* _tmp342_;
						_tmp302_ = bala_ccode_identifier_new ("strcat");
						_tmp303_ = _tmp302_;
						_tmp304_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp303_);
						_bala_ccode_node_unref0 (ccall);
						ccall = _tmp304_;
						_bala_ccode_node_unref0 (_tmp303_);
						_tmp305_ = bala_ccode_identifier_new ("strcpy");
						_tmp306_ = _tmp305_;
						_tmp307_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp306_);
						_tmp308_ = _tmp307_;
						_bala_ccode_node_unref0 (_tmp306_);
						strcpy = _tmp308_;
						_tmp309_ = bala_ccode_identifier_new ("malloc");
						_tmp310_ = _tmp309_;
						_tmp311_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp310_);
						_tmp312_ = _tmp311_;
						_bala_ccode_node_unref0 (_tmp310_);
						malloc = _tmp312_;
						_tmp313_ = bala_ccode_identifier_new ("strlen");
						_tmp314_ = _tmp313_;
						_tmp315_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp314_);
						_tmp316_ = _tmp315_;
						_bala_ccode_node_unref0 (_tmp314_);
						strlen_a = _tmp316_;
						_tmp317_ = strlen_a;
						_tmp318_ = cleft;
						bala_ccode_function_call_add_argument (_tmp317_, _tmp318_);
						_tmp319_ = bala_ccode_identifier_new ("strlen");
						_tmp320_ = _tmp319_;
						_tmp321_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp320_);
						_tmp322_ = _tmp321_;
						_bala_ccode_node_unref0 (_tmp320_);
						strlen_b = _tmp322_;
						_tmp323_ = strlen_b;
						_tmp324_ = cright;
						bala_ccode_function_call_add_argument (_tmp323_, _tmp324_);
						_tmp325_ = bala_ccode_identifier_new ("1");
						_tmp326_ = _tmp325_;
						_tmp327_ = strlen_a;
						_tmp328_ = strlen_b;
						_tmp329_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_PLUS, (BalaCCodeExpression*) _tmp327_, (BalaCCodeExpression*) _tmp328_);
						_tmp330_ = _tmp329_;
						_tmp331_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_PLUS, (BalaCCodeExpression*) _tmp326_, (BalaCCodeExpression*) _tmp330_);
						_tmp332_ = _tmp331_;
						_bala_ccode_node_unref0 (_tmp330_);
						_bala_ccode_node_unref0 (_tmp326_);
						newlength = _tmp332_;
						_tmp333_ = malloc;
						_tmp334_ = newlength;
						bala_ccode_function_call_add_argument (_tmp333_, (BalaCCodeExpression*) _tmp334_);
						_tmp335_ = strcpy;
						_tmp336_ = malloc;
						bala_ccode_function_call_add_argument (_tmp335_, (BalaCCodeExpression*) _tmp336_);
						_tmp337_ = strcpy;
						_tmp338_ = cleft;
						bala_ccode_function_call_add_argument (_tmp337_, _tmp338_);
						_tmp339_ = ccall;
						_tmp340_ = strcpy;
						bala_ccode_function_call_add_argument (_tmp339_, (BalaCCodeExpression*) _tmp340_);
						_tmp341_ = ccall;
						_tmp342_ = cright;
						bala_ccode_function_call_add_argument (_tmp341_, _tmp342_);
						_bala_ccode_node_unref0 (newlength);
						_bala_ccode_node_unref0 (strlen_b);
						_bala_ccode_node_unref0 (strlen_a);
						_bala_ccode_node_unref0 (malloc);
						_bala_ccode_node_unref0 (strcpy);
					} else {
						BalaCCodeIdentifier* _tmp343_;
						BalaCCodeIdentifier* _tmp344_;
						BalaCCodeFunctionCall* _tmp345_;
						BalaCCodeFunctionCall* _tmp346_;
						BalaCCodeExpression* _tmp347_;
						BalaCCodeFunctionCall* _tmp348_;
						BalaCCodeExpression* _tmp349_;
						BalaCCodeFunctionCall* _tmp350_;
						BalaCCodeConstant* _tmp351_;
						BalaCCodeConstant* _tmp352_;
						_tmp343_ = bala_ccode_identifier_new ("g_strconcat");
						_tmp344_ = _tmp343_;
						_tmp345_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp344_);
						_bala_ccode_node_unref0 (ccall);
						ccall = _tmp345_;
						_bala_ccode_node_unref0 (_tmp344_);
						_tmp346_ = ccall;
						_tmp347_ = cleft;
						bala_ccode_function_call_add_argument (_tmp346_, _tmp347_);
						_tmp348_ = ccall;
						_tmp349_ = cright;
						bala_ccode_function_call_add_argument (_tmp348_, _tmp349_);
						_tmp350_ = ccall;
						_tmp351_ = bala_ccode_constant_new ("NULL");
						_tmp352_ = _tmp351_;
						bala_ccode_function_call_add_argument (_tmp350_, (BalaCCodeExpression*) _tmp352_);
						_bala_ccode_node_unref0 (_tmp352_);
					}
					_tmp353_ = bala_ccode_base_module_get_ccode (self);
					_tmp354_ = _tmp353_;
					_tmp355_ = temp_value;
					_tmp356_ = bala_get_cvalue_ (_tmp355_);
					_tmp357_ = ccall;
					bala_ccode_function_add_assignment (_tmp354_, _tmp356_, (BalaCCodeExpression*) _tmp357_);
					_tmp358_ = temp_value;
					bala_expression_set_target_value ((BalaExpression*) expr, _tmp358_);
					_bala_ccode_node_unref0 (ccall);
					_bala_target_value_unref0 (temp_value);
				}
				_bala_ccode_node_unref0 (left_chain);
				_bala_ccode_node_unref0 (cright);
				_bala_ccode_node_unref0 (cleft);
				return;
			}
			case BALA_BINARY_OPERATOR_EQUALITY:
			case BALA_BINARY_OPERATOR_INEQUALITY:
			case BALA_BINARY_OPERATOR_LESS_THAN:
			case BALA_BINARY_OPERATOR_GREATER_THAN:
			case BALA_BINARY_OPERATOR_LESS_THAN_OR_EQUAL:
			case BALA_BINARY_OPERATOR_GREATER_THAN_OR_EQUAL:
			{
				BalaCCodeFunctionCall* ccall = NULL;
				BalaCodeContext* _tmp359_;
				BalaProfile _tmp360_;
				BalaProfile _tmp361_;
				BalaCCodeFunctionCall* _tmp373_;
				BalaCCodeExpression* _tmp374_;
				BalaCCodeFunctionCall* _tmp375_;
				BalaCCodeExpression* _tmp376_;
				BalaCCodeFunctionCall* _tmp377_;
				BalaCCodeExpression* _tmp378_;
				BalaCCodeConstant* _tmp379_;
				_tmp359_ = self->priv->_context;
				_tmp360_ = bala_code_context_get_profile (_tmp359_);
				_tmp361_ = _tmp360_;
				if (_tmp361_ == BALA_PROFILE_POSIX) {
					BalaCCodeFile* _tmp362_;
					BalaCCodeIdentifier* _tmp363_;
					BalaCCodeIdentifier* _tmp364_;
					gchar* _tmp365_;
					gchar* _tmp366_;
					BalaCCodeIdentifier* _tmp367_;
					BalaCCodeIdentifier* _tmp368_;
					BalaCCodeFunctionCall* _tmp369_;
					_tmp362_ = self->cfile;
					bala_ccode_file_add_include (_tmp362_, "string.h", FALSE);
					_tmp363_ = bala_ccode_identifier_new ("strcmp");
					_tmp364_ = _tmp363_;
					_tmp365_ = bala_ccode_base_module_generate_cmp_wrapper (self, _tmp364_);
					_tmp366_ = _tmp365_;
					_tmp367_ = bala_ccode_identifier_new (_tmp366_);
					_tmp368_ = _tmp367_;
					_tmp369_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp368_);
					_bala_ccode_node_unref0 (ccall);
					ccall = _tmp369_;
					_bala_ccode_node_unref0 (_tmp368_);
					_g_free0 (_tmp366_);
					_bala_ccode_node_unref0 (_tmp364_);
				} else {
					BalaCCodeIdentifier* _tmp370_;
					BalaCCodeIdentifier* _tmp371_;
					BalaCCodeFunctionCall* _tmp372_;
					_tmp370_ = bala_ccode_identifier_new ("g_strcmp0");
					_tmp371_ = _tmp370_;
					_tmp372_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp371_);
					_bala_ccode_node_unref0 (ccall);
					ccall = _tmp372_;
					_bala_ccode_node_unref0 (_tmp371_);
				}
				_tmp373_ = ccall;
				_tmp374_ = cleft;
				bala_ccode_function_call_add_argument (_tmp373_, _tmp374_);
				_tmp375_ = ccall;
				_tmp376_ = cright;
				bala_ccode_function_call_add_argument (_tmp375_, _tmp376_);
				_tmp377_ = ccall;
				_tmp378_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp377_);
				_bala_ccode_node_unref0 (cleft);
				cleft = _tmp378_;
				_tmp379_ = bala_ccode_constant_new ("0");
				_bala_ccode_node_unref0 (cright);
				cright = (BalaCCodeExpression*) _tmp379_;
				_bala_ccode_node_unref0 (ccall);
				break;
			}
			default:
			{
				break;
			}
		}
	}
	_tmp380_ = op;
	_tmp381_ = cleft;
	_tmp382_ = cright;
	_tmp383_ = bala_ccode_binary_expression_new (_tmp380_, _tmp381_, _tmp382_);
	_tmp384_ = _tmp383_;
	bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp384_);
	_bala_ccode_node_unref0 (_tmp384_);
	_tmp385_ = left_chain;
	if (_tmp385_ != NULL) {
		BalaCCodeExpression* _tmp386_;
		BalaCCodeExpression* _tmp387_;
		BalaCCodeBinaryExpression* _tmp388_;
		BalaCCodeBinaryExpression* _tmp389_;
		_tmp386_ = left_chain;
		_tmp387_ = bala_get_cvalue ((BalaExpression*) expr);
		_tmp388_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_AND, _tmp386_, _tmp387_);
		_tmp389_ = _tmp388_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp389_);
		_bala_ccode_node_unref0 (_tmp389_);
	}
	_bala_ccode_node_unref0 (left_chain);
	_bala_ccode_node_unref0 (cright);
	_bala_ccode_node_unref0 (cleft);
}

BalaCCodeExpression*
bala_ccode_base_module_create_type_check (BalaCCodeBaseModule* self,
                                          BalaCCodeNode* ccodenode,
                                          BalaDataType* type)
{
	BalaErrorType* et = NULL;
	BalaErrorType* _tmp0_;
	gboolean _tmp1_ = FALSE;
	BalaErrorType* _tmp2_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (ccodenode != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ERROR_TYPE) ? ((BalaErrorType*) type) : NULL);
	et = _tmp0_;
	_tmp2_ = et;
	if (_tmp2_ != NULL) {
		BalaErrorType* _tmp3_;
		BalaErrorCode* _tmp4_;
		BalaErrorCode* _tmp5_;
		_tmp3_ = et;
		_tmp4_ = bala_error_type_get_error_code (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp1_ = _tmp5_ != NULL;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		BalaCCodeFunctionCall* matches_call = NULL;
		BalaCCodeIdentifier* _tmp6_;
		BalaCCodeIdentifier* _tmp7_;
		BalaCCodeFunctionCall* _tmp8_;
		BalaCCodeFunctionCall* _tmp9_;
		BalaCCodeFunctionCall* _tmp10_;
		BalaCCodeFunctionCall* _tmp11_;
		BalaErrorType* _tmp12_;
		BalaErrorDomain* _tmp13_;
		BalaErrorDomain* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		BalaCCodeIdentifier* _tmp17_;
		BalaCCodeIdentifier* _tmp18_;
		BalaCCodeFunctionCall* _tmp19_;
		BalaErrorType* _tmp20_;
		BalaErrorCode* _tmp21_;
		BalaErrorCode* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		BalaCCodeIdentifier* _tmp25_;
		BalaCCodeIdentifier* _tmp26_;
		_tmp6_ = bala_ccode_identifier_new ("g_error_matches");
		_tmp7_ = _tmp6_;
		_tmp8_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp7_);
		_tmp9_ = _tmp8_;
		_bala_ccode_node_unref0 (_tmp7_);
		matches_call = _tmp9_;
		_tmp10_ = matches_call;
		bala_ccode_function_call_add_argument (_tmp10_, G_TYPE_CHECK_INSTANCE_CAST (ccodenode, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression));
		_tmp11_ = matches_call;
		_tmp12_ = et;
		_tmp13_ = bala_error_type_get_error_domain (_tmp12_);
		_tmp14_ = _tmp13_;
		_tmp15_ = bala_get_ccode_upper_case_name ((BalaSymbol*) _tmp14_, NULL);
		_tmp16_ = _tmp15_;
		_tmp17_ = bala_ccode_identifier_new (_tmp16_);
		_tmp18_ = _tmp17_;
		bala_ccode_function_call_add_argument (_tmp11_, (BalaCCodeExpression*) _tmp18_);
		_bala_ccode_node_unref0 (_tmp18_);
		_g_free0 (_tmp16_);
		_tmp19_ = matches_call;
		_tmp20_ = et;
		_tmp21_ = bala_error_type_get_error_code (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = bala_get_ccode_name ((BalaCodeNode*) _tmp22_);
		_tmp24_ = _tmp23_;
		_tmp25_ = bala_ccode_identifier_new (_tmp24_);
		_tmp26_ = _tmp25_;
		bala_ccode_function_call_add_argument (_tmp19_, (BalaCCodeExpression*) _tmp26_);
		_bala_ccode_node_unref0 (_tmp26_);
		_g_free0 (_tmp24_);
		result = (BalaCCodeExpression*) matches_call;
		_bala_code_node_unref0 (et);
		return result;
	} else {
		gboolean _tmp27_ = FALSE;
		BalaErrorType* _tmp28_;
		_tmp28_ = et;
		if (_tmp28_ != NULL) {
			BalaErrorType* _tmp29_;
			BalaErrorDomain* _tmp30_;
			BalaErrorDomain* _tmp31_;
			_tmp29_ = et;
			_tmp30_ = bala_error_type_get_error_domain (_tmp29_);
			_tmp31_ = _tmp30_;
			_tmp27_ = _tmp31_ != NULL;
		} else {
			_tmp27_ = FALSE;
		}
		if (_tmp27_) {
			BalaCCodeMemberAccess* instance_domain = NULL;
			BalaCCodeMemberAccess* _tmp32_;
			BalaCCodeIdentifier* type_domain = NULL;
			BalaErrorType* _tmp33_;
			BalaErrorDomain* _tmp34_;
			BalaErrorDomain* _tmp35_;
			gchar* _tmp36_;
			gchar* _tmp37_;
			BalaCCodeIdentifier* _tmp38_;
			BalaCCodeIdentifier* _tmp39_;
			BalaCCodeMemberAccess* _tmp40_;
			BalaCCodeIdentifier* _tmp41_;
			BalaCCodeBinaryExpression* _tmp42_;
			_tmp32_ = bala_ccode_member_access_new_pointer (G_TYPE_CHECK_INSTANCE_CAST (ccodenode, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression), "domain");
			instance_domain = _tmp32_;
			_tmp33_ = et;
			_tmp34_ = bala_error_type_get_error_domain (_tmp33_);
			_tmp35_ = _tmp34_;
			_tmp36_ = bala_get_ccode_upper_case_name ((BalaSymbol*) _tmp35_, NULL);
			_tmp37_ = _tmp36_;
			_tmp38_ = bala_ccode_identifier_new (_tmp37_);
			_tmp39_ = _tmp38_;
			_g_free0 (_tmp37_);
			type_domain = _tmp39_;
			_tmp40_ = instance_domain;
			_tmp41_ = type_domain;
			_tmp42_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp40_, (BalaCCodeExpression*) _tmp41_);
			result = (BalaCCodeExpression*) _tmp42_;
			_bala_ccode_node_unref0 (type_domain);
			_bala_ccode_node_unref0 (instance_domain);
			_bala_code_node_unref0 (et);
			return result;
		} else {
			BalaCCodeFunctionCall* ccheck = NULL;
			gboolean _tmp43_ = FALSE;
			BalaTypeSymbol* _tmp44_;
			BalaTypeSymbol* _tmp45_;
			_tmp44_ = bala_data_type_get_type_symbol (type);
			_tmp45_ = _tmp44_;
			if (_tmp45_ == NULL) {
				_tmp43_ = TRUE;
			} else {
				BalaTypeSymbol* _tmp46_;
				BalaTypeSymbol* _tmp47_;
				gboolean _tmp48_;
				gboolean _tmp49_;
				_tmp46_ = bala_data_type_get_type_symbol (type);
				_tmp47_ = _tmp46_;
				_tmp48_ = bala_symbol_get_external_package ((BalaSymbol*) _tmp47_);
				_tmp49_ = _tmp48_;
				_tmp43_ = _tmp49_;
			}
			if (_tmp43_) {
				BalaCCodeExpression* type_id = NULL;
				BalaCCodeExpression* _tmp50_;
				BalaCCodeExpression* _tmp51_;
				BalaCCodeIdentifier* _tmp53_;
				BalaCCodeIdentifier* _tmp54_;
				BalaCCodeFunctionCall* _tmp55_;
				BalaCCodeFunctionCall* _tmp56_;
				BalaCCodeFunctionCall* _tmp57_;
				BalaCCodeExpression* _tmp58_;
				_tmp50_ = bala_ccode_base_module_get_type_id_expression (self, type, FALSE);
				type_id = _tmp50_;
				_tmp51_ = type_id;
				if (_tmp51_ == NULL) {
					BalaCCodeInvalidExpression* _tmp52_;
					_tmp52_ = bala_ccode_invalid_expression_new ();
					result = (BalaCCodeExpression*) _tmp52_;
					_bala_ccode_node_unref0 (type_id);
					_bala_ccode_node_unref0 (ccheck);
					_bala_code_node_unref0 (et);
					return result;
				}
				_tmp53_ = bala_ccode_identifier_new ("G_TYPE_CHECK_INSTANCE_TYPE");
				_tmp54_ = _tmp53_;
				_tmp55_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp54_);
				_bala_ccode_node_unref0 (ccheck);
				ccheck = _tmp55_;
				_bala_ccode_node_unref0 (_tmp54_);
				_tmp56_ = ccheck;
				bala_ccode_function_call_add_argument (_tmp56_, G_TYPE_CHECK_INSTANCE_CAST (ccodenode, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression));
				_tmp57_ = ccheck;
				_tmp58_ = type_id;
				bala_ccode_function_call_add_argument (_tmp57_, _tmp58_);
				_bala_ccode_node_unref0 (type_id);
			} else {
				BalaTypeSymbol* _tmp59_;
				BalaTypeSymbol* _tmp60_;
				gchar* _tmp61_;
				gchar* _tmp62_;
				BalaCCodeIdentifier* _tmp63_;
				BalaCCodeIdentifier* _tmp64_;
				BalaCCodeFunctionCall* _tmp65_;
				BalaCCodeFunctionCall* _tmp66_;
				_tmp59_ = bala_data_type_get_type_symbol (type);
				_tmp60_ = _tmp59_;
				_tmp61_ = bala_get_ccode_type_check_function (_tmp60_);
				_tmp62_ = _tmp61_;
				_tmp63_ = bala_ccode_identifier_new (_tmp62_);
				_tmp64_ = _tmp63_;
				_tmp65_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp64_);
				_bala_ccode_node_unref0 (ccheck);
				ccheck = _tmp65_;
				_bala_ccode_node_unref0 (_tmp64_);
				_g_free0 (_tmp62_);
				_tmp66_ = ccheck;
				bala_ccode_function_call_add_argument (_tmp66_, G_TYPE_CHECK_INSTANCE_CAST (ccodenode, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression));
			}
			result = (BalaCCodeExpression*) ccheck;
			_bala_code_node_unref0 (et);
			return result;
		}
	}
	_bala_code_node_unref0 (et);
}

static gchar*
bala_ccode_base_module_generate_array_contains_wrapper (BalaCCodeBaseModule* self,
                                                        BalaArrayType* array_type)
{
	gchar* array_contains_func = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	BalaCCodeFunction* function = NULL;
	const gchar* _tmp7_;
	BalaDataType* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	BalaCCodeFunction* _tmp11_;
	BalaCCodeFunction* _tmp12_;
	BalaCCodeFunction* _tmp13_;
	BalaCCodeFunction* _tmp14_;
	BalaDataType* _tmp15_;
	BalaDataType* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	BalaCCodeParameter* _tmp21_;
	BalaCCodeParameter* _tmp22_;
	BalaCCodeFunction* _tmp23_;
	BalaDataType* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	BalaCCodeParameter* _tmp27_;
	BalaCCodeParameter* _tmp28_;
	BalaDataType* _tmp29_;
	BalaDataType* _tmp30_;
	BalaCCodeFunction* _tmp49_;
	BalaCCodeFunction* _tmp50_;
	BalaCCodeFunction* _tmp51_;
	BalaDataType* _tmp52_;
	gchar* _tmp53_;
	gchar* _tmp54_;
	BalaCCodeVariableDeclarator* _tmp55_;
	BalaCCodeVariableDeclarator* _tmp56_;
	BalaCCodeAssignment* cloop_initializer = NULL;
	BalaCCodeIdentifier* _tmp57_;
	BalaCCodeIdentifier* _tmp58_;
	BalaCCodeConstant* _tmp59_;
	BalaCCodeConstant* _tmp60_;
	BalaCCodeAssignment* _tmp61_;
	BalaCCodeAssignment* _tmp62_;
	BalaCCodeBinaryExpression* cloop_condition = NULL;
	BalaCCodeIdentifier* _tmp63_;
	BalaCCodeIdentifier* _tmp64_;
	BalaCCodeIdentifier* _tmp65_;
	BalaCCodeIdentifier* _tmp66_;
	BalaCCodeBinaryExpression* _tmp67_;
	BalaCCodeBinaryExpression* _tmp68_;
	BalaCCodeUnaryExpression* cloop_iterator = NULL;
	BalaCCodeIdentifier* _tmp69_;
	BalaCCodeIdentifier* _tmp70_;
	BalaCCodeUnaryExpression* _tmp71_;
	BalaCCodeUnaryExpression* _tmp72_;
	BalaCCodeFunction* _tmp73_;
	BalaCCodeFunction* _tmp74_;
	BalaCCodeAssignment* _tmp75_;
	BalaCCodeBinaryExpression* _tmp76_;
	BalaCCodeUnaryExpression* _tmp77_;
	BalaCCodeElementAccess* celement = NULL;
	BalaCCodeIdentifier* _tmp78_;
	BalaCCodeIdentifier* _tmp79_;
	BalaCCodeIdentifier* _tmp80_;
	BalaCCodeIdentifier* _tmp81_;
	BalaCCodeElementAccess* _tmp82_;
	BalaCCodeElementAccess* _tmp83_;
	BalaCCodeIdentifier* cneedle = NULL;
	BalaCCodeIdentifier* _tmp84_;
	BalaCCodeBinaryExpression* cif_condition = NULL;
	BalaDataType* _tmp85_;
	BalaDataType* _tmp86_;
	BalaDataType* _tmp87_;
	BalaCCodeFunction* _tmp135_;
	BalaCCodeFunction* _tmp136_;
	BalaCCodeBinaryExpression* _tmp137_;
	BalaCCodeFunction* _tmp138_;
	BalaCCodeFunction* _tmp139_;
	BalaCCodeExpression* _tmp140_;
	BalaCCodeExpression* _tmp141_;
	BalaCCodeFunction* _tmp142_;
	BalaCCodeFunction* _tmp143_;
	BalaCCodeFunction* _tmp144_;
	BalaCCodeFunction* _tmp145_;
	BalaCCodeFunction* _tmp146_;
	BalaCCodeFunction* _tmp147_;
	BalaCCodeExpression* _tmp148_;
	BalaCCodeExpression* _tmp149_;
	BalaCCodeFile* _tmp150_;
	BalaCCodeFunction* _tmp151_;
	BalaCCodeFile* _tmp152_;
	BalaCCodeFunction* _tmp153_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (array_type != NULL, NULL);
	_tmp0_ = bala_array_type_get_element_type (array_type);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp1_, NULL);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup_printf ("_bala_%s_array_contains", _tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	array_contains_func = _tmp5_;
	_tmp6_ = array_contains_func;
	if (!bala_ccode_base_module_add_wrapper (self, _tmp6_)) {
		result = array_contains_func;
		return result;
	}
	_tmp7_ = array_contains_func;
	_tmp8_ = self->bool_type;
	_tmp9_ = bala_get_ccode_name ((BalaCodeNode*) _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = bala_ccode_function_new (_tmp7_, _tmp10_);
	_tmp12_ = _tmp11_;
	_g_free0 (_tmp10_);
	function = _tmp12_;
	_tmp13_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp13_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp14_ = function;
	_tmp15_ = bala_array_type_get_element_type (array_type);
	_tmp16_ = _tmp15_;
	_tmp17_ = bala_get_ccode_name ((BalaCodeNode*) _tmp16_);
	_tmp18_ = _tmp17_;
	_tmp19_ = g_strdup_printf ("%s *", _tmp18_);
	_tmp20_ = _tmp19_;
	_tmp21_ = bala_ccode_parameter_new ("stack", _tmp20_);
	_tmp22_ = _tmp21_;
	bala_ccode_function_add_parameter (_tmp14_, _tmp22_);
	_bala_ccode_node_unref0 (_tmp22_);
	_g_free0 (_tmp20_);
	_g_free0 (_tmp18_);
	_tmp23_ = function;
	_tmp24_ = self->int_type;
	_tmp25_ = bala_get_ccode_name ((BalaCodeNode*) _tmp24_);
	_tmp26_ = _tmp25_;
	_tmp27_ = bala_ccode_parameter_new ("stack_length", _tmp26_);
	_tmp28_ = _tmp27_;
	bala_ccode_function_add_parameter (_tmp23_, _tmp28_);
	_bala_ccode_node_unref0 (_tmp28_);
	_g_free0 (_tmp26_);
	_tmp29_ = bala_array_type_get_element_type (array_type);
	_tmp30_ = _tmp29_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp30_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
		BalaCCodeFunction* _tmp31_;
		BalaDataType* _tmp32_;
		BalaDataType* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
		gchar* _tmp36_;
		gchar* _tmp37_;
		BalaCCodeParameter* _tmp38_;
		BalaCCodeParameter* _tmp39_;
		_tmp31_ = function;
		_tmp32_ = bala_array_type_get_element_type (array_type);
		_tmp33_ = _tmp32_;
		_tmp34_ = bala_get_ccode_name ((BalaCodeNode*) _tmp33_);
		_tmp35_ = _tmp34_;
		_tmp36_ = g_strdup_printf ("const %s *", _tmp35_);
		_tmp37_ = _tmp36_;
		_tmp38_ = bala_ccode_parameter_new ("needle", _tmp37_);
		_tmp39_ = _tmp38_;
		bala_ccode_function_add_parameter (_tmp31_, _tmp39_);
		_bala_ccode_node_unref0 (_tmp39_);
		_g_free0 (_tmp37_);
		_g_free0 (_tmp35_);
	} else {
		BalaCCodeFunction* _tmp40_;
		BalaDataType* _tmp41_;
		BalaDataType* _tmp42_;
		gchar* _tmp43_;
		gchar* _tmp44_;
		gchar* _tmp45_;
		gchar* _tmp46_;
		BalaCCodeParameter* _tmp47_;
		BalaCCodeParameter* _tmp48_;
		_tmp40_ = function;
		_tmp41_ = bala_array_type_get_element_type (array_type);
		_tmp42_ = _tmp41_;
		_tmp43_ = bala_get_ccode_name ((BalaCodeNode*) _tmp42_);
		_tmp44_ = _tmp43_;
		_tmp45_ = g_strdup_printf ("const %s", _tmp44_);
		_tmp46_ = _tmp45_;
		_tmp47_ = bala_ccode_parameter_new ("needle", _tmp46_);
		_tmp48_ = _tmp47_;
		bala_ccode_function_add_parameter (_tmp40_, _tmp48_);
		_bala_ccode_node_unref0 (_tmp48_);
		_g_free0 (_tmp46_);
		_g_free0 (_tmp44_);
	}
	_tmp49_ = function;
	bala_ccode_base_module_push_function (self, _tmp49_);
	_tmp50_ = bala_ccode_base_module_get_ccode (self);
	_tmp51_ = _tmp50_;
	_tmp52_ = self->int_type;
	_tmp53_ = bala_get_ccode_name ((BalaCodeNode*) _tmp52_);
	_tmp54_ = _tmp53_;
	_tmp55_ = bala_ccode_variable_declarator_new ("i", NULL, NULL);
	_tmp56_ = _tmp55_;
	bala_ccode_function_add_declaration (_tmp51_, _tmp54_, (BalaCCodeDeclarator*) _tmp56_, 0);
	_bala_ccode_node_unref0 (_tmp56_);
	_g_free0 (_tmp54_);
	_tmp57_ = bala_ccode_identifier_new ("i");
	_tmp58_ = _tmp57_;
	_tmp59_ = bala_ccode_constant_new ("0");
	_tmp60_ = _tmp59_;
	_tmp61_ = bala_ccode_assignment_new ((BalaCCodeExpression*) _tmp58_, (BalaCCodeExpression*) _tmp60_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
	_tmp62_ = _tmp61_;
	_bala_ccode_node_unref0 (_tmp60_);
	_bala_ccode_node_unref0 (_tmp58_);
	cloop_initializer = _tmp62_;
	_tmp63_ = bala_ccode_identifier_new ("i");
	_tmp64_ = _tmp63_;
	_tmp65_ = bala_ccode_identifier_new ("stack_length");
	_tmp66_ = _tmp65_;
	_tmp67_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_LESS_THAN, (BalaCCodeExpression*) _tmp64_, (BalaCCodeExpression*) _tmp66_);
	_tmp68_ = _tmp67_;
	_bala_ccode_node_unref0 (_tmp66_);
	_bala_ccode_node_unref0 (_tmp64_);
	cloop_condition = _tmp68_;
	_tmp69_ = bala_ccode_identifier_new ("i");
	_tmp70_ = _tmp69_;
	_tmp71_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POSTFIX_INCREMENT, (BalaCCodeExpression*) _tmp70_);
	_tmp72_ = _tmp71_;
	_bala_ccode_node_unref0 (_tmp70_);
	cloop_iterator = _tmp72_;
	_tmp73_ = bala_ccode_base_module_get_ccode (self);
	_tmp74_ = _tmp73_;
	_tmp75_ = cloop_initializer;
	_tmp76_ = cloop_condition;
	_tmp77_ = cloop_iterator;
	bala_ccode_function_open_for (_tmp74_, (BalaCCodeExpression*) _tmp75_, (BalaCCodeExpression*) _tmp76_, (BalaCCodeExpression*) _tmp77_);
	_tmp78_ = bala_ccode_identifier_new ("stack");
	_tmp79_ = _tmp78_;
	_tmp80_ = bala_ccode_identifier_new ("i");
	_tmp81_ = _tmp80_;
	_tmp82_ = bala_ccode_element_access_new ((BalaCCodeExpression*) _tmp79_, (BalaCCodeExpression*) _tmp81_);
	_tmp83_ = _tmp82_;
	_bala_ccode_node_unref0 (_tmp81_);
	_bala_ccode_node_unref0 (_tmp79_);
	celement = _tmp83_;
	_tmp84_ = bala_ccode_identifier_new ("needle");
	cneedle = _tmp84_;
	_tmp85_ = bala_array_type_get_element_type (array_type);
	_tmp86_ = _tmp85_;
	_tmp87_ = self->string_type;
	if (bala_data_type_compatible (_tmp86_, _tmp87_)) {
		BalaCCodeFunctionCall* ccall = NULL;
		BalaCodeContext* _tmp88_;
		BalaProfile _tmp89_;
		BalaProfile _tmp90_;
		BalaCCodeFunctionCall* _tmp102_;
		BalaCCodeElementAccess* _tmp103_;
		BalaCCodeFunctionCall* _tmp104_;
		BalaCCodeIdentifier* _tmp105_;
		BalaCCodeFunctionCall* _tmp106_;
		BalaCCodeConstant* _tmp107_;
		BalaCCodeConstant* _tmp108_;
		BalaCCodeBinaryExpression* _tmp109_;
		_tmp88_ = self->priv->_context;
		_tmp89_ = bala_code_context_get_profile (_tmp88_);
		_tmp90_ = _tmp89_;
		if (_tmp90_ == BALA_PROFILE_POSIX) {
			BalaCCodeFile* _tmp91_;
			BalaCCodeIdentifier* _tmp92_;
			BalaCCodeIdentifier* _tmp93_;
			gchar* _tmp94_;
			gchar* _tmp95_;
			BalaCCodeIdentifier* _tmp96_;
			BalaCCodeIdentifier* _tmp97_;
			BalaCCodeFunctionCall* _tmp98_;
			_tmp91_ = self->cfile;
			bala_ccode_file_add_include (_tmp91_, "string.h", FALSE);
			_tmp92_ = bala_ccode_identifier_new ("strcmp");
			_tmp93_ = _tmp92_;
			_tmp94_ = bala_ccode_base_module_generate_cmp_wrapper (self, _tmp93_);
			_tmp95_ = _tmp94_;
			_tmp96_ = bala_ccode_identifier_new (_tmp95_);
			_tmp97_ = _tmp96_;
			_tmp98_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp97_);
			_bala_ccode_node_unref0 (ccall);
			ccall = _tmp98_;
			_bala_ccode_node_unref0 (_tmp97_);
			_g_free0 (_tmp95_);
			_bala_ccode_node_unref0 (_tmp93_);
		} else {
			BalaCCodeIdentifier* _tmp99_;
			BalaCCodeIdentifier* _tmp100_;
			BalaCCodeFunctionCall* _tmp101_;
			_tmp99_ = bala_ccode_identifier_new ("g_strcmp0");
			_tmp100_ = _tmp99_;
			_tmp101_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp100_);
			_bala_ccode_node_unref0 (ccall);
			ccall = _tmp101_;
			_bala_ccode_node_unref0 (_tmp100_);
		}
		_tmp102_ = ccall;
		_tmp103_ = celement;
		bala_ccode_function_call_add_argument (_tmp102_, (BalaCCodeExpression*) _tmp103_);
		_tmp104_ = ccall;
		_tmp105_ = cneedle;
		bala_ccode_function_call_add_argument (_tmp104_, (BalaCCodeExpression*) _tmp105_);
		_tmp106_ = ccall;
		_tmp107_ = bala_ccode_constant_new ("0");
		_tmp108_ = _tmp107_;
		_tmp109_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp106_, (BalaCCodeExpression*) _tmp108_);
		_bala_ccode_node_unref0 (cif_condition);
		cif_condition = _tmp109_;
		_bala_ccode_node_unref0 (_tmp108_);
		_bala_ccode_node_unref0 (ccall);
	} else {
		BalaDataType* _tmp110_;
		BalaDataType* _tmp111_;
		_tmp110_ = bala_array_type_get_element_type (array_type);
		_tmp111_ = _tmp110_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp111_, BALA_TYPE_STRUCT_VALUE_TYPE)) {
			gchar* equalfunc = NULL;
			BalaDataType* _tmp112_;
			BalaDataType* _tmp113_;
			BalaTypeSymbol* _tmp114_;
			BalaTypeSymbol* _tmp115_;
			gchar* _tmp116_;
			BalaCCodeFunctionCall* ccall = NULL;
			const gchar* _tmp117_;
			BalaCCodeIdentifier* _tmp118_;
			BalaCCodeIdentifier* _tmp119_;
			BalaCCodeFunctionCall* _tmp120_;
			BalaCCodeFunctionCall* _tmp121_;
			BalaCCodeFunctionCall* _tmp122_;
			BalaCCodeElementAccess* _tmp123_;
			BalaCCodeUnaryExpression* _tmp124_;
			BalaCCodeUnaryExpression* _tmp125_;
			BalaCCodeFunctionCall* _tmp126_;
			BalaCCodeIdentifier* _tmp127_;
			BalaCCodeFunctionCall* _tmp128_;
			BalaCCodeExpression* _tmp129_;
			BalaCCodeExpression* _tmp130_;
			BalaCCodeBinaryExpression* _tmp131_;
			_tmp112_ = bala_array_type_get_element_type (array_type);
			_tmp113_ = _tmp112_;
			_tmp114_ = bala_data_type_get_type_symbol (_tmp113_);
			_tmp115_ = _tmp114_;
			_tmp116_ = bala_ccode_base_module_generate_struct_equal_function (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp115_, BALA_TYPE_STRUCT, BalaStruct));
			equalfunc = _tmp116_;
			_tmp117_ = equalfunc;
			_tmp118_ = bala_ccode_identifier_new (_tmp117_);
			_tmp119_ = _tmp118_;
			_tmp120_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp119_);
			_tmp121_ = _tmp120_;
			_bala_ccode_node_unref0 (_tmp119_);
			ccall = _tmp121_;
			_tmp122_ = ccall;
			_tmp123_ = celement;
			_tmp124_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (BalaCCodeExpression*) _tmp123_);
			_tmp125_ = _tmp124_;
			bala_ccode_function_call_add_argument (_tmp122_, (BalaCCodeExpression*) _tmp125_);
			_bala_ccode_node_unref0 (_tmp125_);
			_tmp126_ = ccall;
			_tmp127_ = cneedle;
			bala_ccode_function_call_add_argument (_tmp126_, (BalaCCodeExpression*) _tmp127_);
			_tmp128_ = ccall;
			_tmp129_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
			_tmp130_ = _tmp129_;
			_tmp131_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp128_, _tmp130_);
			_bala_ccode_node_unref0 (cif_condition);
			cif_condition = _tmp131_;
			_bala_ccode_node_unref0 (_tmp130_);
			_bala_ccode_node_unref0 (ccall);
			_g_free0 (equalfunc);
		} else {
			BalaCCodeIdentifier* _tmp132_;
			BalaCCodeElementAccess* _tmp133_;
			BalaCCodeBinaryExpression* _tmp134_;
			_tmp132_ = cneedle;
			_tmp133_ = celement;
			_tmp134_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_EQUALITY, (BalaCCodeExpression*) _tmp132_, (BalaCCodeExpression*) _tmp133_);
			_bala_ccode_node_unref0 (cif_condition);
			cif_condition = _tmp134_;
		}
	}
	_tmp135_ = bala_ccode_base_module_get_ccode (self);
	_tmp136_ = _tmp135_;
	_tmp137_ = cif_condition;
	bala_ccode_function_open_if (_tmp136_, (BalaCCodeExpression*) _tmp137_);
	_tmp138_ = bala_ccode_base_module_get_ccode (self);
	_tmp139_ = _tmp138_;
	_tmp140_ = bala_ccode_base_module_get_boolean_cconstant (self, TRUE);
	_tmp141_ = _tmp140_;
	bala_ccode_function_add_return (_tmp139_, _tmp141_);
	_bala_ccode_node_unref0 (_tmp141_);
	_tmp142_ = bala_ccode_base_module_get_ccode (self);
	_tmp143_ = _tmp142_;
	bala_ccode_function_close (_tmp143_);
	_tmp144_ = bala_ccode_base_module_get_ccode (self);
	_tmp145_ = _tmp144_;
	bala_ccode_function_close (_tmp145_);
	_tmp146_ = bala_ccode_base_module_get_ccode (self);
	_tmp147_ = _tmp146_;
	_tmp148_ = bala_ccode_base_module_get_boolean_cconstant (self, FALSE);
	_tmp149_ = _tmp148_;
	bala_ccode_function_add_return (_tmp147_, _tmp149_);
	_bala_ccode_node_unref0 (_tmp149_);
	bala_ccode_base_module_pop_function (self);
	_tmp150_ = self->cfile;
	_tmp151_ = function;
	bala_ccode_file_add_function_declaration (_tmp150_, _tmp151_);
	_tmp152_ = self->cfile;
	_tmp153_ = function;
	bala_ccode_file_add_function (_tmp152_, _tmp153_);
	result = array_contains_func;
	_bala_ccode_node_unref0 (cif_condition);
	_bala_ccode_node_unref0 (cneedle);
	_bala_ccode_node_unref0 (celement);
	_bala_ccode_node_unref0 (cloop_iterator);
	_bala_ccode_node_unref0 (cloop_condition);
	_bala_ccode_node_unref0 (cloop_initializer);
	_bala_ccode_node_unref0 (function);
	return result;
}

static gchar*
bala_ccode_base_module_generate_cmp_wrapper (BalaCCodeBaseModule* self,
                                             BalaCCodeIdentifier* cmpid)
{
	gchar* cmp0_func = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (cmpid != NULL, NULL);
	_tmp0_ = bala_ccode_identifier_get_name (cmpid);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("_%s0", _tmp1_);
	cmp0_func = _tmp2_;
	_tmp3_ = bala_ccode_identifier_get_name (cmpid);
	_tmp4_ = _tmp3_;
	if (g_strcmp0 (_tmp4_, "g_strcmp0") == 0) {
		const gchar* _tmp5_;
		const gchar* _tmp6_;
		gchar* _tmp7_;
		_tmp5_ = bala_ccode_identifier_get_name (cmpid);
		_tmp6_ = _tmp5_;
		_tmp7_ = g_strdup (_tmp6_);
		_g_free0 (cmp0_func);
		cmp0_func = _tmp7_;
	} else {
		const gchar* _tmp8_;
		_tmp8_ = cmp0_func;
		if (bala_ccode_base_module_add_wrapper (self, _tmp8_)) {
			BalaCCodeFunction* cmp0_fun = NULL;
			const gchar* _tmp9_;
			BalaDataType* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			BalaCCodeFunction* _tmp13_;
			BalaCCodeFunction* _tmp14_;
			BalaCCodeFunction* _tmp15_;
			BalaCCodeParameter* _tmp16_;
			BalaCCodeParameter* _tmp17_;
			BalaCCodeFunction* _tmp18_;
			BalaCCodeParameter* _tmp19_;
			BalaCCodeParameter* _tmp20_;
			BalaCCodeFunction* _tmp21_;
			BalaCCodeFunction* _tmp22_;
			BalaCCodeBinaryExpression* noteq = NULL;
			BalaCCodeIdentifier* _tmp23_;
			BalaCCodeIdentifier* _tmp24_;
			BalaCCodeIdentifier* _tmp25_;
			BalaCCodeIdentifier* _tmp26_;
			BalaCCodeBinaryExpression* _tmp27_;
			BalaCCodeBinaryExpression* _tmp28_;
			BalaCCodeFunctionCall* cmp_call = NULL;
			BalaCCodeFunctionCall* _tmp55_;
			BalaCCodeFunctionCall* _tmp56_;
			BalaCCodeIdentifier* _tmp57_;
			BalaCCodeIdentifier* _tmp58_;
			BalaCCodeFunctionCall* _tmp59_;
			BalaCCodeIdentifier* _tmp60_;
			BalaCCodeIdentifier* _tmp61_;
			BalaCCodeFunction* _tmp62_;
			BalaCCodeFunction* _tmp63_;
			BalaCCodeFunctionCall* _tmp64_;
			BalaCCodeFile* _tmp65_;
			BalaCCodeFunction* _tmp66_;
			_tmp9_ = cmp0_func;
			_tmp10_ = self->int_type;
			_tmp11_ = bala_get_ccode_name ((BalaCodeNode*) _tmp10_);
			_tmp12_ = _tmp11_;
			_tmp13_ = bala_ccode_function_new (_tmp9_, _tmp12_);
			_tmp14_ = _tmp13_;
			_g_free0 (_tmp12_);
			cmp0_fun = _tmp14_;
			_tmp15_ = cmp0_fun;
			_tmp16_ = bala_ccode_parameter_new ("s1", "const void *");
			_tmp17_ = _tmp16_;
			bala_ccode_function_add_parameter (_tmp15_, _tmp17_);
			_bala_ccode_node_unref0 (_tmp17_);
			_tmp18_ = cmp0_fun;
			_tmp19_ = bala_ccode_parameter_new ("s2", "const void *");
			_tmp20_ = _tmp19_;
			bala_ccode_function_add_parameter (_tmp18_, _tmp20_);
			_bala_ccode_node_unref0 (_tmp20_);
			_tmp21_ = cmp0_fun;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp21_, BALA_CCODE_MODIFIERS_STATIC);
			_tmp22_ = cmp0_fun;
			bala_ccode_base_module_push_function (self, _tmp22_);
			_tmp23_ = bala_ccode_identifier_new ("s1");
			_tmp24_ = _tmp23_;
			_tmp25_ = bala_ccode_identifier_new ("s2");
			_tmp26_ = _tmp25_;
			_tmp27_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, (BalaCCodeExpression*) _tmp24_, (BalaCCodeExpression*) _tmp26_);
			_tmp28_ = _tmp27_;
			_bala_ccode_node_unref0 (_tmp26_);
			_bala_ccode_node_unref0 (_tmp24_);
			noteq = _tmp28_;
			{
				BalaCCodeUnaryExpression* cexp = NULL;
				BalaCCodeIdentifier* _tmp29_;
				BalaCCodeIdentifier* _tmp30_;
				BalaCCodeUnaryExpression* _tmp31_;
				BalaCCodeUnaryExpression* _tmp32_;
				BalaCCodeFunction* _tmp33_;
				BalaCCodeFunction* _tmp34_;
				BalaCCodeUnaryExpression* _tmp35_;
				BalaCCodeFunction* _tmp36_;
				BalaCCodeFunction* _tmp37_;
				BalaCCodeBinaryExpression* _tmp38_;
				BalaCCodeUnaryExpression* _tmp39_;
				BalaCCodeUnaryExpression* _tmp40_;
				BalaCCodeFunction* _tmp41_;
				BalaCCodeFunction* _tmp42_;
				_tmp29_ = bala_ccode_identifier_new ("s1");
				_tmp30_ = _tmp29_;
				_tmp31_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (BalaCCodeExpression*) _tmp30_);
				_tmp32_ = _tmp31_;
				_bala_ccode_node_unref0 (_tmp30_);
				cexp = _tmp32_;
				_tmp33_ = bala_ccode_base_module_get_ccode (self);
				_tmp34_ = _tmp33_;
				_tmp35_ = cexp;
				bala_ccode_function_open_if (_tmp34_, (BalaCCodeExpression*) _tmp35_);
				_tmp36_ = bala_ccode_base_module_get_ccode (self);
				_tmp37_ = _tmp36_;
				_tmp38_ = noteq;
				_tmp39_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_MINUS, (BalaCCodeExpression*) _tmp38_);
				_tmp40_ = _tmp39_;
				bala_ccode_function_add_return (_tmp37_, (BalaCCodeExpression*) _tmp40_);
				_bala_ccode_node_unref0 (_tmp40_);
				_tmp41_ = bala_ccode_base_module_get_ccode (self);
				_tmp42_ = _tmp41_;
				bala_ccode_function_close (_tmp42_);
				_bala_ccode_node_unref0 (cexp);
			}
			{
				BalaCCodeUnaryExpression* cexp = NULL;
				BalaCCodeIdentifier* _tmp43_;
				BalaCCodeIdentifier* _tmp44_;
				BalaCCodeUnaryExpression* _tmp45_;
				BalaCCodeUnaryExpression* _tmp46_;
				BalaCCodeFunction* _tmp47_;
				BalaCCodeFunction* _tmp48_;
				BalaCCodeUnaryExpression* _tmp49_;
				BalaCCodeFunction* _tmp50_;
				BalaCCodeFunction* _tmp51_;
				BalaCCodeBinaryExpression* _tmp52_;
				BalaCCodeFunction* _tmp53_;
				BalaCCodeFunction* _tmp54_;
				_tmp43_ = bala_ccode_identifier_new ("s2");
				_tmp44_ = _tmp43_;
				_tmp45_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_LOGICAL_NEGATION, (BalaCCodeExpression*) _tmp44_);
				_tmp46_ = _tmp45_;
				_bala_ccode_node_unref0 (_tmp44_);
				cexp = _tmp46_;
				_tmp47_ = bala_ccode_base_module_get_ccode (self);
				_tmp48_ = _tmp47_;
				_tmp49_ = cexp;
				bala_ccode_function_open_if (_tmp48_, (BalaCCodeExpression*) _tmp49_);
				_tmp50_ = bala_ccode_base_module_get_ccode (self);
				_tmp51_ = _tmp50_;
				_tmp52_ = noteq;
				bala_ccode_function_add_return (_tmp51_, (BalaCCodeExpression*) _tmp52_);
				_tmp53_ = bala_ccode_base_module_get_ccode (self);
				_tmp54_ = _tmp53_;
				bala_ccode_function_close (_tmp54_);
				_bala_ccode_node_unref0 (cexp);
			}
			_tmp55_ = bala_ccode_function_call_new ((BalaCCodeExpression*) cmpid);
			cmp_call = _tmp55_;
			_tmp56_ = cmp_call;
			_tmp57_ = bala_ccode_identifier_new ("s1");
			_tmp58_ = _tmp57_;
			bala_ccode_function_call_add_argument (_tmp56_, (BalaCCodeExpression*) _tmp58_);
			_bala_ccode_node_unref0 (_tmp58_);
			_tmp59_ = cmp_call;
			_tmp60_ = bala_ccode_identifier_new ("s2");
			_tmp61_ = _tmp60_;
			bala_ccode_function_call_add_argument (_tmp59_, (BalaCCodeExpression*) _tmp61_);
			_bala_ccode_node_unref0 (_tmp61_);
			_tmp62_ = bala_ccode_base_module_get_ccode (self);
			_tmp63_ = _tmp62_;
			_tmp64_ = cmp_call;
			bala_ccode_function_add_return (_tmp63_, (BalaCCodeExpression*) _tmp64_);
			bala_ccode_base_module_pop_function (self);
			_tmp65_ = self->cfile;
			_tmp66_ = cmp0_fun;
			bala_ccode_file_add_function (_tmp65_, _tmp66_);
			_bala_ccode_node_unref0 (cmp_call);
			_bala_ccode_node_unref0 (noteq);
			_bala_ccode_node_unref0 (cmp0_fun);
		}
	}
	result = cmp0_func;
	return result;
}

static void
bala_ccode_base_module_real_visit_type_check (BalaCodeVisitor* base,
                                              BalaTypeCheck* expr)
{
	BalaCCodeBaseModule * self;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaCCodeFile* _tmp2_;
	BalaDataType* type = NULL;
	BalaExpression* _tmp3_;
	BalaExpression* _tmp4_;
	BalaDataType* _tmp5_;
	BalaDataType* _tmp6_;
	BalaDataType* _tmp7_;
	BalaPointerType* pointer_type = NULL;
	BalaDataType* _tmp8_;
	BalaPointerType* _tmp9_;
	BalaPointerType* _tmp10_;
	BalaClass* cl = NULL;
	BalaDataType* _tmp15_;
	BalaTypeSymbol* _tmp16_;
	BalaTypeSymbol* _tmp17_;
	BalaInterface* iface = NULL;
	BalaDataType* _tmp18_;
	BalaTypeSymbol* _tmp19_;
	BalaTypeSymbol* _tmp20_;
	gboolean _tmp21_ = FALSE;
	gboolean _tmp22_ = FALSE;
	gboolean _tmp23_ = FALSE;
	gboolean _tmp24_ = FALSE;
	BalaClass* _tmp25_;
	BalaCCodeExpression* _tmp41_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (expr != NULL);
	_tmp0_ = bala_typecheck_get_type_reference (expr);
	_tmp1_ = _tmp0_;
	_tmp2_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, _tmp1_, _tmp2_);
	_tmp3_ = bala_typecheck_get_expression (expr);
	_tmp4_ = _tmp3_;
	_tmp5_ = bala_expression_get_value_type (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = _bala_code_node_ref0 (_tmp6_);
	type = _tmp7_;
	_tmp8_ = type;
	_tmp9_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, BALA_TYPE_POINTER_TYPE) ? ((BalaPointerType*) _tmp8_) : NULL);
	pointer_type = _tmp9_;
	_tmp10_ = pointer_type;
	if (_tmp10_ != NULL) {
		BalaPointerType* _tmp11_;
		BalaDataType* _tmp12_;
		BalaDataType* _tmp13_;
		BalaDataType* _tmp14_;
		_tmp11_ = pointer_type;
		_tmp12_ = bala_pointer_type_get_base_type (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = _bala_code_node_ref0 (_tmp13_);
		_bala_code_node_unref0 (type);
		type = _tmp14_;
	}
	_tmp15_ = type;
	_tmp16_ = bala_data_type_get_type_symbol (_tmp15_);
	_tmp17_ = _tmp16_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp17_) : NULL;
	_tmp18_ = type;
	_tmp19_ = bala_data_type_get_type_symbol (_tmp18_);
	_tmp20_ = _tmp19_;
	iface = G_TYPE_CHECK_INSTANCE_TYPE (_tmp20_, BALA_TYPE_INTERFACE) ? ((BalaInterface*) _tmp20_) : NULL;
	_tmp25_ = cl;
	if (_tmp25_ != NULL) {
		BalaClass* _tmp26_;
		gboolean _tmp27_;
		gboolean _tmp28_;
		_tmp26_ = cl;
		_tmp27_ = bala_class_get_is_compact (_tmp26_);
		_tmp28_ = _tmp27_;
		_tmp24_ = !_tmp28_;
	} else {
		_tmp24_ = FALSE;
	}
	if (_tmp24_) {
		_tmp23_ = TRUE;
	} else {
		BalaInterface* _tmp29_;
		_tmp29_ = iface;
		_tmp23_ = _tmp29_ != NULL;
	}
	if (_tmp23_) {
		_tmp22_ = TRUE;
	} else {
		BalaDataType* _tmp30_;
		_tmp30_ = type;
		_tmp22_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp30_, BALA_TYPE_GENERIC_TYPE);
	}
	if (_tmp22_) {
		_tmp21_ = TRUE;
	} else {
		BalaDataType* _tmp31_;
		_tmp31_ = type;
		_tmp21_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp31_, BALA_TYPE_ERROR_TYPE);
	}
	if (_tmp21_) {
		BalaExpression* _tmp32_;
		BalaExpression* _tmp33_;
		BalaCCodeExpression* _tmp34_;
		BalaDataType* _tmp35_;
		BalaDataType* _tmp36_;
		BalaCCodeExpression* _tmp37_;
		BalaCCodeExpression* _tmp38_;
		_tmp32_ = bala_typecheck_get_expression (expr);
		_tmp33_ = _tmp32_;
		_tmp34_ = bala_get_cvalue (_tmp33_);
		_tmp35_ = bala_typecheck_get_type_reference (expr);
		_tmp36_ = _tmp35_;
		_tmp37_ = bala_ccode_base_module_create_type_check (self, (BalaCCodeNode*) _tmp34_, _tmp36_);
		_tmp38_ = _tmp37_;
		bala_set_cvalue ((BalaExpression*) expr, _tmp38_);
		_bala_ccode_node_unref0 (_tmp38_);
	} else {
		BalaCCodeInvalidExpression* _tmp39_;
		BalaCCodeInvalidExpression* _tmp40_;
		_tmp39_ = bala_ccode_invalid_expression_new ();
		_tmp40_ = _tmp39_;
		bala_set_cvalue ((BalaExpression*) expr, (BalaCCodeExpression*) _tmp40_);
		_bala_ccode_node_unref0 (_tmp40_);
	}
	_tmp41_ = bala_get_cvalue ((BalaExpression*) expr);
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp41_, BALA_TYPE_CCODE_INVALID_EXPRESSION)) {
		BalaSourceReference* _tmp42_;
		BalaSourceReference* _tmp43_;
		_tmp42_ = bala_code_node_get_source_reference ((BalaCodeNode*) expr);
		_tmp43_ = _tmp42_;
		bala_report_error (_tmp43_, "type check expressions not supported for compact classes, structs, and" \
" enums");
	}
	_bala_code_node_unref0 (pointer_type);
	_bala_code_node_unref0 (type);
}

static void
bala_ccode_base_module_real_visit_lambda_expression (BalaCodeVisitor* base,
                                                     BalaLambdaExpression* lambda)
{
	BalaCCodeBaseModule * self;
	BalaDelegateType* delegate_type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDelegateType* _tmp2_;
	gboolean expr_owned = FALSE;
	BalaDataType* _tmp3_;
	BalaDataType* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	BalaMethod* _tmp7_;
	BalaMethod* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	BalaCCodeIdentifier* _tmp11_;
	BalaCCodeIdentifier* _tmp12_;
	BalaDataType* this_type = NULL;
	BalaMethod* _tmp13_;
	BalaMethod* _tmp14_;
	gboolean _tmp15_;
	gboolean _tmp16_;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (lambda != NULL);
	_tmp0_ = bala_expression_get_target_type ((BalaExpression*) lambda);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
	delegate_type = _tmp2_;
	bala_code_node_accept_children ((BalaCodeNode*) lambda, (BalaCodeVisitor*) self);
	_tmp3_ = bala_expression_get_value_type ((BalaExpression*) lambda);
	_tmp4_ = _tmp3_;
	_tmp5_ = bala_data_type_get_value_owned (_tmp4_);
	_tmp6_ = _tmp5_;
	expr_owned = _tmp6_;
	_tmp7_ = bala_lambda_expression_get_method (lambda);
	_tmp8_ = _tmp7_;
	_tmp9_ = bala_get_ccode_name ((BalaCodeNode*) _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = bala_ccode_identifier_new (_tmp10_);
	_tmp12_ = _tmp11_;
	bala_set_cvalue ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp12_);
	_bala_ccode_node_unref0 (_tmp12_);
	_g_free0 (_tmp10_);
	_tmp13_ = bala_lambda_expression_get_method (lambda);
	_tmp14_ = _tmp13_;
	_tmp15_ = bala_method_get_closure (_tmp14_);
	_tmp16_ = _tmp15_;
	if (_tmp16_) {
		gint block_id = 0;
		BalaBlock* _tmp17_;
		BalaBlock* _tmp18_;
		BalaCCodeExpression* delegate_target = NULL;
		gchar* _tmp19_;
		gchar* _tmp20_;
		BalaCCodeExpression* _tmp21_;
		BalaCCodeExpression* _tmp22_;
		gboolean _tmp23_ = FALSE;
		BalaCCodeExpression* _tmp43_;
		_tmp17_ = bala_ccode_base_module_get_current_closure_block (self);
		_tmp18_ = _tmp17_;
		block_id = bala_ccode_base_module_get_block_id (self, _tmp18_);
		_tmp19_ = g_strdup_printf ("_data%d_", block_id);
		_tmp20_ = _tmp19_;
		_tmp21_ = bala_ccode_base_module_get_variable_cexpression (self, _tmp20_);
		_tmp22_ = _tmp21_;
		_g_free0 (_tmp20_);
		delegate_target = _tmp22_;
		if (expr_owned) {
			_tmp23_ = TRUE;
		} else {
			BalaDelegateType* _tmp24_;
			gboolean _tmp25_;
			gboolean _tmp26_;
			_tmp24_ = delegate_type;
			_tmp25_ = bala_delegate_type_get_is_called_once (_tmp24_);
			_tmp26_ = _tmp25_;
			_tmp23_ = _tmp26_;
		}
		if (_tmp23_) {
			BalaCCodeFunctionCall* ref_call = NULL;
			gchar* _tmp27_;
			gchar* _tmp28_;
			BalaCCodeIdentifier* _tmp29_;
			BalaCCodeIdentifier* _tmp30_;
			BalaCCodeFunctionCall* _tmp31_;
			BalaCCodeFunctionCall* _tmp32_;
			BalaCCodeFunctionCall* _tmp33_;
			BalaCCodeExpression* _tmp34_;
			BalaCCodeFunctionCall* _tmp35_;
			BalaCCodeExpression* _tmp36_;
			gchar* _tmp37_;
			gchar* _tmp38_;
			BalaCCodeIdentifier* _tmp39_;
			BalaCCodeIdentifier* _tmp40_;
			_tmp27_ = g_strdup_printf ("block%d_data_ref", block_id);
			_tmp28_ = _tmp27_;
			_tmp29_ = bala_ccode_identifier_new (_tmp28_);
			_tmp30_ = _tmp29_;
			_tmp31_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp30_);
			_tmp32_ = _tmp31_;
			_bala_ccode_node_unref0 (_tmp30_);
			_g_free0 (_tmp28_);
			ref_call = _tmp32_;
			_tmp33_ = ref_call;
			_tmp34_ = delegate_target;
			bala_ccode_function_call_add_argument (_tmp33_, _tmp34_);
			_tmp35_ = ref_call;
			_tmp36_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp35_);
			_bala_ccode_node_unref0 (delegate_target);
			delegate_target = _tmp36_;
			_tmp37_ = g_strdup_printf ("block%d_data_unref", block_id);
			_tmp38_ = _tmp37_;
			_tmp39_ = bala_ccode_identifier_new (_tmp38_);
			_tmp40_ = _tmp39_;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp40_);
			_bala_ccode_node_unref0 (_tmp40_);
			_g_free0 (_tmp38_);
			_bala_ccode_node_unref0 (ref_call);
		} else {
			BalaCCodeConstant* _tmp41_;
			BalaCCodeConstant* _tmp42_;
			_tmp41_ = bala_ccode_constant_new ("NULL");
			_tmp42_ = _tmp41_;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp42_);
			_bala_ccode_node_unref0 (_tmp42_);
		}
		_tmp43_ = delegate_target;
		bala_set_delegate_target ((BalaExpression*) lambda, _tmp43_);
		_bala_ccode_node_unref0 (delegate_target);
	} else {
		BalaDataType* _tmp44_;
		BalaDataType* _tmp45_;
		_tmp44_ = bala_ccode_base_module_get_this_type (self);
		this_type = _tmp44_;
		_tmp45_ = this_type;
		if (_tmp45_ != NULL) {
			BalaCCodeExpression* delegate_target = NULL;
			BalaCCodeExpression* _tmp46_;
			BalaCCodeExpression* _tmp47_;
			BalaDataType* _tmp48_;
			BalaCCodeExpression* _tmp49_;
			gboolean _tmp50_ = FALSE;
			BalaCCodeExpression* _tmp70_;
			_tmp46_ = bala_ccode_base_module_get_this_cexpression (self);
			delegate_target = _tmp46_;
			_tmp47_ = delegate_target;
			_tmp48_ = this_type;
			_tmp49_ = bala_ccode_base_module_convert_to_generic_pointer (self, _tmp47_, _tmp48_);
			_bala_ccode_node_unref0 (delegate_target);
			delegate_target = _tmp49_;
			if (expr_owned) {
				_tmp50_ = TRUE;
			} else {
				BalaDelegateType* _tmp51_;
				gboolean _tmp52_;
				gboolean _tmp53_;
				_tmp51_ = delegate_type;
				_tmp52_ = bala_delegate_type_get_is_called_once (_tmp51_);
				_tmp53_ = _tmp52_;
				_tmp50_ = _tmp53_;
			}
			if (_tmp50_) {
				BalaCCodeFunctionCall* ref_call = NULL;
				BalaDataType* _tmp54_;
				BalaSourceReference* _tmp55_;
				BalaSourceReference* _tmp56_;
				BalaCCodeExpression* _tmp57_;
				BalaCCodeExpression* _tmp58_;
				BalaCCodeFunctionCall* _tmp59_;
				BalaCCodeFunctionCall* _tmp60_;
				BalaCCodeFunctionCall* _tmp61_;
				BalaCCodeExpression* _tmp62_;
				BalaCCodeFunctionCall* _tmp63_;
				BalaCCodeExpression* _tmp64_;
				BalaDataType* _tmp65_;
				BalaCCodeExpression* _tmp66_;
				BalaCCodeExpression* _tmp67_;
				_tmp54_ = this_type;
				_tmp55_ = bala_code_node_get_source_reference ((BalaCodeNode*) lambda);
				_tmp56_ = _tmp55_;
				_tmp57_ = bala_ccode_base_module_get_dup_func_expression (self, _tmp54_, _tmp56_, FALSE);
				_tmp58_ = _tmp57_;
				_tmp59_ = bala_ccode_function_call_new (_tmp58_);
				_tmp60_ = _tmp59_;
				_bala_ccode_node_unref0 (_tmp58_);
				ref_call = _tmp60_;
				_tmp61_ = ref_call;
				_tmp62_ = delegate_target;
				bala_ccode_function_call_add_argument (_tmp61_, _tmp62_);
				_tmp63_ = ref_call;
				_tmp64_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp63_);
				_bala_ccode_node_unref0 (delegate_target);
				delegate_target = _tmp64_;
				_tmp65_ = this_type;
				_tmp66_ = bala_ccode_base_module_get_destroy_func_expression (self, _tmp65_, FALSE);
				_tmp67_ = _tmp66_;
				bala_set_delegate_target_destroy_notify ((BalaExpression*) lambda, _tmp67_);
				_bala_ccode_node_unref0 (_tmp67_);
				_bala_ccode_node_unref0 (ref_call);
			} else {
				BalaCCodeConstant* _tmp68_;
				BalaCCodeConstant* _tmp69_;
				_tmp68_ = bala_ccode_constant_new ("NULL");
				_tmp69_ = _tmp68_;
				bala_set_delegate_target_destroy_notify ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp69_);
				_bala_ccode_node_unref0 (_tmp69_);
			}
			_tmp70_ = delegate_target;
			bala_set_delegate_target ((BalaExpression*) lambda, _tmp70_);
			_bala_ccode_node_unref0 (delegate_target);
		} else {
			BalaCCodeConstant* _tmp71_;
			BalaCCodeConstant* _tmp72_;
			BalaCCodeConstant* _tmp73_;
			BalaCCodeConstant* _tmp74_;
			_tmp71_ = bala_ccode_constant_new ("NULL");
			_tmp72_ = _tmp71_;
			bala_set_delegate_target ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp72_);
			_bala_ccode_node_unref0 (_tmp72_);
			_tmp73_ = bala_ccode_constant_new ("NULL");
			_tmp74_ = _tmp73_;
			bala_set_delegate_target_destroy_notify ((BalaExpression*) lambda, (BalaCCodeExpression*) _tmp74_);
			_bala_ccode_node_unref0 (_tmp74_);
		}
	}
	_bala_code_node_unref0 (delegate_type);
}

BalaCCodeExpression*
bala_ccode_base_module_convert_from_generic_pointer (BalaCCodeBaseModule* self,
                                                     BalaCCodeExpression* cexpr,
                                                     BalaDataType* actual_type)
{
	BalaSemanticAnalyzer* analyzer = NULL;
	BalaCodeContext* _tmp0_;
	BalaSemanticAnalyzer* _tmp1_;
	BalaSemanticAnalyzer* _tmp2_;
	BalaCCodeExpression* _result_ = NULL;
	BalaCCodeExpression* _tmp3_;
	gboolean _tmp4_ = FALSE;
	BalaSemanticAnalyzer* _tmp5_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (cexpr != NULL, NULL);
	g_return_val_if_fail (actual_type != NULL, NULL);
	_tmp0_ = self->priv->_context;
	_tmp1_ = bala_code_context_get_analyzer (_tmp0_);
	_tmp2_ = _tmp1_;
	analyzer = _tmp2_;
	_tmp3_ = _bala_ccode_node_ref0 (cexpr);
	_result_ = _tmp3_;
	_tmp5_ = analyzer;
	if (bala_semantic_analyzer_is_reference_type_argument (_tmp5_, actual_type)) {
		_tmp4_ = TRUE;
	} else {
		BalaSemanticAnalyzer* _tmp6_;
		_tmp6_ = analyzer;
		_tmp4_ = bala_semantic_analyzer_is_nullable_value_type_argument (_tmp6_, actual_type);
	}
	if (_tmp4_) {
		BalaCCodeFile* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		BalaCCodeCastExpression* _tmp10_;
		_tmp7_ = self->cfile;
		bala_ccode_base_module_generate_type_declaration (self, actual_type, _tmp7_);
		_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) actual_type);
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_ccode_cast_expression_new (cexpr, _tmp9_);
		_bala_ccode_node_unref0 (_result_);
		_result_ = (BalaCCodeExpression*) _tmp10_;
		_g_free0 (_tmp9_);
	} else {
		BalaSemanticAnalyzer* _tmp11_;
		_tmp11_ = analyzer;
		if (bala_semantic_analyzer_is_signed_integer_type_argument (_tmp11_, actual_type)) {
			BalaCCodeCastExpression* _tmp14_;
			BalaCCodeCastExpression* _tmp15_;
			gchar* _tmp16_;
			gchar* _tmp17_;
			BalaCCodeCastExpression* _tmp18_;
			while (TRUE) {
				BalaCCodeExpression* _tmp12_;
				BalaCCodeExpression* _tmp13_;
				if (!G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
					break;
				}
				_tmp12_ = bala_ccode_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
				_tmp13_ = _tmp12_;
				cexpr = _tmp13_;
			}
			_tmp14_ = bala_ccode_cast_expression_new (cexpr, "gintptr");
			_tmp15_ = _tmp14_;
			_tmp16_ = bala_get_ccode_name ((BalaCodeNode*) actual_type);
			_tmp17_ = _tmp16_;
			_tmp18_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp15_, _tmp17_);
			_bala_ccode_node_unref0 (_result_);
			_result_ = (BalaCCodeExpression*) _tmp18_;
			_g_free0 (_tmp17_);
			_bala_ccode_node_unref0 (_tmp15_);
		} else {
			BalaSemanticAnalyzer* _tmp19_;
			_tmp19_ = analyzer;
			if (bala_semantic_analyzer_is_unsigned_integer_type_argument (_tmp19_, actual_type)) {
				BalaCCodeCastExpression* _tmp22_;
				BalaCCodeCastExpression* _tmp23_;
				gchar* _tmp24_;
				gchar* _tmp25_;
				BalaCCodeCastExpression* _tmp26_;
				while (TRUE) {
					BalaCCodeExpression* _tmp20_;
					BalaCCodeExpression* _tmp21_;
					if (!G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
						break;
					}
					_tmp20_ = bala_ccode_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
					_tmp21_ = _tmp20_;
					cexpr = _tmp21_;
				}
				_tmp22_ = bala_ccode_cast_expression_new (cexpr, "guintptr");
				_tmp23_ = _tmp22_;
				_tmp24_ = bala_get_ccode_name ((BalaCodeNode*) actual_type);
				_tmp25_ = _tmp24_;
				_tmp26_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp23_, _tmp25_);
				_bala_ccode_node_unref0 (_result_);
				_result_ = (BalaCCodeExpression*) _tmp26_;
				_g_free0 (_tmp25_);
				_bala_ccode_node_unref0 (_tmp23_);
			}
		}
	}
	result = _result_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_convert_to_generic_pointer (BalaCCodeBaseModule* self,
                                                   BalaCCodeExpression* cexpr,
                                                   BalaDataType* actual_type)
{
	BalaSemanticAnalyzer* analyzer = NULL;
	BalaCodeContext* _tmp0_;
	BalaSemanticAnalyzer* _tmp1_;
	BalaSemanticAnalyzer* _tmp2_;
	BalaCCodeExpression* _result_ = NULL;
	BalaCCodeExpression* _tmp3_;
	BalaSemanticAnalyzer* _tmp4_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (cexpr != NULL, NULL);
	g_return_val_if_fail (actual_type != NULL, NULL);
	_tmp0_ = self->priv->_context;
	_tmp1_ = bala_code_context_get_analyzer (_tmp0_);
	_tmp2_ = _tmp1_;
	analyzer = _tmp2_;
	_tmp3_ = _bala_ccode_node_ref0 (cexpr);
	_result_ = _tmp3_;
	_tmp4_ = analyzer;
	if (bala_semantic_analyzer_is_signed_integer_type_argument (_tmp4_, actual_type)) {
		BalaCCodeCastExpression* _tmp7_;
		BalaCCodeCastExpression* _tmp8_;
		BalaDataType* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		BalaCCodeCastExpression* _tmp12_;
		while (TRUE) {
			BalaCCodeExpression* _tmp5_;
			BalaCCodeExpression* _tmp6_;
			if (!G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
				break;
			}
			_tmp5_ = bala_ccode_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
			_tmp6_ = _tmp5_;
			cexpr = _tmp6_;
		}
		_tmp7_ = bala_ccode_cast_expression_new (cexpr, "gintptr");
		_tmp8_ = _tmp7_;
		_tmp9_ = self->pointer_type;
		_tmp10_ = bala_get_ccode_name ((BalaCodeNode*) _tmp9_);
		_tmp11_ = _tmp10_;
		_tmp12_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp8_, _tmp11_);
		_bala_ccode_node_unref0 (_result_);
		_result_ = (BalaCCodeExpression*) _tmp12_;
		_g_free0 (_tmp11_);
		_bala_ccode_node_unref0 (_tmp8_);
	} else {
		BalaSemanticAnalyzer* _tmp13_;
		_tmp13_ = analyzer;
		if (bala_semantic_analyzer_is_unsigned_integer_type_argument (_tmp13_, actual_type)) {
			BalaCCodeCastExpression* _tmp16_;
			BalaCCodeCastExpression* _tmp17_;
			BalaDataType* _tmp18_;
			gchar* _tmp19_;
			gchar* _tmp20_;
			BalaCCodeCastExpression* _tmp21_;
			while (TRUE) {
				BalaCCodeExpression* _tmp14_;
				BalaCCodeExpression* _tmp15_;
				if (!G_TYPE_CHECK_INSTANCE_TYPE (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION)) {
					break;
				}
				_tmp14_ = bala_ccode_cast_expression_get_inner (G_TYPE_CHECK_INSTANCE_CAST (cexpr, BALA_TYPE_CCODE_CAST_EXPRESSION, BalaCCodeCastExpression));
				_tmp15_ = _tmp14_;
				cexpr = _tmp15_;
			}
			_tmp16_ = bala_ccode_cast_expression_new (cexpr, "guintptr");
			_tmp17_ = _tmp16_;
			_tmp18_ = self->pointer_type;
			_tmp19_ = bala_get_ccode_name ((BalaCodeNode*) _tmp18_);
			_tmp20_ = _tmp19_;
			_tmp21_ = bala_ccode_cast_expression_new ((BalaCCodeExpression*) _tmp17_, _tmp20_);
			_bala_ccode_node_unref0 (_result_);
			_result_ = (BalaCCodeExpression*) _tmp21_;
			_g_free0 (_tmp20_);
			_bala_ccode_node_unref0 (_tmp17_);
		}
	}
	result = _result_;
	return result;
}

BalaTargetValue*
bala_ccode_base_module_transform_value (BalaCCodeBaseModule* self,
                                        BalaTargetValue* value,
                                        BalaDataType* target_type,
                                        BalaCodeNode* node)
{
	BalaDataType* type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	BalaDataType* _tmp2_;
	BalaGLibValue* _result_ = NULL;
	BalaGLibValue* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	BalaDataType* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp63_ = FALSE;
	gboolean _tmp64_ = FALSE;
	gboolean _tmp65_ = FALSE;
	BalaDataType* _tmp66_;
	gboolean boxing = FALSE;
	gboolean _tmp72_ = FALSE;
	gboolean _tmp73_ = FALSE;
	gboolean _tmp74_ = FALSE;
	BalaDataType* _tmp75_;
	gboolean unboxing = FALSE;
	gboolean _tmp81_ = FALSE;
	gboolean _tmp82_ = FALSE;
	gboolean _tmp83_ = FALSE;
	gboolean _tmp84_ = FALSE;
	BalaCodeContext* _tmp85_;
	BalaProfile _tmp86_;
	BalaProfile _tmp87_;
	gboolean gvalue_boxing = FALSE;
	gboolean _tmp95_ = FALSE;
	gboolean _tmp96_ = FALSE;
	gboolean _tmp97_ = FALSE;
	gboolean _tmp98_ = FALSE;
	BalaCodeContext* _tmp99_;
	BalaProfile _tmp100_;
	BalaProfile _tmp101_;
	gboolean gvariant_boxing = FALSE;
	gboolean _tmp110_ = FALSE;
	gboolean _tmp111_ = FALSE;
	BalaDataType* _tmp112_;
	gboolean _tmp113_;
	gboolean _tmp114_;
	BalaGLibValue* _tmp143_;
	BalaDataType* _tmp144_;
	BalaDataType* _tmp145_;
	gboolean array_needs_copy = FALSE;
	gboolean _tmp356_ = FALSE;
	BalaDataType* _tmp357_;
	gboolean _tmp375_ = FALSE;
	gboolean _tmp376_ = FALSE;
	gboolean _tmp377_ = FALSE;
	gboolean _tmp378_ = FALSE;
	gboolean _tmp379_ = FALSE;
	BalaTargetValue* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (value != NULL, NULL);
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = bala_target_value_get_value_type (value);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (_tmp1_);
	type = _tmp2_;
	_tmp3_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (value, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
	_result_ = _tmp3_;
	_tmp6_ = type;
	_tmp7_ = bala_data_type_get_value_owned (_tmp6_);
	_tmp8_ = _tmp7_;
	if (_tmp8_) {
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_ = FALSE;
		if (target_type == NULL) {
			_tmp10_ = TRUE;
		} else {
			_tmp10_ = G_TYPE_CHECK_INSTANCE_TYPE (target_type, BALA_TYPE_GENERIC_TYPE);
		}
		if (_tmp10_) {
			_tmp9_ = TRUE;
		} else {
			gboolean _tmp11_;
			gboolean _tmp12_;
			_tmp11_ = bala_data_type_get_floating_reference (target_type);
			_tmp12_ = _tmp11_;
			_tmp9_ = !_tmp12_;
		}
		_tmp5_ = _tmp9_;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		BalaDataType* _tmp13_;
		gboolean _tmp14_;
		gboolean _tmp15_;
		_tmp13_ = type;
		_tmp14_ = bala_data_type_get_floating_reference (_tmp13_);
		_tmp15_ = _tmp14_;
		_tmp4_ = _tmp15_;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		BalaObjectTypeSymbol* cl = NULL;
		BalaDataType* _tmp16_;
		BalaTypeSymbol* _tmp17_;
		BalaTypeSymbol* _tmp18_;
		gchar* _tmp19_ = NULL;
		BalaObjectTypeSymbol* _tmp20_;
		gchar* sink_func = NULL;
		gchar* _tmp24_;
		const gchar* _tmp25_;
		_tmp16_ = type;
		_tmp17_ = bala_data_type_get_type_symbol (_tmp16_);
		_tmp18_ = _tmp17_;
		cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, BALA_TYPE_OBJECT_TYPE_SYMBOL) ? ((BalaObjectTypeSymbol*) _tmp18_) : NULL;
		_tmp20_ = cl;
		if (_tmp20_ != NULL) {
			BalaObjectTypeSymbol* _tmp21_;
			gchar* _tmp22_;
			_tmp21_ = cl;
			_tmp22_ = bala_get_ccode_ref_sink_function (_tmp21_);
			_g_free0 (_tmp19_);
			_tmp19_ = _tmp22_;
		} else {
			gchar* _tmp23_;
			_tmp23_ = g_strdup ("");
			_g_free0 (_tmp19_);
			_tmp19_ = _tmp23_;
		}
		_tmp24_ = g_strdup (_tmp19_);
		sink_func = _tmp24_;
		_tmp25_ = sink_func;
		if (g_strcmp0 (_tmp25_, "") != 0) {
			BalaDataType* _tmp26_;
			gboolean _tmp27_;
			gboolean _tmp28_;
			BalaCCodeFunctionCall* csink = NULL;
			const gchar* _tmp38_;
			BalaCCodeIdentifier* _tmp39_;
			BalaCCodeIdentifier* _tmp40_;
			BalaCCodeFunctionCall* _tmp41_;
			BalaCCodeFunctionCall* _tmp42_;
			BalaCCodeFunctionCall* _tmp43_;
			BalaGLibValue* _tmp44_;
			BalaCCodeExpression* _tmp45_;
			BalaCCodeFunction* _tmp46_;
			BalaCCodeFunction* _tmp47_;
			BalaCCodeFunctionCall* _tmp48_;
			BalaDataType* _tmp49_;
			gboolean _tmp50_;
			gboolean _tmp51_;
			_tmp26_ = type;
			_tmp27_ = bala_data_type_get_nullable (_tmp26_);
			_tmp28_ = _tmp27_;
			if (_tmp28_) {
				BalaCCodeBinaryExpression* is_not_null = NULL;
				BalaGLibValue* _tmp29_;
				BalaCCodeExpression* _tmp30_;
				BalaCCodeConstant* _tmp31_;
				BalaCCodeConstant* _tmp32_;
				BalaCCodeBinaryExpression* _tmp33_;
				BalaCCodeBinaryExpression* _tmp34_;
				BalaCCodeFunction* _tmp35_;
				BalaCCodeFunction* _tmp36_;
				BalaCCodeBinaryExpression* _tmp37_;
				_tmp29_ = _result_;
				_tmp30_ = _tmp29_->cvalue;
				_tmp31_ = bala_ccode_constant_new ("NULL");
				_tmp32_ = _tmp31_;
				_tmp33_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_INEQUALITY, _tmp30_, (BalaCCodeExpression*) _tmp32_);
				_tmp34_ = _tmp33_;
				_bala_ccode_node_unref0 (_tmp32_);
				is_not_null = _tmp34_;
				_tmp35_ = bala_ccode_base_module_get_ccode (self);
				_tmp36_ = _tmp35_;
				_tmp37_ = is_not_null;
				bala_ccode_function_open_if (_tmp36_, (BalaCCodeExpression*) _tmp37_);
				_bala_ccode_node_unref0 (is_not_null);
			}
			_tmp38_ = sink_func;
			_tmp39_ = bala_ccode_identifier_new (_tmp38_);
			_tmp40_ = _tmp39_;
			_tmp41_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp40_);
			_tmp42_ = _tmp41_;
			_bala_ccode_node_unref0 (_tmp40_);
			csink = _tmp42_;
			_tmp43_ = csink;
			_tmp44_ = _result_;
			_tmp45_ = _tmp44_->cvalue;
			bala_ccode_function_call_add_argument (_tmp43_, _tmp45_);
			_tmp46_ = bala_ccode_base_module_get_ccode (self);
			_tmp47_ = _tmp46_;
			_tmp48_ = csink;
			bala_ccode_function_add_expression (_tmp47_, (BalaCCodeExpression*) _tmp48_);
			_tmp49_ = type;
			_tmp50_ = bala_data_type_get_nullable (_tmp49_);
			_tmp51_ = _tmp50_;
			if (_tmp51_) {
				BalaCCodeFunction* _tmp52_;
				BalaCCodeFunction* _tmp53_;
				_tmp52_ = bala_ccode_base_module_get_ccode (self);
				_tmp53_ = _tmp52_;
				bala_ccode_function_close (_tmp53_);
			}
			_bala_ccode_node_unref0 (csink);
		} else {
			BalaSourceReference* _tmp54_;
			BalaSourceReference* _tmp55_;
			BalaDataType* _tmp56_;
			BalaTypeSymbol* _tmp57_;
			BalaTypeSymbol* _tmp58_;
			const gchar* _tmp59_;
			const gchar* _tmp60_;
			gchar* _tmp61_;
			gchar* _tmp62_;
			_tmp54_ = bala_code_node_get_source_reference (node);
			_tmp55_ = _tmp54_;
			_tmp56_ = type;
			_tmp57_ = bala_data_type_get_type_symbol (_tmp56_);
			_tmp58_ = _tmp57_;
			_tmp59_ = bala_symbol_get_name ((BalaSymbol*) _tmp58_);
			_tmp60_ = _tmp59_;
			_tmp61_ = g_strdup_printf ("type `%s' does not support floating references", _tmp60_);
			_tmp62_ = _tmp61_;
			bala_report_error (_tmp55_, _tmp62_);
			_g_free0 (_tmp62_);
		}
		_g_free0 (sink_func);
		_g_free0 (_tmp19_);
	}
	_tmp66_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp66_, BALA_TYPE_VALUE_TYPE)) {
		BalaDataType* _tmp67_;
		gboolean _tmp68_;
		gboolean _tmp69_;
		_tmp67_ = type;
		_tmp68_ = bala_data_type_get_nullable (_tmp67_);
		_tmp69_ = _tmp68_;
		_tmp65_ = !_tmp69_;
	} else {
		_tmp65_ = FALSE;
	}
	if (_tmp65_) {
		_tmp64_ = G_TYPE_CHECK_INSTANCE_TYPE (target_type, BALA_TYPE_VALUE_TYPE);
	} else {
		_tmp64_ = FALSE;
	}
	if (_tmp64_) {
		gboolean _tmp70_;
		gboolean _tmp71_;
		_tmp70_ = bala_data_type_get_nullable (target_type);
		_tmp71_ = _tmp70_;
		_tmp63_ = _tmp71_;
	} else {
		_tmp63_ = FALSE;
	}
	boxing = _tmp63_;
	_tmp75_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp75_, BALA_TYPE_VALUE_TYPE)) {
		BalaDataType* _tmp76_;
		gboolean _tmp77_;
		gboolean _tmp78_;
		_tmp76_ = type;
		_tmp77_ = bala_data_type_get_nullable (_tmp76_);
		_tmp78_ = _tmp77_;
		_tmp74_ = _tmp78_;
	} else {
		_tmp74_ = FALSE;
	}
	if (_tmp74_) {
		_tmp73_ = G_TYPE_CHECK_INSTANCE_TYPE (target_type, BALA_TYPE_VALUE_TYPE);
	} else {
		_tmp73_ = FALSE;
	}
	if (_tmp73_) {
		gboolean _tmp79_;
		gboolean _tmp80_;
		_tmp79_ = bala_data_type_get_nullable (target_type);
		_tmp80_ = _tmp79_;
		_tmp72_ = !_tmp80_;
	} else {
		_tmp72_ = FALSE;
	}
	unboxing = _tmp72_;
	_tmp85_ = self->priv->_context;
	_tmp86_ = bala_code_context_get_profile (_tmp85_);
	_tmp87_ = _tmp86_;
	if (_tmp87_ == BALA_PROFILE_GOBJECT) {
		_tmp84_ = target_type != NULL;
	} else {
		_tmp84_ = FALSE;
	}
	if (_tmp84_) {
		BalaTypeSymbol* _tmp88_;
		BalaTypeSymbol* _tmp89_;
		BalaStruct* _tmp90_;
		_tmp88_ = bala_data_type_get_type_symbol (target_type);
		_tmp89_ = _tmp88_;
		_tmp90_ = self->gvalue_type;
		_tmp83_ = _tmp89_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp90_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	} else {
		_tmp83_ = FALSE;
	}
	if (_tmp83_) {
		BalaDataType* _tmp91_;
		_tmp91_ = type;
		_tmp82_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp91_, BALA_TYPE_NULL_TYPE);
	} else {
		_tmp82_ = FALSE;
	}
	if (_tmp82_) {
		BalaDataType* _tmp92_;
		gchar* _tmp93_;
		gchar* _tmp94_;
		_tmp92_ = type;
		_tmp93_ = bala_get_ccode_type_id ((BalaCodeNode*) _tmp92_);
		_tmp94_ = _tmp93_;
		_tmp81_ = g_strcmp0 (_tmp94_, "G_TYPE_VALUE") != 0;
		_g_free0 (_tmp94_);
	} else {
		_tmp81_ = FALSE;
	}
	gvalue_boxing = _tmp81_;
	_tmp99_ = self->priv->_context;
	_tmp100_ = bala_code_context_get_profile (_tmp99_);
	_tmp101_ = _tmp100_;
	if (_tmp101_ == BALA_PROFILE_GOBJECT) {
		_tmp98_ = target_type != NULL;
	} else {
		_tmp98_ = FALSE;
	}
	if (_tmp98_) {
		BalaTypeSymbol* _tmp102_;
		BalaTypeSymbol* _tmp103_;
		BalaClass* _tmp104_;
		_tmp102_ = bala_data_type_get_type_symbol (target_type);
		_tmp103_ = _tmp102_;
		_tmp104_ = self->gvariant_type;
		_tmp97_ = _tmp103_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp104_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	} else {
		_tmp97_ = FALSE;
	}
	if (_tmp97_) {
		BalaDataType* _tmp105_;
		_tmp105_ = type;
		_tmp96_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp105_, BALA_TYPE_NULL_TYPE);
	} else {
		_tmp96_ = FALSE;
	}
	if (_tmp96_) {
		BalaDataType* _tmp106_;
		BalaTypeSymbol* _tmp107_;
		BalaTypeSymbol* _tmp108_;
		BalaClass* _tmp109_;
		_tmp106_ = type;
		_tmp107_ = bala_data_type_get_type_symbol (_tmp106_);
		_tmp108_ = _tmp107_;
		_tmp109_ = self->gvariant_type;
		_tmp95_ = _tmp108_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp109_, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol);
	} else {
		_tmp95_ = FALSE;
	}
	gvariant_boxing = _tmp95_;
	_tmp112_ = type;
	_tmp113_ = bala_data_type_get_value_owned (_tmp112_);
	_tmp114_ = _tmp113_;
	if (_tmp114_) {
		gboolean _tmp115_ = FALSE;
		gboolean _tmp116_ = FALSE;
		gboolean _tmp117_ = FALSE;
		gboolean _tmp118_ = FALSE;
		if (target_type == NULL) {
			_tmp118_ = TRUE;
		} else {
			gboolean _tmp119_;
			gboolean _tmp120_;
			_tmp119_ = bala_data_type_get_value_owned (target_type);
			_tmp120_ = _tmp119_;
			_tmp118_ = !_tmp120_;
		}
		if (_tmp118_) {
			_tmp117_ = TRUE;
		} else {
			_tmp117_ = boxing;
		}
		if (_tmp117_) {
			_tmp116_ = TRUE;
		} else {
			_tmp116_ = unboxing;
		}
		if (_tmp116_) {
			_tmp115_ = TRUE;
		} else {
			_tmp115_ = gvariant_boxing;
		}
		_tmp111_ = _tmp115_;
	} else {
		_tmp111_ = FALSE;
	}
	if (_tmp111_) {
		_tmp110_ = !gvalue_boxing;
	} else {
		_tmp110_ = FALSE;
	}
	if (_tmp110_) {
		if (G_TYPE_CHECK_INSTANCE_TYPE (target_type, BALA_TYPE_POINTER_TYPE)) {
		} else {
			BalaDataType* _tmp121_;
			_tmp121_ = type;
			if (bala_ccode_base_module_requires_destroy (_tmp121_)) {
				BalaDataType* _tmp122_;
				_tmp122_ = type;
				if (!bala_ccode_base_module_is_lvalue_access_allowed (self, _tmp122_)) {
					BalaArrayList* _tmp123_;
					BalaArrayList* _tmp124_;
					BalaGLibValue* _tmp125_;
					BalaGLibValue* _tmp126_;
					BalaGLibValue* _tmp127_;
					_tmp123_ = bala_ccode_base_module_get_temp_ref_values (self);
					_tmp124_ = _tmp123_;
					_tmp125_ = _result_;
					_tmp126_ = bala_glib_value_copy (_tmp125_);
					_tmp127_ = _tmp126_;
					bala_list_insert ((BalaList*) _tmp124_, 0, (BalaTargetValue*) _tmp127_);
					_bala_target_value_unref0 (_tmp127_);
				} else {
					BalaTargetValue* temp_value = NULL;
					BalaDataType* _tmp128_;
					BalaTargetValue* _tmp129_;
					BalaArrayList* _tmp130_;
					BalaArrayList* _tmp131_;
					BalaTargetValue* _tmp132_;
					BalaGLibValue* _tmp133_;
					BalaGLibValue* _tmp134_;
					BalaTargetValue* _tmp135_;
					BalaGLibValue* _tmp136_;
					BalaSourceReference* _tmp137_;
					BalaSourceReference* _tmp138_;
					BalaGLibValue* _tmp139_;
					BalaTargetValue* _tmp140_;
					BalaCCodeExpression* _tmp141_;
					BalaCCodeExpression* _tmp142_;
					_tmp128_ = type;
					_tmp129_ = bala_ccode_base_module_create_temp_value (self, _tmp128_, FALSE, node, NULL);
					temp_value = _tmp129_;
					_tmp130_ = bala_ccode_base_module_get_temp_ref_values (self);
					_tmp131_ = _tmp130_;
					_tmp132_ = temp_value;
					_tmp133_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (_tmp132_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
					_tmp134_ = _tmp133_;
					bala_list_insert ((BalaList*) _tmp131_, 0, (BalaTargetValue*) _tmp134_);
					_bala_target_value_unref0 (_tmp134_);
					_tmp135_ = temp_value;
					_tmp136_ = _result_;
					_tmp137_ = bala_code_node_get_source_reference (node);
					_tmp138_ = _tmp137_;
					bala_ccode_base_module_store_value (self, _tmp135_, (BalaTargetValue*) _tmp136_, _tmp138_);
					_tmp139_ = _result_;
					_tmp140_ = temp_value;
					_tmp141_ = bala_get_cvalue_ (_tmp140_);
					_tmp142_ = _bala_ccode_node_ref0 (_tmp141_);
					_bala_ccode_node_unref0 (_tmp139_->cvalue);
					_tmp139_->cvalue = _tmp142_;
					_bala_target_value_unref0 (temp_value);
				}
			}
		}
	}
	if (target_type == NULL) {
		result = (BalaTargetValue*) _result_;
		_bala_code_node_unref0 (type);
		return result;
	}
	_tmp143_ = _result_;
	_tmp144_ = bala_data_type_copy (target_type);
	_tmp145_ = _tmp144_;
	bala_target_value_set_value_type ((BalaTargetValue*) _tmp143_, _tmp145_);
	_bala_code_node_unref0 (_tmp145_);
	if (gvalue_boxing) {
		BalaTargetValue* temp_value = NULL;
		gboolean _tmp146_;
		BalaTargetValue* _tmp147_;
		gboolean _tmp148_;
		gboolean _tmp149_;
		gboolean _tmp155_;
		gboolean _tmp156_;
		BalaCCodeFunctionCall* ccall = NULL;
		BalaCCodeIdentifier* _tmp174_;
		BalaCCodeIdentifier* _tmp175_;
		BalaCCodeFunctionCall* _tmp176_;
		BalaCCodeFunctionCall* _tmp177_;
		gboolean _tmp178_;
		gboolean _tmp179_;
		gchar* type_id = NULL;
		BalaDataType* _tmp188_;
		gchar* _tmp189_;
		const gchar* _tmp190_;
		BalaCCodeFunctionCall* _tmp198_;
		const gchar* _tmp199_;
		BalaCCodeIdentifier* _tmp200_;
		BalaCCodeIdentifier* _tmp201_;
		BalaCCodeFunction* _tmp202_;
		BalaCCodeFunction* _tmp203_;
		BalaCCodeFunctionCall* _tmp204_;
		BalaDataType* _tmp205_;
		gboolean _tmp214_;
		gboolean _tmp215_;
		BalaDataType* _tmp224_;
		BalaCCodeFunction* _tmp233_;
		BalaCCodeFunction* _tmp234_;
		BalaCCodeFunctionCall* _tmp235_;
		BalaTargetValue* _tmp236_;
		BalaGLibValue* _tmp237_;
		_tmp146_ = TRUE;
		_tmp147_ = bala_ccode_base_module_create_temp_value (self, target_type, TRUE, node, &_tmp146_);
		temp_value = _tmp147_;
		_tmp148_ = bala_data_type_get_value_owned (target_type);
		_tmp149_ = _tmp148_;
		if (!_tmp149_) {
			BalaArrayList* _tmp150_;
			BalaArrayList* _tmp151_;
			BalaTargetValue* _tmp152_;
			BalaGLibValue* _tmp153_;
			BalaGLibValue* _tmp154_;
			_tmp150_ = bala_ccode_base_module_get_temp_ref_values (self);
			_tmp151_ = _tmp150_;
			_tmp152_ = temp_value;
			_tmp153_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (_tmp152_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
			_tmp154_ = _tmp153_;
			bala_list_insert ((BalaList*) _tmp151_, 0, (BalaTargetValue*) _tmp154_);
			_bala_target_value_unref0 (_tmp154_);
		}
		_tmp155_ = bala_data_type_get_nullable (target_type);
		_tmp156_ = _tmp155_;
		if (_tmp156_) {
			BalaCCodeFunctionCall* newcall = NULL;
			BalaCCodeIdentifier* _tmp157_;
			BalaCCodeIdentifier* _tmp158_;
			BalaCCodeFunctionCall* _tmp159_;
			BalaCCodeFunctionCall* _tmp160_;
			BalaCCodeFunctionCall* _tmp161_;
			BalaCCodeConstant* _tmp162_;
			BalaCCodeConstant* _tmp163_;
			BalaCCodeFunctionCall* _tmp164_;
			BalaCCodeConstant* _tmp165_;
			BalaCCodeConstant* _tmp166_;
			BalaCCodeAssignment* newassignment = NULL;
			BalaTargetValue* _tmp167_;
			BalaCCodeExpression* _tmp168_;
			BalaCCodeFunctionCall* _tmp169_;
			BalaCCodeAssignment* _tmp170_;
			BalaCCodeFunction* _tmp171_;
			BalaCCodeFunction* _tmp172_;
			BalaCCodeAssignment* _tmp173_;
			_tmp157_ = bala_ccode_identifier_new ("g_new0");
			_tmp158_ = _tmp157_;
			_tmp159_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp158_);
			_tmp160_ = _tmp159_;
			_bala_ccode_node_unref0 (_tmp158_);
			newcall = _tmp160_;
			_tmp161_ = newcall;
			_tmp162_ = bala_ccode_constant_new ("GValue");
			_tmp163_ = _tmp162_;
			bala_ccode_function_call_add_argument (_tmp161_, (BalaCCodeExpression*) _tmp163_);
			_bala_ccode_node_unref0 (_tmp163_);
			_tmp164_ = newcall;
			_tmp165_ = bala_ccode_constant_new ("1");
			_tmp166_ = _tmp165_;
			bala_ccode_function_call_add_argument (_tmp164_, (BalaCCodeExpression*) _tmp166_);
			_bala_ccode_node_unref0 (_tmp166_);
			_tmp167_ = temp_value;
			_tmp168_ = bala_get_cvalue_ (_tmp167_);
			_tmp169_ = newcall;
			_tmp170_ = bala_ccode_assignment_new (_tmp168_, (BalaCCodeExpression*) _tmp169_, BALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
			newassignment = _tmp170_;
			_tmp171_ = bala_ccode_base_module_get_ccode (self);
			_tmp172_ = _tmp171_;
			_tmp173_ = newassignment;
			bala_ccode_function_add_expression (_tmp172_, (BalaCCodeExpression*) _tmp173_);
			_bala_ccode_node_unref0 (newassignment);
			_bala_ccode_node_unref0 (newcall);
		}
		_tmp174_ = bala_ccode_identifier_new ("g_value_init");
		_tmp175_ = _tmp174_;
		_tmp176_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp175_);
		_tmp177_ = _tmp176_;
		_bala_ccode_node_unref0 (_tmp175_);
		ccall = _tmp177_;
		_tmp178_ = bala_data_type_get_nullable (target_type);
		_tmp179_ = _tmp178_;
		if (_tmp179_) {
			BalaCCodeFunctionCall* _tmp180_;
			BalaTargetValue* _tmp181_;
			BalaCCodeExpression* _tmp182_;
			_tmp180_ = ccall;
			_tmp181_ = temp_value;
			_tmp182_ = bala_get_cvalue_ (_tmp181_);
			bala_ccode_function_call_add_argument (_tmp180_, _tmp182_);
		} else {
			BalaCCodeFunctionCall* _tmp183_;
			BalaTargetValue* _tmp184_;
			BalaCCodeExpression* _tmp185_;
			BalaCCodeUnaryExpression* _tmp186_;
			BalaCCodeUnaryExpression* _tmp187_;
			_tmp183_ = ccall;
			_tmp184_ = temp_value;
			_tmp185_ = bala_get_cvalue_ (_tmp184_);
			_tmp186_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp185_);
			_tmp187_ = _tmp186_;
			bala_ccode_function_call_add_argument (_tmp183_, (BalaCCodeExpression*) _tmp187_);
			_bala_ccode_node_unref0 (_tmp187_);
		}
		_tmp188_ = type;
		_tmp189_ = bala_get_ccode_type_id ((BalaCodeNode*) _tmp188_);
		type_id = _tmp189_;
		_tmp190_ = type_id;
		if (g_strcmp0 (_tmp190_, "") == 0) {
			BalaSourceReference* _tmp191_;
			BalaSourceReference* _tmp192_;
			BalaDataType* _tmp193_;
			gchar* _tmp194_;
			gchar* _tmp195_;
			gchar* _tmp196_;
			gchar* _tmp197_;
			_tmp191_ = bala_code_node_get_source_reference (node);
			_tmp192_ = _tmp191_;
			_tmp193_ = type;
			_tmp194_ = bala_code_node_to_string ((BalaCodeNode*) _tmp193_);
			_tmp195_ = _tmp194_;
			_tmp196_ = g_strdup_printf ("GValue boxing of type `%s' is not supported", _tmp195_);
			_tmp197_ = _tmp196_;
			bala_report_error (_tmp192_, _tmp197_);
			_g_free0 (_tmp197_);
			_g_free0 (_tmp195_);
		}
		_tmp198_ = ccall;
		_tmp199_ = type_id;
		_tmp200_ = bala_ccode_identifier_new (_tmp199_);
		_tmp201_ = _tmp200_;
		bala_ccode_function_call_add_argument (_tmp198_, (BalaCCodeExpression*) _tmp201_);
		_bala_ccode_node_unref0 (_tmp201_);
		_tmp202_ = bala_ccode_base_module_get_ccode (self);
		_tmp203_ = _tmp202_;
		_tmp204_ = ccall;
		bala_ccode_function_add_expression (_tmp203_, (BalaCCodeExpression*) _tmp204_);
		_tmp205_ = type;
		if (bala_ccode_base_module_requires_destroy (_tmp205_)) {
			BalaDataType* _tmp206_;
			BalaCCodeExpression* _tmp207_;
			BalaCCodeExpression* _tmp208_;
			BalaCCodeFunctionCall* _tmp209_;
			_tmp206_ = type;
			_tmp207_ = bala_ccode_base_module_get_value_taker_function (self, _tmp206_);
			_tmp208_ = _tmp207_;
			_tmp209_ = bala_ccode_function_call_new (_tmp208_);
			_bala_ccode_node_unref0 (ccall);
			ccall = _tmp209_;
			_bala_ccode_node_unref0 (_tmp208_);
		} else {
			BalaDataType* _tmp210_;
			BalaCCodeExpression* _tmp211_;
			BalaCCodeExpression* _tmp212_;
			BalaCCodeFunctionCall* _tmp213_;
			_tmp210_ = type;
			_tmp211_ = bala_ccode_base_module_get_value_setter_function (self, _tmp210_);
			_tmp212_ = _tmp211_;
			_tmp213_ = bala_ccode_function_call_new (_tmp212_);
			_bala_ccode_node_unref0 (ccall);
			ccall = _tmp213_;
			_bala_ccode_node_unref0 (_tmp212_);
		}
		_tmp214_ = bala_data_type_get_nullable (target_type);
		_tmp215_ = _tmp214_;
		if (_tmp215_) {
			BalaCCodeFunctionCall* _tmp216_;
			BalaTargetValue* _tmp217_;
			BalaCCodeExpression* _tmp218_;
			_tmp216_ = ccall;
			_tmp217_ = temp_value;
			_tmp218_ = bala_get_cvalue_ (_tmp217_);
			bala_ccode_function_call_add_argument (_tmp216_, _tmp218_);
		} else {
			BalaCCodeFunctionCall* _tmp219_;
			BalaTargetValue* _tmp220_;
			BalaCCodeExpression* _tmp221_;
			BalaCCodeUnaryExpression* _tmp222_;
			BalaCCodeUnaryExpression* _tmp223_;
			_tmp219_ = ccall;
			_tmp220_ = temp_value;
			_tmp221_ = bala_get_cvalue_ (_tmp220_);
			_tmp222_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp221_);
			_tmp223_ = _tmp222_;
			bala_ccode_function_call_add_argument (_tmp219_, (BalaCCodeExpression*) _tmp223_);
			_bala_ccode_node_unref0 (_tmp223_);
		}
		_tmp224_ = type;
		if (bala_data_type_is_real_non_null_struct_type (_tmp224_)) {
			BalaCCodeFunctionCall* _tmp225_;
			BalaGLibValue* _tmp226_;
			BalaCCodeExpression* _tmp227_;
			BalaCCodeUnaryExpression* _tmp228_;
			BalaCCodeUnaryExpression* _tmp229_;
			_tmp225_ = ccall;
			_tmp226_ = _result_;
			_tmp227_ = _tmp226_->cvalue;
			_tmp228_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp227_);
			_tmp229_ = _tmp228_;
			bala_ccode_function_call_add_argument (_tmp225_, (BalaCCodeExpression*) _tmp229_);
			_bala_ccode_node_unref0 (_tmp229_);
		} else {
			BalaCCodeFunctionCall* _tmp230_;
			BalaGLibValue* _tmp231_;
			BalaCCodeExpression* _tmp232_;
			_tmp230_ = ccall;
			_tmp231_ = _result_;
			_tmp232_ = _tmp231_->cvalue;
			bala_ccode_function_call_add_argument (_tmp230_, _tmp232_);
		}
		_tmp233_ = bala_ccode_base_module_get_ccode (self);
		_tmp234_ = _tmp233_;
		_tmp235_ = ccall;
		bala_ccode_function_add_expression (_tmp234_, (BalaCCodeExpression*) _tmp235_);
		_tmp236_ = temp_value;
		_tmp237_ = _bala_target_value_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp236_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
		_bala_target_value_unref0 (_result_);
		_result_ = _tmp237_;
		_g_free0 (type_id);
		_bala_ccode_node_unref0 (ccall);
		_bala_target_value_unref0 (temp_value);
	} else {
		if (gvariant_boxing) {
			gchar* variant_func = NULL;
			gint _tmp238_;
			gchar* _tmp239_;
			BalaCCodeFunctionCall* ccall = NULL;
			const gchar* _tmp240_;
			BalaCCodeIdentifier* _tmp241_;
			BalaCCodeIdentifier* _tmp242_;
			BalaCCodeFunctionCall* _tmp243_;
			BalaCCodeFunctionCall* _tmp244_;
			BalaCCodeFunctionCall* _tmp245_;
			BalaGLibValue* _tmp246_;
			BalaCCodeExpression* _tmp247_;
			BalaCCodeFunction* cfunc = NULL;
			const gchar* _tmp248_;
			BalaCCodeFunction* _tmp249_;
			BalaCCodeFunction* _tmp250_;
			BalaCCodeFunction* _tmp251_;
			BalaDataType* _tmp252_;
			gchar* _tmp253_;
			gchar* _tmp254_;
			BalaCCodeParameter* _tmp255_;
			BalaCCodeParameter* _tmp256_;
			BalaDataType* _tmp257_;
			BalaCCodeFunction* _tmp276_;
			BalaCCodeFunctionCall* sink = NULL;
			BalaCCodeIdentifier* _tmp277_;
			BalaCCodeIdentifier* _tmp278_;
			BalaCCodeFunctionCall* _tmp279_;
			BalaCCodeFunctionCall* _tmp280_;
			BalaCCodeFunctionCall* _tmp281_;
			BalaDataType* _tmp282_;
			BalaCCodeIdentifier* _tmp283_;
			BalaCCodeIdentifier* _tmp284_;
			BalaCCodeExpression* _tmp285_;
			BalaCCodeExpression* _tmp286_;
			BalaCCodeFunction* _tmp287_;
			BalaCCodeFunction* _tmp288_;
			BalaCCodeFunctionCall* _tmp289_;
			BalaCCodeFile* _tmp290_;
			BalaCCodeFunction* _tmp291_;
			BalaCCodeFile* _tmp292_;
			BalaCCodeFunction* _tmp293_;
			BalaGLibValue* _tmp294_;
			BalaCCodeFunctionCall* _tmp295_;
			BalaCCodeExpression* _tmp296_;
			BalaGLibValue* _tmp297_;
			BalaDataType* _tmp298_;
			BalaDataType* _tmp299_;
			BalaGLibValue* _tmp300_;
			BalaTargetValue* _tmp301_;
			gboolean _tmp302_;
			gboolean _tmp303_;
			self->priv->next_variant_function_id = self->priv->next_variant_function_id + 1;
			_tmp238_ = self->priv->next_variant_function_id;
			_tmp239_ = g_strdup_printf ("_variant_new%d", _tmp238_);
			variant_func = _tmp239_;
			_tmp240_ = variant_func;
			_tmp241_ = bala_ccode_identifier_new (_tmp240_);
			_tmp242_ = _tmp241_;
			_tmp243_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp242_);
			_tmp244_ = _tmp243_;
			_bala_ccode_node_unref0 (_tmp242_);
			ccall = _tmp244_;
			_tmp245_ = ccall;
			_tmp246_ = _result_;
			_tmp247_ = _tmp246_->cvalue;
			bala_ccode_function_call_add_argument (_tmp245_, _tmp247_);
			_tmp248_ = variant_func;
			_tmp249_ = bala_ccode_function_new (_tmp248_, "GVariant*");
			cfunc = _tmp249_;
			_tmp250_ = cfunc;
			bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp250_, BALA_CCODE_MODIFIERS_STATIC);
			_tmp251_ = cfunc;
			_tmp252_ = type;
			_tmp253_ = bala_get_ccode_name ((BalaCodeNode*) _tmp252_);
			_tmp254_ = _tmp253_;
			_tmp255_ = bala_ccode_parameter_new ("value", _tmp254_);
			_tmp256_ = _tmp255_;
			bala_ccode_function_add_parameter (_tmp251_, _tmp256_);
			_bala_ccode_node_unref0 (_tmp256_);
			_g_free0 (_tmp254_);
			_tmp257_ = type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp257_, BALA_TYPE_ARRAY_TYPE)) {
				BalaArrayType* array_type = NULL;
				BalaDataType* _tmp258_;
				BalaArrayType* _tmp259_;
				gchar* length_ctype = NULL;
				BalaArrayType* _tmp260_;
				gchar* _tmp261_;
				_tmp258_ = type;
				_tmp259_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp258_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
				array_type = _tmp259_;
				_tmp260_ = array_type;
				_tmp261_ = bala_get_ccode_array_length_type ((BalaCodeNode*) _tmp260_);
				length_ctype = _tmp261_;
				{
					gint dim = 0;
					dim = 1;
					{
						gboolean _tmp262_ = FALSE;
						_tmp262_ = TRUE;
						while (TRUE) {
							BalaArrayType* _tmp264_;
							gint _tmp265_;
							gint _tmp266_;
							BalaCCodeFunctionCall* _tmp267_;
							BalaCCodeExpression* _tmp268_;
							BalaCCodeExpression* _tmp269_;
							BalaCCodeFunction* _tmp270_;
							gchar* _tmp271_;
							gchar* _tmp272_;
							const gchar* _tmp273_;
							BalaCCodeParameter* _tmp274_;
							BalaCCodeParameter* _tmp275_;
							if (!_tmp262_) {
								gint _tmp263_;
								_tmp263_ = dim;
								dim = _tmp263_ + 1;
							}
							_tmp262_ = FALSE;
							_tmp264_ = array_type;
							_tmp265_ = bala_array_type_get_rank (_tmp264_);
							_tmp266_ = _tmp265_;
							if (!(dim <= _tmp266_)) {
								break;
							}
							_tmp267_ = ccall;
							_tmp268_ = bala_ccode_base_module_get_array_length_cvalue (self, value, dim);
							_tmp269_ = _tmp268_;
							bala_ccode_function_call_add_argument (_tmp267_, _tmp269_);
							_bala_ccode_node_unref0 (_tmp269_);
							_tmp270_ = cfunc;
							_tmp271_ = bala_ccode_base_module_get_array_length_cname (self, "value", dim);
							_tmp272_ = _tmp271_;
							_tmp273_ = length_ctype;
							_tmp274_ = bala_ccode_parameter_new (_tmp272_, _tmp273_);
							_tmp275_ = _tmp274_;
							bala_ccode_function_add_parameter (_tmp270_, _tmp275_);
							_bala_ccode_node_unref0 (_tmp275_);
							_g_free0 (_tmp272_);
						}
					}
				}
				_g_free0 (length_ctype);
				_bala_code_node_unref0 (array_type);
			}
			_tmp276_ = cfunc;
			bala_ccode_base_module_push_function (self, _tmp276_);
			_tmp277_ = bala_ccode_identifier_new ("g_variant_ref_sink");
			_tmp278_ = _tmp277_;
			_tmp279_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp278_);
			_tmp280_ = _tmp279_;
			_bala_ccode_node_unref0 (_tmp278_);
			sink = _tmp280_;
			_tmp281_ = sink;
			_tmp282_ = type;
			_tmp283_ = bala_ccode_identifier_new ("value");
			_tmp284_ = _tmp283_;
			_tmp285_ = bala_ccode_base_module_serialize_expression (self, _tmp282_, (BalaCCodeExpression*) _tmp284_);
			_tmp286_ = _tmp285_;
			bala_ccode_function_call_add_argument (_tmp281_, _tmp286_);
			_bala_ccode_node_unref0 (_tmp286_);
			_bala_ccode_node_unref0 (_tmp284_);
			_tmp287_ = bala_ccode_base_module_get_ccode (self);
			_tmp288_ = _tmp287_;
			_tmp289_ = sink;
			bala_ccode_function_add_return (_tmp288_, (BalaCCodeExpression*) _tmp289_);
			bala_ccode_base_module_pop_function (self);
			_tmp290_ = self->cfile;
			_tmp291_ = cfunc;
			bala_ccode_file_add_function_declaration (_tmp290_, _tmp291_);
			_tmp292_ = self->cfile;
			_tmp293_ = cfunc;
			bala_ccode_file_add_function (_tmp292_, _tmp293_);
			_tmp294_ = _result_;
			_tmp295_ = ccall;
			_tmp296_ = _bala_ccode_node_ref0 ((BalaCCodeExpression*) _tmp295_);
			_bala_ccode_node_unref0 (_tmp294_->cvalue);
			_tmp294_->cvalue = _tmp296_;
			_tmp297_ = _result_;
			_tmp298_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp297_);
			_tmp299_ = _tmp298_;
			bala_data_type_set_value_owned (_tmp299_, TRUE);
			_tmp300_ = _result_;
			_tmp301_ = bala_ccode_base_module_store_temp_value (self, (BalaTargetValue*) _tmp300_, node, NULL);
			_bala_target_value_unref0 (_result_);
			_result_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp301_, BALA_TYPE_GLIB_VALUE, BalaGLibValue);
			_tmp302_ = bala_data_type_get_value_owned (target_type);
			_tmp303_ = _tmp302_;
			if (!_tmp303_) {
				BalaArrayList* _tmp304_;
				BalaArrayList* _tmp305_;
				BalaGLibValue* _tmp306_;
				BalaGLibValue* _tmp307_;
				BalaGLibValue* _tmp308_;
				_tmp304_ = bala_ccode_base_module_get_temp_ref_values (self);
				_tmp305_ = _tmp304_;
				_tmp306_ = _result_;
				_tmp307_ = bala_glib_value_copy (G_TYPE_CHECK_INSTANCE_CAST (_tmp306_, BALA_TYPE_GLIB_VALUE, BalaGLibValue));
				_tmp308_ = _tmp307_;
				bala_list_insert ((BalaList*) _tmp305_, 0, (BalaTargetValue*) _tmp308_);
				_bala_target_value_unref0 (_tmp308_);
			}
			_bala_ccode_node_unref0 (sink);
			_bala_ccode_node_unref0 (cfunc);
			_bala_ccode_node_unref0 (ccall);
			_g_free0 (variant_func);
		} else {
			if (boxing) {
				BalaGLibValue* _tmp309_;
				BalaDataType* _tmp310_;
				BalaDataType* _tmp311_;
				gboolean _tmp312_ = FALSE;
				BalaGLibValue* _tmp313_;
				BalaGLibValue* _tmp330_;
				BalaGLibValue* _tmp331_;
				BalaCCodeExpression* _tmp332_;
				BalaCCodeUnaryExpression* _tmp333_;
				BalaGLibValue* _tmp334_;
				BalaGLibValue* _tmp335_;
				BalaDataType* _tmp336_;
				BalaDataType* _tmp337_;
				_tmp309_ = _result_;
				_tmp310_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp309_);
				_tmp311_ = _tmp310_;
				bala_data_type_set_nullable (_tmp311_, FALSE);
				_tmp313_ = _result_;
				if (!_tmp313_->lvalue) {
					_tmp312_ = TRUE;
				} else {
					BalaGLibValue* _tmp314_;
					BalaDataType* _tmp315_;
					BalaDataType* _tmp316_;
					BalaDataType* _tmp317_;
					BalaDataType* _tmp318_;
					_tmp314_ = _result_;
					_tmp315_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp314_);
					_tmp316_ = _tmp315_;
					_tmp317_ = bala_target_value_get_value_type (value);
					_tmp318_ = _tmp317_;
					_tmp312_ = !bala_data_type_equals (_tmp316_, _tmp318_);
				}
				if (_tmp312_) {
					BalaGLibValue* _tmp319_;
					BalaGLibValue* _tmp320_;
					BalaCCodeExpression* _tmp321_;
					BalaDataType* _tmp322_;
					BalaDataType* _tmp323_;
					BalaGLibValue* _tmp324_;
					BalaDataType* _tmp325_;
					BalaDataType* _tmp326_;
					BalaCCodeExpression* _tmp327_;
					BalaGLibValue* _tmp328_;
					BalaTargetValue* _tmp329_;
					_tmp319_ = _result_;
					_tmp320_ = _result_;
					_tmp321_ = _tmp320_->cvalue;
					_tmp322_ = bala_target_value_get_value_type (value);
					_tmp323_ = _tmp322_;
					_tmp324_ = _result_;
					_tmp325_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp324_);
					_tmp326_ = _tmp325_;
					_tmp327_ = bala_ccode_base_module_get_implicit_cast_expression (self, _tmp321_, _tmp323_, _tmp326_, node);
					_bala_ccode_node_unref0 (_tmp319_->cvalue);
					_tmp319_->cvalue = _tmp327_;
					_tmp328_ = _result_;
					_tmp329_ = bala_ccode_base_module_store_temp_value (self, (BalaTargetValue*) _tmp328_, node, NULL);
					_bala_target_value_unref0 (_result_);
					_result_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp329_, BALA_TYPE_GLIB_VALUE, BalaGLibValue);
				}
				_tmp330_ = _result_;
				_tmp331_ = _result_;
				_tmp332_ = _tmp331_->cvalue;
				_tmp333_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp332_);
				_bala_ccode_node_unref0 (_tmp330_->cvalue);
				_tmp330_->cvalue = (BalaCCodeExpression*) _tmp333_;
				_tmp334_ = _result_;
				_tmp334_->lvalue = FALSE;
				_tmp335_ = _result_;
				_tmp336_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp335_);
				_tmp337_ = _tmp336_;
				bala_data_type_set_nullable (_tmp337_, TRUE);
			} else {
				if (unboxing) {
					BalaGLibValue* _tmp338_;
					BalaGLibValue* _tmp339_;
					BalaCCodeExpression* _tmp340_;
					BalaCCodeUnaryExpression* _tmp341_;
					_tmp338_ = _result_;
					_tmp339_ = _result_;
					_tmp340_ = _tmp339_->cvalue;
					_tmp341_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_POINTER_INDIRECTION, _tmp340_);
					_bala_ccode_node_unref0 (_tmp338_->cvalue);
					_tmp338_->cvalue = (BalaCCodeExpression*) _tmp341_;
				} else {
					BalaCCodeExpression* old_cexpr = NULL;
					BalaGLibValue* _tmp342_;
					BalaCCodeExpression* _tmp343_;
					BalaCCodeExpression* _tmp344_;
					BalaGLibValue* _tmp345_;
					BalaGLibValue* _tmp346_;
					BalaCCodeExpression* _tmp347_;
					BalaDataType* _tmp348_;
					BalaCCodeExpression* _tmp349_;
					gboolean _tmp350_ = FALSE;
					BalaGLibValue* _tmp351_;
					BalaGLibValue* _tmp355_;
					_tmp342_ = _result_;
					_tmp343_ = _tmp342_->cvalue;
					_tmp344_ = _bala_ccode_node_ref0 (_tmp343_);
					old_cexpr = _tmp344_;
					_tmp345_ = _result_;
					_tmp346_ = _result_;
					_tmp347_ = _tmp346_->cvalue;
					_tmp348_ = type;
					_tmp349_ = bala_ccode_base_module_get_implicit_cast_expression (self, _tmp347_, _tmp348_, target_type, node);
					_bala_ccode_node_unref0 (_tmp345_->cvalue);
					_tmp345_->cvalue = _tmp349_;
					_tmp351_ = _result_;
					if (_tmp351_->lvalue) {
						BalaGLibValue* _tmp352_;
						BalaCCodeExpression* _tmp353_;
						BalaCCodeExpression* _tmp354_;
						_tmp352_ = _result_;
						_tmp353_ = _tmp352_->cvalue;
						_tmp354_ = old_cexpr;
						_tmp350_ = _tmp353_ == _tmp354_;
					} else {
						_tmp350_ = FALSE;
					}
					_tmp355_ = _result_;
					_tmp355_->lvalue = _tmp350_;
					_bala_ccode_node_unref0 (old_cexpr);
				}
			}
		}
	}
	array_needs_copy = FALSE;
	_tmp357_ = type;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp357_, BALA_TYPE_ARRAY_TYPE)) {
		_tmp356_ = G_TYPE_CHECK_INSTANCE_TYPE (target_type, BALA_TYPE_ARRAY_TYPE);
	} else {
		_tmp356_ = FALSE;
	}
	if (_tmp356_) {
		BalaArrayType* array = NULL;
		BalaDataType* _tmp358_;
		BalaArrayType* _tmp359_;
		BalaArrayType* target_array = NULL;
		BalaArrayType* _tmp360_;
		gboolean _tmp361_ = FALSE;
		BalaArrayType* _tmp362_;
		BalaDataType* _tmp363_;
		BalaDataType* _tmp364_;
		gboolean _tmp365_;
		gboolean _tmp366_;
		_tmp358_ = type;
		_tmp359_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp358_, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		array = _tmp359_;
		_tmp360_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (target_type, BALA_TYPE_ARRAY_TYPE, BalaArrayType));
		target_array = _tmp360_;
		_tmp362_ = target_array;
		_tmp363_ = bala_array_type_get_element_type (_tmp362_);
		_tmp364_ = _tmp363_;
		_tmp365_ = bala_data_type_get_value_owned (_tmp364_);
		_tmp366_ = _tmp365_;
		if (_tmp366_) {
			BalaArrayType* _tmp367_;
			BalaDataType* _tmp368_;
			BalaDataType* _tmp369_;
			gboolean _tmp370_;
			gboolean _tmp371_;
			_tmp367_ = array;
			_tmp368_ = bala_array_type_get_element_type (_tmp367_);
			_tmp369_ = _tmp368_;
			_tmp370_ = bala_data_type_get_value_owned (_tmp369_);
			_tmp371_ = _tmp370_;
			_tmp361_ = !_tmp371_;
		} else {
			_tmp361_ = FALSE;
		}
		if (_tmp361_) {
			BalaArrayType* _tmp372_;
			BalaDataType* _tmp373_;
			BalaDataType* _tmp374_;
			_tmp372_ = target_array;
			_tmp373_ = bala_array_type_get_element_type (_tmp372_);
			_tmp374_ = _tmp373_;
			array_needs_copy = bala_ccode_base_module_requires_copy (_tmp374_);
		}
		_bala_code_node_unref0 (target_array);
		_bala_code_node_unref0 (array);
	}
	if (!gvalue_boxing) {
		_tmp379_ = !gvariant_boxing;
	} else {
		_tmp379_ = FALSE;
	}
	if (_tmp379_) {
		gboolean _tmp380_;
		gboolean _tmp381_;
		_tmp380_ = bala_data_type_get_value_owned (target_type);
		_tmp381_ = _tmp380_;
		_tmp378_ = _tmp381_;
	} else {
		_tmp378_ = FALSE;
	}
	if (_tmp378_) {
		gboolean _tmp382_ = FALSE;
		gboolean _tmp383_ = FALSE;
		gboolean _tmp384_ = FALSE;
		BalaDataType* _tmp385_;
		gboolean _tmp386_;
		gboolean _tmp387_;
		_tmp385_ = type;
		_tmp386_ = bala_data_type_get_value_owned (_tmp385_);
		_tmp387_ = _tmp386_;
		if (!_tmp387_) {
			_tmp384_ = TRUE;
		} else {
			_tmp384_ = boxing;
		}
		if (_tmp384_) {
			_tmp383_ = TRUE;
		} else {
			_tmp383_ = unboxing;
		}
		if (_tmp383_) {
			_tmp382_ = TRUE;
		} else {
			_tmp382_ = array_needs_copy;
		}
		_tmp377_ = _tmp382_;
	} else {
		_tmp377_ = FALSE;
	}
	if (_tmp377_) {
		_tmp376_ = bala_ccode_base_module_requires_copy (target_type);
	} else {
		_tmp376_ = FALSE;
	}
	if (_tmp376_) {
		BalaDataType* _tmp388_;
		_tmp388_ = type;
		_tmp375_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp388_, BALA_TYPE_NULL_TYPE);
	} else {
		_tmp375_ = FALSE;
	}
	if (_tmp375_) {
		BalaGLibValue* copy = NULL;
		BalaGLibValue* _tmp389_;
		BalaTargetValue* _tmp390_;
		gboolean _tmp391_ = FALSE;
		BalaTypeSymbol* _tmp392_;
		BalaTypeSymbol* _tmp393_;
		gboolean _tmp403_ = FALSE;
		BalaGLibValue* _tmp414_;
		BalaGLibValue* _tmp415_;
		BalaPropertyAccessor* prop_acc = NULL;
		BalaPropertyAccessor* _tmp416_;
		gboolean _tmp417_ = FALSE;
		gboolean _tmp418_ = FALSE;
		BalaPropertyAccessor* _tmp419_;
		_tmp389_ = _result_;
		_tmp390_ = bala_ccode_base_module_copy_value (self, (BalaTargetValue*) _tmp389_, node);
		copy = G_TYPE_CHECK_INSTANCE_CAST (_tmp390_, BALA_TYPE_GLIB_VALUE, BalaGLibValue);
		_tmp392_ = bala_data_type_get_type_symbol (target_type);
		_tmp393_ = _tmp392_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp393_, BALA_TYPE_INTERFACE)) {
			BalaGLibValue* _tmp394_;
			_tmp394_ = copy;
			_tmp391_ = _tmp394_ == NULL;
		} else {
			_tmp391_ = FALSE;
		}
		if (_tmp391_) {
			BalaSourceReference* _tmp395_;
			BalaSourceReference* _tmp396_;
			BalaTypeSymbol* _tmp397_;
			BalaTypeSymbol* _tmp398_;
			gchar* _tmp399_;
			gchar* _tmp400_;
			gchar* _tmp401_;
			gchar* _tmp402_;
			_tmp395_ = bala_code_node_get_source_reference (node);
			_tmp396_ = _tmp395_;
			_tmp397_ = bala_data_type_get_type_symbol (target_type);
			_tmp398_ = _tmp397_;
			_tmp399_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp398_);
			_tmp400_ = _tmp399_;
			_tmp401_ = g_strdup_printf ("missing class prerequisite for interface `%s', add GLib.Object to inte" \
"rface declaration if unsure", _tmp400_);
			_tmp402_ = _tmp401_;
			bala_report_error (_tmp396_, _tmp402_);
			_g_free0 (_tmp402_);
			_g_free0 (_tmp400_);
			result = (BalaTargetValue*) _result_;
			_bala_target_value_unref0 (copy);
			_bala_code_node_unref0 (type);
			return result;
		}
		if (array_needs_copy) {
			BalaDataType* _tmp404_;
			_tmp404_ = type;
			_tmp403_ = bala_ccode_base_module_requires_destroy (_tmp404_);
		} else {
			_tmp403_ = FALSE;
		}
		if (_tmp403_) {
			BalaGLibValue* _tmp405_;
			BalaDataType* _tmp406_;
			BalaDataType* _tmp407_;
			BalaDataType* _tmp408_;
			BalaCCodeFunction* _tmp409_;
			BalaCCodeFunction* _tmp410_;
			BalaGLibValue* _tmp411_;
			BalaCCodeExpression* _tmp412_;
			BalaCCodeExpression* _tmp413_;
			_tmp405_ = _result_;
			_tmp406_ = type;
			_tmp407_ = bala_data_type_copy (_tmp406_);
			_tmp408_ = _tmp407_;
			bala_target_value_set_value_type ((BalaTargetValue*) _tmp405_, _tmp408_);
			_bala_code_node_unref0 (_tmp408_);
			_tmp409_ = bala_ccode_base_module_get_ccode (self);
			_tmp410_ = _tmp409_;
			_tmp411_ = _result_;
			_tmp412_ = bala_ccode_base_module_destroy_value (self, (BalaTargetValue*) _tmp411_, FALSE);
			_tmp413_ = _tmp412_;
			bala_ccode_function_add_expression (_tmp410_, _tmp413_);
			_bala_ccode_node_unref0 (_tmp413_);
		}
		_tmp414_ = copy;
		_tmp415_ = _bala_target_value_ref0 (_tmp414_);
		_bala_target_value_unref0 (_result_);
		_result_ = _tmp415_;
		_tmp416_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (node, BALA_TYPE_PROPERTY_ACCESSOR) ? ((BalaPropertyAccessor*) node) : NULL);
		prop_acc = _tmp416_;
		_tmp419_ = prop_acc;
		if (_tmp419_ != NULL) {
			BalaPropertyAccessor* _tmp420_;
			gboolean _tmp421_;
			gboolean _tmp422_;
			_tmp420_ = prop_acc;
			_tmp421_ = bala_property_accessor_get_automatic_body (_tmp420_);
			_tmp422_ = _tmp421_;
			_tmp418_ = !_tmp422_;
		} else {
			_tmp418_ = FALSE;
		}
		if (_tmp418_) {
			BalaGLibValue* _tmp423_;
			BalaDataType* _tmp424_;
			BalaDataType* _tmp425_;
			_tmp423_ = _result_;
			_tmp424_ = bala_target_value_get_value_type ((BalaTargetValue*) _tmp423_);
			_tmp425_ = _tmp424_;
			_tmp417_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp425_, BALA_TYPE_ARRAY_TYPE);
		} else {
			_tmp417_ = FALSE;
		}
		if (_tmp417_) {
			BalaSourceReference* _tmp426_;
			BalaSourceReference* _tmp427_;
			_tmp426_ = bala_code_node_get_source_reference (node);
			_tmp427_ = _tmp426_;
			bala_report_deprecated (_tmp427_, "implicit copy of array is deprecated, explicitly invoke the copy metho" \
"d instead");
		}
		_bala_code_node_unref0 (prop_acc);
		_bala_target_value_unref0 (copy);
	}
	result = (BalaTargetValue*) _result_;
	_bala_code_node_unref0 (type);
	return result;
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_implicit_cast_expression (BalaCCodeBaseModule* self,
                                                          BalaCCodeExpression* source_cexpr,
                                                          BalaDataType* expression_type,
                                                          BalaDataType* target_type,
                                                          BalaCodeNode* node)
{
	BalaCCodeExpression* cexpr = NULL;
	BalaCCodeExpression* _tmp0_;
	gboolean _tmp1_ = FALSE;
	BalaTypeSymbol* _tmp2_;
	BalaTypeSymbol* _tmp3_;
	BalaCCodeFile* _tmp8_;
	BalaClass* cl = NULL;
	BalaTypeSymbol* _tmp9_;
	BalaTypeSymbol* _tmp10_;
	BalaInterface* iface = NULL;
	BalaTypeSymbol* _tmp11_;
	BalaTypeSymbol* _tmp12_;
	gboolean _tmp13_ = FALSE;
	BalaCodeContext* _tmp14_;
	gboolean _tmp15_;
	gboolean _tmp16_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (source_cexpr != NULL, NULL);
	_tmp0_ = _bala_ccode_node_ref0 (source_cexpr);
	cexpr = _tmp0_;
	_tmp2_ = bala_data_type_get_type_symbol (expression_type);
	_tmp3_ = _tmp2_;
	if (_tmp3_ != NULL) {
		BalaTypeSymbol* _tmp4_;
		BalaTypeSymbol* _tmp5_;
		BalaTypeSymbol* _tmp6_;
		BalaTypeSymbol* _tmp7_;
		_tmp4_ = bala_data_type_get_type_symbol (expression_type);
		_tmp5_ = _tmp4_;
		_tmp6_ = bala_data_type_get_type_symbol (target_type);
		_tmp7_ = _tmp6_;
		_tmp1_ = _tmp5_ == _tmp7_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		result = cexpr;
		return result;
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (expression_type, BALA_TYPE_NULL_TYPE)) {
		result = cexpr;
		return result;
	}
	_tmp8_ = self->cfile;
	bala_ccode_base_module_generate_type_declaration (self, target_type, _tmp8_);
	_tmp9_ = bala_data_type_get_type_symbol (target_type);
	_tmp10_ = _tmp9_;
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp10_) : NULL;
	_tmp11_ = bala_data_type_get_type_symbol (target_type);
	_tmp12_ = _tmp11_;
	iface = G_TYPE_CHECK_INSTANCE_TYPE (_tmp12_, BALA_TYPE_INTERFACE) ? ((BalaInterface*) _tmp12_) : NULL;
	_tmp14_ = self->priv->_context;
	_tmp15_ = bala_code_context_get_checking (_tmp14_);
	_tmp16_ = _tmp15_;
	if (_tmp16_) {
		gboolean _tmp17_ = FALSE;
		BalaInterface* _tmp18_;
		_tmp18_ = iface;
		if (_tmp18_ != NULL) {
			_tmp17_ = TRUE;
		} else {
			gboolean _tmp19_ = FALSE;
			BalaClass* _tmp20_;
			_tmp20_ = cl;
			if (_tmp20_ != NULL) {
				BalaClass* _tmp21_;
				gboolean _tmp22_;
				gboolean _tmp23_;
				_tmp21_ = cl;
				_tmp22_ = bala_class_get_is_compact (_tmp21_);
				_tmp23_ = _tmp22_;
				_tmp19_ = !_tmp23_;
			} else {
				_tmp19_ = FALSE;
			}
			_tmp17_ = _tmp19_;
		}
		_tmp13_ = _tmp17_;
	} else {
		_tmp13_ = FALSE;
	}
	if (_tmp13_) {
		BalaCCodeExpression* _tmp24_;
		BalaTypeSymbol* _tmp25_;
		BalaTypeSymbol* _tmp26_;
		BalaCCodeFunctionCall* _tmp27_;
		_tmp24_ = cexpr;
		_tmp25_ = bala_data_type_get_type_symbol (target_type);
		_tmp26_ = _tmp25_;
		_tmp27_ = bala_ccode_base_module_generate_instance_cast (self, _tmp24_, _tmp26_);
		result = (BalaCCodeExpression*) _tmp27_;
		_bala_ccode_node_unref0 (cexpr);
		return result;
	} else {
		gboolean _tmp28_ = FALSE;
		BalaTypeSymbol* _tmp29_;
		BalaTypeSymbol* _tmp30_;
		_tmp29_ = bala_data_type_get_type_symbol (target_type);
		_tmp30_ = _tmp29_;
		if (_tmp30_ != NULL) {
			gchar* _tmp31_;
			gchar* _tmp32_;
			gchar* _tmp33_;
			gchar* _tmp34_;
			_tmp31_ = bala_get_ccode_name ((BalaCodeNode*) expression_type);
			_tmp32_ = _tmp31_;
			_tmp33_ = bala_get_ccode_name ((BalaCodeNode*) target_type);
			_tmp34_ = _tmp33_;
			_tmp28_ = g_strcmp0 (_tmp32_, _tmp34_) != 0;
			_g_free0 (_tmp34_);
			_g_free0 (_tmp32_);
		} else {
			_tmp28_ = FALSE;
		}
		if (_tmp28_) {
			BalaStruct* st = NULL;
			BalaTypeSymbol* _tmp35_;
			BalaTypeSymbol* _tmp36_;
			gboolean _tmp37_ = FALSE;
			BalaTypeSymbol* _tmp38_;
			BalaTypeSymbol* _tmp39_;
			_tmp35_ = bala_data_type_get_type_symbol (target_type);
			_tmp36_ = _tmp35_;
			st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp36_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp36_) : NULL;
			_tmp38_ = bala_data_type_get_type_symbol (target_type);
			_tmp39_ = _tmp38_;
			if (bala_typesymbol_is_reference_type (_tmp39_)) {
				_tmp37_ = TRUE;
			} else {
				gboolean _tmp40_ = FALSE;
				BalaStruct* _tmp41_;
				_tmp41_ = st;
				if (_tmp41_ != NULL) {
					BalaStruct* _tmp42_;
					_tmp42_ = st;
					_tmp40_ = bala_struct_is_simple_type (_tmp42_);
				} else {
					_tmp40_ = FALSE;
				}
				_tmp37_ = _tmp40_;
			}
			if (_tmp37_) {
				BalaCCodeExpression* _tmp43_;
				gchar* _tmp44_;
				gchar* _tmp45_;
				BalaCCodeCastExpression* _tmp46_;
				BalaCCodeExpression* _tmp47_;
				_tmp43_ = cexpr;
				_tmp44_ = bala_get_ccode_name ((BalaCodeNode*) target_type);
				_tmp45_ = _tmp44_;
				_tmp46_ = bala_ccode_cast_expression_new (_tmp43_, _tmp45_);
				_tmp47_ = (BalaCCodeExpression*) _tmp46_;
				_g_free0 (_tmp45_);
				result = _tmp47_;
				_bala_ccode_node_unref0 (cexpr);
				return result;
			} else {
				result = cexpr;
				return result;
			}
		} else {
			result = cexpr;
			return result;
		}
	}
	_bala_ccode_node_unref0 (cexpr);
}

BalaCCodeExpression*
bala_ccode_base_module_get_implicit_cast_expression (BalaCCodeBaseModule* self,
                                                     BalaCCodeExpression* source_cexpr,
                                                     BalaDataType* expression_type,
                                                     BalaDataType* target_type,
                                                     BalaCodeNode* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_implicit_cast_expression (self, source_cexpr, expression_type, target_type, node);
}

void
bala_ccode_base_module_store_property (BalaCCodeBaseModule* self,
                                       BalaProperty* prop,
                                       BalaExpression* instance,
                                       BalaTargetValue* value)
{
	BalaProperty* base_prop = NULL;
	BalaProperty* _tmp0_;
	BalaProperty* _tmp1_;
	gboolean _tmp8_ = FALSE;
	gchar* set_func = NULL;
	gchar* _tmp83_;
	BalaCCodeFunctionCall* ccall = NULL;
	const gchar* _tmp98_;
	BalaCCodeIdentifier* _tmp99_;
	BalaCCodeIdentifier* _tmp100_;
	BalaCCodeFunctionCall* _tmp101_;
	BalaCCodeFunctionCall* _tmp102_;
	BalaMemberBinding _tmp103_;
	BalaMemberBinding _tmp104_;
	BalaCCodeExpression* cexpr = NULL;
	BalaCCodeExpression* _tmp125_;
	BalaCCodeExpression* _tmp126_;
	BalaDataType* _tmp127_;
	BalaDataType* _tmp128_;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp138_;
	BalaDataType* _tmp139_;
	BalaArrayType* _tmp140_;
	BalaCCodeFunctionCall* _tmp141_;
	BalaCCodeExpression* _tmp142_;
	gboolean _tmp143_ = FALSE;
	BalaArrayType* _tmp144_;
	BalaCCodeFunction* _tmp180_;
	BalaCCodeFunction* _tmp181_;
	BalaCCodeFunctionCall* _tmp182_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (prop != NULL);
	g_return_if_fail (value != NULL);
	base_prop = prop;
	_tmp0_ = bala_property_get_base_property (prop);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaProperty* _tmp2_;
		BalaProperty* _tmp3_;
		_tmp2_ = bala_property_get_base_property (prop);
		_tmp3_ = _tmp2_;
		base_prop = _tmp3_;
	} else {
		BalaProperty* _tmp4_;
		BalaProperty* _tmp5_;
		_tmp4_ = bala_property_get_base_interface_property (prop);
		_tmp5_ = _tmp4_;
		if (_tmp5_ != NULL) {
			BalaProperty* _tmp6_;
			BalaProperty* _tmp7_;
			_tmp6_ = bala_property_get_base_interface_property (prop);
			_tmp7_ = _tmp6_;
			base_prop = _tmp7_;
		}
	}
	if (G_TYPE_CHECK_INSTANCE_TYPE (instance, BALA_TYPE_BASE_ACCESS)) {
		gboolean _tmp9_ = FALSE;
		BalaProperty* _tmp10_;
		gboolean _tmp11_;
		gboolean _tmp12_;
		_tmp10_ = base_prop;
		_tmp11_ = bala_property_get_is_abstract (_tmp10_);
		_tmp12_ = _tmp11_;
		if (_tmp12_) {
			_tmp9_ = TRUE;
		} else {
			BalaProperty* _tmp13_;
			gboolean _tmp14_;
			gboolean _tmp15_;
			_tmp13_ = base_prop;
			_tmp14_ = bala_property_get_is_virtual (_tmp13_);
			_tmp15_ = _tmp14_;
			_tmp9_ = _tmp15_;
		}
		_tmp8_ = _tmp9_;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		BalaCCodeExpression* vcast = NULL;
		BalaProperty* _tmp16_;
		BalaSymbol* _tmp17_;
		BalaSymbol* _tmp18_;
		BalaCCodeExpression* _tmp45_;
		vcast = NULL;
		_tmp16_ = base_prop;
		_tmp17_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp16_);
		_tmp18_ = _tmp17_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, BALA_TYPE_CLASS)) {
			BalaClass* base_class = NULL;
			BalaProperty* _tmp19_;
			BalaSymbol* _tmp20_;
			BalaSymbol* _tmp21_;
			BalaClass* _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
			BalaCCodeIdentifier* _tmp25_;
			BalaCCodeIdentifier* _tmp26_;
			BalaCCodeFunctionCall* _tmp27_;
			BalaCCodeExpression* _tmp28_;
			BalaClass* _tmp29_;
			BalaClass* _tmp30_;
			gchar* _tmp31_;
			gchar* _tmp32_;
			gchar* _tmp33_;
			gchar* _tmp34_;
			BalaCCodeIdentifier* _tmp35_;
			BalaCCodeIdentifier* _tmp36_;
			_tmp19_ = base_prop;
			_tmp20_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp19_);
			_tmp21_ = _tmp20_;
			base_class = G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, BALA_TYPE_CLASS, BalaClass);
			_tmp22_ = base_class;
			_tmp23_ = bala_get_ccode_class_type_function (_tmp22_);
			_tmp24_ = _tmp23_;
			_tmp25_ = bala_ccode_identifier_new (_tmp24_);
			_tmp26_ = _tmp25_;
			_tmp27_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp26_);
			_bala_ccode_node_unref0 (vcast);
			vcast = (BalaCCodeExpression*) _tmp27_;
			_bala_ccode_node_unref0 (_tmp26_);
			_g_free0 (_tmp24_);
			_tmp28_ = vcast;
			_tmp29_ = bala_ccode_base_module_get_current_class (self);
			_tmp30_ = _tmp29_;
			_tmp31_ = bala_get_ccode_lower_case_name ((BalaCodeNode*) _tmp30_, NULL);
			_tmp32_ = _tmp31_;
			_tmp33_ = g_strdup_printf ("%s_parent_class", _tmp32_);
			_tmp34_ = _tmp33_;
			_tmp35_ = bala_ccode_identifier_new (_tmp34_);
			_tmp36_ = _tmp35_;
			bala_ccode_function_call_add_argument (G_TYPE_CHECK_INSTANCE_CAST (_tmp28_, BALA_TYPE_CCODE_FUNCTION_CALL, BalaCCodeFunctionCall), (BalaCCodeExpression*) _tmp36_);
			_bala_ccode_node_unref0 (_tmp36_);
			_g_free0 (_tmp34_);
			_g_free0 (_tmp32_);
		} else {
			BalaProperty* _tmp37_;
			BalaSymbol* _tmp38_;
			BalaSymbol* _tmp39_;
			_tmp37_ = base_prop;
			_tmp38_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp37_);
			_tmp39_ = _tmp38_;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp39_, BALA_TYPE_INTERFACE)) {
				BalaInterface* base_iface = NULL;
				BalaProperty* _tmp40_;
				BalaSymbol* _tmp41_;
				BalaSymbol* _tmp42_;
				BalaInterface* _tmp43_;
				BalaCCodeExpression* _tmp44_;
				_tmp40_ = base_prop;
				_tmp41_ = bala_symbol_get_parent_symbol ((BalaSymbol*) _tmp40_);
				_tmp42_ = _tmp41_;
				base_iface = G_TYPE_CHECK_INSTANCE_CAST (_tmp42_, BALA_TYPE_INTERFACE, BalaInterface);
				_tmp43_ = base_iface;
				_tmp44_ = bala_ccode_base_module_get_this_interface_cexpression (self, _tmp43_);
				_bala_ccode_node_unref0 (vcast);
				vcast = _tmp44_;
			}
		}
		_tmp45_ = vcast;
		if (_tmp45_ != NULL) {
			BalaCCodeFunctionCall* ccall = NULL;
			BalaCCodeExpression* _tmp46_;
			const gchar* _tmp47_;
			const gchar* _tmp48_;
			gchar* _tmp49_;
			gchar* _tmp50_;
			BalaCCodeMemberAccess* _tmp51_;
			BalaCCodeMemberAccess* _tmp52_;
			BalaCCodeFunctionCall* _tmp53_;
			BalaCCodeFunctionCall* _tmp54_;
			BalaCCodeFunctionCall* _tmp55_;
			BalaCCodeExpression* _tmp56_;
			BalaCCodeExpression* _tmp57_;
			BalaCCodeExpression* cexpr = NULL;
			BalaCCodeExpression* _tmp58_;
			BalaCCodeExpression* _tmp59_;
			BalaDataType* _tmp60_;
			BalaDataType* _tmp61_;
			BalaCCodeFunctionCall* _tmp71_;
			BalaCCodeExpression* _tmp72_;
			BalaCCodeFunction* _tmp73_;
			BalaCCodeFunction* _tmp74_;
			BalaCCodeFunctionCall* _tmp75_;
			_tmp46_ = vcast;
			_tmp47_ = bala_symbol_get_name ((BalaSymbol*) prop);
			_tmp48_ = _tmp47_;
			_tmp49_ = g_strdup_printf ("set_%s", _tmp48_);
			_tmp50_ = _tmp49_;
			_tmp51_ = bala_ccode_member_access_new_pointer (_tmp46_, _tmp50_);
			_tmp52_ = _tmp51_;
			_tmp53_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp52_);
			_tmp54_ = _tmp53_;
			_bala_ccode_node_unref0 (_tmp52_);
			_g_free0 (_tmp50_);
			ccall = _tmp54_;
			_tmp55_ = ccall;
			_tmp56_ = bala_ccode_base_module_get_ccodenode (self, instance);
			_tmp57_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp56_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression);
			bala_ccode_function_call_add_argument (_tmp55_, _tmp57_);
			_bala_ccode_node_unref0 (_tmp57_);
			_tmp58_ = bala_get_cvalue_ (value);
			_tmp59_ = _bala_ccode_node_ref0 (_tmp58_);
			cexpr = _tmp59_;
			_tmp60_ = bala_property_get_property_type (prop);
			_tmp61_ = _tmp60_;
			if (bala_data_type_is_real_non_null_struct_type (_tmp61_)) {
				gboolean _tmp62_ = FALSE;
				BalaCCodeExpression* _tmp63_;
				BalaCCodeExpression* _tmp69_;
				BalaCCodeUnaryExpression* _tmp70_;
				_tmp63_ = cexpr;
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp63_, BALA_TYPE_CCODE_CONSTANT)) {
					_tmp62_ = TRUE;
				} else {
					BalaCCodeExpression* _tmp64_;
					_tmp64_ = cexpr;
					_tmp62_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp64_, BALA_TYPE_CCODE_IDENTIFIER);
				}
				if (!_tmp62_) {
					BalaTargetValue* temp_value = NULL;
					BalaTargetValue* _tmp65_;
					BalaTargetValue* _tmp66_;
					BalaCCodeExpression* _tmp67_;
					BalaCCodeExpression* _tmp68_;
					_tmp65_ = bala_ccode_base_module_store_temp_value (self, value, (BalaCodeNode*) instance, NULL);
					temp_value = _tmp65_;
					_tmp66_ = temp_value;
					_tmp67_ = bala_get_cvalue_ (_tmp66_);
					_tmp68_ = _bala_ccode_node_ref0 (_tmp67_);
					_bala_ccode_node_unref0 (cexpr);
					cexpr = _tmp68_;
					_bala_target_value_unref0 (temp_value);
				}
				_tmp69_ = cexpr;
				_tmp70_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp69_);
				_bala_ccode_node_unref0 (cexpr);
				cexpr = (BalaCCodeExpression*) _tmp70_;
			}
			_tmp71_ = ccall;
			_tmp72_ = cexpr;
			bala_ccode_function_call_add_argument (_tmp71_, _tmp72_);
			_tmp73_ = bala_ccode_base_module_get_ccode (self);
			_tmp74_ = _tmp73_;
			_tmp75_ = ccall;
			bala_ccode_function_add_expression (_tmp74_, (BalaCCodeExpression*) _tmp75_);
			_bala_ccode_node_unref0 (cexpr);
			_bala_ccode_node_unref0 (ccall);
		} else {
			BalaSourceReference* _tmp76_;
			BalaSourceReference* _tmp77_;
			BalaProperty* _tmp78_;
			gchar* _tmp79_;
			gchar* _tmp80_;
			gchar* _tmp81_;
			gchar* _tmp82_;
			_tmp76_ = bala_code_node_get_source_reference ((BalaCodeNode*) instance);
			_tmp77_ = _tmp76_;
			_tmp78_ = base_prop;
			_tmp79_ = bala_symbol_get_full_name ((BalaSymbol*) _tmp78_);
			_tmp80_ = _tmp79_;
			_tmp81_ = g_strdup_printf ("internal: Invalid assignment to `%s'", _tmp80_);
			_tmp82_ = _tmp81_;
			bala_report_error (_tmp77_, _tmp82_);
			_g_free0 (_tmp82_);
			_g_free0 (_tmp80_);
		}
		_bala_ccode_node_unref0 (vcast);
		return;
	}
	_tmp83_ = g_strdup ("g_object_set");
	set_func = _tmp83_;
	if (!bala_get_ccode_no_accessor_method (prop)) {
		if (G_TYPE_CHECK_INSTANCE_TYPE (prop, BALA_TYPE_DYNAMIC_PROPERTY)) {
			gchar* _tmp84_;
			_tmp84_ = bala_ccode_base_module_get_dynamic_property_setter_cname (self, G_TYPE_CHECK_INSTANCE_CAST (prop, BALA_TYPE_DYNAMIC_PROPERTY, BalaDynamicProperty));
			_g_free0 (set_func);
			set_func = _tmp84_;
		} else {
			BalaProperty* _tmp85_;
			BalaPropertyAccessor* _tmp86_;
			BalaPropertyAccessor* _tmp87_;
			BalaCCodeFile* _tmp88_;
			BalaProperty* _tmp89_;
			BalaPropertyAccessor* _tmp90_;
			BalaPropertyAccessor* _tmp91_;
			gchar* _tmp92_;
			gboolean _tmp93_ = FALSE;
			gboolean _tmp94_;
			gboolean _tmp95_;
			_tmp85_ = base_prop;
			_tmp86_ = bala_property_get_set_accessor (_tmp85_);
			_tmp87_ = _tmp86_;
			_tmp88_ = self->cfile;
			bala_ccode_base_module_generate_property_accessor_declaration (self, _tmp87_, _tmp88_);
			_tmp89_ = base_prop;
			_tmp90_ = bala_property_get_set_accessor (_tmp89_);
			_tmp91_ = _tmp90_;
			_tmp92_ = bala_get_ccode_name ((BalaCodeNode*) _tmp91_);
			_g_free0 (set_func);
			set_func = _tmp92_;
			_tmp94_ = bala_symbol_get_external ((BalaSymbol*) prop);
			_tmp95_ = _tmp94_;
			if (!_tmp95_) {
				gboolean _tmp96_;
				gboolean _tmp97_;
				_tmp96_ = bala_symbol_get_external_package ((BalaSymbol*) prop);
				_tmp97_ = _tmp96_;
				_tmp93_ = _tmp97_;
			} else {
				_tmp93_ = FALSE;
			}
			if (_tmp93_) {
				if (bala_ccode_base_module_add_generated_external_symbol (self, (BalaSymbol*) prop)) {
					bala_code_visitor_visit_property ((BalaCodeVisitor*) self, prop);
				}
			}
		}
	}
	_tmp98_ = set_func;
	_tmp99_ = bala_ccode_identifier_new (_tmp98_);
	_tmp100_ = _tmp99_;
	_tmp101_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp100_);
	_tmp102_ = _tmp101_;
	_bala_ccode_node_unref0 (_tmp100_);
	ccall = _tmp102_;
	_tmp103_ = bala_property_get_binding (prop);
	_tmp104_ = _tmp103_;
	if (_tmp104_ == BALA_MEMBER_BINDING_INSTANCE) {
		BalaCCodeExpression* cinstance = NULL;
		BalaCCodeExpression* _tmp105_;
		gboolean _tmp106_ = FALSE;
		BalaSymbol* _tmp107_;
		BalaSymbol* _tmp108_;
		BalaCCodeFunctionCall* _tmp120_;
		BalaCCodeExpression* _tmp121_;
		_tmp105_ = bala_ccode_base_module_get_ccodenode (self, instance);
		cinstance = G_TYPE_CHECK_INSTANCE_CAST (_tmp105_, BALA_TYPE_CCODE_EXPRESSION, BalaCCodeExpression);
		_tmp107_ = bala_symbol_get_parent_symbol ((BalaSymbol*) prop);
		_tmp108_ = _tmp107_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp108_, BALA_TYPE_STRUCT)) {
			BalaSymbol* _tmp109_;
			BalaSymbol* _tmp110_;
			_tmp109_ = bala_symbol_get_parent_symbol ((BalaSymbol*) prop);
			_tmp110_ = _tmp109_;
			_tmp106_ = !bala_struct_is_simple_type (G_TYPE_CHECK_INSTANCE_CAST (_tmp110_, BALA_TYPE_STRUCT, BalaStruct));
		} else {
			_tmp106_ = FALSE;
		}
		if (_tmp106_) {
			BalaTargetValue* instance_value = NULL;
			BalaTargetValue* _tmp111_;
			BalaTargetValue* _tmp112_;
			BalaTargetValue* _tmp113_;
			BalaTargetValue* _tmp114_;
			BalaTargetValue* _tmp117_;
			BalaCCodeExpression* _tmp118_;
			BalaCCodeUnaryExpression* _tmp119_;
			_tmp111_ = bala_expression_get_target_value (instance);
			_tmp112_ = _tmp111_;
			_tmp113_ = _bala_target_value_ref0 (_tmp112_);
			instance_value = _tmp113_;
			_tmp114_ = instance_value;
			if (!bala_get_lvalue (_tmp114_)) {
				BalaTargetValue* _tmp115_;
				BalaTargetValue* _tmp116_;
				_tmp115_ = instance_value;
				_tmp116_ = bala_ccode_base_module_store_temp_value (self, _tmp115_, (BalaCodeNode*) instance, NULL);
				_bala_target_value_unref0 (instance_value);
				instance_value = _tmp116_;
			}
			_tmp117_ = instance_value;
			_tmp118_ = bala_get_cvalue_ (_tmp117_);
			_tmp119_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp118_);
			_bala_ccode_node_unref0 (cinstance);
			cinstance = (BalaCCodeExpression*) _tmp119_;
			_bala_target_value_unref0 (instance_value);
		}
		_tmp120_ = ccall;
		_tmp121_ = cinstance;
		bala_ccode_function_call_add_argument (_tmp120_, _tmp121_);
		_bala_ccode_node_unref0 (cinstance);
	}
	if (bala_get_ccode_no_accessor_method (prop)) {
		BalaCCodeFunctionCall* _tmp122_;
		BalaCCodeConstant* _tmp123_;
		BalaCCodeConstant* _tmp124_;
		_tmp122_ = ccall;
		_tmp123_ = bala_ccode_base_module_get_property_canonical_cconstant (self, prop);
		_tmp124_ = _tmp123_;
		bala_ccode_function_call_add_argument (_tmp122_, (BalaCCodeExpression*) _tmp124_);
		_bala_ccode_node_unref0 (_tmp124_);
	}
	_tmp125_ = bala_get_cvalue_ (value);
	_tmp126_ = _bala_ccode_node_ref0 (_tmp125_);
	cexpr = _tmp126_;
	_tmp127_ = bala_property_get_property_type (prop);
	_tmp128_ = _tmp127_;
	if (bala_data_type_is_real_non_null_struct_type (_tmp128_)) {
		gboolean _tmp129_ = FALSE;
		BalaCCodeExpression* _tmp130_;
		BalaCCodeExpression* _tmp136_;
		BalaCCodeUnaryExpression* _tmp137_;
		_tmp130_ = cexpr;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp130_, BALA_TYPE_CCODE_CONSTANT)) {
			_tmp129_ = TRUE;
		} else {
			BalaCCodeExpression* _tmp131_;
			_tmp131_ = cexpr;
			_tmp129_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp131_, BALA_TYPE_CCODE_IDENTIFIER);
		}
		if (!_tmp129_) {
			BalaTargetValue* temp_value = NULL;
			BalaTargetValue* _tmp132_;
			BalaTargetValue* _tmp133_;
			BalaCCodeExpression* _tmp134_;
			BalaCCodeExpression* _tmp135_;
			_tmp132_ = bala_ccode_base_module_store_temp_value (self, value, (BalaCodeNode*) instance, NULL);
			temp_value = _tmp132_;
			_tmp133_ = temp_value;
			_tmp134_ = bala_get_cvalue_ (_tmp133_);
			_tmp135_ = _bala_ccode_node_ref0 (_tmp134_);
			_bala_ccode_node_unref0 (cexpr);
			cexpr = _tmp135_;
			_bala_target_value_unref0 (temp_value);
		}
		_tmp136_ = cexpr;
		_tmp137_ = bala_ccode_unary_expression_new (BALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, _tmp136_);
		_bala_ccode_node_unref0 (cexpr);
		cexpr = (BalaCCodeExpression*) _tmp137_;
	}
	_tmp138_ = bala_property_get_property_type (prop);
	_tmp139_ = _tmp138_;
	_tmp140_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp139_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp139_) : NULL);
	array_type = _tmp140_;
	_tmp141_ = ccall;
	_tmp142_ = cexpr;
	bala_ccode_function_call_add_argument (_tmp141_, _tmp142_);
	_tmp144_ = array_type;
	if (_tmp144_ != NULL) {
		_tmp143_ = bala_get_ccode_array_length ((BalaCodeNode*) prop);
	} else {
		_tmp143_ = FALSE;
	}
	if (_tmp143_) {
		{
			gint dim = 0;
			dim = 1;
			{
				gboolean _tmp145_ = FALSE;
				_tmp145_ = TRUE;
				while (TRUE) {
					BalaArrayType* _tmp147_;
					gint _tmp148_;
					gint _tmp149_;
					BalaCCodeFunctionCall* _tmp150_;
					BalaCCodeExpression* _tmp151_;
					BalaCCodeExpression* _tmp152_;
					if (!_tmp145_) {
						gint _tmp146_;
						_tmp146_ = dim;
						dim = _tmp146_ + 1;
					}
					_tmp145_ = FALSE;
					_tmp147_ = array_type;
					_tmp148_ = bala_array_type_get_rank (_tmp147_);
					_tmp149_ = _tmp148_;
					if (!(dim <= _tmp149_)) {
						break;
					}
					_tmp150_ = ccall;
					_tmp151_ = bala_ccode_base_module_get_array_length_cvalue (self, value, dim);
					_tmp152_ = _tmp151_;
					bala_ccode_function_call_add_argument (_tmp150_, _tmp152_);
					_bala_ccode_node_unref0 (_tmp152_);
				}
			}
		}
	} else {
		BalaDataType* _tmp153_;
		BalaDataType* _tmp154_;
		_tmp153_ = bala_property_get_property_type (prop);
		_tmp154_ = _tmp153_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp154_, BALA_TYPE_DELEGATE_TYPE)) {
			BalaDelegateType* delegate_type = NULL;
			BalaDataType* _tmp155_;
			BalaDataType* _tmp156_;
			BalaDelegateType* _tmp157_;
			gboolean _tmp158_ = FALSE;
			_tmp155_ = bala_property_get_property_type (prop);
			_tmp156_ = _tmp155_;
			_tmp157_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp156_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			delegate_type = _tmp157_;
			if (bala_get_ccode_delegate_target ((BalaCodeNode*) prop)) {
				BalaDelegateType* _tmp159_;
				BalaDelegate* _tmp160_;
				BalaDelegate* _tmp161_;
				gboolean _tmp162_;
				gboolean _tmp163_;
				_tmp159_ = delegate_type;
				_tmp160_ = bala_delegate_type_get_delegate_symbol (_tmp159_);
				_tmp161_ = _tmp160_;
				_tmp162_ = bala_delegate_get_has_target (_tmp161_);
				_tmp163_ = _tmp162_;
				_tmp158_ = _tmp163_;
			} else {
				_tmp158_ = FALSE;
			}
			if (_tmp158_) {
				BalaCCodeFunctionCall* _tmp164_;
				BalaCCodeExpression* _tmp165_;
				BalaCCodeExpression* _tmp166_;
				BalaProperty* _tmp167_;
				BalaPropertyAccessor* _tmp168_;
				BalaPropertyAccessor* _tmp169_;
				BalaDataType* _tmp170_;
				BalaDataType* _tmp171_;
				gboolean _tmp172_;
				gboolean _tmp173_;
				_tmp164_ = ccall;
				_tmp165_ = bala_ccode_base_module_get_delegate_target_cvalue (self, value);
				_tmp166_ = _tmp165_;
				bala_ccode_function_call_add_argument (_tmp164_, _tmp166_);
				_bala_ccode_node_unref0 (_tmp166_);
				_tmp167_ = base_prop;
				_tmp168_ = bala_property_get_set_accessor (_tmp167_);
				_tmp169_ = _tmp168_;
				_tmp170_ = bala_property_accessor_get_value_type (_tmp169_);
				_tmp171_ = _tmp170_;
				_tmp172_ = bala_data_type_get_value_owned (_tmp171_);
				_tmp173_ = _tmp172_;
				if (_tmp173_) {
					BalaCCodeFunctionCall* _tmp174_;
					BalaCCodeExpression* _tmp175_;
					BalaCCodeExpression* _tmp176_;
					_tmp174_ = ccall;
					_tmp175_ = bala_ccode_base_module_get_delegate_target_destroy_notify_cvalue (self, value);
					_tmp176_ = _tmp175_;
					bala_ccode_function_call_add_argument (_tmp174_, _tmp176_);
					_bala_ccode_node_unref0 (_tmp176_);
				}
			}
			_bala_code_node_unref0 (delegate_type);
		}
	}
	if (bala_get_ccode_no_accessor_method (prop)) {
		BalaCCodeFunctionCall* _tmp177_;
		BalaCCodeConstant* _tmp178_;
		BalaCCodeConstant* _tmp179_;
		_tmp177_ = ccall;
		_tmp178_ = bala_ccode_constant_new ("NULL");
		_tmp179_ = _tmp178_;
		bala_ccode_function_call_add_argument (_tmp177_, (BalaCCodeExpression*) _tmp179_);
		_bala_ccode_node_unref0 (_tmp179_);
	}
	_tmp180_ = bala_ccode_base_module_get_ccode (self);
	_tmp181_ = _tmp180_;
	_tmp182_ = ccall;
	bala_ccode_function_add_expression (_tmp181_, (BalaCCodeExpression*) _tmp182_);
	_bala_code_node_unref0 (array_type);
	_bala_ccode_node_unref0 (cexpr);
	_bala_ccode_node_unref0 (ccall);
	_g_free0 (set_func);
}

gboolean
bala_ccode_base_module_add_wrapper (BalaCCodeBaseModule* self,
                                    const gchar* wrapper_name)
{
	BalaSet* _tmp0_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (wrapper_name != NULL, FALSE);
	_tmp0_ = self->wrappers;
	result = bala_collection_add ((BalaCollection*) _tmp0_, wrapper_name);
	return result;
}

gboolean
bala_ccode_base_module_add_generated_external_symbol (BalaCCodeBaseModule* self,
                                                      BalaSymbol* external_symbol)
{
	BalaSet* _tmp0_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (external_symbol != NULL, FALSE);
	_tmp0_ = self->priv->generated_external_symbols;
	result = bala_collection_add ((BalaCollection*) _tmp0_, external_symbol);
	return result;
}

BalaDataType*
bala_ccode_base_module_get_callable_creturn_type (BalaCallable* c)
{
	gboolean _tmp0_ = FALSE;
	BalaDataType* creturn_type = NULL;
	BalaDataType* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	BalaDataType* result = NULL;
	g_return_val_if_fail (c != NULL, NULL);
	if (G_TYPE_CHECK_INSTANCE_TYPE (c, BALA_TYPE_METHOD)) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE (c, BALA_TYPE_DELEGATE);
	}
	_bala_assert (_tmp0_, "c is Method || c is Delegate");
	_tmp1_ = bala_callable_get_return_type (c);
	_tmp2_ = _tmp1_;
	_tmp3_ = bala_data_type_copy (_tmp2_);
	creturn_type = _tmp3_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (c, BALA_TYPE_CREATION_METHOD)) {
		BalaClass* cl = NULL;
		BalaSymbol* _tmp4_;
		BalaSymbol* _tmp5_;
		BalaStruct* st = NULL;
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		BalaClass* _tmp8_;
		_tmp4_ = bala_symbol_get_parent_symbol ((BalaSymbol*) c);
		_tmp5_ = _tmp4_;
		cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, BALA_TYPE_CLASS) ? ((BalaClass*) _tmp5_) : NULL;
		_tmp6_ = bala_symbol_get_parent_symbol ((BalaSymbol*) c);
		_tmp7_ = _tmp6_;
		st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp7_) : NULL;
		_tmp8_ = cl;
		if (_tmp8_ != NULL) {
			BalaClass* _tmp9_;
			BalaObjectType* _tmp10_;
			_tmp9_ = cl;
			_tmp10_ = bala_object_type_new ((BalaObjectTypeSymbol*) _tmp9_);
			_bala_code_node_unref0 (creturn_type);
			creturn_type = (BalaDataType*) _tmp10_;
		} else {
			gboolean _tmp11_ = FALSE;
			BalaStruct* _tmp12_;
			_tmp12_ = st;
			if (_tmp12_ != NULL) {
				BalaStruct* _tmp13_;
				_tmp13_ = st;
				_tmp11_ = bala_struct_is_simple_type (_tmp13_);
			} else {
				_tmp11_ = FALSE;
			}
			if (_tmp11_) {
				BalaStruct* _tmp14_;
				BalaStructValueType* _tmp15_;
				_tmp14_ = st;
				_tmp15_ = bala_struct_value_type_new (_tmp14_);
				_bala_code_node_unref0 (creturn_type);
				creturn_type = (BalaDataType*) _tmp15_;
			}
		}
	} else {
		BalaDataType* _tmp16_;
		BalaDataType* _tmp17_;
		_tmp16_ = bala_callable_get_return_type (c);
		_tmp17_ = _tmp16_;
		if (bala_data_type_is_real_non_null_struct_type (_tmp17_)) {
			BalaVoidType* _tmp18_;
			_tmp18_ = bala_void_type_new (NULL);
			_bala_code_node_unref0 (creturn_type);
			creturn_type = (BalaDataType*) _tmp18_;
		}
	}
	result = creturn_type;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_default_value_for_type (BalaCCodeBaseModule* self,
                                               BalaDataType* type,
                                               gboolean initializer_expression,
                                               gboolean on_error)
{
	BalaStruct* st = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	BalaArrayType* array_type = NULL;
	BalaArrayType* _tmp2_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	BalaTypeSymbol* _tmp5_;
	BalaTypeSymbol* _tmp6_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_data_type_get_type_symbol (type);
	_tmp1_ = _tmp0_;
	st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp1_) : NULL;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) type) : NULL);
	array_type = _tmp2_;
	_tmp5_ = bala_data_type_get_type_symbol (type);
	_tmp6_ = _tmp5_;
	if (_tmp6_ != NULL) {
		gboolean _tmp7_;
		gboolean _tmp8_;
		_tmp7_ = bala_data_type_get_nullable (type);
		_tmp8_ = _tmp7_;
		_tmp4_ = !_tmp8_;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		gchar* _tmp9_ = NULL;
		if (on_error) {
			BalaTypeSymbol* _tmp10_;
			BalaTypeSymbol* _tmp11_;
			gchar* _tmp12_;
			_tmp10_ = bala_data_type_get_type_symbol (type);
			_tmp11_ = _tmp10_;
			_tmp12_ = bala_get_ccode_default_value_on_error (_tmp11_);
			_g_free0 (_tmp9_);
			_tmp9_ = _tmp12_;
		} else {
			BalaTypeSymbol* _tmp13_;
			BalaTypeSymbol* _tmp14_;
			gchar* _tmp15_;
			_tmp13_ = bala_data_type_get_type_symbol (type);
			_tmp14_ = _tmp13_;
			_tmp15_ = bala_get_ccode_default_value (_tmp14_);
			_g_free0 (_tmp9_);
			_tmp9_ = _tmp15_;
		}
		_tmp3_ = g_strcmp0 (_tmp9_, "") != 0;
		_g_free0 (_tmp9_);
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		gchar* _tmp16_ = NULL;
		BalaCCodeConstant* _tmp23_;
		if (on_error) {
			BalaTypeSymbol* _tmp17_;
			BalaTypeSymbol* _tmp18_;
			gchar* _tmp19_;
			_tmp17_ = bala_data_type_get_type_symbol (type);
			_tmp18_ = _tmp17_;
			_tmp19_ = bala_get_ccode_default_value_on_error (_tmp18_);
			_g_free0 (_tmp16_);
			_tmp16_ = _tmp19_;
		} else {
			BalaTypeSymbol* _tmp20_;
			BalaTypeSymbol* _tmp21_;
			gchar* _tmp22_;
			_tmp20_ = bala_data_type_get_type_symbol (type);
			_tmp21_ = _tmp20_;
			_tmp22_ = bala_get_ccode_default_value (_tmp21_);
			_g_free0 (_tmp16_);
			_tmp16_ = _tmp22_;
		}
		_tmp23_ = bala_ccode_constant_new (_tmp16_);
		result = (BalaCCodeExpression*) _tmp23_;
		_g_free0 (_tmp16_);
		_bala_code_node_unref0 (array_type);
		return result;
	} else {
		gboolean _tmp24_ = FALSE;
		gboolean _tmp25_ = FALSE;
		if (initializer_expression) {
			gboolean _tmp26_;
			gboolean _tmp27_;
			_tmp26_ = bala_data_type_get_nullable (type);
			_tmp27_ = _tmp26_;
			_tmp25_ = !_tmp27_;
		} else {
			_tmp25_ = FALSE;
		}
		if (_tmp25_) {
			gboolean _tmp28_ = FALSE;
			BalaStruct* _tmp29_;
			_tmp29_ = st;
			if (_tmp29_ != NULL) {
				_tmp28_ = TRUE;
			} else {
				gboolean _tmp30_ = FALSE;
				BalaArrayType* _tmp31_;
				_tmp31_ = array_type;
				if (_tmp31_ != NULL) {
					BalaArrayType* _tmp32_;
					gboolean _tmp33_;
					gboolean _tmp34_;
					_tmp32_ = array_type;
					_tmp33_ = bala_array_type_get_fixed_length (_tmp32_);
					_tmp34_ = _tmp33_;
					_tmp30_ = _tmp34_;
				} else {
					_tmp30_ = FALSE;
				}
				_tmp28_ = _tmp30_;
			}
			_tmp24_ = _tmp28_;
		} else {
			_tmp24_ = FALSE;
		}
		if (_tmp24_) {
			BalaCCodeInitializerList* clist = NULL;
			BalaCCodeInitializerList* _tmp35_;
			BalaCCodeInitializerList* _tmp36_;
			BalaCCodeConstant* _tmp37_;
			BalaCCodeConstant* _tmp38_;
			_tmp35_ = bala_ccode_initializer_list_new ();
			clist = _tmp35_;
			_tmp36_ = clist;
			_tmp37_ = bala_ccode_constant_new ("0");
			_tmp38_ = _tmp37_;
			bala_ccode_initializer_list_append (_tmp36_, (BalaCCodeExpression*) _tmp38_);
			_bala_ccode_node_unref0 (_tmp38_);
			result = (BalaCCodeExpression*) clist;
			_bala_code_node_unref0 (array_type);
			return result;
		} else {
			gboolean _tmp39_ = FALSE;
			gboolean _tmp40_ = FALSE;
			gboolean _tmp41_ = FALSE;
			gboolean _tmp42_ = FALSE;
			gboolean _tmp43_ = FALSE;
			BalaTypeSymbol* _tmp44_;
			BalaTypeSymbol* _tmp45_;
			_tmp44_ = bala_data_type_get_type_symbol (type);
			_tmp45_ = _tmp44_;
			if (_tmp45_ != NULL) {
				BalaTypeSymbol* _tmp46_;
				BalaTypeSymbol* _tmp47_;
				_tmp46_ = bala_data_type_get_type_symbol (type);
				_tmp47_ = _tmp46_;
				_tmp43_ = bala_typesymbol_is_reference_type (_tmp47_);
			} else {
				_tmp43_ = FALSE;
			}
			if (_tmp43_) {
				_tmp42_ = TRUE;
			} else {
				gboolean _tmp48_;
				gboolean _tmp49_;
				_tmp48_ = bala_data_type_get_nullable (type);
				_tmp49_ = _tmp48_;
				_tmp42_ = _tmp49_;
			}
			if (_tmp42_) {
				_tmp41_ = TRUE;
			} else {
				_tmp41_ = G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_POINTER_TYPE);
			}
			if (_tmp41_) {
				_tmp40_ = TRUE;
			} else {
				_tmp40_ = G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_DELEGATE_TYPE);
			}
			if (_tmp40_) {
				_tmp39_ = TRUE;
			} else {
				gboolean _tmp50_ = FALSE;
				BalaArrayType* _tmp51_;
				_tmp51_ = array_type;
				if (_tmp51_ != NULL) {
					BalaArrayType* _tmp52_;
					gboolean _tmp53_;
					gboolean _tmp54_;
					_tmp52_ = array_type;
					_tmp53_ = bala_array_type_get_fixed_length (_tmp52_);
					_tmp54_ = _tmp53_;
					_tmp50_ = !_tmp54_;
				} else {
					_tmp50_ = FALSE;
				}
				_tmp39_ = _tmp50_;
			}
			if (_tmp39_) {
				BalaCCodeConstant* _tmp55_;
				_tmp55_ = bala_ccode_constant_new ("NULL");
				result = (BalaCCodeExpression*) _tmp55_;
				_bala_code_node_unref0 (array_type);
				return result;
			} else {
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_GENERIC_TYPE)) {
					BalaCCodeConstant* _tmp56_;
					_tmp56_ = bala_ccode_constant_new ("NULL");
					result = (BalaCCodeExpression*) _tmp56_;
					_bala_code_node_unref0 (array_type);
					return result;
				} else {
					if (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ERROR_TYPE)) {
						BalaCCodeConstant* _tmp57_;
						_tmp57_ = bala_ccode_constant_new ("NULL");
						result = (BalaCCodeExpression*) _tmp57_;
						_bala_code_node_unref0 (array_type);
						return result;
					} else {
						if (BALA_IS_CTYPE (type)) {
							const gchar* _tmp58_;
							const gchar* _tmp59_;
							BalaCCodeConstant* _tmp60_;
							_tmp58_ = bala_ctype_get_cdefault_value (G_TYPE_CHECK_INSTANCE_CAST (type, BALA_TYPE_CTYPE, BalaCType));
							_tmp59_ = _tmp58_;
							_tmp60_ = bala_ccode_constant_new (_tmp59_);
							result = (BalaCCodeExpression*) _tmp60_;
							_bala_code_node_unref0 (array_type);
							return result;
						}
					}
				}
			}
		}
	}
	result = NULL;
	_bala_code_node_unref0 (array_type);
	return result;
}

static void
bala_ccode_base_module_create_property_type_check_statement (BalaCCodeBaseModule* self,
                                                             BalaProperty* prop,
                                                             gboolean check_return_type,
                                                             BalaTypeSymbol* t,
                                                             gboolean non_null,
                                                             const gchar* var_name)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (prop != NULL);
	g_return_if_fail (t != NULL);
	g_return_if_fail (var_name != NULL);
	if (check_return_type) {
		BalaDataType* _tmp0_;
		BalaDataType* _tmp1_;
		_tmp0_ = bala_property_get_property_type (prop);
		_tmp1_ = _tmp0_;
		bala_ccode_base_module_create_type_check_statement (self, (BalaCodeNode*) prop, _tmp1_, t, non_null, var_name);
	} else {
		BalaVoidType* _tmp2_;
		BalaVoidType* _tmp3_;
		_tmp2_ = bala_void_type_new (NULL);
		_tmp3_ = _tmp2_;
		bala_ccode_base_module_create_type_check_statement (self, (BalaCodeNode*) prop, (BalaDataType*) _tmp3_, t, non_null, var_name);
		_bala_code_node_unref0 (_tmp3_);
	}
}

static void
bala_ccode_base_module_real_create_type_check_statement (BalaCCodeBaseModule* self,
                                                         BalaCodeNode* method_node,
                                                         BalaDataType* ret_type,
                                                         BalaTypeSymbol* t,
                                                         gboolean non_null,
                                                         const gchar* var_name)
{
	g_return_if_fail (method_node != NULL);
	g_return_if_fail (ret_type != NULL);
	g_return_if_fail (t != NULL);
	g_return_if_fail (var_name != NULL);
}

void
bala_ccode_base_module_create_type_check_statement (BalaCCodeBaseModule* self,
                                                    BalaCodeNode* method_node,
                                                    BalaDataType* ret_type,
                                                    BalaTypeSymbol* t,
                                                    gboolean non_null,
                                                    const gchar* var_name)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->create_type_check_statement (self, method_node, ret_type, t, non_null, var_name);
}

gint
bala_ccode_base_module_get_param_pos (BalaCCodeBaseModule* self,
                                      gdouble param_pos,
                                      gboolean ellipsis)
{
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	if (!ellipsis) {
		if (param_pos >= ((gdouble) 0)) {
			result = (gint) (param_pos * 1000);
			return result;
		} else {
			result = (gint) ((100 + param_pos) * 1000);
			return result;
		}
	} else {
		if (param_pos >= ((gdouble) 0)) {
			result = (gint) ((100 + param_pos) * 1000);
			return result;
		} else {
			result = (gint) ((200 + param_pos) * 1000);
			return result;
		}
	}
}

BalaCCodeExpression*
bala_ccode_base_module_get_ccodenode (BalaCCodeBaseModule* self,
                                      BalaExpression* node)
{
	BalaCCodeExpression* _tmp0_;
	BalaCCodeExpression* _tmp1_;
	BalaCCodeExpression* _tmp2_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = bala_get_cvalue (node);
	if (_tmp0_ == NULL) {
		bala_code_node_emit ((BalaCodeNode*) node, (BalaCodeGenerator*) self);
	}
	_tmp1_ = bala_get_cvalue (node);
	_tmp2_ = _bala_ccode_node_ref0 (_tmp1_);
	result = _tmp2_;
	return result;
}

gboolean
bala_ccode_base_module_is_lvalue_access_allowed (BalaCCodeBaseModule* self,
                                                 BalaDataType* type)
{
	BalaArrayType* array_type = NULL;
	BalaArrayType* _tmp0_;
	gboolean _tmp1_ = FALSE;
	BalaArrayType* _tmp2_;
	BalaTypeSymbol* _tmp6_;
	BalaTypeSymbol* _tmp7_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (type != NULL, FALSE);
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) type) : NULL);
	array_type = _tmp0_;
	_tmp2_ = array_type;
	if (_tmp2_ != NULL) {
		BalaArrayType* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp3_ = array_type;
		_tmp4_ = bala_array_type_get_inline_allocated (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp1_ = _tmp5_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		result = FALSE;
		_bala_code_node_unref0 (array_type);
		return result;
	}
	_tmp6_ = bala_data_type_get_type_symbol (type);
	_tmp7_ = _tmp6_;
	if (_tmp7_ != NULL) {
		BalaTypeSymbol* _tmp8_;
		BalaTypeSymbol* _tmp9_;
		_tmp8_ = bala_data_type_get_type_symbol (type);
		_tmp9_ = _tmp8_;
		result = bala_code_node_get_attribute_bool ((BalaCodeNode*) _tmp9_, "CCode", "lvalue_access", TRUE);
		_bala_code_node_unref0 (array_type);
		return result;
	}
	result = TRUE;
	_bala_code_node_unref0 (array_type);
	return result;
}

gboolean
bala_ccode_base_module_requires_memset_init (BalaCCodeBaseModule* self,
                                             BalaVariable* variable,
                                             BalaCCodeExpression* * size)
{
	BalaCCodeExpression* _bala_size = NULL;
	BalaArrayType* array_type = NULL;
	BalaDataType* _tmp0_;
	BalaDataType* _tmp1_;
	gboolean _tmp2_ = FALSE;
	BalaArrayType* _tmp3_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (variable != NULL, FALSE);
	_tmp0_ = bala_variable_get_variable_type (variable);
	_tmp1_ = _tmp0_;
	array_type = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) _tmp1_) : NULL;
	_tmp3_ = array_type;
	if (_tmp3_ != NULL) {
		BalaArrayType* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
		_tmp4_ = array_type;
		_tmp5_ = bala_array_type_get_fixed_length (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp2_ = _tmp6_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		BalaCCodeFunctionCall* sizeof_call = NULL;
		BalaCCodeIdentifier* _tmp7_;
		BalaCCodeIdentifier* _tmp8_;
		BalaCCodeFunctionCall* _tmp9_;
		BalaCCodeFunctionCall* _tmp10_;
		BalaCCodeFunctionCall* _tmp11_;
		BalaArrayType* _tmp12_;
		BalaDataType* _tmp13_;
		BalaDataType* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		BalaCCodeIdentifier* _tmp17_;
		BalaCCodeIdentifier* _tmp18_;
		BalaArrayType* _tmp19_;
		BalaExpression* _tmp20_;
		BalaExpression* _tmp21_;
		BalaCCodeExpression* _tmp22_;
		BalaCCodeExpression* _tmp23_;
		BalaCCodeFunctionCall* _tmp24_;
		BalaCCodeBinaryExpression* _tmp25_;
		BalaArrayType* _tmp26_;
		BalaExpression* _tmp27_;
		BalaExpression* _tmp28_;
		_tmp7_ = bala_ccode_identifier_new ("sizeof");
		_tmp8_ = _tmp7_;
		_tmp9_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp8_);
		_tmp10_ = _tmp9_;
		_bala_ccode_node_unref0 (_tmp8_);
		sizeof_call = _tmp10_;
		_tmp11_ = sizeof_call;
		_tmp12_ = array_type;
		_tmp13_ = bala_array_type_get_element_type (_tmp12_);
		_tmp14_ = _tmp13_;
		_tmp15_ = bala_get_ccode_name ((BalaCodeNode*) _tmp14_);
		_tmp16_ = _tmp15_;
		_tmp17_ = bala_ccode_identifier_new (_tmp16_);
		_tmp18_ = _tmp17_;
		bala_ccode_function_call_add_argument (_tmp11_, (BalaCCodeExpression*) _tmp18_);
		_bala_ccode_node_unref0 (_tmp18_);
		_g_free0 (_tmp16_);
		_tmp19_ = array_type;
		_tmp20_ = bala_array_type_get_length (_tmp19_);
		_tmp21_ = _tmp20_;
		_tmp22_ = bala_ccode_base_module_get_ccodenode (self, _tmp21_);
		_tmp23_ = _tmp22_;
		_tmp24_ = sizeof_call;
		_tmp25_ = bala_ccode_binary_expression_new (BALA_CCODE_BINARY_OPERATOR_MUL, _tmp23_, (BalaCCodeExpression*) _tmp24_);
		_bala_ccode_node_unref0 (_bala_size);
		_bala_size = (BalaCCodeExpression*) _tmp25_;
		_bala_ccode_node_unref0 (_tmp23_);
		_tmp26_ = array_type;
		_tmp27_ = bala_array_type_get_length (_tmp26_);
		_tmp28_ = _tmp27_;
		result = !bala_ccode_base_module_is_constant_ccode ((BalaCodeNode*) _tmp28_);
		_bala_ccode_node_unref0 (sizeof_call);
		if (size) {
			*size = _bala_size;
		} else {
			_bala_ccode_node_unref0 (_bala_size);
		}
		return result;
	}
	_bala_ccode_node_unref0 (_bala_size);
	_bala_size = NULL;
	result = FALSE;
	if (size) {
		*size = _bala_size;
	} else {
		_bala_ccode_node_unref0 (_bala_size);
	}
	return result;
}

BalaCCodeDeclaratorSuffix*
bala_ccode_base_module_get_ccode_declarator_suffix (BalaCCodeBaseModule* self,
                                                    BalaDataType* type)
{
	BalaArrayType* array_type = NULL;
	BalaArrayType* _tmp0_;
	BalaArrayType* _tmp1_;
	BalaCCodeDeclaratorSuffix* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (type, BALA_TYPE_ARRAY_TYPE) ? ((BalaArrayType*) type) : NULL);
	array_type = _tmp0_;
	_tmp1_ = array_type;
	if (_tmp1_ != NULL) {
		BalaArrayType* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = array_type;
		_tmp3_ = bala_array_type_get_fixed_length (_tmp2_);
		_tmp4_ = _tmp3_;
		if (_tmp4_) {
			BalaArrayType* _tmp5_;
			BalaExpression* _tmp6_;
			BalaExpression* _tmp7_;
			BalaCCodeExpression* _tmp8_;
			BalaCCodeExpression* _tmp9_;
			BalaCCodeDeclaratorSuffix* _tmp10_;
			BalaCCodeDeclaratorSuffix* _tmp11_;
			_tmp5_ = array_type;
			_tmp6_ = bala_array_type_get_length (_tmp5_);
			_tmp7_ = _tmp6_;
			_tmp8_ = bala_ccode_base_module_get_ccodenode (self, _tmp7_);
			_tmp9_ = _tmp8_;
			_tmp10_ = bala_ccode_declarator_suffix_new_with_array (_tmp9_);
			_tmp11_ = _tmp10_;
			_bala_ccode_node_unref0 (_tmp9_);
			result = _tmp11_;
			_bala_code_node_unref0 (array_type);
			return result;
		} else {
			BalaArrayType* _tmp12_;
			gboolean _tmp13_;
			gboolean _tmp14_;
			_tmp12_ = array_type;
			_tmp13_ = bala_array_type_get_inline_allocated (_tmp12_);
			_tmp14_ = _tmp13_;
			if (_tmp14_) {
				BalaCCodeDeclaratorSuffix* _tmp15_;
				_tmp15_ = bala_ccode_declarator_suffix_new_with_array (NULL);
				result = _tmp15_;
				_bala_code_node_unref0 (array_type);
				return result;
			}
		}
	}
	result = NULL;
	_bala_code_node_unref0 (array_type);
	return result;
}

BalaCCodeConstant*
bala_ccode_base_module_get_signal_canonical_constant (BalaCCodeBaseModule* self,
                                                      BalaSignal* sig,
                                                      const gchar* detail)
{
	gchar* _tmp0_ = NULL;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	BalaCCodeConstant* _tmp7_;
	BalaCCodeConstant* _tmp8_;
	BalaCCodeConstant* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (sig != NULL, NULL);
	if (detail != NULL) {
		gchar* _tmp1_;
		_tmp1_ = g_strdup_printf ("::%s", detail);
		_g_free0 (_tmp0_);
		_tmp0_ = _tmp1_;
	} else {
		gchar* _tmp2_;
		_tmp2_ = g_strdup ("");
		_g_free0 (_tmp0_);
		_tmp0_ = _tmp2_;
	}
	_tmp3_ = bala_get_ccode_name ((BalaCodeNode*) sig);
	_tmp4_ = _tmp3_;
	_tmp5_ = g_strdup_printf ("\"%s%s\"", _tmp4_, _tmp0_);
	_tmp6_ = _tmp5_;
	_tmp7_ = bala_ccode_constant_new (_tmp6_);
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp6_);
	_g_free0 (_tmp4_);
	result = _tmp8_;
	_g_free0 (_tmp0_);
	return result;
}

BalaCCodeConstant*
bala_ccode_base_module_get_property_canonical_cconstant (BalaCCodeBaseModule* self,
                                                         BalaProperty* prop)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	BalaCCodeConstant* _tmp4_;
	BalaCCodeConstant* _tmp5_;
	BalaCCodeConstant* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (prop != NULL, NULL);
	_tmp0_ = bala_get_ccode_name ((BalaCodeNode*) prop);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strdup_printf ("\"%s\"", _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_ccode_constant_new (_tmp3_);
	_tmp5_ = _tmp4_;
	_g_free0 (_tmp3_);
	_g_free0 (_tmp1_);
	result = _tmp5_;
	return result;
}

static void
bala_ccode_base_module_real_visit_class (BalaCodeVisitor* base,
                                         BalaClass* cl)
{
	BalaCCodeBaseModule * self;
	self = (BalaCCodeBaseModule*) base;
	g_return_if_fail (cl != NULL);
}

void
bala_ccode_base_module_create_postcondition_statement (BalaCCodeBaseModule* self,
                                                       BalaExpression* postcondition)
{
	BalaCCodeFunctionCall* cassert = NULL;
	BalaCCodeIdentifier* _tmp0_;
	BalaCCodeIdentifier* _tmp1_;
	BalaCCodeFunctionCall* _tmp2_;
	BalaCCodeFunctionCall* _tmp3_;
	gchar* message = NULL;
	BalaSourceReference* _tmp4_;
	BalaSourceReference* _tmp5_;
	BalaSourceLocation _tmp6_ = {0};
	BalaSourceLocation _tmp7_;
	gchar* _tmp8_;
	BalaSourceReference* _tmp9_;
	BalaSourceReference* _tmp10_;
	BalaSourceLocation _tmp11_ = {0};
	BalaSourceLocation _tmp12_;
	gchar* _tmp13_;
	BalaSourceReference* _tmp14_;
	BalaSourceReference* _tmp15_;
	BalaSourceLocation _tmp16_ = {0};
	BalaSourceLocation _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	BalaCCodeFunctionCall* _tmp20_;
	BalaCCodeExpression* _tmp21_;
	BalaCCodeFunctionCall* _tmp22_;
	const gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	BalaCCodeConstant* _tmp30_;
	BalaCCodeConstant* _tmp31_;
	BalaCCodeFunction* _tmp32_;
	BalaCCodeFunction* _tmp33_;
	BalaCCodeFunctionCall* _tmp34_;
	BalaArrayList* _tmp50_;
	BalaArrayList* _tmp51_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (postcondition != NULL);
	_tmp0_ = bala_ccode_identifier_new ("_bala_warn_if_fail");
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp1_);
	_tmp3_ = _tmp2_;
	_bala_ccode_node_unref0 (_tmp1_);
	cassert = _tmp3_;
	bala_code_node_emit ((BalaCodeNode*) postcondition, (BalaCodeGenerator*) self);
	_tmp4_ = bala_code_node_get_source_reference ((BalaCodeNode*) postcondition);
	_tmp5_ = _tmp4_;
	bala_source_reference_get_begin (_tmp5_, &_tmp6_);
	_tmp7_ = _tmp6_;
	_tmp8_ = _tmp7_.pos;
	_tmp9_ = bala_code_node_get_source_reference ((BalaCodeNode*) postcondition);
	_tmp10_ = _tmp9_;
	bala_source_reference_get_end (_tmp10_, &_tmp11_);
	_tmp12_ = _tmp11_;
	_tmp13_ = _tmp12_.pos;
	_tmp14_ = bala_code_node_get_source_reference ((BalaCodeNode*) postcondition);
	_tmp15_ = _tmp14_;
	bala_source_reference_get_begin (_tmp15_, &_tmp16_);
	_tmp17_ = _tmp16_;
	_tmp18_ = _tmp17_.pos;
	_tmp19_ = string_substring ((const gchar*) _tmp8_, (glong) 0, (glong) ((gint) (_tmp13_ - _tmp18_)));
	message = _tmp19_;
	_tmp20_ = cassert;
	_tmp21_ = bala_get_cvalue (postcondition);
	bala_ccode_function_call_add_argument (_tmp20_, _tmp21_);
	_tmp22_ = cassert;
	_tmp23_ = message;
	_tmp24_ = string_replace (_tmp23_, "\n", " ");
	_tmp25_ = _tmp24_;
	_tmp26_ = g_strescape (_tmp25_, "");
	_tmp27_ = _tmp26_;
	_tmp28_ = g_strdup_printf ("\"%s\"", _tmp27_);
	_tmp29_ = _tmp28_;
	_tmp30_ = bala_ccode_constant_new (_tmp29_);
	_tmp31_ = _tmp30_;
	bala_ccode_function_call_add_argument (_tmp22_, (BalaCCodeExpression*) _tmp31_);
	_bala_ccode_node_unref0 (_tmp31_);
	_g_free0 (_tmp29_);
	_g_free0 (_tmp27_);
	_g_free0 (_tmp25_);
	self->requires_assert = TRUE;
	_tmp32_ = bala_ccode_base_module_get_ccode (self);
	_tmp33_ = _tmp32_;
	_tmp34_ = cassert;
	bala_ccode_function_add_expression (_tmp33_, (BalaCCodeExpression*) _tmp34_);
	{
		BalaArrayList* _value_list = NULL;
		BalaArrayList* _tmp35_;
		BalaArrayList* _tmp36_;
		BalaArrayList* _tmp37_;
		gint _value_size = 0;
		BalaArrayList* _tmp38_;
		gint _tmp39_;
		gint _tmp40_;
		gint _value_index = 0;
		_tmp35_ = bala_ccode_base_module_get_temp_ref_values (self);
		_tmp36_ = _tmp35_;
		_tmp37_ = _bala_iterable_ref0 (_tmp36_);
		_value_list = _tmp37_;
		_tmp38_ = _value_list;
		_tmp39_ = bala_collection_get_size ((BalaCollection*) _tmp38_);
		_tmp40_ = _tmp39_;
		_value_size = _tmp40_;
		_value_index = -1;
		while (TRUE) {
			gint _tmp41_;
			gint _tmp42_;
			BalaTargetValue* value = NULL;
			BalaArrayList* _tmp43_;
			gpointer _tmp44_;
			BalaCCodeFunction* _tmp45_;
			BalaCCodeFunction* _tmp46_;
			BalaTargetValue* _tmp47_;
			BalaCCodeExpression* _tmp48_;
			BalaCCodeExpression* _tmp49_;
			_value_index = _value_index + 1;
			_tmp41_ = _value_index;
			_tmp42_ = _value_size;
			if (!(_tmp41_ < _tmp42_)) {
				break;
			}
			_tmp43_ = _value_list;
			_tmp44_ = bala_list_get ((BalaList*) _tmp43_, _value_index);
			value = (BalaTargetValue*) _tmp44_;
			_tmp45_ = bala_ccode_base_module_get_ccode (self);
			_tmp46_ = _tmp45_;
			_tmp47_ = value;
			_tmp48_ = bala_ccode_base_module_destroy_value (self, _tmp47_, FALSE);
			_tmp49_ = _tmp48_;
			bala_ccode_function_add_expression (_tmp46_, _tmp49_);
			_bala_ccode_node_unref0 (_tmp49_);
			_bala_target_value_unref0 (value);
		}
		_bala_iterable_unref0 (_value_list);
	}
	_tmp50_ = bala_ccode_base_module_get_temp_ref_values (self);
	_tmp51_ = _tmp50_;
	bala_collection_clear ((BalaCollection*) _tmp51_);
	_g_free0 (message);
	_bala_ccode_node_unref0 (cassert);
}

BalaDataType*
bala_ccode_base_module_get_this_type (BalaCCodeBaseModule* self)
{
	gboolean _tmp0_ = FALSE;
	BalaMethod* _tmp1_;
	BalaMethod* _tmp2_;
	BalaDataType* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = bala_ccode_base_module_get_current_method (self);
	_tmp2_ = _tmp1_;
	if (_tmp2_ != NULL) {
		BalaMethod* _tmp3_;
		BalaMethod* _tmp4_;
		BalaMemberBinding _tmp5_;
		BalaMemberBinding _tmp6_;
		_tmp3_ = bala_ccode_base_module_get_current_method (self);
		_tmp4_ = _tmp3_;
		_tmp5_ = bala_method_get_binding (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp0_ = _tmp6_ == BALA_MEMBER_BINDING_INSTANCE;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		BalaMethod* _tmp7_;
		BalaMethod* _tmp8_;
		BalaParameter* _tmp9_;
		BalaParameter* _tmp10_;
		BalaDataType* _tmp11_;
		BalaDataType* _tmp12_;
		_tmp7_ = bala_ccode_base_module_get_current_method (self);
		_tmp8_ = _tmp7_;
		_tmp9_ = bala_method_get_this_parameter (_tmp8_);
		_tmp10_ = _tmp9_;
		_tmp11_ = bala_variable_get_variable_type ((BalaVariable*) _tmp10_);
		_tmp12_ = _tmp11_;
		result = _tmp12_;
		return result;
	} else {
		gboolean _tmp13_ = FALSE;
		BalaPropertyAccessor* _tmp14_;
		BalaPropertyAccessor* _tmp15_;
		_tmp14_ = bala_ccode_base_module_get_current_property_accessor (self);
		_tmp15_ = _tmp14_;
		if (_tmp15_ != NULL) {
			BalaPropertyAccessor* _tmp16_;
			BalaPropertyAccessor* _tmp17_;
			BalaProperty* _tmp18_;
			BalaProperty* _tmp19_;
			BalaMemberBinding _tmp20_;
			BalaMemberBinding _tmp21_;
			_tmp16_ = bala_ccode_base_module_get_current_property_accessor (self);
			_tmp17_ = _tmp16_;
			_tmp18_ = bala_property_accessor_get_prop (_tmp17_);
			_tmp19_ = _tmp18_;
			_tmp20_ = bala_property_get_binding (_tmp19_);
			_tmp21_ = _tmp20_;
			_tmp13_ = _tmp21_ == BALA_MEMBER_BINDING_INSTANCE;
		} else {
			_tmp13_ = FALSE;
		}
		if (_tmp13_) {
			BalaPropertyAccessor* _tmp22_;
			BalaPropertyAccessor* _tmp23_;
			BalaProperty* _tmp24_;
			BalaProperty* _tmp25_;
			BalaParameter* _tmp26_;
			BalaParameter* _tmp27_;
			BalaDataType* _tmp28_;
			BalaDataType* _tmp29_;
			_tmp22_ = bala_ccode_base_module_get_current_property_accessor (self);
			_tmp23_ = _tmp22_;
			_tmp24_ = bala_property_accessor_get_prop (_tmp23_);
			_tmp25_ = _tmp24_;
			_tmp26_ = bala_property_get_this_parameter (_tmp25_);
			_tmp27_ = _tmp26_;
			_tmp28_ = bala_variable_get_variable_type ((BalaVariable*) _tmp27_);
			_tmp29_ = _tmp28_;
			result = _tmp29_;
			return result;
		} else {
			gboolean _tmp30_ = FALSE;
			BalaConstructor* _tmp31_;
			BalaConstructor* _tmp32_;
			_tmp31_ = bala_ccode_base_module_get_current_constructor (self);
			_tmp32_ = _tmp31_;
			if (_tmp32_ != NULL) {
				BalaConstructor* _tmp33_;
				BalaConstructor* _tmp34_;
				BalaMemberBinding _tmp35_;
				BalaMemberBinding _tmp36_;
				_tmp33_ = bala_ccode_base_module_get_current_constructor (self);
				_tmp34_ = _tmp33_;
				_tmp35_ = bala_constructor_get_binding (_tmp34_);
				_tmp36_ = _tmp35_;
				_tmp30_ = _tmp36_ == BALA_MEMBER_BINDING_INSTANCE;
			} else {
				_tmp30_ = FALSE;
			}
			if (_tmp30_) {
				BalaConstructor* _tmp37_;
				BalaConstructor* _tmp38_;
				BalaParameter* _tmp39_;
				BalaParameter* _tmp40_;
				BalaDataType* _tmp41_;
				BalaDataType* _tmp42_;
				_tmp37_ = bala_ccode_base_module_get_current_constructor (self);
				_tmp38_ = _tmp37_;
				_tmp39_ = bala_constructor_get_this_parameter (_tmp38_);
				_tmp40_ = _tmp39_;
				_tmp41_ = bala_variable_get_variable_type ((BalaVariable*) _tmp40_);
				_tmp42_ = _tmp41_;
				result = _tmp42_;
				return result;
			} else {
				gboolean _tmp43_ = FALSE;
				BalaDestructor* _tmp44_;
				BalaDestructor* _tmp45_;
				_tmp44_ = bala_ccode_base_module_get_current_destructor (self);
				_tmp45_ = _tmp44_;
				if (_tmp45_ != NULL) {
					BalaDestructor* _tmp46_;
					BalaDestructor* _tmp47_;
					BalaMemberBinding _tmp48_;
					BalaMemberBinding _tmp49_;
					_tmp46_ = bala_ccode_base_module_get_current_destructor (self);
					_tmp47_ = _tmp46_;
					_tmp48_ = bala_destructor_get_binding (_tmp47_);
					_tmp49_ = _tmp48_;
					_tmp43_ = _tmp49_ == BALA_MEMBER_BINDING_INSTANCE;
				} else {
					_tmp43_ = FALSE;
				}
				if (_tmp43_) {
					BalaDestructor* _tmp50_;
					BalaDestructor* _tmp51_;
					BalaParameter* _tmp52_;
					BalaParameter* _tmp53_;
					BalaDataType* _tmp54_;
					BalaDataType* _tmp55_;
					_tmp50_ = bala_ccode_base_module_get_current_destructor (self);
					_tmp51_ = _tmp50_;
					_tmp52_ = bala_destructor_get_this_parameter (_tmp51_);
					_tmp53_ = _tmp52_;
					_tmp54_ = bala_variable_get_variable_type ((BalaVariable*) _tmp53_);
					_tmp55_ = _tmp54_;
					result = _tmp55_;
					return result;
				}
			}
		}
	}
	result = NULL;
	return result;
}

BalaCCodeFunctionCall*
bala_ccode_base_module_generate_instance_cast (BalaCCodeBaseModule* self,
                                               BalaCCodeExpression* expr,
                                               BalaTypeSymbol* type)
{
	BalaCCodeFunctionCall* _result_ = NULL;
	BalaCCodeIdentifier* _tmp0_;
	BalaCCodeIdentifier* _tmp1_;
	BalaCCodeFunctionCall* _tmp2_;
	BalaCCodeFunctionCall* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	BalaCCodeIdentifier* _tmp6_;
	BalaCCodeIdentifier* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BalaCCodeIdentifier* _tmp10_;
	BalaCCodeIdentifier* _tmp11_;
	BalaCCodeFunctionCall* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (expr != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_ccode_identifier_new ("G_TYPE_CHECK_INSTANCE_CAST");
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_ccode_function_call_new ((BalaCCodeExpression*) _tmp1_);
	_tmp3_ = _tmp2_;
	_bala_ccode_node_unref0 (_tmp1_);
	_result_ = _tmp3_;
	bala_ccode_function_call_add_argument (_result_, expr);
	_tmp4_ = bala_get_ccode_type_id ((BalaCodeNode*) type);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_ccode_identifier_new (_tmp5_);
	_tmp7_ = _tmp6_;
	bala_ccode_function_call_add_argument (_result_, (BalaCCodeExpression*) _tmp7_);
	_bala_ccode_node_unref0 (_tmp7_);
	_g_free0 (_tmp5_);
	_tmp8_ = bala_get_ccode_name ((BalaCodeNode*) type);
	_tmp9_ = _tmp8_;
	_tmp10_ = bala_ccode_identifier_new (_tmp9_);
	_tmp11_ = _tmp10_;
	bala_ccode_function_call_add_argument (_result_, (BalaCCodeExpression*) _tmp11_);
	_bala_ccode_node_unref0 (_tmp11_);
	_g_free0 (_tmp9_);
	result = _result_;
	return result;
}

static void
bala_ccode_base_module_generate_struct_destroy_function (BalaCCodeBaseModule* self,
                                                         BalaStruct* st)
{
	BalaCCodeFile* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_;
	BalaCCodeFunction* function = NULL;
	gchar* _tmp4_;
	gchar* _tmp5_;
	BalaCCodeFunction* _tmp6_;
	BalaCCodeFunction* _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	BalaCCodeParameter* _tmp14_;
	BalaCCodeParameter* _tmp15_;
	BalaCCodeBaseModuleEmitContext* _tmp16_;
	BalaCCodeBaseModuleEmitContext* _tmp17_;
	BalaCCodeFunction* _tmp18_;
	BalaTargetValue* this_value = NULL;
	BalaTargetValue* _tmp19_;
	BalaCCodeFile* _tmp47_;
	BalaCCodeFunction* _tmp48_;
	BalaCCodeFile* _tmp49_;
	BalaCCodeFunction* _tmp50_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (st != NULL);
	_tmp0_ = self->cfile;
	_tmp1_ = bala_get_ccode_destroy_function ((BalaTypeSymbol*) st);
	_tmp2_ = _tmp1_;
	_tmp3_ = bala_ccode_file_add_declaration (_tmp0_, _tmp2_);
	_g_free0 (_tmp2_);
	if (_tmp3_) {
		return;
	}
	_tmp4_ = bala_get_ccode_destroy_function ((BalaTypeSymbol*) st);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_ccode_function_new (_tmp5_, "void");
	_tmp7_ = _tmp6_;
	_g_free0 (_tmp5_);
	function = _tmp7_;
	_tmp8_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp8_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp9_ = function;
	_tmp10_ = bala_get_ccode_name ((BalaCodeNode*) st);
	_tmp11_ = _tmp10_;
	_tmp12_ = g_strdup_printf ("%s *", _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_ccode_parameter_new ("self", _tmp13_);
	_tmp15_ = _tmp14_;
	bala_ccode_function_add_parameter (_tmp9_, _tmp15_);
	_bala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp13_);
	_g_free0 (_tmp11_);
	_tmp16_ = bala_ccode_base_module_emit_context_new (NULL);
	_tmp17_ = _tmp16_;
	bala_ccode_base_module_push_context (self, _tmp17_);
	_bala_ccode_base_module_emit_context_unref0 (_tmp17_);
	_tmp18_ = function;
	bala_ccode_base_module_push_function (self, _tmp18_);
	_tmp19_ = bala_ccode_base_module_load_this_parameter (self, (BalaTypeSymbol*) st);
	this_value = _tmp19_;
	{
		BalaList* _f_list = NULL;
		BalaList* _tmp20_;
		BalaList* _tmp21_;
		gint _f_size = 0;
		BalaList* _tmp22_;
		gint _tmp23_;
		gint _tmp24_;
		gint _f_index = 0;
		_tmp20_ = bala_struct_get_fields (st);
		_tmp21_ = _bala_iterable_ref0 (_tmp20_);
		_f_list = _tmp21_;
		_tmp22_ = _f_list;
		_tmp23_ = bala_collection_get_size ((BalaCollection*) _tmp22_);
		_tmp24_ = _tmp23_;
		_f_size = _tmp24_;
		_f_index = -1;
		while (TRUE) {
			gint _tmp25_;
			gint _tmp26_;
			BalaField* f = NULL;
			BalaList* _tmp27_;
			gpointer _tmp28_;
			BalaField* _tmp29_;
			BalaMemberBinding _tmp30_;
			BalaMemberBinding _tmp31_;
			_f_index = _f_index + 1;
			_tmp25_ = _f_index;
			_tmp26_ = _f_size;
			if (!(_tmp25_ < _tmp26_)) {
				break;
			}
			_tmp27_ = _f_list;
			_tmp28_ = bala_list_get (_tmp27_, _f_index);
			f = (BalaField*) _tmp28_;
			_tmp29_ = f;
			_tmp30_ = bala_field_get_binding (_tmp29_);
			_tmp31_ = _tmp30_;
			if (_tmp31_ == BALA_MEMBER_BINDING_INSTANCE) {
				gboolean _tmp32_ = FALSE;
				gboolean _tmp33_ = FALSE;
				BalaField* _tmp34_;
				BalaDataType* _tmp35_;
				BalaDataType* _tmp36_;
				_tmp34_ = f;
				_tmp35_ = bala_variable_get_variable_type ((BalaVariable*) _tmp34_);
				_tmp36_ = _tmp35_;
				if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp36_, BALA_TYPE_DELEGATE_TYPE)) {
					_tmp33_ = TRUE;
				} else {
					BalaField* _tmp37_;
					_tmp37_ = f;
					_tmp33_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp37_);
				}
				if (_tmp33_) {
					BalaField* _tmp38_;
					BalaDataType* _tmp39_;
					BalaDataType* _tmp40_;
					_tmp38_ = f;
					_tmp39_ = bala_variable_get_variable_type ((BalaVariable*) _tmp38_);
					_tmp40_ = _tmp39_;
					_tmp32_ = bala_ccode_base_module_requires_destroy (_tmp40_);
				} else {
					_tmp32_ = FALSE;
				}
				if (_tmp32_) {
					BalaCCodeFunction* _tmp41_;
					BalaCCodeFunction* _tmp42_;
					BalaField* _tmp43_;
					BalaTargetValue* _tmp44_;
					BalaCCodeExpression* _tmp45_;
					BalaCCodeExpression* _tmp46_;
					_tmp41_ = bala_ccode_base_module_get_ccode (self);
					_tmp42_ = _tmp41_;
					_tmp43_ = f;
					_tmp44_ = this_value;
					_tmp45_ = bala_ccode_base_module_destroy_field (self, _tmp43_, _tmp44_);
					_tmp46_ = _tmp45_;
					bala_ccode_function_add_expression (_tmp42_, _tmp46_);
					_bala_ccode_node_unref0 (_tmp46_);
				}
			}
			_bala_code_node_unref0 (f);
		}
		_bala_iterable_unref0 (_f_list);
	}
	bala_ccode_base_module_pop_function (self);
	bala_ccode_base_module_pop_context (self);
	_tmp47_ = self->cfile;
	_tmp48_ = function;
	bala_ccode_file_add_function_declaration (_tmp47_, _tmp48_);
	_tmp49_ = self->cfile;
	_tmp50_ = function;
	bala_ccode_file_add_function (_tmp49_, _tmp50_);
	_bala_target_value_unref0 (this_value);
	_bala_ccode_node_unref0 (function);
}

static void
bala_ccode_base_module_generate_struct_copy_function (BalaCCodeBaseModule* self,
                                                      BalaStruct* st)
{
	BalaCCodeFile* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_;
	BalaCCodeFunction* function = NULL;
	gchar* _tmp4_;
	gchar* _tmp5_;
	BalaCCodeFunction* _tmp6_;
	BalaCCodeFunction* _tmp7_;
	BalaCCodeFunction* _tmp8_;
	BalaCCodeFunction* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	BalaCCodeParameter* _tmp14_;
	BalaCCodeParameter* _tmp15_;
	BalaCCodeFunction* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	BalaCCodeParameter* _tmp21_;
	BalaCCodeParameter* _tmp22_;
	BalaCCodeBaseModuleEmitContext* _tmp23_;
	BalaCCodeBaseModuleEmitContext* _tmp24_;
	BalaCCodeFunction* _tmp25_;
	BalaGLibValue* dest_struct = NULL;
	BalaDataType* _tmp26_;
	BalaDataType* _tmp27_;
	BalaCCodeIdentifier* _tmp28_;
	BalaCCodeIdentifier* _tmp29_;
	BalaGLibValue* _tmp30_;
	BalaGLibValue* _tmp31_;
	BalaCCodeFile* _tmp65_;
	BalaCCodeFunction* _tmp66_;
	BalaCCodeFile* _tmp67_;
	BalaCCodeFunction* _tmp68_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (st != NULL);
	_tmp0_ = self->cfile;
	_tmp1_ = bala_get_ccode_copy_function ((BalaTypeSymbol*) st);
	_tmp2_ = _tmp1_;
	_tmp3_ = bala_ccode_file_add_declaration (_tmp0_, _tmp2_);
	_g_free0 (_tmp2_);
	if (_tmp3_) {
		return;
	}
	_tmp4_ = bala_get_ccode_copy_function ((BalaTypeSymbol*) st);
	_tmp5_ = _tmp4_;
	_tmp6_ = bala_ccode_function_new (_tmp5_, "void");
	_tmp7_ = _tmp6_;
	_g_free0 (_tmp5_);
	function = _tmp7_;
	_tmp8_ = function;
	bala_ccode_node_set_modifiers ((BalaCCodeNode*) _tmp8_, BALA_CCODE_MODIFIERS_STATIC);
	_tmp9_ = function;
	_tmp10_ = bala_get_ccode_name ((BalaCodeNode*) st);
	_tmp11_ = _tmp10_;
	_tmp12_ = g_strdup_printf ("const %s *", _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = bala_ccode_parameter_new ("self", _tmp13_);
	_tmp15_ = _tmp14_;
	bala_ccode_function_add_parameter (_tmp9_, _tmp15_);
	_bala_ccode_node_unref0 (_tmp15_);
	_g_free0 (_tmp13_);
	_g_free0 (_tmp11_);
	_tmp16_ = function;
	_tmp17_ = bala_get_ccode_name ((BalaCodeNode*) st);
	_tmp18_ = _tmp17_;
	_tmp19_ = g_strdup_printf ("%s *", _tmp18_);
	_tmp20_ = _tmp19_;
	_tmp21_ = bala_ccode_parameter_new ("dest", _tmp20_);
	_tmp22_ = _tmp21_;
	bala_ccode_function_add_parameter (_tmp16_, _tmp22_);
	_bala_ccode_node_unref0 (_tmp22_);
	_g_free0 (_tmp20_);
	_g_free0 (_tmp18_);
	_tmp23_ = bala_ccode_base_module_emit_context_new (NULL);
	_tmp24_ = _tmp23_;
	bala_ccode_base_module_push_context (self, _tmp24_);
	_bala_ccode_base_module_emit_context_unref0 (_tmp24_);
	_tmp25_ = function;
	bala_ccode_base_module_push_function (self, _tmp25_);
	_tmp26_ = bala_semantic_analyzer_get_data_type_for_symbol ((BalaSymbol*) st);
	_tmp27_ = _tmp26_;
	_tmp28_ = bala_ccode_identifier_new ("(*dest)");
	_tmp29_ = _tmp28_;
	_tmp30_ = bala_glib_value_new (_tmp27_, (BalaCCodeExpression*) _tmp29_, TRUE);
	_tmp31_ = _tmp30_;
	_bala_ccode_node_unref0 (_tmp29_);
	_bala_code_node_unref0 (_tmp27_);
	dest_struct = _tmp31_;
	{
		BalaList* _f_list = NULL;
		BalaList* _tmp32_;
		BalaList* _tmp33_;
		gint _f_size = 0;
		BalaList* _tmp34_;
		gint _tmp35_;
		gint _tmp36_;
		gint _f_index = 0;
		_tmp32_ = bala_struct_get_fields (st);
		_tmp33_ = _bala_iterable_ref0 (_tmp32_);
		_f_list = _tmp33_;
		_tmp34_ = _f_list;
		_tmp35_ = bala_collection_get_size ((BalaCollection*) _tmp34_);
		_tmp36_ = _tmp35_;
		_f_size = _tmp36_;
		_f_index = -1;
		while (TRUE) {
			gint _tmp37_;
			gint _tmp38_;
			BalaField* f = NULL;
			BalaList* _tmp39_;
			gpointer _tmp40_;
			BalaField* _tmp41_;
			BalaMemberBinding _tmp42_;
			BalaMemberBinding _tmp43_;
			_f_index = _f_index + 1;
			_tmp37_ = _f_index;
			_tmp38_ = _f_size;
			if (!(_tmp37_ < _tmp38_)) {
				break;
			}
			_tmp39_ = _f_list;
			_tmp40_ = bala_list_get (_tmp39_, _f_index);
			f = (BalaField*) _tmp40_;
			_tmp41_ = f;
			_tmp42_ = bala_field_get_binding (_tmp41_);
			_tmp43_ = _tmp42_;
			if (_tmp43_ == BALA_MEMBER_BINDING_INSTANCE) {
				BalaTargetValue* value = NULL;
				BalaField* _tmp44_;
				BalaTargetValue* _tmp45_;
				BalaTargetValue* _tmp46_;
				BalaTargetValue* _tmp47_;
				BalaTargetValue* _tmp48_;
				gboolean _tmp49_ = FALSE;
				gboolean _tmp50_ = FALSE;
				BalaField* _tmp51_;
				BalaDataType* _tmp52_;
				BalaDataType* _tmp53_;
				BalaField* _tmp62_;
				BalaGLibValue* _tmp63_;
				BalaTargetValue* _tmp64_;
				_tmp44_ = f;
				_tmp45_ = bala_ccode_base_module_load_this_parameter (self, G_TYPE_CHECK_INSTANCE_CAST (st, BALA_TYPE_TYPESYMBOL, BalaTypeSymbol));
				_tmp46_ = _tmp45_;
				_tmp47_ = bala_code_generator_load_field ((BalaCodeGenerator*) self, _tmp44_, _tmp46_, NULL);
				_tmp48_ = _tmp47_;
				_bala_target_value_unref0 (_tmp46_);
				value = _tmp48_;
				_tmp51_ = f;
				_tmp52_ = bala_variable_get_variable_type ((BalaVariable*) _tmp51_);
				_tmp53_ = _tmp52_;
				if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp53_, BALA_TYPE_DELEGATE_TYPE)) {
					_tmp50_ = TRUE;
				} else {
					BalaField* _tmp54_;
					_tmp54_ = f;
					_tmp50_ = bala_get_ccode_delegate_target ((BalaCodeNode*) _tmp54_);
				}
				if (_tmp50_) {
					BalaField* _tmp55_;
					BalaDataType* _tmp56_;
					BalaDataType* _tmp57_;
					_tmp55_ = f;
					_tmp56_ = bala_variable_get_variable_type ((BalaVariable*) _tmp55_);
					_tmp57_ = _tmp56_;
					_tmp49_ = bala_ccode_base_module_requires_copy (_tmp57_);
				} else {
					_tmp49_ = FALSE;
				}
				if (_tmp49_) {
					BalaTargetValue* _tmp58_;
					BalaField* _tmp59_;
					BalaTargetValue* _tmp60_;
					BalaTargetValue* _tmp61_;
					_tmp58_ = value;
					_tmp59_ = f;
					_tmp60_ = bala_ccode_base_module_copy_value (self, _tmp58_, (BalaCodeNode*) _tmp59_);
					_bala_target_value_unref0 (value);
					value = _tmp60_;
					_tmp61_ = value;
					if (_tmp61_ == NULL) {
						_bala_target_value_unref0 (value);
						_bala_code_node_unref0 (f);
						continue;
					}
				}
				_tmp62_ = f;
				_tmp63_ = dest_struct;
				_tmp64_ = value;
				bala_code_generator_store_field ((BalaCodeGenerator*) self, _tmp62_, (BalaTargetValue*) _tmp63_, _tmp64_, NULL);
				_bala_target_value_unref0 (value);
			}
			_bala_code_node_unref0 (f);
		}
		_bala_iterable_unref0 (_f_list);
	}
	bala_ccode_base_module_pop_function (self);
	bala_ccode_base_module_pop_context (self);
	_tmp65_ = self->cfile;
	_tmp66_ = function;
	bala_ccode_file_add_function_declaration (_tmp65_, _tmp66_);
	_tmp67_ = self->cfile;
	_tmp68_ = function;
	bala_ccode_file_add_function (_tmp67_, _tmp68_);
	_bala_target_value_unref0 (dest_struct);
	_bala_ccode_node_unref0 (function);
}

void
bala_ccode_base_module_return_default_value (BalaCCodeBaseModule* self,
                                             BalaDataType* return_type,
                                             gboolean on_error)
{
	BalaStruct* st = NULL;
	BalaTypeSymbol* _tmp0_;
	BalaTypeSymbol* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	BalaStruct* _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (return_type != NULL);
	_tmp0_ = bala_data_type_get_type_symbol (return_type);
	_tmp1_ = _tmp0_;
	st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_STRUCT) ? ((BalaStruct*) _tmp1_) : NULL;
	_tmp4_ = st;
	if (_tmp4_ != NULL) {
		BalaStruct* _tmp5_;
		_tmp5_ = st;
		_tmp3_ = bala_struct_is_simple_type (_tmp5_);
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		gboolean _tmp6_;
		gboolean _tmp7_;
		_tmp6_ = bala_data_type_get_nullable (return_type);
		_tmp7_ = _tmp6_;
		_tmp2_ = !_tmp7_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		BalaLocalVariable* ret_temp_var = NULL;
		BalaLocalVariable* _tmp8_;
		BalaLocalVariable* _tmp9_;
		BalaCCodeFunction* _tmp10_;
		BalaCCodeFunction* _tmp11_;
		BalaLocalVariable* _tmp12_;
		const gchar* _tmp13_;
		const gchar* _tmp14_;
		BalaCCodeIdentifier* _tmp15_;
		BalaCCodeIdentifier* _tmp16_;
		_tmp8_ = bala_ccode_base_module_get_temp_variable (self, return_type, TRUE, NULL, TRUE);
		ret_temp_var = _tmp8_;
		_tmp9_ = ret_temp_var;
		bala_ccode_base_module_emit_temp_var (self, _tmp9_, on_error);
		_tmp10_ = bala_ccode_base_module_get_ccode (self);
		_tmp11_ = _tmp10_;
		_tmp12_ = ret_temp_var;
		_tmp13_ = bala_symbol_get_name ((BalaSymbol*) _tmp12_);
		_tmp14_ = _tmp13_;
		_tmp15_ = bala_ccode_identifier_new (_tmp14_);
		_tmp16_ = _tmp15_;
		bala_ccode_function_add_return (_tmp11_, (BalaCCodeExpression*) _tmp16_);
		_bala_ccode_node_unref0 (_tmp16_);
		_bala_code_node_unref0 (ret_temp_var);
	} else {
		BalaCCodeFunction* _tmp17_;
		BalaCCodeFunction* _tmp18_;
		BalaCCodeExpression* _tmp19_;
		BalaCCodeExpression* _tmp20_;
		_tmp17_ = bala_ccode_base_module_get_ccode (self);
		_tmp18_ = _tmp17_;
		_tmp19_ = bala_ccode_base_module_default_value_for_type (self, return_type, FALSE, on_error);
		_tmp20_ = _tmp19_;
		bala_ccode_function_add_return (_tmp18_, _tmp20_);
		_bala_ccode_node_unref0 (_tmp20_);
	}
}

static void
bala_ccode_base_module_real_generate_dynamic_method_wrapper (BalaCCodeBaseModule* self,
                                                             BalaDynamicMethod* method)
{
	g_return_if_fail (method != NULL);
}

void
bala_ccode_base_module_generate_dynamic_method_wrapper (BalaCCodeBaseModule* self,
                                                        BalaDynamicMethod* method)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_dynamic_method_wrapper (self, method);
}

static gboolean
bala_ccode_base_module_real_method_has_wrapper (BalaCCodeBaseModule* self,
                                                BalaMethod* method)
{
	gboolean result = FALSE;
	g_return_val_if_fail (method != NULL, FALSE);
	result = FALSE;
	return result;
}

gboolean
bala_ccode_base_module_method_has_wrapper (BalaCCodeBaseModule* self,
                                           BalaMethod* method)
{
	g_return_val_if_fail (self != NULL, FALSE);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->method_has_wrapper (self, method);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_param_spec_cexpression (BalaCCodeBaseModule* self,
                                                        BalaProperty* prop)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (prop != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_param_spec_cexpression (BalaCCodeBaseModule* self,
                                                   BalaProperty* prop)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_param_spec_cexpression (self, prop);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_param_spec (BalaCCodeBaseModule* self,
                                            BalaProperty* prop)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (prop != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_param_spec (BalaCCodeBaseModule* self,
                                       BalaProperty* prop)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_param_spec (self, prop);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_signal_creation (BalaCCodeBaseModule* self,
                                                 BalaSignal* sig,
                                                 BalaObjectTypeSymbol* type)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (sig != NULL, NULL);
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_signal_creation (BalaCCodeBaseModule* self,
                                            BalaSignal* sig,
                                            BalaObjectTypeSymbol* type)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_signal_creation (self, sig, type);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_value_getter_function (BalaCCodeBaseModule* self,
                                                       BalaDataType* type_reference)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (type_reference != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_value_getter_function (BalaCCodeBaseModule* self,
                                                  BalaDataType* type_reference)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_value_getter_function (self, type_reference);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_value_setter_function (BalaCCodeBaseModule* self,
                                                       BalaDataType* type_reference)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (type_reference != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_value_setter_function (BalaCCodeBaseModule* self,
                                                  BalaDataType* type_reference)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_value_setter_function (self, type_reference);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_value_taker_function (BalaCCodeBaseModule* self,
                                                      BalaDataType* type_reference)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (type_reference != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_value_taker_function (BalaCCodeBaseModule* self,
                                                 BalaDataType* type_reference)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_value_taker_function (self, type_reference);
}

static void
bala_ccode_base_module_real_register_dbus_info (BalaCCodeBaseModule* self,
                                                BalaCCodeBlock* block,
                                                BalaObjectTypeSymbol* bindable)
{
	g_return_if_fail (block != NULL);
	g_return_if_fail (bindable != NULL);
}

void
bala_ccode_base_module_register_dbus_info (BalaCCodeBaseModule* self,
                                           BalaCCodeBlock* block,
                                           BalaObjectTypeSymbol* bindable)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->register_dbus_info (self, block, bindable);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_property_getter_cname (BalaCCodeBaseModule* self,
                                                               BalaDynamicProperty* node)
{
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) node);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_dynamic_property_get_dynamic_type (node);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_code_node_to_string ((BalaCodeNode*) _tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = g_strdup_printf ("dynamic properties are not supported for %s", _tmp5_);
	_tmp7_ = _tmp6_;
	bala_report_error (_tmp1_, _tmp7_);
	_g_free0 (_tmp7_);
	_g_free0 (_tmp5_);
	_tmp8_ = g_strdup ("");
	result = _tmp8_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_property_getter_cname (BalaCCodeBaseModule* self,
                                                          BalaDynamicProperty* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_property_getter_cname (self, node);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_property_setter_cname (BalaCCodeBaseModule* self,
                                                               BalaDynamicProperty* node)
{
	BalaSourceReference* _tmp0_;
	BalaSourceReference* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = bala_code_node_get_source_reference ((BalaCodeNode*) node);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_dynamic_property_get_dynamic_type (node);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_code_node_to_string ((BalaCodeNode*) _tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = g_strdup_printf ("dynamic properties are not supported for %s", _tmp5_);
	_tmp7_ = _tmp6_;
	bala_report_error (_tmp1_, _tmp7_);
	_g_free0 (_tmp7_);
	_g_free0 (_tmp5_);
	_tmp8_ = g_strdup ("");
	result = _tmp8_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_property_setter_cname (BalaCCodeBaseModule* self,
                                                          BalaDynamicProperty* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_property_setter_cname (self, node);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_signal_cname (BalaCCodeBaseModule* self,
                                                      BalaDynamicSignal* node)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_signal_cname (BalaCCodeBaseModule* self,
                                                 BalaDynamicSignal* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_signal_cname (self, node);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_signal_connect_wrapper_name (BalaCCodeBaseModule* self,
                                                                     BalaDynamicSignal* node)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_signal_connect_wrapper_name (BalaCCodeBaseModule* self,
                                                                BalaDynamicSignal* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_signal_connect_wrapper_name (self, node);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_signal_connect_after_wrapper_name (BalaCCodeBaseModule* self,
                                                                           BalaDynamicSignal* node)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_signal_connect_after_wrapper_name (BalaCCodeBaseModule* self,
                                                                      BalaDynamicSignal* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_signal_connect_after_wrapper_name (self, node);
}

static gchar*
bala_ccode_base_module_real_get_dynamic_signal_disconnect_wrapper_name (BalaCCodeBaseModule* self,
                                                                        BalaDynamicSignal* node)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (node != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_dynamic_signal_disconnect_wrapper_name (BalaCCodeBaseModule* self,
                                                                   BalaDynamicSignal* node)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_dynamic_signal_disconnect_wrapper_name (self, node);
}

static gchar*
bala_ccode_base_module_real_get_array_length_cname (BalaCCodeBaseModule* self,
                                                    const gchar* array_cname,
                                                    gint dim)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (array_cname != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_array_length_cname (BalaCCodeBaseModule* self,
                                               const gchar* array_cname,
                                               gint dim)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_array_length_cname (self, array_cname, dim);
}

static gchar*
bala_ccode_base_module_real_get_variable_array_length_cname (BalaCCodeBaseModule* self,
                                                             BalaVariable* variable,
                                                             gint dim)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (variable != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_variable_array_length_cname (BalaCCodeBaseModule* self,
                                                        BalaVariable* variable,
                                                        gint dim)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_variable_array_length_cname (self, variable, dim);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_array_length_cexpression (BalaCCodeBaseModule* self,
                                                          BalaExpression* array_expr,
                                                          gint dim)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (array_expr != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_array_length_cexpression (BalaCCodeBaseModule* self,
                                                     BalaExpression* array_expr,
                                                     gint dim)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_array_length_cexpression (self, array_expr, dim);
}

static BalaCCodeExpression*
bala_ccode_base_module_real_get_array_length_cvalue (BalaCCodeBaseModule* self,
                                                     BalaTargetValue* value,
                                                     gint dim)
{
	BalaCCodeInvalidExpression* _tmp0_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	_tmp0_ = bala_ccode_invalid_expression_new ();
	result = (BalaCCodeExpression*) _tmp0_;
	return result;
}

BalaCCodeExpression*
bala_ccode_base_module_get_array_length_cvalue (BalaCCodeBaseModule* self,
                                                BalaTargetValue* value,
                                                gint dim)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_array_length_cvalue (self, value, dim);
}

static gchar*
bala_ccode_base_module_real_get_array_size_cname (BalaCCodeBaseModule* self,
                                                  const gchar* array_cname)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (array_cname != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_get_array_size_cname (BalaCCodeBaseModule* self,
                                             const gchar* array_cname)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->get_array_size_cname (self, array_cname);
}

static void
bala_ccode_base_module_real_add_simple_check (BalaCCodeBaseModule* self,
                                              BalaCodeNode* node,
                                              gboolean always_fails)
{
	g_return_if_fail (node != NULL);
}

void
bala_ccode_base_module_add_simple_check (BalaCCodeBaseModule* self,
                                         BalaCodeNode* node,
                                         gboolean always_fails)
{
	g_return_if_fail (self != NULL);
	BALA_CCODE_BASE_MODULE_GET_CLASS (self)->add_simple_check (self, node, always_fails);
}

static gchar*
bala_ccode_base_module_real_generate_ready_function (BalaCCodeBaseModule* self,
                                                     BalaMethod* m)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (m != NULL, NULL);
	_tmp0_ = g_strdup ("");
	result = _tmp0_;
	return result;
}

gchar*
bala_ccode_base_module_generate_ready_function (BalaCCodeBaseModule* self,
                                                BalaMethod* m)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALA_CCODE_BASE_MODULE_GET_CLASS (self)->generate_ready_function (self, m);
}

BalaCCodeExpression*
bala_ccode_base_module_get_boolean_cconstant (BalaCCodeBaseModule* self,
                                              gboolean b)
{
	BalaCodeContext* _tmp0_;
	BalaProfile _tmp1_;
	BalaProfile _tmp2_;
	BalaCCodeExpression* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_context;
	_tmp1_ = bala_code_context_get_profile (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == BALA_PROFILE_GOBJECT) {
		const gchar* _tmp3_ = NULL;
		BalaCCodeConstant* _tmp4_;
		if (b) {
			_tmp3_ = "TRUE";
		} else {
			_tmp3_ = "FALSE";
		}
		_tmp4_ = bala_ccode_constant_new (_tmp3_);
		result = (BalaCCodeExpression*) _tmp4_;
		return result;
	} else {
		BalaCCodeFile* _tmp5_;
		const gchar* _tmp6_ = NULL;
		BalaCCodeConstant* _tmp7_;
		_tmp5_ = self->cfile;
		bala_ccode_file_add_include (_tmp5_, "stdbool.h", FALSE);
		if (b) {
			_tmp6_ = "true";
		} else {
			_tmp6_ = "false";
		}
		_tmp7_ = bala_ccode_constant_new (_tmp6_);
		result = (BalaCCodeExpression*) _tmp7_;
		return result;
	}
}

BalaCCodeBaseModuleEmitContext*
bala_ccode_base_module_emit_context_construct (GType object_type,
                                               BalaSymbol* symbol)
{
	BalaCCodeBaseModuleEmitContext* self = NULL;
	BalaSymbol* _tmp0_;
	self = (BalaCCodeBaseModuleEmitContext*) g_type_create_instance (object_type);
	_tmp0_ = _bala_code_node_ref0 (symbol);
	_bala_code_node_unref0 (self->current_symbol);
	self->current_symbol = _tmp0_;
	return self;
}

BalaCCodeBaseModuleEmitContext*
bala_ccode_base_module_emit_context_new (BalaSymbol* symbol)
{
	return bala_ccode_base_module_emit_context_construct (BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, symbol);
}

void
bala_ccode_base_module_emit_context_push_symbol (BalaCCodeBaseModuleEmitContext* self,
                                                 BalaSymbol* symbol)
{
	BalaArrayList* _tmp0_;
	BalaSymbol* _tmp1_;
	BalaSymbol* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (symbol != NULL);
	_tmp0_ = self->symbol_stack;
	_tmp1_ = self->current_symbol;
	bala_collection_add ((BalaCollection*) _tmp0_, _tmp1_);
	_tmp2_ = _bala_code_node_ref0 (symbol);
	_bala_code_node_unref0 (self->current_symbol);
	self->current_symbol = _tmp2_;
}

void
bala_ccode_base_module_emit_context_pop_symbol (BalaCCodeBaseModuleEmitContext* self)
{
	BalaArrayList* _tmp0_;
	BalaArrayList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	gpointer _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->symbol_stack;
	_tmp1_ = self->symbol_stack;
	_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_list_remove_at ((BalaList*) _tmp0_, _tmp3_ - 1);
	_bala_code_node_unref0 (self->current_symbol);
	self->current_symbol = (BalaSymbol*) _tmp4_;
}

static void
bala_ccode_base_module_value_emit_context_init (GValue* value)
{
	value->data[0].v_pointer = NULL;
}

static void
bala_ccode_base_module_value_emit_context_free_value (GValue* value)
{
	if (value->data[0].v_pointer) {
		bala_ccode_base_module_emit_context_unref (value->data[0].v_pointer);
	}
}

static void
bala_ccode_base_module_value_emit_context_copy_value (const GValue* src_value,
                                                      GValue* dest_value)
{
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = bala_ccode_base_module_emit_context_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}

static gpointer
bala_ccode_base_module_value_emit_context_peek_pointer (const GValue* value)
{
	return value->data[0].v_pointer;
}

static gchar*
bala_ccode_base_module_value_emit_context_collect_value (GValue* value,
                                                         guint n_collect_values,
                                                         GTypeCValue* collect_values,
                                                         guint collect_flags)
{
	if (collect_values[0].v_pointer) {
		BalaCCodeBaseModuleEmitContext * object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = bala_ccode_base_module_emit_context_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}

static gchar*
bala_ccode_base_module_value_emit_context_lcopy_value (const GValue* value,
                                                       guint n_collect_values,
                                                       GTypeCValue* collect_values,
                                                       guint collect_flags)
{
	BalaCCodeBaseModuleEmitContext ** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = bala_ccode_base_module_emit_context_ref (value->data[0].v_pointer);
	}
	return NULL;
}

GParamSpec*
bala_ccode_base_module_param_spec_emit_context (const gchar* name,
                                                const gchar* nick,
                                                const gchar* blurb,
                                                GType object_type,
                                                GParamFlags flags)
{
	BalaCCodeBaseModuleParamSpecEmitContext* spec;
	g_return_val_if_fail (g_type_is_a (object_type, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}

gpointer
bala_ccode_base_module_value_get_emit_context (const GValue* value)
{
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT), NULL);
	return value->data[0].v_pointer;
}

void
bala_ccode_base_module_value_set_emit_context (GValue* value,
                                               gpointer v_object)
{
	BalaCCodeBaseModuleEmitContext * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		bala_ccode_base_module_emit_context_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_ccode_base_module_emit_context_unref (old);
	}
}

void
bala_ccode_base_module_value_take_emit_context (GValue* value,
                                                gpointer v_object)
{
	BalaCCodeBaseModuleEmitContext * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_ccode_base_module_emit_context_unref (old);
	}
}

static void
bala_ccode_base_module_emit_context_class_init (BalaCCodeBaseModuleEmitContextClass * klass,
                                                gpointer klass_data)
{
	bala_ccode_base_module_emit_context_parent_class = g_type_class_peek_parent (klass);
	((BalaCCodeBaseModuleEmitContextClass *) klass)->finalize = bala_ccode_base_module_emit_context_finalize;
}

static void
bala_ccode_base_module_emit_context_instance_init (BalaCCodeBaseModuleEmitContext * self,
                                                   gpointer klass)
{
	GEqualFunc _tmp0_;
	BalaArrayList* _tmp1_;
	GEqualFunc _tmp2_;
	BalaArrayList* _tmp3_;
	GEqualFunc _tmp4_;
	BalaArrayList* _tmp5_;
	GHashFunc _tmp6_;
	GEqualFunc _tmp7_;
	GEqualFunc _tmp8_;
	BalaHashMap* _tmp9_;
	GHashFunc _tmp10_;
	GEqualFunc _tmp11_;
	GEqualFunc _tmp12_;
	BalaHashMap* _tmp13_;
	GHashFunc _tmp14_;
	GEqualFunc _tmp15_;
	GEqualFunc _tmp16_;
	BalaHashMap* _tmp17_;
	_tmp0_ = g_direct_equal;
	_tmp1_ = bala_array_list_new (BALA_TYPE_SYMBOL, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp0_);
	self->symbol_stack = _tmp1_;
	_tmp2_ = g_direct_equal;
	_tmp3_ = bala_array_list_new (BALA_TYPE_CCODE_FUNCTION, (GBoxedCopyFunc) bala_ccode_node_ref, (GDestroyNotify) bala_ccode_node_unref, _tmp2_);
	self->ccode_stack = _tmp3_;
	_tmp4_ = g_direct_equal;
	_tmp5_ = bala_array_list_new (BALA_TYPE_TARGET_VALUE, (GBoxedCopyFunc) bala_target_value_ref, (GDestroyNotify) bala_target_value_unref, _tmp4_);
	self->temp_ref_values = _tmp5_;
	self->next_coroutine_state = 1;
	_tmp6_ = g_str_hash;
	_tmp7_ = g_str_equal;
	_tmp8_ = g_direct_equal;
	_tmp9_ = bala_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp6_, _tmp7_, _tmp8_);
	self->variable_name_map = (BalaMap*) _tmp9_;
	_tmp10_ = g_str_hash;
	_tmp11_ = g_str_equal;
	_tmp12_ = g_direct_equal;
	_tmp13_ = bala_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, G_TYPE_INT, NULL, NULL, _tmp10_, _tmp11_, _tmp12_);
	self->closure_variable_count_map = (BalaMap*) _tmp13_;
	_tmp14_ = g_direct_hash;
	_tmp15_ = g_direct_equal;
	_tmp16_ = g_direct_equal;
	_tmp17_ = bala_hash_map_new (BALA_TYPE_LOCAL_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, G_TYPE_INT, NULL, NULL, _tmp14_, _tmp15_, _tmp16_);
	self->closure_variable_clash_map = (BalaMap*) _tmp17_;
	self->ref_count = 1;
}

static void
bala_ccode_base_module_emit_context_finalize (BalaCCodeBaseModuleEmitContext * obj)
{
	BalaCCodeBaseModuleEmitContext * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, BalaCCodeBaseModuleEmitContext);
	g_signal_handlers_destroy (self);
	_bala_code_node_unref0 (self->current_symbol);
	_bala_iterable_unref0 (self->symbol_stack);
	_bala_code_node_unref0 (self->current_try);
	_bala_code_node_unref0 (self->current_catch);
	_bala_ccode_node_unref0 (self->ccode);
	_bala_iterable_unref0 (self->ccode_stack);
	_bala_iterable_unref0 (self->temp_ref_values);
	_bala_map_unref0 (self->variable_name_map);
	_bala_map_unref0 (self->closure_variable_count_map);
	_bala_map_unref0 (self->closure_variable_clash_map);
}

static GType
bala_ccode_base_module_emit_context_get_type_once (void)
{
	static const GTypeValueTable g_define_type_value_table = { bala_ccode_base_module_value_emit_context_init, bala_ccode_base_module_value_emit_context_free_value, bala_ccode_base_module_value_emit_context_copy_value, bala_ccode_base_module_value_emit_context_peek_pointer, "p", bala_ccode_base_module_value_emit_context_collect_value, "p", bala_ccode_base_module_value_emit_context_lcopy_value };
	static const GTypeInfo g_define_type_info = { sizeof (BalaCCodeBaseModuleEmitContextClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_ccode_base_module_emit_context_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaCCodeBaseModuleEmitContext), 0, (GInstanceInitFunc) bala_ccode_base_module_emit_context_instance_init, &g_define_type_value_table };
	static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
	GType bala_ccode_base_module_emit_context_type_id;
	bala_ccode_base_module_emit_context_type_id = g_type_register_fundamental (g_type_fundamental_next (), "BalaCCodeBaseModuleEmitContext", &g_define_type_info, &g_define_type_fundamental_info, 0);
	return bala_ccode_base_module_emit_context_type_id;
}

GType
bala_ccode_base_module_emit_context_get_type (void)
{
	static volatile gsize bala_ccode_base_module_emit_context_type_id__volatile = 0;
	if (g_once_init_enter (&bala_ccode_base_module_emit_context_type_id__volatile)) {
		GType bala_ccode_base_module_emit_context_type_id;
		bala_ccode_base_module_emit_context_type_id = bala_ccode_base_module_emit_context_get_type_once ();
		g_once_init_leave (&bala_ccode_base_module_emit_context_type_id__volatile, bala_ccode_base_module_emit_context_type_id);
	}
	return bala_ccode_base_module_emit_context_type_id__volatile;
}

gpointer
bala_ccode_base_module_emit_context_ref (gpointer instance)
{
	BalaCCodeBaseModuleEmitContext * self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}

void
bala_ccode_base_module_emit_context_unref (gpointer instance)
{
	BalaCCodeBaseModuleEmitContext * self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		BALA_CCODE_BASE_MODULE_EMIT_CONTEXT_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}

static void
bala_ccode_base_module_class_init (BalaCCodeBaseModuleClass * klass,
                                   gpointer klass_data)
{
	bala_ccode_base_module_parent_class = g_type_class_peek_parent (klass);
	((BalaCodeVisitorClass *) klass)->finalize = bala_ccode_base_module_finalize;
	g_type_class_adjust_private_offset (klass, &BalaCCodeBaseModule_private_offset);
	((BalaCodeGeneratorClass *) klass)->emit = (void (*) (BalaCodeGenerator*, BalaCodeContext*)) bala_ccode_base_module_real_emit;
	((BalaCCodeBaseModuleClass *) klass)->append_bala_array_free = (void (*) (BalaCCodeBaseModule*)) bala_ccode_base_module_real_append_bala_array_free;
	((BalaCCodeBaseModuleClass *) klass)->append_bala_array_move = (void (*) (BalaCCodeBaseModule*)) bala_ccode_base_module_real_append_bala_array_move;
	((BalaCCodeBaseModuleClass *) klass)->append_bala_array_length = (void (*) (BalaCCodeBaseModule*)) bala_ccode_base_module_real_append_bala_array_length;
	((BalaCCodeBaseModuleClass *) klass)->append_params_array = (void (*) (BalaCCodeBaseModule*, BalaMethod*)) bala_ccode_base_module_real_append_params_array;
	((BalaCodeVisitorClass *) klass)->visit_source_file = (void (*) (BalaCodeVisitor*, BalaSourceFile*)) bala_ccode_base_module_real_visit_source_file;
	((BalaCCodeBaseModuleClass *) klass)->generate_enum_declaration = (gboolean (*) (BalaCCodeBaseModule*, BalaEnum*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_enum_declaration;
	((BalaCodeVisitorClass *) klass)->visit_enum = (void (*) (BalaCodeVisitor*, BalaEnum*)) bala_ccode_base_module_real_visit_enum;
	((BalaCodeVisitorClass *) klass)->visit_constant = (void (*) (BalaCodeVisitor*, BalaConstant*)) bala_ccode_base_module_real_visit_constant;
	((BalaCodeVisitorClass *) klass)->visit_field = (void (*) (BalaCodeVisitor*, BalaField*)) bala_ccode_base_module_real_visit_field;
	((BalaCodeVisitorClass *) klass)->visit_property = (void (*) (BalaCodeVisitor*, BalaProperty*)) bala_ccode_base_module_real_visit_property;
	((BalaCCodeBaseModuleClass *) klass)->generate_class_struct_declaration = (void (*) (BalaCCodeBaseModule*, BalaClass*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_class_struct_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_struct_declaration = (void (*) (BalaCCodeBaseModule*, BalaStruct*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_struct_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_delegate_declaration = (void (*) (BalaCCodeBaseModule*, BalaDelegate*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_delegate_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_cparameters = (void (*) (BalaCCodeBaseModule*, BalaMethod*, BalaCCodeFile*, BalaMap*, BalaCCodeFunction*, BalaCCodeFunctionDeclarator*, BalaMap*, BalaCCodeFunctionCall*, gint)) bala_ccode_base_module_real_generate_cparameters;
	((BalaCodeVisitorClass *) klass)->visit_property_accessor = (void (*) (BalaCodeVisitor*, BalaPropertyAccessor*)) bala_ccode_base_module_real_visit_property_accessor;
	((BalaCodeVisitorClass *) klass)->visit_destructor = (void (*) (BalaCodeVisitor*, BalaDestructor*)) bala_ccode_base_module_real_visit_destructor;
	((BalaCodeVisitorClass *) klass)->visit_block = (void (*) (BalaCodeVisitor*, BalaBlock*)) bala_ccode_base_module_real_visit_block;
	((BalaCodeVisitorClass *) klass)->visit_declaration_statement = (void (*) (BalaCodeVisitor*, BalaDeclarationStatement*)) bala_ccode_base_module_real_visit_declaration_statement;
	((BalaCodeVisitorClass *) klass)->visit_local_variable = (void (*) (BalaCodeVisitor*, BalaLocalVariable*)) bala_ccode_base_module_real_visit_local_variable;
	((BalaCodeVisitorClass *) klass)->visit_initializer_list = (void (*) (BalaCodeVisitor*, BalaInitializerList*)) bala_ccode_base_module_real_visit_initializer_list;
	((BalaCCodeBaseModuleClass *) klass)->get_dup_func_expression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*, BalaSourceReference*, gboolean)) bala_ccode_base_module_real_get_dup_func_expression;
	((BalaCCodeBaseModuleClass *) klass)->append_struct_array_destroy = (gchar* (*) (BalaCCodeBaseModule*, BalaStruct*)) bala_ccode_base_module_real_append_struct_array_destroy;
	((BalaCCodeBaseModuleClass *) klass)->append_struct_array_free = (gchar* (*) (BalaCCodeBaseModule*, BalaStruct*)) bala_ccode_base_module_real_append_struct_array_free;
	((BalaCCodeBaseModuleClass *) klass)->destroy_value = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaTargetValue*, gboolean)) bala_ccode_base_module_real_destroy_value;
	((BalaCodeVisitorClass *) klass)->visit_end_full_expression = (void (*) (BalaCodeVisitor*, BalaExpression*)) bala_ccode_base_module_real_visit_end_full_expression;
	((BalaCodeVisitorClass *) klass)->visit_expression_statement = (void (*) (BalaCodeVisitor*, BalaExpressionStatement*)) bala_ccode_base_module_real_visit_expression_statement;
	((BalaCCodeBaseModuleClass *) klass)->append_scope_free = (void (*) (BalaCCodeBaseModule*, BalaSymbol*, BalaCodeNode*)) bala_ccode_base_module_real_append_scope_free;
	((BalaCodeVisitorClass *) klass)->visit_return_statement = (void (*) (BalaCodeVisitor*, BalaReturnStatement*)) bala_ccode_base_module_real_visit_return_statement;
	((BalaCodeVisitorClass *) klass)->visit_lock_statement = (void (*) (BalaCodeVisitor*, BalaLockStatement*)) bala_ccode_base_module_real_visit_lock_statement;
	((BalaCodeVisitorClass *) klass)->visit_unlock_statement = (void (*) (BalaCodeVisitor*, BalaUnlockStatement*)) bala_ccode_base_module_real_visit_unlock_statement;
	((BalaCodeVisitorClass *) klass)->visit_delete_statement = (void (*) (BalaCodeVisitor*, BalaDeleteStatement*)) bala_ccode_base_module_real_visit_delete_statement;
	((BalaCodeVisitorClass *) klass)->visit_expression = (void (*) (BalaCodeVisitor*, BalaExpression*)) bala_ccode_base_module_real_visit_expression;
	((BalaCodeVisitorClass *) klass)->visit_boolean_literal = (void (*) (BalaCodeVisitor*, BalaBooleanLiteral*)) bala_ccode_base_module_real_visit_boolean_literal;
	((BalaCodeVisitorClass *) klass)->visit_character_literal = (void (*) (BalaCodeVisitor*, BalaCharacterLiteral*)) bala_ccode_base_module_real_visit_character_literal;
	((BalaCodeVisitorClass *) klass)->visit_integer_literal = (void (*) (BalaCodeVisitor*, BalaIntegerLiteral*)) bala_ccode_base_module_real_visit_integer_literal;
	((BalaCodeVisitorClass *) klass)->visit_real_literal = (void (*) (BalaCodeVisitor*, BalaRealLiteral*)) bala_ccode_base_module_real_visit_real_literal;
	((BalaCodeVisitorClass *) klass)->visit_string_literal = (void (*) (BalaCodeVisitor*, BalaStringLiteral*)) bala_ccode_base_module_real_visit_string_literal;
	((BalaCodeVisitorClass *) klass)->visit_regex_literal = (void (*) (BalaCodeVisitor*, BalaRegexLiteral*)) bala_ccode_base_module_real_visit_regex_literal;
	((BalaCodeVisitorClass *) klass)->visit_null_literal = (void (*) (BalaCodeVisitor*, BalaNullLiteral*)) bala_ccode_base_module_real_visit_null_literal;
	((BalaCCodeBaseModuleClass *) klass)->get_local_cvalue = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaLocalVariable*)) bala_ccode_base_module_real_get_local_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->get_parameter_cvalue = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaParameter*)) bala_ccode_base_module_real_get_parameter_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->get_field_cvalue = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaField*, BalaTargetValue*)) bala_ccode_base_module_real_get_field_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->load_variable = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaVariable*, BalaTargetValue*, BalaExpression*)) bala_ccode_base_module_real_load_variable;
	((BalaCCodeBaseModuleClass *) klass)->load_this_parameter = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaTypeSymbol*)) bala_ccode_base_module_real_load_this_parameter;
	((BalaCCodeBaseModuleClass *) klass)->store_value = (void (*) (BalaCCodeBaseModule*, BalaTargetValue*, BalaTargetValue*, BalaSourceReference*)) bala_ccode_base_module_real_store_value;
	((BalaCCodeBaseModuleClass *) klass)->get_delegate_target_cname = (gchar* (*) (BalaCCodeBaseModule*, const gchar*)) bala_ccode_base_module_real_get_delegate_target_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_delegate_target_cexpression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaExpression*, BalaCCodeExpression* *)) bala_ccode_base_module_real_get_delegate_target_cexpression;
	((BalaCCodeBaseModuleClass *) klass)->get_delegate_target_cvalue = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaTargetValue*)) bala_ccode_base_module_real_get_delegate_target_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->get_delegate_target_destroy_notify_cvalue = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaTargetValue*)) bala_ccode_base_module_real_get_delegate_target_destroy_notify_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->get_delegate_target_destroy_notify_cname = (gchar* (*) (BalaCCodeBaseModule*, const gchar*)) bala_ccode_base_module_real_get_delegate_target_destroy_notify_cname;
	((BalaCodeVisitorClass *) klass)->visit_base_access = (void (*) (BalaCodeVisitor*, BalaBaseAccess*)) bala_ccode_base_module_real_visit_base_access;
	((BalaCodeVisitorClass *) klass)->visit_postfix_expression = (void (*) (BalaCodeVisitor*, BalaPostfixExpression*)) bala_ccode_base_module_real_visit_postfix_expression;
	((BalaCCodeBaseModuleClass *) klass)->copy_value = (BalaTargetValue* (*) (BalaCCodeBaseModule*, BalaTargetValue*, BalaCodeNode*)) bala_ccode_base_module_real_copy_value;
	((BalaCCodeBaseModuleClass *) klass)->generate_class_declaration = (void (*) (BalaCCodeBaseModule*, BalaClass*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_class_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_interface_declaration = (void (*) (BalaCCodeBaseModule*, BalaInterface*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_interface_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_method_declaration = (gboolean (*) (BalaCCodeBaseModule*, BalaMethod*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_method_declaration;
	((BalaCCodeBaseModuleClass *) klass)->generate_error_domain_declaration = (void (*) (BalaCCodeBaseModule*, BalaErrorDomain*, BalaCCodeFile*)) bala_ccode_base_module_real_generate_error_domain_declaration;
	((BalaCodeVisitorClass *) klass)->visit_object_creation_expression = (void (*) (BalaCodeVisitor*, BalaObjectCreationExpression*)) bala_ccode_base_module_real_visit_object_creation_expression;
	((BalaCodeVisitorClass *) klass)->visit_sizeof_expression = (void (*) (BalaCodeVisitor*, BalaSizeofExpression*)) bala_ccode_base_module_real_visit_sizeof_expression;
	((BalaCodeVisitorClass *) klass)->visit_typeof_expression = (void (*) (BalaCodeVisitor*, BalaTypeofExpression*)) bala_ccode_base_module_real_visit_typeof_expression;
	((BalaCodeVisitorClass *) klass)->visit_unary_expression = (void (*) (BalaCodeVisitor*, BalaUnaryExpression*)) bala_ccode_base_module_real_visit_unary_expression;
	((BalaCCodeBaseModuleClass *) klass)->deserialize_expression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*, BalaCCodeExpression*, BalaCCodeExpression*, BalaCCodeExpression*, gboolean*)) bala_ccode_base_module_real_deserialize_expression;
	((BalaCCodeBaseModuleClass *) klass)->serialize_expression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*, BalaCCodeExpression*)) bala_ccode_base_module_real_serialize_expression;
	((BalaCodeVisitorClass *) klass)->visit_cast_expression = (void (*) (BalaCodeVisitor*, BalaCastExpression*)) bala_ccode_base_module_real_visit_cast_expression;
	((BalaCodeVisitorClass *) klass)->visit_named_argument = (void (*) (BalaCodeVisitor*, BalaNamedArgument*)) bala_ccode_base_module_real_visit_named_argument;
	((BalaCodeVisitorClass *) klass)->visit_pointer_indirection = (void (*) (BalaCodeVisitor*, BalaPointerIndirection*)) bala_ccode_base_module_real_visit_pointer_indirection;
	((BalaCodeVisitorClass *) klass)->visit_addressof_expression = (void (*) (BalaCodeVisitor*, BalaAddressofExpression*)) bala_ccode_base_module_real_visit_addressof_expression;
	((BalaCodeVisitorClass *) klass)->visit_reference_transfer_expression = (void (*) (BalaCodeVisitor*, BalaReferenceTransferExpression*)) bala_ccode_base_module_real_visit_reference_transfer_expression;
	((BalaCodeVisitorClass *) klass)->visit_binary_expression = (void (*) (BalaCodeVisitor*, BalaBinaryExpression*)) bala_ccode_base_module_real_visit_binary_expression;
	((BalaCodeVisitorClass *) klass)->visit_type_check = (void (*) (BalaCodeVisitor*, BalaTypeCheck*)) bala_ccode_base_module_real_visit_type_check;
	((BalaCodeVisitorClass *) klass)->visit_lambda_expression = (void (*) (BalaCodeVisitor*, BalaLambdaExpression*)) bala_ccode_base_module_real_visit_lambda_expression;
	((BalaCCodeBaseModuleClass *) klass)->get_implicit_cast_expression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaCCodeExpression*, BalaDataType*, BalaDataType*, BalaCodeNode*)) bala_ccode_base_module_real_get_implicit_cast_expression;
	((BalaCCodeBaseModuleClass *) klass)->create_type_check_statement = (void (*) (BalaCCodeBaseModule*, BalaCodeNode*, BalaDataType*, BalaTypeSymbol*, gboolean, const gchar*)) bala_ccode_base_module_real_create_type_check_statement;
	((BalaCodeVisitorClass *) klass)->visit_class = (void (*) (BalaCodeVisitor*, BalaClass*)) bala_ccode_base_module_real_visit_class;
	((BalaCCodeBaseModuleClass *) klass)->generate_dynamic_method_wrapper = (void (*) (BalaCCodeBaseModule*, BalaDynamicMethod*)) bala_ccode_base_module_real_generate_dynamic_method_wrapper;
	((BalaCCodeBaseModuleClass *) klass)->method_has_wrapper = (gboolean (*) (BalaCCodeBaseModule*, BalaMethod*)) bala_ccode_base_module_real_method_has_wrapper;
	((BalaCCodeBaseModuleClass *) klass)->get_param_spec_cexpression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaProperty*)) bala_ccode_base_module_real_get_param_spec_cexpression;
	((BalaCCodeBaseModuleClass *) klass)->get_param_spec = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaProperty*)) bala_ccode_base_module_real_get_param_spec;
	((BalaCCodeBaseModuleClass *) klass)->get_signal_creation = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaSignal*, BalaObjectTypeSymbol*)) bala_ccode_base_module_real_get_signal_creation;
	((BalaCCodeBaseModuleClass *) klass)->get_value_getter_function = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*)) bala_ccode_base_module_real_get_value_getter_function;
	((BalaCCodeBaseModuleClass *) klass)->get_value_setter_function = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*)) bala_ccode_base_module_real_get_value_setter_function;
	((BalaCCodeBaseModuleClass *) klass)->get_value_taker_function = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaDataType*)) bala_ccode_base_module_real_get_value_taker_function;
	((BalaCCodeBaseModuleClass *) klass)->register_dbus_info = (void (*) (BalaCCodeBaseModule*, BalaCCodeBlock*, BalaObjectTypeSymbol*)) bala_ccode_base_module_real_register_dbus_info;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_property_getter_cname = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicProperty*)) bala_ccode_base_module_real_get_dynamic_property_getter_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_property_setter_cname = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicProperty*)) bala_ccode_base_module_real_get_dynamic_property_setter_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_signal_cname = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicSignal*)) bala_ccode_base_module_real_get_dynamic_signal_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_signal_connect_wrapper_name = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicSignal*)) bala_ccode_base_module_real_get_dynamic_signal_connect_wrapper_name;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_signal_connect_after_wrapper_name = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicSignal*)) bala_ccode_base_module_real_get_dynamic_signal_connect_after_wrapper_name;
	((BalaCCodeBaseModuleClass *) klass)->get_dynamic_signal_disconnect_wrapper_name = (gchar* (*) (BalaCCodeBaseModule*, BalaDynamicSignal*)) bala_ccode_base_module_real_get_dynamic_signal_disconnect_wrapper_name;
	((BalaCCodeBaseModuleClass *) klass)->get_array_length_cname = (gchar* (*) (BalaCCodeBaseModule*, const gchar*, gint)) bala_ccode_base_module_real_get_array_length_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_variable_array_length_cname = (gchar* (*) (BalaCCodeBaseModule*, BalaVariable*, gint)) bala_ccode_base_module_real_get_variable_array_length_cname;
	((BalaCCodeBaseModuleClass *) klass)->get_array_length_cexpression = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaExpression*, gint)) bala_ccode_base_module_real_get_array_length_cexpression;
	((BalaCCodeBaseModuleClass *) klass)->get_array_length_cvalue = (BalaCCodeExpression* (*) (BalaCCodeBaseModule*, BalaTargetValue*, gint)) bala_ccode_base_module_real_get_array_length_cvalue;
	((BalaCCodeBaseModuleClass *) klass)->get_array_size_cname = (gchar* (*) (BalaCCodeBaseModule*, const gchar*)) bala_ccode_base_module_real_get_array_size_cname;
	((BalaCCodeBaseModuleClass *) klass)->add_simple_check = (void (*) (BalaCCodeBaseModule*, BalaCodeNode*, gboolean)) bala_ccode_base_module_real_add_simple_check;
	((BalaCCodeBaseModuleClass *) klass)->generate_ready_function = (gchar* (*) (BalaCCodeBaseModule*, BalaMethod*)) bala_ccode_base_module_real_generate_ready_function;
	bala_ccode_base_module_ccode_attribute_cache_index = bala_code_node_get_attribute_cache_index ();
}

static void
bala_ccode_base_module_instance_init (BalaCCodeBaseModule * self,
                                      gpointer klass)
{
	BalaCCodeBaseModuleEmitContext* _tmp0_;
	GEqualFunc _tmp1_;
	BalaArrayList* _tmp2_;
	GEqualFunc _tmp3_;
	BalaArrayList* _tmp4_;
	GHashFunc _tmp5_;
	GEqualFunc _tmp6_;
	GEqualFunc _tmp7_;
	BalaHashMap* _tmp8_;
	GHashFunc _tmp9_;
	GEqualFunc _tmp10_;
	GEqualFunc _tmp11_;
	BalaHashMap* _tmp12_;
	BalaVoidType* _tmp13_;
	self->priv = bala_ccode_base_module_get_instance_private (self);
	_tmp0_ = bala_ccode_base_module_emit_context_new (NULL);
	self->emit_context = _tmp0_;
	_tmp1_ = g_direct_equal;
	_tmp2_ = bala_array_list_new (BALA_CCODE_BASE_MODULE_TYPE_EMIT_CONTEXT, (GBoxedCopyFunc) bala_ccode_base_module_emit_context_ref, (GDestroyNotify) bala_ccode_base_module_emit_context_unref, _tmp1_);
	self->priv->emit_context_stack = (BalaList*) _tmp2_;
	self->current_line = NULL;
	_tmp3_ = g_direct_equal;
	_tmp4_ = bala_array_list_new (BALA_TYPE_CCODE_LINE_DIRECTIVE, (GBoxedCopyFunc) bala_ccode_node_ref, (GDestroyNotify) bala_ccode_node_unref, _tmp3_);
	self->priv->line_directive_stack = (BalaList*) _tmp4_;
	self->next_regex_id = 0;
	self->priv->next_block_id = 0;
	_tmp5_ = g_direct_hash;
	_tmp6_ = g_direct_equal;
	_tmp7_ = g_direct_equal;
	_tmp8_ = bala_hash_map_new (BALA_TYPE_BLOCK, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, G_TYPE_INT, NULL, NULL, _tmp5_, _tmp6_, _tmp7_);
	self->priv->block_map = (BalaMap*) _tmp8_;
	_tmp9_ = g_direct_hash;
	_tmp10_ = g_direct_equal;
	_tmp11_ = g_direct_equal;
	_tmp12_ = bala_hash_map_new (BALA_TYPE_METHOD, NULL, NULL, G_TYPE_INT, NULL, NULL, _tmp9_, _tmp10_, _tmp11_);
	self->priv->method_inner_error_var_count = (BalaMap*) _tmp12_;
	_tmp13_ = bala_void_type_new (NULL);
	self->void_type = (BalaDataType*) _tmp13_;
	self->in_plugin = FALSE;
	self->priv->next_variant_function_id = 0;
}

static void
bala_ccode_base_module_finalize (BalaCodeVisitor * obj)
{
	BalaCCodeBaseModule * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_TYPE_CCODE_BASE_MODULE, BalaCCodeBaseModule);
	_bala_code_context_unref0 (self->priv->_context);
	_bala_code_node_unref0 (self->root_symbol);
	_bala_ccode_base_module_emit_context_unref0 (self->emit_context);
	_bala_iterable_unref0 (self->priv->emit_context_stack);
	_bala_ccode_node_unref0 (self->current_line);
	_bala_iterable_unref0 (self->priv->line_directive_stack);
	_bala_ccode_file_unref0 (self->header_file);
	_bala_ccode_file_unref0 (self->internal_header_file);
	_bala_ccode_file_unref0 (self->cfile);
	_bala_ccode_base_module_emit_context_unref0 (self->class_init_context);
	_bala_ccode_base_module_emit_context_unref0 (self->base_init_context);
	_bala_ccode_base_module_emit_context_unref0 (self->class_finalize_context);
	_bala_ccode_base_module_emit_context_unref0 (self->base_finalize_context);
	_bala_ccode_base_module_emit_context_unref0 (self->instance_init_context);
	_bala_ccode_base_module_emit_context_unref0 (self->instance_finalize_context);
	_bala_ccode_node_unref0 (self->param_spec_struct);
	_bala_ccode_node_unref0 (self->closure_struct);
	_bala_ccode_node_unref0 (self->prop_enum);
	_bala_ccode_node_unref0 (self->signal_enum);
	_bala_iterable_unref0 (self->user_marshal_set);
	_bala_iterable_unref0 (self->predefined_marshal_set);
	_bala_map_unref0 (self->priv->block_map);
	_bala_map_unref0 (self->priv->method_inner_error_var_count);
	_bala_code_node_unref0 (self->void_type);
	_bala_code_node_unref0 (self->bool_type);
	_bala_code_node_unref0 (self->char_type);
	_bala_code_node_unref0 (self->uchar_type);
	_bala_code_node_unref0 (self->unichar_type);
	_bala_code_node_unref0 (self->short_type);
	_bala_code_node_unref0 (self->ushort_type);
	_bala_code_node_unref0 (self->int_type);
	_bala_code_node_unref0 (self->uint_type);
	_bala_code_node_unref0 (self->long_type);
	_bala_code_node_unref0 (self->ulong_type);
	_bala_code_node_unref0 (self->int8_type);
	_bala_code_node_unref0 (self->uint8_type);
	_bala_code_node_unref0 (self->int16_type);
	_bala_code_node_unref0 (self->uint16_type);
	_bala_code_node_unref0 (self->int32_type);
	_bala_code_node_unref0 (self->uint32_type);
	_bala_code_node_unref0 (self->int64_type);
	_bala_code_node_unref0 (self->uint64_type);
	_bala_code_node_unref0 (self->size_t_type);
	_bala_code_node_unref0 (self->string_type);
	_bala_code_node_unref0 (self->regex_type);
	_bala_code_node_unref0 (self->float_type);
	_bala_code_node_unref0 (self->double_type);
	_bala_code_node_unref0 (self->pointer_type);
	_bala_code_node_unref0 (self->gtype_type);
	_bala_code_node_unref0 (self->gobject_type);
	_bala_code_node_unref0 (self->gerror_type);
	_bala_code_node_unref0 (self->glist_type);
	_bala_code_node_unref0 (self->gslist_type);
	_bala_code_node_unref0 (self->gnode_type);
	_bala_code_node_unref0 (self->gqueue_type);
	_bala_code_node_unref0 (self->gvaluearray_type);
	_bala_code_node_unref0 (self->gstringbuilder_type);
	_bala_code_node_unref0 (self->garray_type);
	_bala_code_node_unref0 (self->gbytearray_type);
	_bala_code_node_unref0 (self->gptrarray_type);
	_bala_code_node_unref0 (self->gthreadpool_type);
	_bala_code_node_unref0 (self->gquark_type);
	_bala_code_node_unref0 (self->gvalue_type);
	_bala_code_node_unref0 (self->gvariant_type);
	_bala_code_node_unref0 (self->mutex_type);
	_bala_code_node_unref0 (self->gmutex_type);
	_bala_code_node_unref0 (self->grecmutex_type);
	_bala_code_node_unref0 (self->grwlock_type);
	_bala_code_node_unref0 (self->gcond_type);
	_bala_code_node_unref0 (self->gsource_type);
	_bala_code_node_unref0 (self->type_module_type);
	_bala_code_node_unref0 (self->dbus_proxy_type);
	_bala_code_node_unref0 (self->gtk_widget_type);
	_bala_code_node_unref0 (self->delegate_target_type);
	_bala_code_node_unref0 (self->delegate_target_destroy_type);
	_bala_code_node_unref0 (self->priv->destroy_notify);
	_bala_code_node_unref0 (self->priv->gerror);
	_g_free0 (self->module_init_param_name);
	_bala_iterable_unref0 (self->wrappers);
	_bala_iterable_unref0 (self->priv->generated_external_symbols);
	BALA_CODE_VISITOR_CLASS (bala_ccode_base_module_parent_class)->finalize (obj);
}

/**
 * Code visitor generating C Code.
 */
static GType
bala_ccode_base_module_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BalaCCodeBaseModuleClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_ccode_base_module_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaCCodeBaseModule), 0, (GInstanceInitFunc) bala_ccode_base_module_instance_init, NULL };
	GType bala_ccode_base_module_type_id;
	bala_ccode_base_module_type_id = g_type_register_static (BALA_TYPE_CODE_GENERATOR, "BalaCCodeBaseModule", &g_define_type_info, G_TYPE_FLAG_ABSTRACT);
	BalaCCodeBaseModule_private_offset = g_type_add_instance_private (bala_ccode_base_module_type_id, sizeof (BalaCCodeBaseModulePrivate));
	return bala_ccode_base_module_type_id;
}

GType
bala_ccode_base_module_get_type (void)
{
	static volatile gsize bala_ccode_base_module_type_id__volatile = 0;
	if (g_once_init_enter (&bala_ccode_base_module_type_id__volatile)) {
		GType bala_ccode_base_module_type_id;
		bala_ccode_base_module_type_id = bala_ccode_base_module_get_type_once ();
		g_once_init_leave (&bala_ccode_base_module_type_id__volatile, bala_ccode_base_module_type_id);
	}
	return bala_ccode_base_module_type_id__volatile;
}

static void
_bala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_bala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_bala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gint
_bala_array_length (gpointer array)
{
	gint length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

