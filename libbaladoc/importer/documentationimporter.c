/* documentationimporter.c generated by balac, the Bala compiler
 * generated from documentationimporter.bala, do not modify */

/* resourcelocator.bala
 *
 * Copyright (C) 2008-2009 Florian Brosch
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Florian Brosch <flo.brosch@gmail.com>
 */

#include "baladoc.h"
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <glib-object.h>

enum  {
	BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_0_PROPERTY,
	BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_FILE_EXTENSION_PROPERTY,
	BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_NUM_PROPERTIES
};
static GParamSpec* baladoc_importer_documentation_importer_properties[BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _baladoc_api_tree_unref0(var) ((var == NULL) ? NULL : (var = (baladoc_api_tree_unref (var), NULL)))

static gpointer baladoc_importer_documentation_importer_parent_class = NULL;
static BaladocResourceLocatorIface * baladoc_importer_documentation_importer_baladoc_resource_locator_parent_iface = NULL;

static gchar* baladoc_importer_documentation_importer_real_resolve (BaladocImporterDocumentationImporter* self,
                                                             const gchar* path);
static void baladoc_importer_documentation_importer_real_process (BaladocImporterDocumentationImporter* self,
                                                           const gchar* filename);
static void baladoc_importer_documentation_importer_finalize (GObject * obj);
static GType baladoc_importer_documentation_importer_get_type_once (void);
static void _bala_baladoc_importer_documentation_importer_get_property (GObject * object,
                                                                 guint property_id,
                                                                 GValue * value,
                                                                 GParamSpec * pspec);

const gchar*
baladoc_importer_documentation_importer_get_file_extension (BaladocImporterDocumentationImporter* self)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_GET_CLASS (self)->get_file_extension (self);
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static gpointer
_baladoc_api_tree_ref0 (gpointer self)
{
	return self ? baladoc_api_tree_ref (self) : NULL;
}

BaladocImporterDocumentationImporter*
baladoc_importer_documentation_importer_construct (GType object_type,
                                                   BaladocApiTree* tree,
                                                   BaladocModuleLoader* modules,
                                                   BaladocSettings* settings)
{
	BaladocImporterDocumentationImporter * self = NULL;
	BaladocSettings* _tmp0_;
	BaladocApiTree* _tmp1_;
	g_return_val_if_fail (tree != NULL, NULL);
	g_return_val_if_fail (modules != NULL, NULL);
	g_return_val_if_fail (settings != NULL, NULL);
	self = (BaladocImporterDocumentationImporter*) g_object_new (object_type, NULL);
	_tmp0_ = _g_object_ref0 (settings);
	_g_object_unref0 (self->settings);
	self->settings = _tmp0_;
	_g_object_unref0 (self->modules);
	self->modules = NULL;
	_tmp1_ = _baladoc_api_tree_ref0 (tree);
	_baladoc_api_tree_unref0 (self->tree);
	self->tree = _tmp1_;
	return self;
}

static gchar*
baladoc_importer_documentation_importer_real_resolve (BaladocImporterDocumentationImporter* self,
                                                      const gchar* path)
{
	gchar* _tmp0_;
	gchar* result = NULL;
	g_return_val_if_fail (path != NULL, NULL);
	_tmp0_ = g_strdup (path);
	result = _tmp0_;
	return result;
}

gchar*
baladoc_importer_documentation_importer_resolve (BaladocImporterDocumentationImporter* self,
                                                 const gchar* path)
{
	g_return_val_if_fail (self != NULL, NULL);
	return BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_GET_CLASS (self)->resolve (self, path);
}

static void
baladoc_importer_documentation_importer_real_process (BaladocImporterDocumentationImporter* self,
                                                      const gchar* filename)
{
	g_critical ("Type `%s' does not implement abstract method `baladoc_importer_documentation_importer_process'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return;
}

void
baladoc_importer_documentation_importer_process (BaladocImporterDocumentationImporter* self,
                                                 const gchar* filename)
{
	g_return_if_fail (self != NULL);
	BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_GET_CLASS (self)->process (self, filename);
}

static void
baladoc_importer_documentation_importer_class_init (BaladocImporterDocumentationImporterClass * klass,
                                                    gpointer klass_data)
{
	baladoc_importer_documentation_importer_parent_class = g_type_class_peek_parent (klass);
	((BaladocImporterDocumentationImporterClass *) klass)->resolve = (gchar* (*) (BaladocImporterDocumentationImporter*, const gchar*)) baladoc_importer_documentation_importer_real_resolve;
	((BaladocImporterDocumentationImporterClass *) klass)->process = (void (*) (BaladocImporterDocumentationImporter*, const gchar*)) baladoc_importer_documentation_importer_real_process;
	G_OBJECT_CLASS (klass)->get_property = _bala_baladoc_importer_documentation_importer_get_property;
	G_OBJECT_CLASS (klass)->finalize = baladoc_importer_documentation_importer_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_FILE_EXTENSION_PROPERTY, baladoc_importer_documentation_importer_properties[BALADOC_IMPORTER_DOCUMENTATION_IMPORTER_FILE_EXTENSION_PROPERTY] = g_param_spec_string ("file-extension", "file-extension", "file-extension", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
}

static void
baladoc_importer_documentation_importer_baladoc_resource_locator_interface_init (BaladocResourceLocatorIface * iface,
                                                                                 gpointer iface_data)
{
	baladoc_importer_documentation_importer_baladoc_resource_locator_parent_iface = g_type_interface_peek_parent (iface);
	iface->resolve = (gchar* (*) (BaladocResourceLocator*, const gchar*)) baladoc_importer_documentation_importer_resolve;
}

static void
baladoc_importer_documentation_importer_instance_init (BaladocImporterDocumentationImporter * self,
                                                       gpointer klass)
{
}

static void
baladoc_importer_documentation_importer_finalize (GObject * obj)
{
	BaladocImporterDocumentationImporter * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALADOC_IMPORTER_TYPE_DOCUMENTATION_IMPORTER, BaladocImporterDocumentationImporter);
	_g_object_unref0 (self->modules);
	_g_object_unref0 (self->settings);
	_baladoc_api_tree_unref0 (self->tree);
	G_OBJECT_CLASS (baladoc_importer_documentation_importer_parent_class)->finalize (obj);
}

static GType
baladoc_importer_documentation_importer_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BaladocImporterDocumentationImporterClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) baladoc_importer_documentation_importer_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BaladocImporterDocumentationImporter), 0, (GInstanceInitFunc) baladoc_importer_documentation_importer_instance_init, NULL };
	static const GInterfaceInfo baladoc_resource_locator_info = { (GInterfaceInitFunc) baladoc_importer_documentation_importer_baladoc_resource_locator_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	GType baladoc_importer_documentation_importer_type_id;
	baladoc_importer_documentation_importer_type_id = g_type_register_static (G_TYPE_OBJECT, "BaladocImporterDocumentationImporter", &g_define_type_info, G_TYPE_FLAG_ABSTRACT);
	g_type_add_interface_static (baladoc_importer_documentation_importer_type_id, BALADOC_TYPE_RESOURCE_LOCATOR, &baladoc_resource_locator_info);
	return baladoc_importer_documentation_importer_type_id;
}

GType
baladoc_importer_documentation_importer_get_type (void)
{
	static volatile gsize baladoc_importer_documentation_importer_type_id__volatile = 0;
	if (g_once_init_enter (&baladoc_importer_documentation_importer_type_id__volatile)) {
		GType baladoc_importer_documentation_importer_type_id;
		baladoc_importer_documentation_importer_type_id = baladoc_importer_documentation_importer_get_type_once ();
		g_once_init_leave (&baladoc_importer_documentation_importer_type_id__volatile, baladoc_importer_documentation_importer_type_id);
	}
	return baladoc_importer_documentation_importer_type_id__volatile;
}

static void
_bala_baladoc_importer_documentation_importer_get_property (GObject * object,
                                                            guint property_id,
                                                            GValue * value,
                                                            GParamSpec * pspec)
{
	BaladocImporterDocumentationImporter * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, BALADOC_IMPORTER_TYPE_DOCUMENTATION_IMPORTER, BaladocImporterDocumentationImporter);
	switch (property_id) {
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}

