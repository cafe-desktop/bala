/* doclet.c generated by balac, the Bala compiler
 * generated from doclet.bala, do not modify */

/* doclet.bala
 *
 * Copyright (C) 2008-2012 Florian Brosch
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Florian Brosch <flo.brosch@gmail.com>
 */

#include <baladoc.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <glib/gstdio.h>
#include <config.h>
#include <stdio.h>

#define BALADOC_HTML_TYPE_DOCLET (baladoc_html_doclet_get_type ())
#define BALADOC_HTML_DOCLET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALADOC_HTML_TYPE_DOCLET, BaladocHtmlDoclet))
#define BALADOC_HTML_DOCLET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALADOC_HTML_TYPE_DOCLET, BaladocHtmlDocletClass))
#define BALADOC_HTML_IS_DOCLET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALADOC_HTML_TYPE_DOCLET))
#define BALADOC_HTML_IS_DOCLET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALADOC_HTML_TYPE_DOCLET))
#define BALADOC_HTML_DOCLET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALADOC_HTML_TYPE_DOCLET, BaladocHtmlDocletClass))

typedef struct _BaladocHtmlDoclet BaladocHtmlDoclet;
typedef struct _BaladocHtmlDocletClass BaladocHtmlDocletClass;
typedef struct _BaladocHtmlDocletPrivate BaladocHtmlDocletPrivate;
enum  {
	BALADOC_HTML_DOCLET_0_PROPERTY,
	BALADOC_HTML_DOCLET_NUM_PROPERTIES
};
static GParamSpec* baladoc_html_doclet_properties[BALADOC_HTML_DOCLET_NUM_PROPERTIES];
#define _g_free0(var) (var = (g_free (var), NULL))

#define BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER (baladoc_html_doclet_index_link_helper_get_type ())
#define BALADOC_HTML_DOCLET_INDEX_LINK_HELPER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER, BaladocHtmlDocletIndexLinkHelper))
#define BALADOC_HTML_DOCLET_INDEX_LINK_HELPER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER, BaladocHtmlDocletIndexLinkHelperClass))
#define BALADOC_HTML_DOCLET_IS_INDEX_LINK_HELPER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER))
#define BALADOC_HTML_DOCLET_IS_INDEX_LINK_HELPER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER))
#define BALADOC_HTML_DOCLET_INDEX_LINK_HELPER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER, BaladocHtmlDocletIndexLinkHelperClass))

typedef struct _BaladocHtmlDocletIndexLinkHelper BaladocHtmlDocletIndexLinkHelper;
typedef struct _BaladocHtmlDocletIndexLinkHelperClass BaladocHtmlDocletIndexLinkHelperClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _baladoc_markup_writer_unref0(var) ((var == NULL) ? NULL : (var = (baladoc_markup_writer_unref (var), NULL)))
#define _fclose0(var) ((var == NULL) ? NULL : (var = (fclose (var), NULL)))
typedef struct _BaladocHtmlDocletIndexLinkHelperPrivate BaladocHtmlDocletIndexLinkHelperPrivate;
enum  {
	BALADOC_HTML_DOCLET_INDEX_LINK_HELPER_0_PROPERTY,
	BALADOC_HTML_DOCLET_INDEX_LINK_HELPER_NUM_PROPERTIES
};
static GParamSpec* baladoc_html_doclet_index_link_helper_properties[BALADOC_HTML_DOCLET_INDEX_LINK_HELPER_NUM_PROPERTIES];

struct _BaladocHtmlDoclet {
	BaladocHtmlBasicDoclet parent_instance;
	BaladocHtmlDocletPrivate * priv;
};

struct _BaladocHtmlDocletClass {
	BaladocHtmlBasicDocletClass parent_class;
};

struct _BaladocHtmlDocletIndexLinkHelper {
	BaladocHtmlLinkHelper parent_instance;
	BaladocHtmlDocletIndexLinkHelperPrivate * priv;
};

struct _BaladocHtmlDocletIndexLinkHelperClass {
	BaladocHtmlLinkHelperClass parent_class;
};

static gpointer baladoc_html_doclet_parent_class = NULL;
static gpointer baladoc_html_doclet_index_link_helper_parent_class = NULL;

GType baladoc_html_doclet_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (BaladocHtmlDoclet, g_object_unref)
#define BALADOC_HTML_DOCLET_css_path_package "style.css"
#define BALADOC_HTML_DOCLET_css_path_wiki "../style.css"
#define BALADOC_HTML_DOCLET_css_path "../style.css"
#define BALADOC_HTML_DOCLET_js_path_package "scripts.js"
#define BALADOC_HTML_DOCLET_js_path_wiki "../scripts.js"
#define BALADOC_HTML_DOCLET_js_path "../scripts.js"
static gchar* baladoc_html_doclet_get_real_path (BaladocHtmlDoclet* self,
                                          BaladocApiNode* element);
static void baladoc_html_doclet_real_process (BaladocHtmlBasicDoclet* base,
                                       BaladocSettings* settings,
                                       BaladocApiTree* tree,
                                       BaladocErrorReporter* reporter);
static GType baladoc_html_doclet_index_link_helper_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (BaladocHtmlDocletIndexLinkHelper, g_object_unref)
static BaladocHtmlDocletIndexLinkHelper* baladoc_html_doclet_index_link_helper_new (void);
static BaladocHtmlDocletIndexLinkHelper* baladoc_html_doclet_index_link_helper_construct (GType object_type);
static gboolean _bala_string_array_contains (gchar* * stack,
                                      gint stack_length,
                                      const gchar* needle);
static void baladoc_html_doclet_real_visit_tree (BaladocApiVisitor* base,
                                          BaladocApiTree* tree);
static void baladoc_html_doclet_real_visit_package (BaladocApiVisitor* base,
                                             BaladocApiPackage* package);
static void baladoc_html_doclet_real_visit_namespace (BaladocApiVisitor* base,
                                               BaladocApiNamespace* ns);
static void baladoc_html_doclet_process_node (BaladocHtmlDoclet* self,
                                       BaladocApiNode* node,
                                       gboolean accept_all_children);
static void baladoc_html_doclet_real_visit_interface (BaladocApiVisitor* base,
                                               BaladocApiInterface* item);
static void baladoc_html_doclet_real_visit_class (BaladocApiVisitor* base,
                                           BaladocApiClass* item);
static void baladoc_html_doclet_real_visit_struct (BaladocApiVisitor* base,
                                            BaladocApiStruct* item);
static void baladoc_html_doclet_real_visit_error_domain (BaladocApiVisitor* base,
                                                  BaladocApiErrorDomain* item);
static void baladoc_html_doclet_real_visit_enum (BaladocApiVisitor* base,
                                          BaladocApiEnum* item);
static void baladoc_html_doclet_real_visit_property (BaladocApiVisitor* base,
                                              BaladocApiProperty* item);
static void baladoc_html_doclet_real_visit_constant (BaladocApiVisitor* base,
                                              BaladocApiConstant* item);
static void baladoc_html_doclet_real_visit_field (BaladocApiVisitor* base,
                                           BaladocApiField* item);
static void baladoc_html_doclet_real_visit_error_code (BaladocApiVisitor* base,
                                                BaladocApiErrorCode* item);
static void baladoc_html_doclet_real_visit_enum_value (BaladocApiVisitor* base,
                                                BaladocApiEnumValue* item);
static void baladoc_html_doclet_real_visit_delegate (BaladocApiVisitor* base,
                                              BaladocApiDelegate* item);
static void baladoc_html_doclet_real_visit_signal (BaladocApiVisitor* base,
                                            BaladocApiSignal* item);
static void baladoc_html_doclet_real_visit_method (BaladocApiVisitor* base,
                                            BaladocApiMethod* item);
BaladocHtmlDoclet* baladoc_html_doclet_new (void);
BaladocHtmlDoclet* baladoc_html_doclet_construct (GType object_type);
static gchar* baladoc_html_doclet_index_link_helper_real_from_wiki_to_package (BaladocHtmlLinkHelper* base,
                                                                        BaladocWikiPage* from,
                                                                        BaladocApiPackage* to);
static gchar* baladoc_html_doclet_index_link_helper_real_from_wiki_to_wiki (BaladocHtmlLinkHelper* base,
                                                                     BaladocWikiPage* from,
                                                                     BaladocWikiPage* to);
static gchar* baladoc_html_doclet_index_link_helper_real_from_wiki_to_node (BaladocHtmlLinkHelper* base,
                                                                     BaladocWikiPage* from,
                                                                     BaladocApiNode* to);
static GType baladoc_html_doclet_index_link_helper_get_type_once (void);
static GType baladoc_html_doclet_get_type_once (void);
GType register_plugin (BaladocModuleLoader* module_loader);

static gchar*
baladoc_html_doclet_get_real_path (BaladocHtmlDoclet* self,
                                   BaladocApiNode* element)
{
	BaladocSettings* _tmp0_;
	BaladocSettings* _tmp1_;
	const gchar* _tmp2_;
	BaladocApiPackage* _tmp3_;
	BaladocApiPackage* _tmp4_;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (element != NULL, NULL);
	_tmp0_ = baladoc_html_basic_doclet_get_settings ((BaladocHtmlBasicDoclet*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_->path;
	_tmp3_ = baladoc_documentation_get_package ((BaladocDocumentation*) element);
	_tmp4_ = _tmp3_;
	_tmp5_ = baladoc_api_node_get_name ((BaladocApiNode*) _tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = baladoc_api_node_get_full_name (element);
	_tmp8_ = _tmp7_;
	_tmp9_ = g_strconcat (_tmp8_, ".html", NULL);
	_tmp10_ = _tmp9_;
	_tmp11_ = g_build_filename (_tmp2_, _tmp6_, _tmp10_, NULL);
	_tmp12_ = _tmp11_;
	_g_free0 (_tmp10_);
	_g_free0 (_tmp8_);
	result = _tmp12_;
	return result;
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static gboolean
_bala_string_array_contains (gchar* * stack,
                             gint stack_length,
                             const gchar* needle)
{
	gint i;
	for (i = 0; i < stack_length; i++) {
		if (g_strcmp0 (stack[i], needle) == 0) {
			return TRUE;
		}
	}
	return FALSE;
}

static void
baladoc_html_doclet_real_process (BaladocHtmlBasicDoclet* base,
                                  BaladocSettings* settings,
                                  BaladocApiTree* tree,
                                  BaladocErrorReporter* reporter)
{
	BaladocHtmlDoclet * self;
	BaladocSettings* _tmp0_;
	BaladocSettings* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	BaladocHtmlHtmlRenderer* tmp = NULL;
	BaladocHtmlHtmlRenderer* _tmp10_;
	BaladocHtmlHtmlRenderer* _tmp11_;
	BaladocHtmlDocletIndexLinkHelper* link_helper = NULL;
	BaladocHtmlDocletIndexLinkHelper* _tmp12_;
	gboolean _tmp13_ = FALSE;
	gchar** _tmp14_;
	gint _tmp14__length1;
	BaladocHtmlDocletIndexLinkHelper* _tmp17_;
	BaladocHtmlCssClassResolver* _tmp18_;
	BaladocHtmlHtmlRenderer* _tmp19_;
	FILE* file = NULL;
	const gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	FILE* _tmp23_;
	FILE* _tmp24_;
	FILE* _tmp25_;
	BaladocHtmlMarkupWriter* _tmp26_;
	BaladocHtmlHtmlRenderer* _tmp27_;
	BaladocHtmlMarkupWriter* _tmp28_;
	const gchar* _tmp29_;
	BaladocHtmlHtmlRenderer* _tmp30_;
	BaladocHtmlHtmlRenderer* _tmp31_;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (settings != NULL);
	g_return_if_fail (tree != NULL);
	g_return_if_fail (reporter != NULL);
	BALADOC_HTML_BASIC_DOCLET_CLASS (baladoc_html_doclet_parent_class)->process (G_TYPE_CHECK_INSTANCE_CAST (self, BALADOC_HTML_TYPE_BASIC_DOCLET, BaladocHtmlBasicDoclet), settings, tree, reporter);
	_tmp0_ = baladoc_html_basic_doclet_get_settings ((BaladocHtmlBasicDoclet*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_->path;
	g_mkdir_with_parents (_tmp2_, 0777);
	_tmp3_ = settings->path;
	if (!baladoc_copy_directory (PACKAGE_BALADOC_ICONDIR, _tmp3_)) {
		gchar* _tmp4_;
		gchar* _tmp5_;
		_tmp4_ = g_strdup_printf ("Couldn't copy resources from `%s'", PACKAGE_BALADOC_ICONDIR);
		_tmp5_ = _tmp4_;
		baladoc_error_reporter_simple_warning (reporter, "Html", "%s", _tmp5_);
		_g_free0 (_tmp5_);
	}
	_tmp6_ = settings->path;
	_tmp7_ = settings->pkg_name;
	_tmp8_ = g_build_filename (_tmp6_, _tmp7_, NULL);
	_tmp9_ = _tmp8_;
	baladoc_html_basic_doclet_write_wiki_pages ((BaladocHtmlBasicDoclet*) self, tree, BALADOC_HTML_DOCLET_css_path_wiki, BALADOC_HTML_DOCLET_js_path_wiki, _tmp9_);
	_g_free0 (_tmp9_);
	_tmp10_ = ((BaladocHtmlBasicDoclet*) self)->_renderer;
	_tmp11_ = _g_object_ref0 (_tmp10_);
	tmp = _tmp11_;
	_tmp12_ = baladoc_html_doclet_index_link_helper_new ();
	link_helper = _tmp12_;
	_tmp14_ = settings->pluginargs;
	_tmp14__length1 = settings->pluginargs_length1;
	if (_tmp14_ != NULL) {
		gchar** _tmp15_;
		gint _tmp15__length1;
		_tmp15_ = settings->pluginargs;
		_tmp15__length1 = settings->pluginargs_length1;
		_tmp13_ = _bala_string_array_contains (_tmp15_, _tmp15__length1, "--no-browsable-check");
	} else {
		_tmp13_ = FALSE;
	}
	if (_tmp13_) {
		BaladocHtmlDocletIndexLinkHelper* _tmp16_;
		_tmp16_ = link_helper;
		baladoc_html_link_helper_set_enable_browsable_check ((BaladocHtmlLinkHelper*) _tmp16_, FALSE);
	}
	_tmp17_ = link_helper;
	_tmp18_ = ((BaladocHtmlBasicDoclet*) self)->cssresolver;
	_tmp19_ = baladoc_html_html_renderer_new (settings, (BaladocHtmlLinkHelper*) _tmp17_, _tmp18_);
	_g_object_unref0 (((BaladocHtmlBasicDoclet*) self)->_renderer);
	((BaladocHtmlBasicDoclet*) self)->_renderer = _tmp19_;
	_tmp20_ = settings->path;
	_tmp21_ = g_build_filename (_tmp20_, "index.html", NULL);
	_tmp22_ = _tmp21_;
	_tmp23_ = g_fopen (_tmp22_, "w");
	_tmp24_ = _tmp23_;
	_g_free0 (_tmp22_);
	file = _tmp24_;
	_tmp25_ = file;
	_tmp26_ = baladoc_html_markup_writer_new (_tmp25_, TRUE);
	_baladoc_markup_writer_unref0 (((BaladocHtmlBasicDoclet*) self)->writer);
	((BaladocHtmlBasicDoclet*) self)->writer = _tmp26_;
	_tmp27_ = ((BaladocHtmlBasicDoclet*) self)->_renderer;
	_tmp28_ = ((BaladocHtmlBasicDoclet*) self)->writer;
	baladoc_html_html_renderer_set_writer (_tmp27_, _tmp28_);
	_tmp29_ = settings->pkg_name;
	baladoc_html_basic_doclet_write_file_header ((BaladocHtmlBasicDoclet*) self, BALADOC_HTML_DOCLET_css_path_package, BALADOC_HTML_DOCLET_js_path_package, _tmp29_);
	baladoc_html_basic_doclet_write_navi_packages ((BaladocHtmlBasicDoclet*) self, tree);
	baladoc_html_basic_doclet_write_package_index_content ((BaladocHtmlBasicDoclet*) self, tree);
	baladoc_html_basic_doclet_write_file_footer ((BaladocHtmlBasicDoclet*) self);
	_tmp30_ = tmp;
	_tmp31_ = _g_object_ref0 (_tmp30_);
	_g_object_unref0 (((BaladocHtmlBasicDoclet*) self)->_renderer);
	((BaladocHtmlBasicDoclet*) self)->_renderer = _tmp31_;
	_fclose0 (file);
	file = NULL;
	baladoc_api_tree_accept (tree, (BaladocApiVisitor*) self);
	_fclose0 (file);
	_g_object_unref0 (link_helper);
	_g_object_unref0 (tmp);
}

static void
baladoc_html_doclet_real_visit_tree (BaladocApiVisitor* base,
                                     BaladocApiTree* tree)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (tree != NULL);
	baladoc_api_tree_accept_children (tree, (BaladocApiVisitor*) self);
}

static void
baladoc_html_doclet_real_visit_package (BaladocApiVisitor* base,
                                        BaladocApiPackage* package)
{
	BaladocHtmlDoclet * self;
	BaladocSettings* _tmp0_;
	BaladocSettings* _tmp1_;
	gchar* pkg_name = NULL;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* path = NULL;
	BaladocSettings* _tmp5_;
	BaladocSettings* _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	gchar* _tmp9_;
	gboolean _tmp10_ = FALSE;
	gboolean _tmp11_;
	gboolean _tmp12_;
	gint rt = 0;
	const gchar* _tmp14_;
	const gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	FILE* file = NULL;
	const gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	FILE* _tmp21_;
	FILE* _tmp22_;
	FILE* _tmp23_;
	BaladocHtmlMarkupWriter* _tmp24_;
	BaladocHtmlHtmlRenderer* _tmp25_;
	BaladocHtmlMarkupWriter* _tmp26_;
	const gchar* _tmp27_;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (package != NULL);
	_tmp0_ = baladoc_html_basic_doclet_get_settings ((BaladocHtmlBasicDoclet*) self);
	_tmp1_ = _tmp0_;
	if (!baladoc_api_node_is_browsable ((BaladocApiNode*) package, _tmp1_)) {
		return;
	}
	_tmp2_ = baladoc_api_node_get_name ((BaladocApiNode*) package);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strdup (_tmp3_);
	pkg_name = _tmp4_;
	_tmp5_ = baladoc_html_basic_doclet_get_settings ((BaladocHtmlBasicDoclet*) self);
	_tmp6_ = _tmp5_;
	_tmp7_ = _tmp6_->path;
	_tmp8_ = pkg_name;
	_tmp9_ = g_build_filename (_tmp7_, _tmp8_, NULL);
	path = _tmp9_;
	_tmp11_ = baladoc_api_package_get_is_package (package);
	_tmp12_ = _tmp11_;
	if (_tmp12_) {
		const gchar* _tmp13_;
		_tmp13_ = path;
		_tmp10_ = g_file_test (_tmp13_, G_FILE_TEST_EXISTS);
	} else {
		_tmp10_ = FALSE;
	}
	if (_tmp10_) {
		_g_free0 (path);
		_g_free0 (pkg_name);
		return;
	}
	_tmp14_ = path;
	rt = g_mkdir (_tmp14_, 0777);
	_tmp15_ = path;
	_tmp16_ = g_build_filename (_tmp15_, "img", NULL);
	_tmp17_ = _tmp16_;
	rt = g_mkdir (_tmp17_, 0777);
	_g_free0 (_tmp17_);
	_tmp18_ = path;
	_tmp19_ = g_build_filename (_tmp18_, "index.htm", NULL);
	_tmp20_ = _tmp19_;
	_tmp21_ = g_fopen (_tmp20_, "w");
	_tmp22_ = _tmp21_;
	_g_free0 (_tmp20_);
	file = _tmp22_;
	_tmp23_ = file;
	_tmp24_ = baladoc_html_markup_writer_new (_tmp23_, TRUE);
	_baladoc_markup_writer_unref0 (((BaladocHtmlBasicDoclet*) self)->writer);
	((BaladocHtmlBasicDoclet*) self)->writer = _tmp24_;
	_tmp25_ = ((BaladocHtmlBasicDoclet*) self)->_renderer;
	_tmp26_ = ((BaladocHtmlBasicDoclet*) self)->writer;
	baladoc_html_html_renderer_set_writer (_tmp25_, _tmp26_);
	_tmp27_ = pkg_name;
	baladoc_html_basic_doclet_write_file_header ((BaladocHtmlBasicDoclet*) self, BALADOC_HTML_DOCLET_css_path, BALADOC_HTML_DOCLET_js_path, _tmp27_);
	baladoc_html_basic_doclet_write_navi_package ((BaladocHtmlBasicDoclet*) self, package);
	baladoc_html_basic_doclet_write_package_content ((BaladocHtmlBasicDoclet*) self, package, (BaladocApiNode*) package);
	baladoc_html_basic_doclet_write_file_footer ((BaladocHtmlBasicDoclet*) self);
	_fclose0 (file);
	file = NULL;
	baladoc_api_node_accept_all_children ((BaladocApiNode*) package, (BaladocApiVisitor*) self, TRUE);
	_fclose0 (file);
	_g_free0 (path);
	_g_free0 (pkg_name);
}

static void
baladoc_html_doclet_real_visit_namespace (BaladocApiVisitor* base,
                                          BaladocApiNamespace* ns)
{
	BaladocHtmlDoclet * self;
	gchar* rpath = NULL;
	gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (ns != NULL);
	_tmp0_ = baladoc_html_doclet_get_real_path (self, (BaladocApiNode*) ns);
	rpath = _tmp0_;
	_tmp1_ = baladoc_api_node_get_name ((BaladocApiNode*) ns);
	_tmp2_ = _tmp1_;
	if (_tmp2_ != NULL) {
		FILE* file = NULL;
		const gchar* _tmp3_;
		FILE* _tmp4_;
		FILE* _tmp5_;
		BaladocHtmlMarkupWriter* _tmp6_;
		BaladocHtmlHtmlRenderer* _tmp7_;
		BaladocHtmlMarkupWriter* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		BaladocApiPackage* _tmp13_;
		BaladocApiPackage* _tmp14_;
		const gchar* _tmp15_;
		const gchar* _tmp16_;
		gchar* _tmp17_;
		gchar* _tmp18_;
		_tmp3_ = rpath;
		_tmp4_ = g_fopen (_tmp3_, "w");
		file = _tmp4_;
		_tmp5_ = file;
		_tmp6_ = baladoc_html_markup_writer_new (_tmp5_, TRUE);
		_baladoc_markup_writer_unref0 (((BaladocHtmlBasicDoclet*) self)->writer);
		((BaladocHtmlBasicDoclet*) self)->writer = _tmp6_;
		_tmp7_ = ((BaladocHtmlBasicDoclet*) self)->_renderer;
		_tmp8_ = ((BaladocHtmlBasicDoclet*) self)->writer;
		baladoc_html_html_renderer_set_writer (_tmp7_, _tmp8_);
		_tmp9_ = baladoc_api_node_get_full_name ((BaladocApiNode*) ns);
		_tmp10_ = _tmp9_;
		_tmp11_ = g_strconcat (_tmp10_, " &ndash; ", NULL);
		_tmp12_ = _tmp11_;
		_tmp13_ = baladoc_documentation_get_package ((BaladocDocumentation*) ns);
		_tmp14_ = _tmp13_;
		_tmp15_ = baladoc_api_node_get_name ((BaladocApiNode*) _tmp14_);
		_tmp16_ = _tmp15_;
		_tmp17_ = g_strconcat (_tmp12_, _tmp16_, NULL);
		_tmp18_ = _tmp17_;
		baladoc_html_basic_doclet_write_file_header ((BaladocHtmlBasicDoclet*) self, BALADOC_HTML_DOCLET_css_path, BALADOC_HTML_DOCLET_js_path, _tmp18_);
		_g_free0 (_tmp18_);
		_g_free0 (_tmp12_);
		_g_free0 (_tmp10_);
		baladoc_html_basic_doclet_write_navi_symbol ((BaladocHtmlBasicDoclet*) self, (BaladocApiNode*) ns);
		baladoc_html_basic_doclet_write_namespace_content ((BaladocHtmlBasicDoclet*) self, ns, (BaladocApiNode*) ns);
		baladoc_html_basic_doclet_write_file_footer ((BaladocHtmlBasicDoclet*) self);
		_fclose0 (file);
		file = NULL;
		_fclose0 (file);
	}
	baladoc_api_node_accept_all_children ((BaladocApiNode*) ns, (BaladocApiVisitor*) self, TRUE);
	_g_free0 (rpath);
}

static void
baladoc_html_doclet_process_node (BaladocHtmlDoclet* self,
                                  BaladocApiNode* node,
                                  gboolean accept_all_children)
{
	gchar* rpath = NULL;
	gchar* _tmp0_;
	FILE* file = NULL;
	const gchar* _tmp1_;
	FILE* _tmp2_;
	FILE* _tmp3_;
	BaladocHtmlMarkupWriter* _tmp4_;
	BaladocHtmlHtmlRenderer* _tmp5_;
	BaladocHtmlMarkupWriter* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	BaladocApiPackage* _tmp11_;
	BaladocApiPackage* _tmp12_;
	const gchar* _tmp13_;
	const gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (node != NULL);
	_tmp0_ = baladoc_html_doclet_get_real_path (self, node);
	rpath = _tmp0_;
	_tmp1_ = rpath;
	_tmp2_ = g_fopen (_tmp1_, "w");
	file = _tmp2_;
	_tmp3_ = file;
	_tmp4_ = baladoc_html_markup_writer_new (_tmp3_, TRUE);
	_baladoc_markup_writer_unref0 (((BaladocHtmlBasicDoclet*) self)->writer);
	((BaladocHtmlBasicDoclet*) self)->writer = _tmp4_;
	_tmp5_ = ((BaladocHtmlBasicDoclet*) self)->_renderer;
	_tmp6_ = ((BaladocHtmlBasicDoclet*) self)->writer;
	baladoc_html_html_renderer_set_writer (_tmp5_, _tmp6_);
	_tmp7_ = baladoc_api_node_get_full_name (node);
	_tmp8_ = _tmp7_;
	_tmp9_ = g_strconcat (_tmp8_, " &ndash; ", NULL);
	_tmp10_ = _tmp9_;
	_tmp11_ = baladoc_documentation_get_package ((BaladocDocumentation*) node);
	_tmp12_ = _tmp11_;
	_tmp13_ = baladoc_api_node_get_name ((BaladocApiNode*) _tmp12_);
	_tmp14_ = _tmp13_;
	_tmp15_ = g_strconcat (_tmp10_, _tmp14_, NULL);
	_tmp16_ = _tmp15_;
	baladoc_html_basic_doclet_write_file_header ((BaladocHtmlBasicDoclet*) self, BALADOC_HTML_DOCLET_css_path, BALADOC_HTML_DOCLET_js_path, _tmp16_);
	_g_free0 (_tmp16_);
	_g_free0 (_tmp10_);
	_g_free0 (_tmp8_);
	if (baladoc_html_basic_doclet_is_internal_node ((BaladocHtmlBasicDoclet*) self, node)) {
		baladoc_html_basic_doclet_write_navi_symbol ((BaladocHtmlBasicDoclet*) self, node);
	} else {
		baladoc_html_basic_doclet_write_navi_leaf_symbol ((BaladocHtmlBasicDoclet*) self, node);
	}
	baladoc_html_basic_doclet_write_symbol_content ((BaladocHtmlBasicDoclet*) self, node);
	baladoc_html_basic_doclet_write_file_footer ((BaladocHtmlBasicDoclet*) self);
	_fclose0 (file);
	file = NULL;
	if (accept_all_children) {
		baladoc_api_node_accept_all_children (node, (BaladocApiVisitor*) self, TRUE);
	}
	_fclose0 (file);
	_g_free0 (rpath);
}

static void
baladoc_html_doclet_real_visit_interface (BaladocApiVisitor* base,
                                          BaladocApiInterface* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, TRUE);
}

static void
baladoc_html_doclet_real_visit_class (BaladocApiVisitor* base,
                                      BaladocApiClass* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, TRUE);
}

static void
baladoc_html_doclet_real_visit_struct (BaladocApiVisitor* base,
                                       BaladocApiStruct* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, TRUE);
}

static void
baladoc_html_doclet_real_visit_error_domain (BaladocApiVisitor* base,
                                             BaladocApiErrorDomain* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, TRUE);
}

static void
baladoc_html_doclet_real_visit_enum (BaladocApiVisitor* base,
                                     BaladocApiEnum* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, TRUE);
}

static void
baladoc_html_doclet_real_visit_property (BaladocApiVisitor* base,
                                         BaladocApiProperty* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_constant (BaladocApiVisitor* base,
                                         BaladocApiConstant* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_field (BaladocApiVisitor* base,
                                      BaladocApiField* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_error_code (BaladocApiVisitor* base,
                                           BaladocApiErrorCode* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_enum_value (BaladocApiVisitor* base,
                                           BaladocApiEnumValue* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_delegate (BaladocApiVisitor* base,
                                         BaladocApiDelegate* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_signal (BaladocApiVisitor* base,
                                       BaladocApiSignal* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

static void
baladoc_html_doclet_real_visit_method (BaladocApiVisitor* base,
                                       BaladocApiMethod* item)
{
	BaladocHtmlDoclet * self;
	self = (BaladocHtmlDoclet*) base;
	g_return_if_fail (item != NULL);
	baladoc_html_doclet_process_node (self, (BaladocApiNode*) item, FALSE);
}

BaladocHtmlDoclet*
baladoc_html_doclet_construct (GType object_type)
{
	BaladocHtmlDoclet * self = NULL;
	self = (BaladocHtmlDoclet*) baladoc_html_basic_doclet_construct (object_type);
	return self;
}

BaladocHtmlDoclet*
baladoc_html_doclet_new (void)
{
	return baladoc_html_doclet_construct (BALADOC_HTML_TYPE_DOCLET);
}

static gchar*
baladoc_html_doclet_index_link_helper_real_from_wiki_to_package (BaladocHtmlLinkHelper* base,
                                                                 BaladocWikiPage* from,
                                                                 BaladocApiPackage* to)
{
	BaladocHtmlDocletIndexLinkHelper * self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* result = NULL;
	self = (BaladocHtmlDocletIndexLinkHelper*) base;
	g_return_val_if_fail (from != NULL, NULL);
	g_return_val_if_fail (to != NULL, NULL);
	_tmp0_ = baladoc_wiki_page_get_name (from);
	_tmp1_ = _tmp0_;
	if (g_strcmp0 (_tmp1_, "index.baladoc") != 0) {
		gchar* _tmp2_;
		_tmp2_ = BALADOC_HTML_LINK_HELPER_CLASS (baladoc_html_doclet_index_link_helper_parent_class)->from_wiki_to_package (G_TYPE_CHECK_INSTANCE_CAST (self, BALADOC_HTML_TYPE_LINK_HELPER, BaladocHtmlLinkHelper), from, to);
		result = _tmp2_;
		return result;
	}
	_tmp3_ = baladoc_api_node_get_name ((BaladocApiNode*) to);
	_tmp4_ = _tmp3_;
	_tmp5_ = baladoc_api_node_get_name ((BaladocApiNode*) to);
	_tmp6_ = _tmp5_;
	_tmp7_ = g_strconcat (_tmp6_, ".htm", NULL);
	_tmp8_ = _tmp7_;
	_tmp9_ = g_build_filename (_tmp4_, _tmp8_, NULL);
	_tmp10_ = _tmp9_;
	_g_free0 (_tmp8_);
	result = _tmp10_;
	return result;
}

static gchar*
baladoc_html_doclet_index_link_helper_real_from_wiki_to_wiki (BaladocHtmlLinkHelper* base,
                                                              BaladocWikiPage* from,
                                                              BaladocWikiPage* to)
{
	BaladocHtmlDocletIndexLinkHelper * self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	BaladocSettings* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* result = NULL;
	self = (BaladocHtmlDocletIndexLinkHelper*) base;
	g_return_val_if_fail (from != NULL, NULL);
	g_return_val_if_fail (to != NULL, NULL);
	_tmp0_ = baladoc_wiki_page_get_name (from);
	_tmp1_ = _tmp0_;
	if (g_strcmp0 (_tmp1_, "index.baladoc") != 0) {
		gchar* _tmp2_;
		_tmp2_ = BALADOC_HTML_LINK_HELPER_CLASS (baladoc_html_doclet_index_link_helper_parent_class)->from_wiki_to_wiki (G_TYPE_CHECK_INSTANCE_CAST (self, BALADOC_HTML_TYPE_LINK_HELPER, BaladocHtmlLinkHelper), from, to);
		result = _tmp2_;
		return result;
	}
	_tmp3_ = ((BaladocHtmlLinkHelper*) self)->_settings;
	_tmp4_ = _tmp3_->pkg_name;
	_tmp5_ = baladoc_html_link_helper_translate_wiki_name ((BaladocHtmlLinkHelper*) self, to);
	_tmp6_ = _tmp5_;
	_tmp7_ = g_build_filename (_tmp4_, _tmp6_, NULL);
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp6_);
	result = _tmp8_;
	return result;
}

static gchar*
baladoc_html_doclet_index_link_helper_real_from_wiki_to_node (BaladocHtmlLinkHelper* base,
                                                              BaladocWikiPage* from,
                                                              BaladocApiNode* to)
{
	BaladocHtmlDocletIndexLinkHelper * self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_;
	gboolean _tmp5_;
	BaladocApiPackage* _tmp11_;
	BaladocApiPackage* _tmp12_;
	const gchar* _tmp13_;
	const gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* result = NULL;
	self = (BaladocHtmlDocletIndexLinkHelper*) base;
	g_return_val_if_fail (from != NULL, NULL);
	g_return_val_if_fail (to != NULL, NULL);
	_tmp0_ = baladoc_wiki_page_get_name (from);
	_tmp1_ = _tmp0_;
	if (g_strcmp0 (_tmp1_, "index.baladoc") != 0) {
		gchar* _tmp2_;
		_tmp2_ = BALADOC_HTML_LINK_HELPER_CLASS (baladoc_html_doclet_index_link_helper_parent_class)->from_wiki_to_node (G_TYPE_CHECK_INSTANCE_CAST (self, BALADOC_HTML_TYPE_LINK_HELPER, BaladocHtmlLinkHelper), from, to);
		result = _tmp2_;
		return result;
	}
	_tmp4_ = baladoc_html_link_helper_get_enable_browsable_check ((BaladocHtmlLinkHelper*) self);
	_tmp5_ = _tmp4_;
	if (_tmp5_) {
		gboolean _tmp6_ = FALSE;
		BaladocSettings* _tmp7_;
		_tmp7_ = ((BaladocHtmlLinkHelper*) self)->_settings;
		if (!baladoc_api_node_is_browsable (to, _tmp7_)) {
			_tmp6_ = TRUE;
		} else {
			BaladocApiPackage* _tmp8_;
			BaladocApiPackage* _tmp9_;
			BaladocSettings* _tmp10_;
			_tmp8_ = baladoc_documentation_get_package ((BaladocDocumentation*) to);
			_tmp9_ = _tmp8_;
			_tmp10_ = ((BaladocHtmlLinkHelper*) self)->_settings;
			_tmp6_ = !baladoc_api_node_is_browsable ((BaladocApiNode*) _tmp9_, _tmp10_);
		}
		_tmp3_ = _tmp6_;
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		result = NULL;
		return result;
	}
	_tmp11_ = baladoc_documentation_get_package ((BaladocDocumentation*) to);
	_tmp12_ = _tmp11_;
	_tmp13_ = baladoc_api_node_get_name ((BaladocApiNode*) _tmp12_);
	_tmp14_ = _tmp13_;
	_tmp15_ = baladoc_api_node_get_full_name (to);
	_tmp16_ = _tmp15_;
	_tmp17_ = g_strconcat (_tmp16_, ".html", NULL);
	_tmp18_ = _tmp17_;
	_tmp19_ = g_build_filename (_tmp14_, _tmp18_, NULL);
	_tmp20_ = _tmp19_;
	_g_free0 (_tmp18_);
	_g_free0 (_tmp16_);
	result = _tmp20_;
	return result;
}

static BaladocHtmlDocletIndexLinkHelper*
baladoc_html_doclet_index_link_helper_construct (GType object_type)
{
	BaladocHtmlDocletIndexLinkHelper * self = NULL;
	self = (BaladocHtmlDocletIndexLinkHelper*) baladoc_html_link_helper_construct (object_type);
	return self;
}

static BaladocHtmlDocletIndexLinkHelper*
baladoc_html_doclet_index_link_helper_new (void)
{
	return baladoc_html_doclet_index_link_helper_construct (BALADOC_HTML_DOCLET_TYPE_INDEX_LINK_HELPER);
}

static void
baladoc_html_doclet_index_link_helper_class_init (BaladocHtmlDocletIndexLinkHelperClass * klass,
                                                  gpointer klass_data)
{
	baladoc_html_doclet_index_link_helper_parent_class = g_type_class_peek_parent (klass);
	((BaladocHtmlLinkHelperClass *) klass)->from_wiki_to_package = (gchar* (*) (BaladocHtmlLinkHelper*, BaladocWikiPage*, BaladocApiPackage*)) baladoc_html_doclet_index_link_helper_real_from_wiki_to_package;
	((BaladocHtmlLinkHelperClass *) klass)->from_wiki_to_wiki = (gchar* (*) (BaladocHtmlLinkHelper*, BaladocWikiPage*, BaladocWikiPage*)) baladoc_html_doclet_index_link_helper_real_from_wiki_to_wiki;
	((BaladocHtmlLinkHelperClass *) klass)->from_wiki_to_node = (gchar* (*) (BaladocHtmlLinkHelper*, BaladocWikiPage*, BaladocApiNode*)) baladoc_html_doclet_index_link_helper_real_from_wiki_to_node;
}

static void
baladoc_html_doclet_index_link_helper_instance_init (BaladocHtmlDocletIndexLinkHelper * self,
                                                     gpointer klass)
{
}

static GType
baladoc_html_doclet_index_link_helper_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BaladocHtmlDocletIndexLinkHelperClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) baladoc_html_doclet_index_link_helper_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BaladocHtmlDocletIndexLinkHelper), 0, (GInstanceInitFunc) baladoc_html_doclet_index_link_helper_instance_init, NULL };
	GType baladoc_html_doclet_index_link_helper_type_id;
	baladoc_html_doclet_index_link_helper_type_id = g_type_register_static (BALADOC_HTML_TYPE_LINK_HELPER, "BaladocHtmlDocletIndexLinkHelper", &g_define_type_info, 0);
	return baladoc_html_doclet_index_link_helper_type_id;
}

static GType
baladoc_html_doclet_index_link_helper_get_type (void)
{
	static volatile gsize baladoc_html_doclet_index_link_helper_type_id__volatile = 0;
	if (g_once_init_enter (&baladoc_html_doclet_index_link_helper_type_id__volatile)) {
		GType baladoc_html_doclet_index_link_helper_type_id;
		baladoc_html_doclet_index_link_helper_type_id = baladoc_html_doclet_index_link_helper_get_type_once ();
		g_once_init_leave (&baladoc_html_doclet_index_link_helper_type_id__volatile, baladoc_html_doclet_index_link_helper_type_id);
	}
	return baladoc_html_doclet_index_link_helper_type_id__volatile;
}

static void
baladoc_html_doclet_class_init (BaladocHtmlDocletClass * klass,
                                gpointer klass_data)
{
	baladoc_html_doclet_parent_class = g_type_class_peek_parent (klass);
	((BaladocHtmlBasicDocletClass *) klass)->process = (void (*) (BaladocHtmlBasicDoclet*, BaladocSettings*, BaladocApiTree*, BaladocErrorReporter*)) baladoc_html_doclet_real_process;
	((BaladocApiVisitorClass *) klass)->visit_tree = (void (*) (BaladocApiVisitor*, BaladocApiTree*)) baladoc_html_doclet_real_visit_tree;
	((BaladocApiVisitorClass *) klass)->visit_package = (void (*) (BaladocApiVisitor*, BaladocApiPackage*)) baladoc_html_doclet_real_visit_package;
	((BaladocApiVisitorClass *) klass)->visit_namespace = (void (*) (BaladocApiVisitor*, BaladocApiNamespace*)) baladoc_html_doclet_real_visit_namespace;
	((BaladocApiVisitorClass *) klass)->visit_interface = (void (*) (BaladocApiVisitor*, BaladocApiInterface*)) baladoc_html_doclet_real_visit_interface;
	((BaladocApiVisitorClass *) klass)->visit_class = (void (*) (BaladocApiVisitor*, BaladocApiClass*)) baladoc_html_doclet_real_visit_class;
	((BaladocApiVisitorClass *) klass)->visit_struct = (void (*) (BaladocApiVisitor*, BaladocApiStruct*)) baladoc_html_doclet_real_visit_struct;
	((BaladocApiVisitorClass *) klass)->visit_error_domain = (void (*) (BaladocApiVisitor*, BaladocApiErrorDomain*)) baladoc_html_doclet_real_visit_error_domain;
	((BaladocApiVisitorClass *) klass)->visit_enum = (void (*) (BaladocApiVisitor*, BaladocApiEnum*)) baladoc_html_doclet_real_visit_enum;
	((BaladocApiVisitorClass *) klass)->visit_property = (void (*) (BaladocApiVisitor*, BaladocApiProperty*)) baladoc_html_doclet_real_visit_property;
	((BaladocApiVisitorClass *) klass)->visit_constant = (void (*) (BaladocApiVisitor*, BaladocApiConstant*)) baladoc_html_doclet_real_visit_constant;
	((BaladocApiVisitorClass *) klass)->visit_field = (void (*) (BaladocApiVisitor*, BaladocApiField*)) baladoc_html_doclet_real_visit_field;
	((BaladocApiVisitorClass *) klass)->visit_error_code = (void (*) (BaladocApiVisitor*, BaladocApiErrorCode*)) baladoc_html_doclet_real_visit_error_code;
	((BaladocApiVisitorClass *) klass)->visit_enum_value = (void (*) (BaladocApiVisitor*, BaladocApiEnumValue*)) baladoc_html_doclet_real_visit_enum_value;
	((BaladocApiVisitorClass *) klass)->visit_delegate = (void (*) (BaladocApiVisitor*, BaladocApiDelegate*)) baladoc_html_doclet_real_visit_delegate;
	((BaladocApiVisitorClass *) klass)->visit_signal = (void (*) (BaladocApiVisitor*, BaladocApiSignal*)) baladoc_html_doclet_real_visit_signal;
	((BaladocApiVisitorClass *) klass)->visit_method = (void (*) (BaladocApiVisitor*, BaladocApiMethod*)) baladoc_html_doclet_real_visit_method;
}

static void
baladoc_html_doclet_instance_init (BaladocHtmlDoclet * self,
                                   gpointer klass)
{
}

static GType
baladoc_html_doclet_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BaladocHtmlDocletClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) baladoc_html_doclet_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BaladocHtmlDoclet), 0, (GInstanceInitFunc) baladoc_html_doclet_instance_init, NULL };
	GType baladoc_html_doclet_type_id;
	baladoc_html_doclet_type_id = g_type_register_static (BALADOC_HTML_TYPE_BASIC_DOCLET, "BaladocHtmlDoclet", &g_define_type_info, 0);
	return baladoc_html_doclet_type_id;
}

GType
baladoc_html_doclet_get_type (void)
{
	static volatile gsize baladoc_html_doclet_type_id__volatile = 0;
	if (g_once_init_enter (&baladoc_html_doclet_type_id__volatile)) {
		GType baladoc_html_doclet_type_id;
		baladoc_html_doclet_type_id = baladoc_html_doclet_get_type_once ();
		g_once_init_leave (&baladoc_html_doclet_type_id__volatile, baladoc_html_doclet_type_id);
	}
	return baladoc_html_doclet_type_id__volatile;
}

GType
register_plugin (BaladocModuleLoader* module_loader)
{
	GType result = 0UL;
	g_return_val_if_fail (module_loader != NULL, 0UL);
	result = BALADOC_HTML_TYPE_DOCLET;
	return result;
}

