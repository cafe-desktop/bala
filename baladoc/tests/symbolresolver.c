/* symbolresolver.c generated by balac, the Bala compiler
 * generated from symbolresolver.bala, do not modify */

/* symbolresolver.bala
 *
 * Copyright (C) 2011  Florian Brosch
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Florian Brosch <flo.brosch@gmail.com>
 */

#include <baladoc.h>
#include <glib-object.h>
#include <balagee.h>
#include <bala.h>
#include <glib.h>

#define BALADOC_TYPE_SYMBOL_RESOLVER (baladoc_symbol_resolver_get_type ())
#define BALADOC_SYMBOL_RESOLVER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALADOC_TYPE_SYMBOL_RESOLVER, BaladocSymbolResolver))
#define BALADOC_SYMBOL_RESOLVER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALADOC_TYPE_SYMBOL_RESOLVER, BaladocSymbolResolverClass))
#define BALADOC_IS_SYMBOL_RESOLVER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALADOC_TYPE_SYMBOL_RESOLVER))
#define BALADOC_IS_SYMBOL_RESOLVER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALADOC_TYPE_SYMBOL_RESOLVER))
#define BALADOC_SYMBOL_RESOLVER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALADOC_TYPE_SYMBOL_RESOLVER, BaladocSymbolResolverClass))

typedef struct _BaladocSymbolResolver BaladocSymbolResolver;
typedef struct _BaladocSymbolResolverClass BaladocSymbolResolverClass;
typedef struct _BaladocSymbolResolverPrivate BaladocSymbolResolverPrivate;
enum  {
	BALADOC_SYMBOL_RESOLVER_0_PROPERTY,
	BALADOC_SYMBOL_RESOLVER_NUM_PROPERTIES
};
static GParamSpec* baladoc_symbol_resolver_properties[BALADOC_SYMBOL_RESOLVER_NUM_PROPERTIES];
#define _bala_map_unref0(var) ((var == NULL) ? NULL : (var = (bala_map_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _baladoc_api_tree_unref0(var) ((var == NULL) ? NULL : (var = (baladoc_api_tree_unref (var), NULL)))

#define BALADOC_TYPE_TREE_BUILDER (baladoc_tree_builder_get_type ())
#define BALADOC_TREE_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALADOC_TYPE_TREE_BUILDER, BaladocTreeBuilder))
#define BALADOC_TREE_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALADOC_TYPE_TREE_BUILDER, BaladocTreeBuilderClass))
#define BALADOC_IS_TREE_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALADOC_TYPE_TREE_BUILDER))
#define BALADOC_IS_TREE_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALADOC_TYPE_TREE_BUILDER))
#define BALADOC_TREE_BUILDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALADOC_TYPE_TREE_BUILDER, BaladocTreeBuilderClass))

typedef struct _BaladocTreeBuilder BaladocTreeBuilder;
typedef struct _BaladocTreeBuilderClass BaladocTreeBuilderClass;
#define _bala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_node_unref (var), NULL)))
#define _bala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterable_unref (var), NULL)))
#define _bala_iterator_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterator_unref (var), NULL)))

#define BALADOC_API_TYPE_INITIALIZER_BUILDER (baladoc_api_initializer_builder_get_type ())
#define BALADOC_API_INITIALIZER_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALADOC_API_TYPE_INITIALIZER_BUILDER, BaladocApiInitializerBuilder))
#define BALADOC_API_INITIALIZER_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALADOC_API_TYPE_INITIALIZER_BUILDER, BaladocApiInitializerBuilderClass))
#define BALADOC_API_IS_INITIALIZER_BUILDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALADOC_API_TYPE_INITIALIZER_BUILDER))
#define BALADOC_API_IS_INITIALIZER_BUILDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALADOC_API_TYPE_INITIALIZER_BUILDER))
#define BALADOC_API_INITIALIZER_BUILDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALADOC_API_TYPE_INITIALIZER_BUILDER, BaladocApiInitializerBuilderClass))

typedef struct _BaladocApiInitializerBuilder BaladocApiInitializerBuilder;
typedef struct _BaladocApiInitializerBuilderClass BaladocApiInitializerBuilderClass;
#define _bala_code_visitor_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_visitor_unref (var), NULL)))
#define _baladoc_api_signature_builder_unref0(var) ((var == NULL) ? NULL : (var = (baladoc_api_signature_builder_unref (var), NULL)))

struct _BaladocSymbolResolver {
	BaladocApiVisitor parent_instance;
	BaladocSymbolResolverPrivate * priv;
};

struct _BaladocSymbolResolverClass {
	BaladocApiVisitorClass parent_class;
};

struct _BaladocSymbolResolverPrivate {
	BalaHashMap* symbol_map;
	BaladocApiClass* glib_error;
	BaladocApiTree* root;
};

static gint BaladocSymbolResolver_private_offset;
static gpointer baladoc_symbol_resolver_parent_class = NULL;

GType baladoc_symbol_resolver_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (BaladocSymbolResolver, g_object_unref)
GType baladoc_tree_builder_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (BaladocTreeBuilder, bala_code_visitor_unref)
BaladocSymbolResolver* baladoc_symbol_resolver_new (BaladocTreeBuilder* builder);
BaladocSymbolResolver* baladoc_symbol_resolver_construct (GType object_type,
                                                          BaladocTreeBuilder* builder);
BalaHashMap* baladoc_tree_builder_get_symbol_map (BaladocTreeBuilder* self);
BaladocApiClass* baladoc_tree_builder_get_glib_error (BaladocTreeBuilder* self);
BaladocApiSymbol* baladoc_symbol_resolver_resolve (BaladocSymbolResolver* self,
                                                   BalaSymbol* symbol);
static void baladoc_symbol_resolver_resolve_thrown_list (BaladocSymbolResolver* self,
                                                  BaladocApiSymbol* symbol,
                                                  BalaSymbol* bala_symbol);
static void baladoc_symbol_resolver_resolve_array_type_references (BaladocSymbolResolver* self,
                                                            BaladocApiArray* ptr);
static void baladoc_symbol_resolver_resolve_pointer_type_references (BaladocSymbolResolver* self,
                                                              BaladocApiPointer* ptr);
static void baladoc_symbol_resolver_resolve_type_reference (BaladocSymbolResolver* self,
                                                     BaladocApiTypeReference* reference);
static void baladoc_symbol_resolver_real_visit_tree (BaladocApiVisitor* base,
                                              BaladocApiTree* item);
static void baladoc_symbol_resolver_real_visit_package (BaladocApiVisitor* base,
                                                 BaladocApiPackage* item);
static void baladoc_symbol_resolver_real_visit_namespace (BaladocApiVisitor* base,
                                                   BaladocApiNamespace* item);
static void baladoc_symbol_resolver_real_visit_interface (BaladocApiVisitor* base,
                                                   BaladocApiInterface* item);
static void baladoc_symbol_resolver_real_visit_class (BaladocApiVisitor* base,
                                               BaladocApiClass* item);
static void baladoc_symbol_resolver_real_visit_struct (BaladocApiVisitor* base,
                                                BaladocApiStruct* item);
static void baladoc_symbol_resolver_real_visit_property (BaladocApiVisitor* base,
                                                  BaladocApiProperty* item);
static void baladoc_symbol_resolver_real_visit_field (BaladocApiVisitor* base,
                                               BaladocApiField* item);
static void baladoc_symbol_resolver_real_visit_constant (BaladocApiVisitor* base,
                                                  BaladocApiConstant* item);
static void baladoc_symbol_resolver_real_visit_delegate (BaladocApiVisitor* base,
                                                  BaladocApiDelegate* item);
static void baladoc_symbol_resolver_real_visit_signal (BaladocApiVisitor* base,
                                                BaladocApiSignal* item);
static void baladoc_symbol_resolver_real_visit_method (BaladocApiVisitor* base,
                                                BaladocApiMethod* item);
static void baladoc_symbol_resolver_real_visit_type_parameter (BaladocApiVisitor* base,
                                                        BaladocApiTypeParameter* item);
static void baladoc_symbol_resolver_real_visit_formal_parameter (BaladocApiVisitor* base,
                                                          BaladocApiParameter* item);
G_GNUC_INTERNAL GType baladoc_api_initializer_builder_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (BaladocApiInitializerBuilder, bala_code_visitor_unref)
G_GNUC_INTERNAL BaladocApiInitializerBuilder* baladoc_api_initializer_builder_new (BaladocApiSignatureBuilder* signature,
                                                                   BalaHashMap* symbol_map);
G_GNUC_INTERNAL BaladocApiInitializerBuilder* baladoc_api_initializer_builder_construct (GType object_type,
                                                                         BaladocApiSignatureBuilder* signature,
                                                                         BalaHashMap* symbol_map);
static void baladoc_symbol_resolver_real_visit_error_domain (BaladocApiVisitor* base,
                                                      BaladocApiErrorDomain* item);
static void baladoc_symbol_resolver_real_visit_error_code (BaladocApiVisitor* base,
                                                    BaladocApiErrorCode* item);
static void baladoc_symbol_resolver_real_visit_enum (BaladocApiVisitor* base,
                                              BaladocApiEnum* item);
static void baladoc_symbol_resolver_real_visit_enum_value (BaladocApiVisitor* base,
                                                    BaladocApiEnumValue* item);
static void baladoc_symbol_resolver_finalize (GObject * obj);
static GType baladoc_symbol_resolver_get_type_once (void);

static inline gpointer
baladoc_symbol_resolver_get_instance_private (BaladocSymbolResolver* self)
{
	return G_STRUCT_MEMBER_P (self, BaladocSymbolResolver_private_offset);
}

BaladocSymbolResolver*
baladoc_symbol_resolver_construct (GType object_type,
                                   BaladocTreeBuilder* builder)
{
	BaladocSymbolResolver * self = NULL;
	BalaHashMap* _tmp0_;
	BaladocApiClass* _tmp1_;
	g_return_val_if_fail (builder != NULL, NULL);
	self = (BaladocSymbolResolver*) baladoc_api_visitor_construct (object_type);
	_tmp0_ = baladoc_tree_builder_get_symbol_map (builder);
	_bala_map_unref0 (self->priv->symbol_map);
	self->priv->symbol_map = _tmp0_;
	_tmp1_ = baladoc_tree_builder_get_glib_error (builder);
	_g_object_unref0 (self->priv->glib_error);
	self->priv->glib_error = _tmp1_;
	return self;
}

BaladocSymbolResolver*
baladoc_symbol_resolver_new (BaladocTreeBuilder* builder)
{
	return baladoc_symbol_resolver_construct (BALADOC_TYPE_SYMBOL_RESOLVER, builder);
}

BaladocApiSymbol*
baladoc_symbol_resolver_resolve (BaladocSymbolResolver* self,
                                 BalaSymbol* symbol)
{
	BalaHashMap* _tmp0_;
	gpointer _tmp1_;
	BaladocApiSymbol* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (symbol != NULL, NULL);
	_tmp0_ = self->priv->symbol_map;
	_tmp1_ = bala_map_get ((BalaMap*) _tmp0_, symbol);
	result = (BaladocApiSymbol*) _tmp1_;
	return result;
}

static gpointer
_bala_iterable_ref0 (gpointer self)
{
	return self ? bala_iterable_ref (self) : NULL;
}

static void
baladoc_symbol_resolver_resolve_thrown_list (BaladocSymbolResolver* self,
                                             BaladocApiSymbol* symbol,
                                             BalaSymbol* bala_symbol)
{
	BalaArrayList* error_types = NULL;
	GEqualFunc _tmp0_;
	BalaArrayList* _tmp1_;
	BalaArrayList* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (symbol != NULL);
	g_return_if_fail (bala_symbol != NULL);
	_tmp0_ = g_direct_equal;
	_tmp1_ = bala_array_list_new (BALA_TYPE_DATA_TYPE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp0_);
	error_types = _tmp1_;
	_tmp2_ = error_types;
	bala_code_node_get_error_types ((BalaCodeNode*) bala_symbol, (BalaCollection*) _tmp2_, NULL);
	{
		BalaArrayList* _type_list = NULL;
		BalaArrayList* _tmp3_;
		BalaArrayList* _tmp4_;
		gint _type_size = 0;
		BalaArrayList* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		gint _type_index = 0;
		_tmp3_ = error_types;
		_tmp4_ = _bala_iterable_ref0 (_tmp3_);
		_type_list = _tmp4_;
		_tmp5_ = _type_list;
		_tmp6_ = bala_collection_get_size ((BalaCollection*) _tmp5_);
		_tmp7_ = _tmp6_;
		_type_size = _tmp7_;
		_type_index = -1;
		while (TRUE) {
			gint _tmp8_;
			gint _tmp9_;
			BalaDataType* type = NULL;
			BalaArrayList* _tmp10_;
			gpointer _tmp11_;
			BalaErrorDomain* bala_edom = NULL;
			BalaDataType* _tmp12_;
			BalaErrorDomain* _tmp13_;
			BalaErrorDomain* _tmp14_;
			BaladocApiSymbol* edom = NULL;
			BalaHashMap* _tmp15_;
			BalaErrorDomain* _tmp16_;
			gpointer _tmp17_;
			BaladocApiSymbol* _tmp18_ = NULL;
			BaladocApiSymbol* _tmp19_;
			_type_index = _type_index + 1;
			_tmp8_ = _type_index;
			_tmp9_ = _type_size;
			if (!(_tmp8_ < _tmp9_)) {
				break;
			}
			_tmp10_ = _type_list;
			_tmp11_ = bala_list_get ((BalaList*) _tmp10_, _type_index);
			type = (BalaDataType*) _tmp11_;
			_tmp12_ = type;
			_tmp13_ = bala_error_type_get_error_domain (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, BALA_TYPE_ERROR_TYPE, BalaErrorType));
			_tmp14_ = _tmp13_;
			bala_edom = _tmp14_;
			_tmp15_ = self->priv->symbol_map;
			_tmp16_ = bala_edom;
			_tmp17_ = bala_map_get ((BalaMap*) _tmp15_, (BalaSymbol*) _tmp16_);
			edom = (BaladocApiSymbol*) _tmp17_;
			_tmp19_ = edom;
			_tmp18_ = _tmp19_;
			if (_tmp18_ == NULL) {
				BaladocApiClass* _tmp20_;
				_tmp20_ = self->priv->glib_error;
				_tmp18_ = (BaladocApiSymbol*) _tmp20_;
			}
			baladoc_api_node_add_child ((BaladocApiNode*) symbol, _tmp18_);
			_g_object_unref0 (edom);
			_bala_code_node_unref0 (type);
		}
		_bala_iterable_unref0 (_type_list);
	}
	_bala_iterable_unref0 (error_types);
}

static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}

static void
baladoc_symbol_resolver_resolve_array_type_references (BaladocSymbolResolver* self,
                                                       BaladocApiArray* ptr)
{
	BaladocApiItem* data_type = NULL;
	BaladocApiItem* _tmp0_;
	BaladocApiItem* _tmp1_;
	BaladocApiItem* _tmp2_;
	BaladocApiItem* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (ptr != NULL);
	_tmp0_ = baladoc_api_array_get_data_type (ptr);
	_tmp1_ = _tmp0_;
	_tmp2_ = _g_object_ref0 (_tmp1_);
	data_type = _tmp2_;
	_tmp3_ = data_type;
	if (_tmp3_ == NULL) {
	} else {
		BaladocApiItem* _tmp4_;
		_tmp4_ = data_type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, BALADOC_API_TYPE_ARRAY)) {
			BaladocApiItem* _tmp5_;
			_tmp5_ = data_type;
			baladoc_symbol_resolver_resolve_array_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, BALADOC_API_TYPE_ARRAY, BaladocApiArray));
		} else {
			BaladocApiItem* _tmp6_;
			_tmp6_ = data_type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALADOC_API_TYPE_POINTER)) {
				BaladocApiItem* _tmp7_;
				_tmp7_ = data_type;
				baladoc_symbol_resolver_resolve_pointer_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, BALADOC_API_TYPE_POINTER, BaladocApiPointer));
			} else {
				BaladocApiItem* _tmp8_;
				_tmp8_ = data_type;
				baladoc_symbol_resolver_resolve_type_reference (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, BALADOC_API_TYPE_TYPEREFERENCE, BaladocApiTypeReference));
			}
		}
	}
	_g_object_unref0 (data_type);
}

static void
baladoc_symbol_resolver_resolve_pointer_type_references (BaladocSymbolResolver* self,
                                                         BaladocApiPointer* ptr)
{
	BaladocApiItem* type = NULL;
	BaladocApiItem* _tmp0_;
	BaladocApiItem* _tmp1_;
	BaladocApiItem* _tmp2_;
	BaladocApiItem* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (ptr != NULL);
	_tmp0_ = baladoc_api_pointer_get_data_type (ptr);
	_tmp1_ = _tmp0_;
	_tmp2_ = _g_object_ref0 (_tmp1_);
	type = _tmp2_;
	_tmp3_ = type;
	if (_tmp3_ == NULL) {
	} else {
		BaladocApiItem* _tmp4_;
		_tmp4_ = type;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, BALADOC_API_TYPE_ARRAY)) {
			BaladocApiItem* _tmp5_;
			_tmp5_ = type;
			baladoc_symbol_resolver_resolve_array_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, BALADOC_API_TYPE_ARRAY, BaladocApiArray));
		} else {
			BaladocApiItem* _tmp6_;
			_tmp6_ = type;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BALADOC_API_TYPE_POINTER)) {
				BaladocApiItem* _tmp7_;
				_tmp7_ = type;
				baladoc_symbol_resolver_resolve_pointer_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, BALADOC_API_TYPE_POINTER, BaladocApiPointer));
			} else {
				BaladocApiItem* _tmp8_;
				_tmp8_ = type;
				baladoc_symbol_resolver_resolve_type_reference (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, BALADOC_API_TYPE_TYPEREFERENCE, BaladocApiTypeReference));
			}
		}
	}
	_g_object_unref0 (type);
}

static gpointer
_bala_code_node_ref0 (gpointer self)
{
	return self ? bala_code_node_ref (self) : NULL;
}

static void
baladoc_symbol_resolver_resolve_type_reference (BaladocSymbolResolver* self,
                                                BaladocApiTypeReference* reference)
{
	BalaDataType* vtyperef = NULL;
	BalaCodeNode* _tmp0_;
	BalaCodeNode* _tmp1_;
	BalaDataType* _tmp2_;
	BalaDataType* _tmp3_;
	BaladocApiItem* _tmp41_;
	BaladocApiItem* _tmp42_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (reference != NULL);
	_tmp0_ = baladoc_api_item_get_data ((BaladocApiItem*) reference);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, BALA_TYPE_DATA_TYPE, BalaDataType));
	vtyperef = _tmp2_;
	_tmp3_ = vtyperef;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BALA_TYPE_ERROR_TYPE)) {
		BalaErrorDomain* verrdom = NULL;
		BalaDataType* _tmp4_;
		BalaErrorDomain* _tmp5_;
		BalaErrorDomain* _tmp6_;
		BalaErrorDomain* _tmp7_;
		BalaErrorDomain* _tmp8_;
		_tmp4_ = vtyperef;
		_tmp5_ = bala_error_type_get_error_domain (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, BALA_TYPE_ERROR_TYPE, BalaErrorType));
		_tmp6_ = _tmp5_;
		_tmp7_ = _bala_code_node_ref0 (_tmp6_);
		verrdom = _tmp7_;
		_tmp8_ = verrdom;
		if (_tmp8_ != NULL) {
			BalaErrorDomain* _tmp9_;
			BaladocApiSymbol* _tmp10_;
			BaladocApiSymbol* _tmp11_;
			_tmp9_ = verrdom;
			_tmp10_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp9_);
			_tmp11_ = _tmp10_;
			baladoc_api_typereference_set_data_type (reference, (BaladocApiItem*) _tmp11_);
			_g_object_unref0 (_tmp11_);
		} else {
			BaladocApiClass* _tmp12_;
			_tmp12_ = self->priv->glib_error;
			baladoc_api_typereference_set_data_type (reference, (BaladocApiItem*) _tmp12_);
		}
		_bala_code_node_unref0 (verrdom);
	} else {
		BalaDataType* _tmp13_;
		_tmp13_ = vtyperef;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, BALA_TYPE_DELEGATE_TYPE)) {
			BalaDataType* _tmp14_;
			BalaDelegate* _tmp15_;
			BalaDelegate* _tmp16_;
			BaladocApiSymbol* _tmp17_;
			BaladocApiSymbol* _tmp18_;
			_tmp14_ = vtyperef;
			_tmp15_ = bala_delegate_type_get_delegate_symbol (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, BALA_TYPE_DELEGATE_TYPE, BalaDelegateType));
			_tmp16_ = _tmp15_;
			_tmp17_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp16_);
			_tmp18_ = _tmp17_;
			baladoc_api_typereference_set_data_type (reference, (BaladocApiItem*) _tmp18_);
			_g_object_unref0 (_tmp18_);
		} else {
			BalaDataType* _tmp19_;
			_tmp19_ = vtyperef;
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, BALA_TYPE_GENERIC_TYPE)) {
				BalaDataType* _tmp20_;
				BalaTypeParameter* _tmp21_;
				BalaTypeParameter* _tmp22_;
				BaladocApiSymbol* _tmp23_;
				BaladocApiSymbol* _tmp24_;
				_tmp20_ = vtyperef;
				_tmp21_ = bala_generic_type_get_type_parameter (G_TYPE_CHECK_INSTANCE_CAST (_tmp20_, BALA_TYPE_GENERIC_TYPE, BalaGenericType));
				_tmp22_ = _tmp21_;
				_tmp23_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp22_);
				_tmp24_ = _tmp23_;
				baladoc_api_typereference_set_data_type (reference, (BaladocApiItem*) _tmp24_);
				_g_object_unref0 (_tmp24_);
			} else {
				BalaDataType* _tmp25_;
				BalaTypeSymbol* _tmp26_;
				BalaTypeSymbol* _tmp27_;
				_tmp25_ = vtyperef;
				_tmp26_ = bala_data_type_get_type_symbol (_tmp25_);
				_tmp27_ = _tmp26_;
				if (_tmp27_ != NULL) {
					BalaDataType* _tmp28_;
					BalaTypeSymbol* _tmp29_;
					BalaTypeSymbol* _tmp30_;
					BaladocApiSymbol* _tmp31_;
					BaladocApiSymbol* _tmp32_;
					_tmp28_ = vtyperef;
					_tmp29_ = bala_data_type_get_type_symbol (_tmp28_);
					_tmp30_ = _tmp29_;
					_tmp31_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp30_);
					_tmp32_ = _tmp31_;
					baladoc_api_typereference_set_data_type (reference, (BaladocApiItem*) _tmp32_);
					_g_object_unref0 (_tmp32_);
				}
			}
		}
	}
	{
		BalaIterator* _type_param_ref_it = NULL;
		BalaCollection* _tmp33_;
		BalaCollection* _tmp34_;
		BalaIterator* _tmp35_;
		BalaIterator* _tmp36_;
		_tmp33_ = baladoc_api_typereference_get_type_arguments (reference);
		_tmp34_ = _tmp33_;
		_tmp35_ = bala_iterable_iterator ((BalaIterable*) _tmp34_);
		_tmp36_ = _tmp35_;
		_bala_iterable_unref0 (_tmp34_);
		_type_param_ref_it = _tmp36_;
		while (TRUE) {
			BalaIterator* _tmp37_;
			BaladocApiTypeReference* type_param_ref = NULL;
			BalaIterator* _tmp38_;
			gpointer _tmp39_;
			BaladocApiTypeReference* _tmp40_;
			_tmp37_ = _type_param_ref_it;
			if (!bala_iterator_next (_tmp37_)) {
				break;
			}
			_tmp38_ = _type_param_ref_it;
			_tmp39_ = bala_iterator_get (_tmp38_);
			type_param_ref = (BaladocApiTypeReference*) _tmp39_;
			_tmp40_ = type_param_ref;
			baladoc_symbol_resolver_resolve_type_reference (self, _tmp40_);
			_g_object_unref0 (type_param_ref);
		}
		_bala_iterator_unref0 (_type_param_ref_it);
	}
	_tmp41_ = baladoc_api_typereference_get_data_type (reference);
	_tmp42_ = _tmp41_;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp42_, BALADOC_API_TYPE_POINTER)) {
		BaladocApiItem* _tmp43_;
		BaladocApiItem* _tmp44_;
		_tmp43_ = baladoc_api_typereference_get_data_type (reference);
		_tmp44_ = _tmp43_;
		baladoc_symbol_resolver_resolve_pointer_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp44_, BALADOC_API_TYPE_POINTER, BaladocApiPointer));
	} else {
		BaladocApiItem* _tmp45_;
		BaladocApiItem* _tmp46_;
		_tmp45_ = baladoc_api_typereference_get_data_type (reference);
		_tmp46_ = _tmp45_;
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp46_, BALADOC_API_TYPE_ARRAY)) {
			BaladocApiItem* _tmp47_;
			BaladocApiItem* _tmp48_;
			_tmp47_ = baladoc_api_typereference_get_data_type (reference);
			_tmp48_ = _tmp47_;
			baladoc_symbol_resolver_resolve_array_type_references (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp48_, BALADOC_API_TYPE_ARRAY, BaladocApiArray));
		}
	}
	_bala_code_node_unref0 (vtyperef);
}

/**
 * {@inheritDoc}
 */
static gpointer
_baladoc_api_tree_ref0 (gpointer self)
{
	return self ? baladoc_api_tree_ref (self) : NULL;
}

static void
baladoc_symbol_resolver_real_visit_tree (BaladocApiVisitor* base,
                                         BaladocApiTree* item)
{
	BaladocSymbolResolver * self;
	BaladocApiTree* _tmp0_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = _baladoc_api_tree_ref0 (item);
	_baladoc_api_tree_unref0 (self->priv->root);
	self->priv->root = _tmp0_;
	baladoc_api_tree_accept_children (item, (BaladocApiVisitor*) self);
	_baladoc_api_tree_unref0 (self->priv->root);
	self->priv->root = NULL;
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_package (BaladocApiVisitor* base,
                                            BaladocApiPackage* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_namespace (BaladocApiVisitor* base,
                                              BaladocApiNamespace* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_interface (BaladocApiVisitor* base,
                                              BaladocApiInterface* item)
{
	BaladocSymbolResolver * self;
	BalaCollection* interfaces = NULL;
	BalaCollection* _tmp0_;
	BaladocApiTypeReference* _tmp7_;
	BaladocApiTypeReference* _tmp8_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_interface_get_implemented_interface_list (item);
	interfaces = _tmp0_;
	{
		BalaIterator* _type_ref_it = NULL;
		BalaCollection* _tmp1_;
		BalaIterator* _tmp2_;
		_tmp1_ = interfaces;
		_tmp2_ = bala_iterable_iterator ((BalaIterable*) _tmp1_);
		_type_ref_it = _tmp2_;
		while (TRUE) {
			BalaIterator* _tmp3_;
			BaladocApiTypeReference* type_ref = NULL;
			BalaIterator* _tmp4_;
			gpointer _tmp5_;
			BaladocApiTypeReference* _tmp6_;
			_tmp3_ = _type_ref_it;
			if (!bala_iterator_next (_tmp3_)) {
				break;
			}
			_tmp4_ = _type_ref_it;
			_tmp5_ = bala_iterator_get (_tmp4_);
			type_ref = (BaladocApiTypeReference*) _tmp5_;
			_tmp6_ = type_ref;
			baladoc_symbol_resolver_resolve_type_reference (self, _tmp6_);
			_g_object_unref0 (type_ref);
		}
		_bala_iterator_unref0 (_type_ref_it);
	}
	_tmp7_ = baladoc_api_interface_get_base_type (item);
	_tmp8_ = _tmp7_;
	if (_tmp8_ != NULL) {
		BaladocApiTypeReference* _tmp9_;
		BaladocApiTypeReference* _tmp10_;
		_tmp9_ = baladoc_api_interface_get_base_type (item);
		_tmp10_ = _tmp9_;
		baladoc_symbol_resolver_resolve_type_reference (self, _tmp10_);
	}
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
	_bala_iterable_unref0 (interfaces);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_class (BaladocApiVisitor* base,
                                          BaladocApiClass* item)
{
	BaladocSymbolResolver * self;
	BalaCollection* interfaces = NULL;
	BalaCollection* _tmp0_;
	BaladocApiTypeReference* _tmp7_;
	BaladocApiTypeReference* _tmp8_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_class_get_implemented_interface_list (item);
	interfaces = _tmp0_;
	{
		BalaIterator* _type_ref_it = NULL;
		BalaCollection* _tmp1_;
		BalaIterator* _tmp2_;
		_tmp1_ = interfaces;
		_tmp2_ = bala_iterable_iterator ((BalaIterable*) _tmp1_);
		_type_ref_it = _tmp2_;
		while (TRUE) {
			BalaIterator* _tmp3_;
			BaladocApiTypeReference* type_ref = NULL;
			BalaIterator* _tmp4_;
			gpointer _tmp5_;
			BaladocApiTypeReference* _tmp6_;
			_tmp3_ = _type_ref_it;
			if (!bala_iterator_next (_tmp3_)) {
				break;
			}
			_tmp4_ = _type_ref_it;
			_tmp5_ = bala_iterator_get (_tmp4_);
			type_ref = (BaladocApiTypeReference*) _tmp5_;
			_tmp6_ = type_ref;
			baladoc_symbol_resolver_resolve_type_reference (self, _tmp6_);
			_g_object_unref0 (type_ref);
		}
		_bala_iterator_unref0 (_type_ref_it);
	}
	_tmp7_ = baladoc_api_class_get_base_type (item);
	_tmp8_ = _tmp7_;
	if (_tmp8_ != NULL) {
		BaladocApiTypeReference* _tmp9_;
		BaladocApiTypeReference* _tmp10_;
		_tmp9_ = baladoc_api_class_get_base_type (item);
		_tmp10_ = _tmp9_;
		baladoc_symbol_resolver_resolve_type_reference (self, _tmp10_);
	}
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
	_bala_iterable_unref0 (interfaces);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_struct (BaladocApiVisitor* base,
                                           BaladocApiStruct* item)
{
	BaladocSymbolResolver * self;
	BaladocApiTypeReference* _tmp0_;
	BaladocApiTypeReference* _tmp1_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_struct_get_base_type (item);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BaladocApiTypeReference* _tmp2_;
		BaladocApiTypeReference* _tmp3_;
		_tmp2_ = baladoc_api_struct_get_base_type (item);
		_tmp3_ = _tmp2_;
		baladoc_symbol_resolver_resolve_type_reference (self, _tmp3_);
	}
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_property (BaladocApiVisitor* base,
                                             BaladocApiProperty* item)
{
	BaladocSymbolResolver * self;
	BalaProperty* bala_property = NULL;
	BalaCodeNode* _tmp0_;
	BalaCodeNode* _tmp1_;
	BalaProperty* _tmp2_;
	BalaProperty* base_bala_property = NULL;
	BalaProperty* _tmp3_;
	BalaProperty* _tmp4_;
	BalaProperty* _tmp5_;
	gboolean _tmp17_ = FALSE;
	BalaProperty* _tmp18_;
	BalaProperty* _tmp19_;
	BalaProperty* _tmp27_;
	BaladocApiTypeReference* _tmp31_;
	BaladocApiTypeReference* _tmp32_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_PROPERTY) ? ((BalaProperty*) _tmp1_) : NULL);
	bala_property = _tmp2_;
	base_bala_property = NULL;
	_tmp3_ = bala_property;
	_tmp4_ = bala_property_get_base_property (_tmp3_);
	_tmp5_ = _tmp4_;
	if (_tmp5_ != NULL) {
		BalaProperty* _tmp6_;
		BalaProperty* _tmp7_;
		BalaProperty* _tmp8_;
		BalaProperty* _tmp9_;
		_tmp6_ = bala_property;
		_tmp7_ = bala_property_get_base_property (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = _bala_code_node_ref0 (_tmp8_);
		_bala_code_node_unref0 (base_bala_property);
		base_bala_property = _tmp9_;
	} else {
		BalaProperty* _tmp10_;
		BalaProperty* _tmp11_;
		BalaProperty* _tmp12_;
		_tmp10_ = bala_property;
		_tmp11_ = bala_property_get_base_interface_property (_tmp10_);
		_tmp12_ = _tmp11_;
		if (_tmp12_ != NULL) {
			BalaProperty* _tmp13_;
			BalaProperty* _tmp14_;
			BalaProperty* _tmp15_;
			BalaProperty* _tmp16_;
			_tmp13_ = bala_property;
			_tmp14_ = bala_property_get_base_interface_property (_tmp13_);
			_tmp15_ = _tmp14_;
			_tmp16_ = _bala_code_node_ref0 (_tmp15_);
			_bala_code_node_unref0 (base_bala_property);
			base_bala_property = _tmp16_;
		}
	}
	_tmp18_ = base_bala_property;
	_tmp19_ = bala_property;
	if (_tmp18_ == _tmp19_) {
		BalaProperty* _tmp20_;
		BalaProperty* _tmp21_;
		BalaProperty* _tmp22_;
		_tmp20_ = bala_property;
		_tmp21_ = bala_property_get_base_interface_property (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp17_ = _tmp22_ != NULL;
	} else {
		_tmp17_ = FALSE;
	}
	if (_tmp17_) {
		BalaProperty* _tmp23_;
		BalaProperty* _tmp24_;
		BalaProperty* _tmp25_;
		BalaProperty* _tmp26_;
		_tmp23_ = bala_property;
		_tmp24_ = bala_property_get_base_interface_property (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp26_ = _bala_code_node_ref0 (_tmp25_);
		_bala_code_node_unref0 (base_bala_property);
		base_bala_property = _tmp26_;
	}
	_tmp27_ = base_bala_property;
	if (_tmp27_ != NULL) {
		BalaProperty* _tmp28_;
		BaladocApiSymbol* _tmp29_;
		BaladocApiProperty* _tmp30_;
		_tmp28_ = base_bala_property;
		_tmp29_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp28_);
		_tmp30_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, BALADOC_API_TYPE_PROPERTY, BaladocApiProperty);
		baladoc_api_property_set_base_property (item, _tmp30_);
		_g_object_unref0 (_tmp30_);
	}
	_tmp31_ = baladoc_api_property_get_property_type (item);
	_tmp32_ = _tmp31_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp32_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
	_bala_code_node_unref0 (base_bala_property);
	_bala_code_node_unref0 (bala_property);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_field (BaladocApiVisitor* base,
                                          BaladocApiField* item)
{
	BaladocSymbolResolver * self;
	BaladocApiTypeReference* _tmp0_;
	BaladocApiTypeReference* _tmp1_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_field_get_field_type (item);
	_tmp1_ = _tmp0_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp1_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_constant (BaladocApiVisitor* base,
                                             BaladocApiConstant* item)
{
	BaladocSymbolResolver * self;
	BaladocApiTypeReference* _tmp0_;
	BaladocApiTypeReference* _tmp1_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_constant_get_constant_type (item);
	_tmp1_ = _tmp0_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp1_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_delegate (BaladocApiVisitor* base,
                                             BaladocApiDelegate* item)
{
	BaladocSymbolResolver * self;
	BalaDelegate* bala_delegate = NULL;
	BalaCodeNode* _tmp0_;
	BalaCodeNode* _tmp1_;
	BalaDelegate* _tmp2_;
	BaladocApiTypeReference* _tmp3_;
	BaladocApiTypeReference* _tmp4_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_DELEGATE) ? ((BalaDelegate*) _tmp1_) : NULL);
	bala_delegate = _tmp2_;
	_tmp3_ = baladoc_api_callable_get_return_type ((BaladocApiCallable*) item);
	_tmp4_ = _tmp3_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp4_);
	baladoc_symbol_resolver_resolve_thrown_list (self, (BaladocApiSymbol*) item, (BalaSymbol*) bala_delegate);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
	_bala_code_node_unref0 (bala_delegate);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_signal (BaladocApiVisitor* base,
                                           BaladocApiSignal* item)
{
	BaladocSymbolResolver * self;
	BaladocApiTypeReference* _tmp0_;
	BaladocApiTypeReference* _tmp1_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_callable_get_return_type ((BaladocApiCallable*) item);
	_tmp1_ = _tmp0_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp1_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_method (BaladocApiVisitor* base,
                                           BaladocApiMethod* item)
{
	BaladocSymbolResolver * self;
	BalaMethod* bala_method = NULL;
	BalaCodeNode* _tmp0_;
	BalaCodeNode* _tmp1_;
	BalaMethod* _tmp2_;
	BalaMethod* base_bala_method = NULL;
	BalaMethod* _tmp3_;
	BalaMethod* _tmp4_;
	BalaMethod* _tmp5_;
	gboolean _tmp17_ = FALSE;
	BalaMethod* _tmp18_;
	BalaMethod* _tmp19_;
	BalaMethod* _tmp27_;
	BalaMethod* _tmp31_;
	BaladocApiTypeReference* _tmp32_;
	BaladocApiTypeReference* _tmp33_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
	_tmp1_ = _tmp0_;
	_tmp2_ = _bala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, BALA_TYPE_METHOD) ? ((BalaMethod*) _tmp1_) : NULL);
	bala_method = _tmp2_;
	base_bala_method = NULL;
	_tmp3_ = bala_method;
	_tmp4_ = bala_method_get_base_method (_tmp3_);
	_tmp5_ = _tmp4_;
	if (_tmp5_ != NULL) {
		BalaMethod* _tmp6_;
		BalaMethod* _tmp7_;
		BalaMethod* _tmp8_;
		BalaMethod* _tmp9_;
		_tmp6_ = bala_method;
		_tmp7_ = bala_method_get_base_method (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = _bala_code_node_ref0 (_tmp8_);
		_bala_code_node_unref0 (base_bala_method);
		base_bala_method = _tmp9_;
	} else {
		BalaMethod* _tmp10_;
		BalaMethod* _tmp11_;
		BalaMethod* _tmp12_;
		_tmp10_ = bala_method;
		_tmp11_ = bala_method_get_base_interface_method (_tmp10_);
		_tmp12_ = _tmp11_;
		if (_tmp12_ != NULL) {
			BalaMethod* _tmp13_;
			BalaMethod* _tmp14_;
			BalaMethod* _tmp15_;
			BalaMethod* _tmp16_;
			_tmp13_ = bala_method;
			_tmp14_ = bala_method_get_base_interface_method (_tmp13_);
			_tmp15_ = _tmp14_;
			_tmp16_ = _bala_code_node_ref0 (_tmp15_);
			_bala_code_node_unref0 (base_bala_method);
			base_bala_method = _tmp16_;
		}
	}
	_tmp18_ = base_bala_method;
	_tmp19_ = bala_method;
	if (_tmp18_ == _tmp19_) {
		BalaMethod* _tmp20_;
		BalaMethod* _tmp21_;
		BalaMethod* _tmp22_;
		_tmp20_ = bala_method;
		_tmp21_ = bala_method_get_base_interface_method (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp17_ = _tmp22_ != NULL;
	} else {
		_tmp17_ = FALSE;
	}
	if (_tmp17_) {
		BalaMethod* _tmp23_;
		BalaMethod* _tmp24_;
		BalaMethod* _tmp25_;
		BalaMethod* _tmp26_;
		_tmp23_ = bala_method;
		_tmp24_ = bala_method_get_base_interface_method (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp26_ = _bala_code_node_ref0 (_tmp25_);
		_bala_code_node_unref0 (base_bala_method);
		base_bala_method = _tmp26_;
	}
	_tmp27_ = base_bala_method;
	if (_tmp27_ != NULL) {
		BalaMethod* _tmp28_;
		BaladocApiSymbol* _tmp29_;
		BaladocApiMethod* _tmp30_;
		_tmp28_ = base_bala_method;
		_tmp29_ = baladoc_symbol_resolver_resolve (self, (BalaSymbol*) _tmp28_);
		_tmp30_ = G_TYPE_CHECK_INSTANCE_CAST (_tmp29_, BALADOC_API_TYPE_METHOD, BaladocApiMethod);
		baladoc_api_method_set_base_method (item, _tmp30_);
		_g_object_unref0 (_tmp30_);
	}
	_tmp31_ = bala_method;
	baladoc_symbol_resolver_resolve_thrown_list (self, (BaladocApiSymbol*) item, (BalaSymbol*) _tmp31_);
	_tmp32_ = baladoc_api_callable_get_return_type ((BaladocApiCallable*) item);
	_tmp33_ = _tmp32_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp33_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
	_bala_code_node_unref0 (base_bala_method);
	_bala_code_node_unref0 (bala_method);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_type_parameter (BaladocApiVisitor* base,
                                                   BaladocApiTypeParameter* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_formal_parameter (BaladocApiVisitor* base,
                                                     BaladocApiParameter* item)
{
	BaladocSymbolResolver * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	BalaCodeNode* _tmp2_;
	BalaCodeNode* _tmp3_;
	BalaExpression* _tmp4_;
	BalaExpression* _tmp5_;
	BaladocApiTypeReference* _tmp18_;
	BaladocApiTypeReference* _tmp19_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_parameter_get_ellipsis (item);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		return;
	}
	_tmp2_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_variable_get_initializer ((BalaVariable*) G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, BALA_TYPE_PARAMETER, BalaParameter));
	_tmp5_ = _tmp4_;
	if (_tmp5_ != NULL) {
		BaladocApiSignatureBuilder* signature = NULL;
		BaladocApiSignatureBuilder* _tmp6_;
		BaladocApiInitializerBuilder* ibuilder = NULL;
		BaladocApiSignatureBuilder* _tmp7_;
		BalaHashMap* _tmp8_;
		BaladocApiInitializerBuilder* _tmp9_;
		BalaCodeNode* _tmp10_;
		BalaCodeNode* _tmp11_;
		BalaExpression* _tmp12_;
		BalaExpression* _tmp13_;
		BaladocApiInitializerBuilder* _tmp14_;
		BaladocApiSignatureBuilder* _tmp15_;
		BaladocContentRun* _tmp16_;
		BaladocContentRun* _tmp17_;
		_tmp6_ = baladoc_api_signature_builder_new ();
		signature = _tmp6_;
		_tmp7_ = signature;
		_tmp8_ = self->priv->symbol_map;
		_tmp9_ = baladoc_api_initializer_builder_new (_tmp7_, _tmp8_);
		ibuilder = _tmp9_;
		_tmp10_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
		_tmp11_ = _tmp10_;
		_tmp12_ = bala_variable_get_initializer ((BalaVariable*) G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, BALA_TYPE_PARAMETER, BalaParameter));
		_tmp13_ = _tmp12_;
		_tmp14_ = ibuilder;
		bala_code_node_accept ((BalaCodeNode*) _tmp13_, (BalaCodeVisitor*) _tmp14_);
		_tmp15_ = signature;
		_tmp16_ = baladoc_api_signature_builder_get (_tmp15_);
		_tmp17_ = _tmp16_;
		baladoc_api_parameter_set_default_value (item, _tmp17_);
		_g_object_unref0 (_tmp17_);
		_bala_code_visitor_unref0 (ibuilder);
		_baladoc_api_signature_builder_unref0 (signature);
	}
	_tmp18_ = baladoc_api_parameter_get_parameter_type (item);
	_tmp19_ = _tmp18_;
	baladoc_symbol_resolver_resolve_type_reference (self, _tmp19_);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_error_domain (BaladocApiVisitor* base,
                                                 BaladocApiErrorDomain* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_error_code (BaladocApiVisitor* base,
                                               BaladocApiErrorCode* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_enum (BaladocApiVisitor* base,
                                         BaladocApiEnum* item)
{
	BaladocSymbolResolver * self;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

/**
 * {@inheritDoc}
 */
static void
baladoc_symbol_resolver_real_visit_enum_value (BaladocApiVisitor* base,
                                               BaladocApiEnumValue* item)
{
	BaladocSymbolResolver * self;
	BalaCodeNode* _tmp0_;
	BalaCodeNode* _tmp1_;
	BalaExpression* _tmp2_;
	BalaExpression* _tmp3_;
	self = (BaladocSymbolResolver*) base;
	g_return_if_fail (item != NULL);
	_tmp0_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
	_tmp1_ = _tmp0_;
	_tmp2_ = bala_constant_get_value ((BalaConstant*) G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, BALA_TYPE_ENUM_VALUE, BalaEnumValue));
	_tmp3_ = _tmp2_;
	if (_tmp3_ != NULL) {
		BaladocApiSignatureBuilder* signature = NULL;
		BaladocApiSignatureBuilder* _tmp4_;
		BaladocApiInitializerBuilder* ibuilder = NULL;
		BaladocApiSignatureBuilder* _tmp5_;
		BalaHashMap* _tmp6_;
		BaladocApiInitializerBuilder* _tmp7_;
		BalaCodeNode* _tmp8_;
		BalaCodeNode* _tmp9_;
		BalaExpression* _tmp10_;
		BalaExpression* _tmp11_;
		BaladocApiInitializerBuilder* _tmp12_;
		BaladocApiSignatureBuilder* _tmp13_;
		BaladocContentRun* _tmp14_;
		BaladocContentRun* _tmp15_;
		_tmp4_ = baladoc_api_signature_builder_new ();
		signature = _tmp4_;
		_tmp5_ = signature;
		_tmp6_ = self->priv->symbol_map;
		_tmp7_ = baladoc_api_initializer_builder_new (_tmp5_, _tmp6_);
		ibuilder = _tmp7_;
		_tmp8_ = baladoc_api_item_get_data ((BaladocApiItem*) item);
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_constant_get_value ((BalaConstant*) G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, BALA_TYPE_ENUM_VALUE, BalaEnumValue));
		_tmp11_ = _tmp10_;
		_tmp12_ = ibuilder;
		bala_code_node_accept ((BalaCodeNode*) _tmp11_, (BalaCodeVisitor*) _tmp12_);
		_tmp13_ = signature;
		_tmp14_ = baladoc_api_signature_builder_get (_tmp13_);
		_tmp15_ = _tmp14_;
		baladoc_api_enum_value_set_default_value (item, _tmp15_);
		_g_object_unref0 (_tmp15_);
		_bala_code_visitor_unref0 (ibuilder);
		_baladoc_api_signature_builder_unref0 (signature);
	}
	baladoc_api_node_accept_all_children ((BaladocApiNode*) item, (BaladocApiVisitor*) self, FALSE);
}

static void
baladoc_symbol_resolver_class_init (BaladocSymbolResolverClass * klass,
                                    gpointer klass_data)
{
	baladoc_symbol_resolver_parent_class = g_type_class_peek_parent (klass);
	g_type_class_adjust_private_offset (klass, &BaladocSymbolResolver_private_offset);
	((BaladocApiVisitorClass *) klass)->visit_tree = (void (*) (BaladocApiVisitor*, BaladocApiTree*)) baladoc_symbol_resolver_real_visit_tree;
	((BaladocApiVisitorClass *) klass)->visit_package = (void (*) (BaladocApiVisitor*, BaladocApiPackage*)) baladoc_symbol_resolver_real_visit_package;
	((BaladocApiVisitorClass *) klass)->visit_namespace = (void (*) (BaladocApiVisitor*, BaladocApiNamespace*)) baladoc_symbol_resolver_real_visit_namespace;
	((BaladocApiVisitorClass *) klass)->visit_interface = (void (*) (BaladocApiVisitor*, BaladocApiInterface*)) baladoc_symbol_resolver_real_visit_interface;
	((BaladocApiVisitorClass *) klass)->visit_class = (void (*) (BaladocApiVisitor*, BaladocApiClass*)) baladoc_symbol_resolver_real_visit_class;
	((BaladocApiVisitorClass *) klass)->visit_struct = (void (*) (BaladocApiVisitor*, BaladocApiStruct*)) baladoc_symbol_resolver_real_visit_struct;
	((BaladocApiVisitorClass *) klass)->visit_property = (void (*) (BaladocApiVisitor*, BaladocApiProperty*)) baladoc_symbol_resolver_real_visit_property;
	((BaladocApiVisitorClass *) klass)->visit_field = (void (*) (BaladocApiVisitor*, BaladocApiField*)) baladoc_symbol_resolver_real_visit_field;
	((BaladocApiVisitorClass *) klass)->visit_constant = (void (*) (BaladocApiVisitor*, BaladocApiConstant*)) baladoc_symbol_resolver_real_visit_constant;
	((BaladocApiVisitorClass *) klass)->visit_delegate = (void (*) (BaladocApiVisitor*, BaladocApiDelegate*)) baladoc_symbol_resolver_real_visit_delegate;
	((BaladocApiVisitorClass *) klass)->visit_signal = (void (*) (BaladocApiVisitor*, BaladocApiSignal*)) baladoc_symbol_resolver_real_visit_signal;
	((BaladocApiVisitorClass *) klass)->visit_method = (void (*) (BaladocApiVisitor*, BaladocApiMethod*)) baladoc_symbol_resolver_real_visit_method;
	((BaladocApiVisitorClass *) klass)->visit_type_parameter = (void (*) (BaladocApiVisitor*, BaladocApiTypeParameter*)) baladoc_symbol_resolver_real_visit_type_parameter;
	((BaladocApiVisitorClass *) klass)->visit_formal_parameter = (void (*) (BaladocApiVisitor*, BaladocApiParameter*)) baladoc_symbol_resolver_real_visit_formal_parameter;
	((BaladocApiVisitorClass *) klass)->visit_error_domain = (void (*) (BaladocApiVisitor*, BaladocApiErrorDomain*)) baladoc_symbol_resolver_real_visit_error_domain;
	((BaladocApiVisitorClass *) klass)->visit_error_code = (void (*) (BaladocApiVisitor*, BaladocApiErrorCode*)) baladoc_symbol_resolver_real_visit_error_code;
	((BaladocApiVisitorClass *) klass)->visit_enum = (void (*) (BaladocApiVisitor*, BaladocApiEnum*)) baladoc_symbol_resolver_real_visit_enum;
	((BaladocApiVisitorClass *) klass)->visit_enum_value = (void (*) (BaladocApiVisitor*, BaladocApiEnumValue*)) baladoc_symbol_resolver_real_visit_enum_value;
	G_OBJECT_CLASS (klass)->finalize = baladoc_symbol_resolver_finalize;
}

static void
baladoc_symbol_resolver_instance_init (BaladocSymbolResolver * self,
                                       gpointer klass)
{
	self->priv = baladoc_symbol_resolver_get_instance_private (self);
}

static void
baladoc_symbol_resolver_finalize (GObject * obj)
{
	BaladocSymbolResolver * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALADOC_TYPE_SYMBOL_RESOLVER, BaladocSymbolResolver);
	_bala_map_unref0 (self->priv->symbol_map);
	_g_object_unref0 (self->priv->glib_error);
	_baladoc_api_tree_unref0 (self->priv->root);
	G_OBJECT_CLASS (baladoc_symbol_resolver_parent_class)->finalize (obj);
}

static GType
baladoc_symbol_resolver_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BaladocSymbolResolverClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) baladoc_symbol_resolver_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BaladocSymbolResolver), 0, (GInstanceInitFunc) baladoc_symbol_resolver_instance_init, NULL };
	GType baladoc_symbol_resolver_type_id;
	baladoc_symbol_resolver_type_id = g_type_register_static (BALADOC_API_TYPE_VISITOR, "BaladocSymbolResolver", &g_define_type_info, 0);
	BaladocSymbolResolver_private_offset = g_type_add_instance_private (baladoc_symbol_resolver_type_id, sizeof (BaladocSymbolResolverPrivate));
	return baladoc_symbol_resolver_type_id;
}

GType
baladoc_symbol_resolver_get_type (void)
{
	static volatile gsize baladoc_symbol_resolver_type_id__volatile = 0;
	if (g_once_init_enter (&baladoc_symbol_resolver_type_id__volatile)) {
		GType baladoc_symbol_resolver_type_id;
		baladoc_symbol_resolver_type_id = baladoc_symbol_resolver_get_type_once ();
		g_once_init_leave (&baladoc_symbol_resolver_type_id__volatile, baladoc_symbol_resolver_type_id);
	}
	return baladoc_symbol_resolver_type_id__volatile;
}

