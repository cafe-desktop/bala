/* balagircomment.c generated by balac, the Bala compiler
 * generated from balagircomment.bala, do not modify */

/* balagircomment.bala
 *
 * Copyright (C) 2011  Florian Brosch
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Florian Brosch <flo.brosch@gmail.com>
 */

#include "bala.h"
#include <balagee.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>

#define _bala_map_unref0(var) ((var == NULL) ? NULL : (var = (bala_map_unref (var), NULL)))
#define _bala_comment_unref0(var) ((var == NULL) ? NULL : (var = (bala_comment_unref (var), NULL)))

struct _BalaGirCommentPrivate {
	BalaHashMap* parameter_content;
	BalaComment* _return_content;
};

static gint BalaGirComment_private_offset;
static gpointer bala_gir_comment_parent_class = NULL;

G_GNUC_INTERNAL void bala_gir_comment_add_content_for_parameter (BalaGirComment* self,
                                                 const gchar* name,
                                                 BalaComment* comment);
static void bala_gir_comment_finalize (BalaComment * obj);
static GType bala_gir_comment_get_type_once (void);

static inline gpointer
bala_gir_comment_get_instance_private (BalaGirComment* self)
{
	return G_STRUCT_MEMBER_P (self, BalaGirComment_private_offset);
}

BalaMapIterator*
bala_gir_comment_parameter_iterator (BalaGirComment* self)
{
	BalaHashMap* _tmp0_;
	BalaMapIterator* _tmp1_;
	BalaMapIterator* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->parameter_content;
	_tmp1_ = bala_map_map_iterator ((BalaMap*) _tmp0_);
	result = _tmp1_;
	return result;
}

BalaComment*
bala_gir_comment_get_return_content (BalaGirComment* self)
{
	BalaComment* result;
	BalaComment* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_return_content;
	result = _tmp0_;
	return result;
}

static gpointer
_bala_comment_ref0 (gpointer self)
{
	return self ? bala_comment_ref (self) : NULL;
}

void
bala_gir_comment_set_return_content (BalaGirComment* self,
                                     BalaComment* value)
{
	BalaComment* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_comment_ref0 (value);
	_bala_comment_unref0 (self->priv->_return_content);
	self->priv->_return_content = _tmp0_;
}

BalaGirComment*
bala_gir_comment_construct (GType object_type,
                            const gchar* comment,
                            BalaSourceReference* _source_reference)
{
	BalaGirComment* self = NULL;
	const gchar* _tmp0_ = NULL;
	g_return_val_if_fail (_source_reference != NULL, NULL);
	_tmp0_ = comment;
	if (_tmp0_ == NULL) {
		_tmp0_ = "";
	}
	self = (BalaGirComment*) bala_comment_construct (object_type, _tmp0_, _source_reference);
	return self;
}

BalaGirComment*
bala_gir_comment_new (const gchar* comment,
                      BalaSourceReference* _source_reference)
{
	return bala_gir_comment_construct (BALA_TYPE_GIR_COMMENT, comment, _source_reference);
}

G_GNUC_INTERNAL void
bala_gir_comment_add_content_for_parameter (BalaGirComment* self,
                                            const gchar* name,
                                            BalaComment* comment)
{
	BalaHashMap* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (name != NULL);
	g_return_if_fail (comment != NULL);
	_tmp0_ = self->priv->parameter_content;
	bala_map_set ((BalaMap*) _tmp0_, name, comment);
}

BalaComment*
bala_gir_comment_get_content_for_parameter (BalaGirComment* self,
                                            const gchar* name)
{
	BalaHashMap* _tmp0_;
	gpointer _tmp1_;
	BalaComment* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	_tmp0_ = self->priv->parameter_content;
	_tmp1_ = bala_map_get ((BalaMap*) _tmp0_, name);
	result = (BalaComment*) _tmp1_;
	return result;
}

static void
bala_gir_comment_class_init (BalaGirCommentClass * klass,
                             gpointer klass_data)
{
	bala_gir_comment_parent_class = g_type_class_peek_parent (klass);
	((BalaCommentClass *) klass)->finalize = bala_gir_comment_finalize;
	g_type_class_adjust_private_offset (klass, &BalaGirComment_private_offset);
}

static void
bala_gir_comment_instance_init (BalaGirComment * self,
                                gpointer klass)
{
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GEqualFunc _tmp2_;
	BalaHashMap* _tmp3_;
	self->priv = bala_gir_comment_get_instance_private (self);
	_tmp0_ = g_direct_hash;
	_tmp1_ = g_direct_equal;
	_tmp2_ = g_direct_equal;
	_tmp3_ = bala_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, BALA_TYPE_COMMENT, (GBoxedCopyFunc) bala_comment_ref, (GDestroyNotify) bala_comment_unref, _tmp0_, _tmp1_, _tmp2_);
	self->priv->parameter_content = _tmp3_;
}

static void
bala_gir_comment_finalize (BalaComment * obj)
{
	BalaGirComment * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_TYPE_GIR_COMMENT, BalaGirComment);
	_bala_map_unref0 (self->priv->parameter_content);
	_bala_comment_unref0 (self->priv->_return_content);
	BALA_COMMENT_CLASS (bala_gir_comment_parent_class)->finalize (obj);
}

/**
 * A documentation comment used by baladoc
 */
static GType
bala_gir_comment_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BalaGirCommentClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_gir_comment_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaGirComment), 0, (GInstanceInitFunc) bala_gir_comment_instance_init, NULL };
	GType bala_gir_comment_type_id;
	bala_gir_comment_type_id = g_type_register_static (BALA_TYPE_COMMENT, "BalaGirComment", &g_define_type_info, 0);
	BalaGirComment_private_offset = g_type_add_instance_private (bala_gir_comment_type_id, sizeof (BalaGirCommentPrivate));
	return bala_gir_comment_type_id;
}

GType
bala_gir_comment_get_type (void)
{
	static volatile gsize bala_gir_comment_type_id__volatile = 0;
	if (g_once_init_enter (&bala_gir_comment_type_id__volatile)) {
		GType bala_gir_comment_type_id;
		bala_gir_comment_type_id = bala_gir_comment_get_type_once ();
		g_once_init_leave (&bala_gir_comment_type_id__volatile, bala_gir_comment_type_id);
	}
	return bala_gir_comment_type_id__volatile;
}

