/* balaflowanalyzer.c generated by balac, the Bala compiler
 * generated from balaflowanalyzer.bala, do not modify */

/* balaflowanalyzer.bala
 *
 * Copyright (C) 2008-2010  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include "bala.h"
#include <glib.h>
#include <balagee.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gobject/gvaluecollector.h>

#define BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET (bala_flow_analyzer_jump_target_get_type ())
#define BALA_FLOW_ANALYZER_JUMP_TARGET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, BalaFlowAnalyzerJumpTarget))
#define BALA_FLOW_ANALYZER_JUMP_TARGET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, BalaFlowAnalyzerJumpTargetClass))
#define BALA_FLOW_ANALYZER_IS_JUMP_TARGET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET))
#define BALA_FLOW_ANALYZER_IS_JUMP_TARGET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET))
#define BALA_FLOW_ANALYZER_JUMP_TARGET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, BalaFlowAnalyzerJumpTargetClass))

typedef struct _BalaFlowAnalyzerJumpTarget BalaFlowAnalyzerJumpTarget;
typedef struct _BalaFlowAnalyzerJumpTargetClass BalaFlowAnalyzerJumpTargetClass;
#define _bala_code_context_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_context_unref (var), NULL)))
#define _bala_basic_block_unref0(var) ((var == NULL) ? NULL : (var = (bala_basic_block_unref (var), NULL)))
#define _bala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterable_unref (var), NULL)))
#define _bala_map_unref0(var) ((var == NULL) ? NULL : (var = (bala_map_unref (var), NULL)))
#define _bala_source_file_unref0(var) ((var == NULL) ? NULL : (var = (bala_source_file_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _bala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (bala_code_node_unref (var), NULL)))
#define _bala_flow_analyzer_jump_target_unref0(var) ((var == NULL) ? NULL : (var = (bala_flow_analyzer_jump_target_unref (var), NULL)))
#define _bala_iterator_unref0(var) ((var == NULL) ? NULL : (var = (bala_iterator_unref (var), NULL)))
#define _bala_phi_function_unref0(var) ((var == NULL) ? NULL : (var = (bala_phi_function_unref (var), NULL)))
typedef struct _BalaFlowAnalyzerJumpTargetPrivate BalaFlowAnalyzerJumpTargetPrivate;
typedef struct _BalaFlowAnalyzerParamSpecJumpTarget BalaFlowAnalyzerParamSpecJumpTarget;

struct _BalaFlowAnalyzerPrivate {
	BalaCodeContext* context;
	BalaBasicBlock* current_block;
	gboolean unreachable_reported;
	BalaList* jump_stack;
	BalaSet* all_basic_blocks;
	BalaMap* var_map;
	BalaSet* used_vars;
	BalaMap* phi_functions;
};

struct _BalaFlowAnalyzerJumpTarget {
	GTypeInstance parent_instance;
	volatile int ref_count;
	BalaFlowAnalyzerJumpTargetPrivate * priv;
};

struct _BalaFlowAnalyzerJumpTargetClass {
	GTypeClass parent_class;
	void (*finalize) (BalaFlowAnalyzerJumpTarget *self);
};

struct _BalaFlowAnalyzerJumpTargetPrivate {
	gboolean _is_break_target;
	gboolean _is_continue_target;
	gboolean _is_return_target;
	gboolean _is_exit_target;
	gboolean _is_error_target;
	BalaErrorDomain* _error_domain;
	BalaErrorCode* _error_code;
	BalaClass* _error_class;
	gboolean _is_finally_clause;
	BalaBasicBlock* _basic_block;
	BalaBasicBlock* _last_block;
	BalaCatchClause* _catch_clause;
};

struct _BalaFlowAnalyzerParamSpecJumpTarget {
	GParamSpec parent_instance;
};

static gint BalaFlowAnalyzer_private_offset;
static gpointer bala_flow_analyzer_parent_class = NULL;
static gint BalaFlowAnalyzerJumpTarget_private_offset;
static gpointer bala_flow_analyzer_jump_target_parent_class = NULL;

static gpointer bala_flow_analyzer_jump_target_ref (gpointer instance);
static void bala_flow_analyzer_jump_target_unref (gpointer instance);
static GParamSpec* bala_flow_analyzer_param_spec_jump_target (const gchar* name,
                                                       const gchar* nick,
                                                       const gchar* blurb,
                                                       GType object_type,
                                                       GParamFlags flags) G_GNUC_UNUSED;
static void bala_flow_analyzer_value_set_jump_target (GValue* value,
                                               gpointer v_object) G_GNUC_UNUSED;
static void bala_flow_analyzer_value_take_jump_target (GValue* value,
                                                gpointer v_object) G_GNUC_UNUSED;
static gpointer bala_flow_analyzer_value_get_jump_target (const GValue* value) G_GNUC_UNUSED;
static GType bala_flow_analyzer_jump_target_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static void bala_flow_analyzer_real_visit_source_file (BalaCodeVisitor* base,
                                                BalaSourceFile* source_file);
static void bala_flow_analyzer_real_visit_class (BalaCodeVisitor* base,
                                          BalaClass* cl);
static void bala_flow_analyzer_real_visit_struct (BalaCodeVisitor* base,
                                           BalaStruct* st);
static void bala_flow_analyzer_real_visit_interface (BalaCodeVisitor* base,
                                              BalaInterface* iface);
static void bala_flow_analyzer_real_visit_enum (BalaCodeVisitor* base,
                                         BalaEnum* en);
static void bala_flow_analyzer_real_visit_error_domain (BalaCodeVisitor* base,
                                                 BalaErrorDomain* ed);
static void bala_flow_analyzer_real_visit_field (BalaCodeVisitor* base,
                                          BalaField* f);
static void bala_flow_analyzer_real_visit_lambda_expression (BalaCodeVisitor* base,
                                                      BalaLambdaExpression* le);
static void bala_flow_analyzer_mark_unreachable (BalaFlowAnalyzer* self);
static void bala_flow_analyzer_real_visit_method (BalaCodeVisitor* base,
                                           BalaMethod* m);
static void bala_flow_analyzer_visit_subroutine (BalaFlowAnalyzer* self,
                                          BalaSubroutine* m);
static void bala_flow_analyzer_real_visit_signal (BalaCodeVisitor* base,
                                           BalaSignal* sig);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_return_target (BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_return_target (GType object_type,
                                                                                    BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_exit_target (BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_exit_target (GType object_type,
                                                                                  BalaBasicBlock* basic_block);
static void bala_flow_analyzer_analyze_body (BalaFlowAnalyzer* self,
                                      BalaBasicBlock* entry_block);
static BalaList* bala_flow_analyzer_get_depth_first_list (BalaFlowAnalyzer* self,
                                                   BalaBasicBlock* entry_block);
static void bala_flow_analyzer_build_dominator_tree (BalaFlowAnalyzer* self,
                                              BalaList* block_list,
                                              BalaBasicBlock* entry_block);
static void bala_flow_analyzer_build_dominator_frontier (BalaFlowAnalyzer* self,
                                                  BalaList* block_list,
                                                  BalaBasicBlock* entry_block);
static void bala_flow_analyzer_insert_phi_functions (BalaFlowAnalyzer* self,
                                              BalaList* block_list,
                                              BalaBasicBlock* entry_block);
static void bala_flow_analyzer_check_variables (BalaFlowAnalyzer* self,
                                         BalaBasicBlock* entry_block);
static void bala_flow_analyzer_depth_first_traverse (BalaFlowAnalyzer* self,
                                              BalaBasicBlock* current,
                                              BalaList* list);
static BalaBasicBlock* bala_flow_analyzer_intersect (BalaFlowAnalyzer* self,
                                              BalaBasicBlock** idoms,
                                              gint idoms_length1,
                                              BalaBasicBlock* b1,
                                              BalaBasicBlock* b2);
static BalaMap* bala_flow_analyzer_get_assignment_map (BalaFlowAnalyzer* self,
                                                BalaList* block_list,
                                                BalaBasicBlock* entry_block);
static void bala_flow_analyzer_check_block_variables (BalaFlowAnalyzer* self,
                                               BalaBasicBlock* block);
static BalaVariable* bala_flow_analyzer_process_assignment (BalaFlowAnalyzer* self,
                                                     BalaMap* var_map,
                                                     BalaVariable* var_symbol);
static void bala_flow_analyzer_real_visit_creation_method (BalaCodeVisitor* base,
                                                    BalaCreationMethod* m);
static void bala_flow_analyzer_real_visit_property (BalaCodeVisitor* base,
                                             BalaProperty* prop);
static void bala_flow_analyzer_real_visit_property_accessor (BalaCodeVisitor* base,
                                                      BalaPropertyAccessor* acc);
static void bala_flow_analyzer_real_visit_block (BalaCodeVisitor* base,
                                          BalaBlock* b);
static void bala_flow_analyzer_real_visit_declaration_statement (BalaCodeVisitor* base,
                                                          BalaDeclarationStatement* stmt);
static gboolean bala_flow_analyzer_unreachable (BalaFlowAnalyzer* self,
                                         BalaCodeNode* node);
static void bala_flow_analyzer_handle_errors (BalaFlowAnalyzer* self,
                                       BalaCodeNode* node,
                                       gboolean always_fail);
static void bala_flow_analyzer_real_visit_local_variable (BalaCodeVisitor* base,
                                                   BalaLocalVariable* local);
static void bala_flow_analyzer_real_visit_expression_statement (BalaCodeVisitor* base,
                                                         BalaExpressionStatement* stmt);
static gboolean bala_flow_analyzer_always_true (BalaFlowAnalyzer* self,
                                         BalaExpression* condition);
static gboolean bala_flow_analyzer_always_false (BalaFlowAnalyzer* self,
                                          BalaExpression* condition);
static void bala_flow_analyzer_real_visit_if_statement (BalaCodeVisitor* base,
                                                 BalaIfStatement* stmt);
static void bala_flow_analyzer_real_visit_switch_statement (BalaCodeVisitor* base,
                                                     BalaSwitchStatement* stmt);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_break_target (BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_break_target (GType object_type,
                                                                                   BalaBasicBlock* basic_block);
static void bala_flow_analyzer_real_visit_loop (BalaCodeVisitor* base,
                                         BalaLoop* stmt);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_continue_target (BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_continue_target (GType object_type,
                                                                                      BalaBasicBlock* basic_block);
static void bala_flow_analyzer_real_visit_foreach_statement (BalaCodeVisitor* base,
                                                      BalaForeachStatement* stmt);
static void bala_flow_analyzer_real_visit_break_statement (BalaCodeVisitor* base,
                                                    BalaBreakStatement* stmt);
static gboolean bala_flow_analyzer_jump_target_get_is_break_target (BalaFlowAnalyzerJumpTarget* self);
static BalaBasicBlock* bala_flow_analyzer_jump_target_get_basic_block (BalaFlowAnalyzerJumpTarget* self);
static gboolean bala_flow_analyzer_jump_target_get_is_finally_clause (BalaFlowAnalyzerJumpTarget* self);
static BalaBasicBlock* bala_flow_analyzer_jump_target_get_last_block (BalaFlowAnalyzerJumpTarget* self);
static void bala_flow_analyzer_real_visit_continue_statement (BalaCodeVisitor* base,
                                                       BalaContinueStatement* stmt);
static gboolean bala_flow_analyzer_jump_target_get_is_continue_target (BalaFlowAnalyzerJumpTarget* self);
static void bala_flow_analyzer_real_visit_return_statement (BalaCodeVisitor* base,
                                                     BalaReturnStatement* stmt);
static gboolean bala_flow_analyzer_jump_target_get_is_return_target (BalaFlowAnalyzerJumpTarget* self);
static gboolean bala_flow_analyzer_jump_target_get_is_exit_target (BalaFlowAnalyzerJumpTarget* self);
static gboolean bala_flow_analyzer_jump_target_get_is_error_target (BalaFlowAnalyzerJumpTarget* self);
static BalaErrorDomain* bala_flow_analyzer_jump_target_get_error_domain (BalaFlowAnalyzerJumpTarget* self);
static BalaErrorCode* bala_flow_analyzer_jump_target_get_error_code (BalaFlowAnalyzerJumpTarget* self);
static BalaClass* bala_flow_analyzer_jump_target_get_error_class (BalaFlowAnalyzerJumpTarget* self);
static void bala_flow_analyzer_real_visit_yield_statement (BalaCodeVisitor* base,
                                                    BalaYieldStatement* stmt);
static void bala_flow_analyzer_real_visit_throw_statement (BalaCodeVisitor* base,
                                                    BalaThrowStatement* stmt);
static void bala_flow_analyzer_real_visit_try_statement (BalaCodeVisitor* base,
                                                  BalaTryStatement* stmt);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_any_target (BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_any_target (GType object_type,
                                                                                 BalaBasicBlock* basic_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_finally_clause (BalaBasicBlock* basic_block,
                                                                               BalaBasicBlock* last_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_finally_clause (GType object_type,
                                                                                     BalaBasicBlock* basic_block,
                                                                                     BalaBasicBlock* last_block);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new_error_target (BalaBasicBlock* basic_block,
                                                                             BalaCatchClause* catch_clause,
                                                                             BalaErrorDomain* error_domain,
                                                                             BalaErrorCode* error_code,
                                                                             BalaClass* error_class);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct_error_target (GType object_type,
                                                                                   BalaBasicBlock* basic_block,
                                                                                   BalaCatchClause* catch_clause,
                                                                                   BalaErrorDomain* error_domain,
                                                                                   BalaErrorCode* error_code,
                                                                                   BalaClass* error_class);
static BalaCatchClause* bala_flow_analyzer_jump_target_get_catch_clause (BalaFlowAnalyzerJumpTarget* self);
static void bala_flow_analyzer_real_visit_lock_statement (BalaCodeVisitor* base,
                                                   BalaLockStatement* stmt);
static void bala_flow_analyzer_real_visit_unlock_statement (BalaCodeVisitor* base,
                                                     BalaUnlockStatement* stmt);
static void bala_flow_analyzer_real_visit_expression (BalaCodeVisitor* base,
                                               BalaExpression* expr);
static void bala_flow_analyzer_jump_target_set_is_break_target (BalaFlowAnalyzerJumpTarget* self,
                                                         gboolean value);
static void bala_flow_analyzer_jump_target_set_is_continue_target (BalaFlowAnalyzerJumpTarget* self,
                                                            gboolean value);
static void bala_flow_analyzer_jump_target_set_is_return_target (BalaFlowAnalyzerJumpTarget* self,
                                                          gboolean value);
static void bala_flow_analyzer_jump_target_set_is_exit_target (BalaFlowAnalyzerJumpTarget* self,
                                                        gboolean value);
static void bala_flow_analyzer_jump_target_set_is_error_target (BalaFlowAnalyzerJumpTarget* self,
                                                         gboolean value);
static void bala_flow_analyzer_jump_target_set_error_domain (BalaFlowAnalyzerJumpTarget* self,
                                                      BalaErrorDomain* value);
static void bala_flow_analyzer_jump_target_set_error_code (BalaFlowAnalyzerJumpTarget* self,
                                                    BalaErrorCode* value);
static void bala_flow_analyzer_jump_target_set_error_class (BalaFlowAnalyzerJumpTarget* self,
                                                     BalaClass* value);
static void bala_flow_analyzer_jump_target_set_is_finally_clause (BalaFlowAnalyzerJumpTarget* self,
                                                           gboolean value);
static void bala_flow_analyzer_jump_target_set_basic_block (BalaFlowAnalyzerJumpTarget* self,
                                                     BalaBasicBlock* value);
static void bala_flow_analyzer_jump_target_set_last_block (BalaFlowAnalyzerJumpTarget* self,
                                                    BalaBasicBlock* value);
static void bala_flow_analyzer_jump_target_set_catch_clause (BalaFlowAnalyzerJumpTarget* self,
                                                      BalaCatchClause* value);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_new (void);
static BalaFlowAnalyzerJumpTarget* bala_flow_analyzer_jump_target_construct (GType object_type);
static void bala_flow_analyzer_jump_target_finalize (BalaFlowAnalyzerJumpTarget * obj);
static GType bala_flow_analyzer_jump_target_get_type_once (void);
static void bala_flow_analyzer_finalize (BalaCodeVisitor * obj);
static GType bala_flow_analyzer_get_type_once (void);
static void _bala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _bala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);

static inline gpointer
bala_flow_analyzer_get_instance_private (BalaFlowAnalyzer* self)
{
	return G_STRUCT_MEMBER_P (self, BalaFlowAnalyzer_private_offset);
}

BalaFlowAnalyzer*
bala_flow_analyzer_construct (GType object_type)
{
	BalaFlowAnalyzer* self = NULL;
	self = (BalaFlowAnalyzer*) bala_code_visitor_construct (object_type);
	return self;
}

BalaFlowAnalyzer*
bala_flow_analyzer_new (void)
{
	return bala_flow_analyzer_construct (BALA_TYPE_FLOW_ANALYZER);
}

/**
 * Build control flow graph in the specified context.
 *
 * @param context a code context
 */
static gpointer
_bala_code_context_ref0 (gpointer self)
{
	return self ? bala_code_context_ref (self) : NULL;
}

static gpointer
_bala_iterable_ref0 (gpointer self)
{
	return self ? bala_iterable_ref (self) : NULL;
}

void
bala_flow_analyzer_analyze (BalaFlowAnalyzer* self,
                            BalaCodeContext* context)
{
	BalaCodeContext* _tmp0_;
	GHashFunc _tmp1_;
	GEqualFunc _tmp2_;
	BalaHashSet* _tmp3_;
	BalaList* source_files = NULL;
	BalaList* _tmp4_;
	BalaList* _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	_tmp0_ = _bala_code_context_ref0 (context);
	_bala_code_context_unref0 (self->priv->context);
	self->priv->context = _tmp0_;
	_tmp1_ = g_direct_hash;
	_tmp2_ = g_direct_equal;
	_tmp3_ = bala_hash_set_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, _tmp1_, _tmp2_);
	_bala_iterable_unref0 (self->priv->all_basic_blocks);
	self->priv->all_basic_blocks = (BalaSet*) _tmp3_;
	_tmp4_ = bala_code_context_get_source_files (context);
	_tmp5_ = _bala_iterable_ref0 (_tmp4_);
	source_files = _tmp5_;
	{
		BalaList* _file_list = NULL;
		BalaList* _tmp6_;
		BalaList* _tmp7_;
		gint _file_size = 0;
		BalaList* _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
		gint _file_index = 0;
		_tmp6_ = source_files;
		_tmp7_ = _bala_iterable_ref0 (_tmp6_);
		_file_list = _tmp7_;
		_tmp8_ = _file_list;
		_tmp9_ = bala_collection_get_size ((BalaCollection*) _tmp8_);
		_tmp10_ = _tmp9_;
		_file_size = _tmp10_;
		_file_index = -1;
		while (TRUE) {
			gint _tmp11_;
			gint _tmp12_;
			BalaSourceFile* file = NULL;
			BalaList* _tmp13_;
			gpointer _tmp14_;
			BalaSourceFile* _tmp15_;
			_file_index = _file_index + 1;
			_tmp11_ = _file_index;
			_tmp12_ = _file_size;
			if (!(_tmp11_ < _tmp12_)) {
				break;
			}
			_tmp13_ = _file_list;
			_tmp14_ = bala_list_get (_tmp13_, _file_index);
			file = (BalaSourceFile*) _tmp14_;
			_tmp15_ = file;
			bala_source_file_accept (_tmp15_, (BalaCodeVisitor*) self);
			_bala_source_file_unref0 (file);
		}
		_bala_iterable_unref0 (_file_list);
	}
	_bala_iterable_unref0 (self->priv->all_basic_blocks);
	self->priv->all_basic_blocks = NULL;
	_bala_code_context_unref0 (self->priv->context);
	self->priv->context = NULL;
	_bala_iterable_unref0 (source_files);
}

static void
bala_flow_analyzer_real_visit_source_file (BalaCodeVisitor* base,
                                           BalaSourceFile* source_file)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (source_file != NULL);
	bala_source_file_accept_children (source_file, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_class (BalaCodeVisitor* base,
                                     BalaClass* cl)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (cl != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) cl, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_struct (BalaCodeVisitor* base,
                                      BalaStruct* st)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (st != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) st, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_interface (BalaCodeVisitor* base,
                                         BalaInterface* iface)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (iface != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) iface, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_enum (BalaCodeVisitor* base,
                                    BalaEnum* en)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (en != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) en, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_error_domain (BalaCodeVisitor* base,
                                            BalaErrorDomain* ed)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (ed != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) ed, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_field (BalaCodeVisitor* base,
                                     BalaField* f)
{
	BalaFlowAnalyzer * self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (f != NULL);
	if (bala_symbol_is_internal_symbol ((BalaSymbol*) f)) {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = bala_symbol_get_used ((BalaSymbol*) f);
		_tmp3_ = _tmp2_;
		_tmp1_ = !_tmp3_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp4_ = bala_symbol_get_external_package ((BalaSymbol*) f);
		_tmp5_ = _tmp4_;
		_tmp0_ = !_tmp5_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gboolean _tmp6_ = FALSE;
		if (!bala_symbol_is_private_symbol ((BalaSymbol*) f)) {
			gboolean _tmp7_ = FALSE;
			BalaCodeContext* _tmp8_;
			const gchar* _tmp9_;
			const gchar* _tmp10_;
			_tmp8_ = self->priv->context;
			_tmp9_ = bala_code_context_get_internal_header_filename (_tmp8_);
			_tmp10_ = _tmp9_;
			if (_tmp10_ != NULL) {
				_tmp7_ = TRUE;
			} else {
				BalaCodeContext* _tmp11_;
				gboolean _tmp12_;
				gboolean _tmp13_;
				_tmp11_ = self->priv->context;
				_tmp12_ = bala_code_context_get_use_fast_vapi (_tmp11_);
				_tmp13_ = _tmp12_;
				_tmp7_ = _tmp13_;
			}
			_tmp6_ = _tmp7_;
		} else {
			_tmp6_ = FALSE;
		}
		if (_tmp6_) {
		} else {
			BalaSourceReference* _tmp14_;
			BalaSourceReference* _tmp15_;
			gchar* _tmp16_;
			gchar* _tmp17_;
			gchar* _tmp18_;
			gchar* _tmp19_;
			_tmp14_ = bala_code_node_get_source_reference ((BalaCodeNode*) f);
			_tmp15_ = _tmp14_;
			_tmp16_ = bala_symbol_get_full_name ((BalaSymbol*) f);
			_tmp17_ = _tmp16_;
			_tmp18_ = g_strdup_printf ("field `%s' never used", _tmp17_);
			_tmp19_ = _tmp18_;
			bala_report_warning (_tmp15_, _tmp19_);
			_g_free0 (_tmp19_);
			_g_free0 (_tmp17_);
		}
	}
}

static gpointer
_bala_basic_block_ref0 (gpointer self)
{
	return self ? bala_basic_block_ref (self) : NULL;
}

static void
bala_flow_analyzer_real_visit_lambda_expression (BalaCodeVisitor* base,
                                                 BalaLambdaExpression* le)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* old_current_block = NULL;
	BalaBasicBlock* _tmp0_;
	BalaBasicBlock* _tmp1_;
	gboolean old_unreachable_reported = FALSE;
	BalaList* old_jump_stack = NULL;
	BalaList* _tmp2_;
	BalaList* _tmp3_;
	GEqualFunc _tmp4_;
	BalaArrayList* _tmp5_;
	BalaBasicBlock* _tmp6_;
	BalaList* _tmp7_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (le != NULL);
	_tmp0_ = self->priv->current_block;
	_tmp1_ = _bala_basic_block_ref0 (_tmp0_);
	old_current_block = _tmp1_;
	old_unreachable_reported = self->priv->unreachable_reported;
	_tmp2_ = self->priv->jump_stack;
	_tmp3_ = _bala_iterable_ref0 (_tmp2_);
	old_jump_stack = _tmp3_;
	bala_flow_analyzer_mark_unreachable (self);
	_tmp4_ = g_direct_equal;
	_tmp5_ = bala_array_list_new (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, (GBoxedCopyFunc) bala_flow_analyzer_jump_target_ref, (GDestroyNotify) bala_flow_analyzer_jump_target_unref, _tmp4_);
	_bala_iterable_unref0 (self->priv->jump_stack);
	self->priv->jump_stack = (BalaList*) _tmp5_;
	bala_code_node_accept_children ((BalaCodeNode*) le, (BalaCodeVisitor*) self);
	_tmp6_ = _bala_basic_block_ref0 (old_current_block);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp6_;
	self->priv->unreachable_reported = old_unreachable_reported;
	_tmp7_ = _bala_iterable_ref0 (old_jump_stack);
	_bala_iterable_unref0 (self->priv->jump_stack);
	self->priv->jump_stack = _tmp7_;
	_bala_iterable_unref0 (old_jump_stack);
	_bala_basic_block_unref0 (old_current_block);
}

static void
bala_flow_analyzer_real_visit_method (BalaCodeVisitor* base,
                                      BalaMethod* m)
{
	BalaFlowAnalyzer * self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (m != NULL);
	if (bala_symbol_is_internal_symbol ((BalaSymbol*) m)) {
		gboolean _tmp6_;
		gboolean _tmp7_;
		_tmp6_ = bala_symbol_get_used ((BalaSymbol*) m);
		_tmp7_ = _tmp6_;
		_tmp5_ = !_tmp7_;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		gboolean _tmp8_;
		gboolean _tmp9_;
		_tmp8_ = bala_method_get_entry_point (m);
		_tmp9_ = _tmp8_;
		_tmp4_ = !_tmp9_;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		gboolean _tmp10_;
		gboolean _tmp11_;
		_tmp10_ = bala_symbol_get_external_package ((BalaSymbol*) m);
		_tmp11_ = _tmp10_;
		_tmp3_ = !_tmp11_;
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		gboolean _tmp12_;
		gboolean _tmp13_;
		_tmp12_ = bala_method_get_overrides (m);
		_tmp13_ = _tmp12_;
		_tmp2_ = !_tmp13_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		gboolean _tmp14_ = FALSE;
		BalaMethod* _tmp15_;
		BalaMethod* _tmp16_;
		_tmp15_ = bala_method_get_base_interface_method (m);
		_tmp16_ = _tmp15_;
		if (_tmp16_ == NULL) {
			_tmp14_ = TRUE;
		} else {
			BalaMethod* _tmp17_;
			BalaMethod* _tmp18_;
			_tmp17_ = bala_method_get_base_interface_method (m);
			_tmp18_ = _tmp17_;
			_tmp14_ = _tmp18_ == m;
		}
		_tmp1_ = _tmp14_;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		_tmp0_ = !BALA_IS_CREATION_METHOD (m);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gboolean _tmp19_ = FALSE;
		if (!bala_symbol_is_private_symbol ((BalaSymbol*) m)) {
			gboolean _tmp20_ = FALSE;
			BalaCodeContext* _tmp21_;
			const gchar* _tmp22_;
			const gchar* _tmp23_;
			_tmp21_ = self->priv->context;
			_tmp22_ = bala_code_context_get_internal_header_filename (_tmp21_);
			_tmp23_ = _tmp22_;
			if (_tmp23_ != NULL) {
				_tmp20_ = TRUE;
			} else {
				BalaCodeContext* _tmp24_;
				gboolean _tmp25_;
				gboolean _tmp26_;
				_tmp24_ = self->priv->context;
				_tmp25_ = bala_code_context_get_use_fast_vapi (_tmp24_);
				_tmp26_ = _tmp25_;
				_tmp20_ = _tmp26_;
			}
			_tmp19_ = _tmp20_;
		} else {
			_tmp19_ = FALSE;
		}
		if (_tmp19_) {
		} else {
			gboolean _tmp27_ = FALSE;
			gboolean _tmp28_ = FALSE;
			BalaSymbol* _tmp29_;
			BalaSymbol* _tmp30_;
			_tmp29_ = bala_symbol_get_parent_symbol ((BalaSymbol*) m);
			_tmp30_ = _tmp29_;
			if (_tmp30_ != NULL) {
				BalaSymbol* _tmp31_;
				BalaSymbol* _tmp32_;
				BalaAttribute* _tmp33_;
				_tmp31_ = bala_symbol_get_parent_symbol ((BalaSymbol*) m);
				_tmp32_ = _tmp31_;
				_tmp33_ = bala_code_node_get_attribute ((BalaCodeNode*) _tmp32_, "DBus");
				_tmp28_ = _tmp33_ != NULL;
			} else {
				_tmp28_ = FALSE;
			}
			if (_tmp28_) {
				_tmp27_ = bala_code_node_get_attribute_bool ((BalaCodeNode*) m, "DBus", "visible", TRUE);
			} else {
				_tmp27_ = FALSE;
			}
			if (_tmp27_) {
			} else {
				BalaSourceReference* _tmp34_;
				BalaSourceReference* _tmp35_;
				gchar* _tmp36_;
				gchar* _tmp37_;
				gchar* _tmp38_;
				gchar* _tmp39_;
				_tmp34_ = bala_code_node_get_source_reference ((BalaCodeNode*) m);
				_tmp35_ = _tmp34_;
				_tmp36_ = bala_symbol_get_full_name ((BalaSymbol*) m);
				_tmp37_ = _tmp36_;
				_tmp38_ = g_strdup_printf ("method `%s' never used", _tmp37_);
				_tmp39_ = _tmp38_;
				bala_report_warning (_tmp35_, _tmp39_);
				_g_free0 (_tmp39_);
				_g_free0 (_tmp37_);
			}
		}
	}
	bala_flow_analyzer_visit_subroutine (self, (BalaSubroutine*) m);
}

static void
bala_flow_analyzer_real_visit_signal (BalaCodeVisitor* base,
                                      BalaSignal* sig)
{
	BalaFlowAnalyzer * self;
	BalaMethod* _tmp0_;
	BalaMethod* _tmp1_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (sig != NULL);
	_tmp0_ = bala_signal_get_default_handler (sig);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaMethod* _tmp2_;
		BalaMethod* _tmp3_;
		_tmp2_ = bala_signal_get_default_handler (sig);
		_tmp3_ = _tmp2_;
		bala_flow_analyzer_visit_subroutine (self, (BalaSubroutine*) _tmp3_);
	}
}

static void
bala_flow_analyzer_visit_subroutine (BalaFlowAnalyzer* self,
                                     BalaSubroutine* m)
{
	BalaBlock* _tmp0_;
	BalaBlock* _tmp1_;
	BalaBasicBlock* _tmp2_;
	BalaBasicBlock* _tmp3_;
	BalaSet* _tmp4_;
	BalaBasicBlock* _tmp5_;
	BalaBasicBlock* _tmp6_;
	BalaBasicBlock* _tmp7_;
	BalaBasicBlock* _tmp8_;
	BalaSet* _tmp9_;
	BalaBasicBlock* _tmp10_;
	BalaBasicBlock* _tmp11_;
	BalaBasicBlock* _tmp12_;
	BalaBasicBlock* _tmp13_;
	BalaSet* _tmp14_;
	BalaBasicBlock* _tmp15_;
	BalaBasicBlock* _tmp16_;
	BalaBasicBlock* _tmp17_;
	BalaBasicBlock* _tmp18_;
	BalaBasicBlock* _tmp19_;
	BalaBasicBlock* _tmp20_;
	BalaBasicBlock* _tmp45_;
	BalaSet* _tmp46_;
	BalaBasicBlock* _tmp47_;
	BalaBasicBlock* _tmp48_;
	BalaBasicBlock* _tmp49_;
	BalaBasicBlock* _tmp50_;
	BalaBasicBlock* _tmp51_;
	BalaList* _tmp52_;
	BalaBasicBlock* _tmp53_;
	BalaBasicBlock* _tmp54_;
	BalaFlowAnalyzerJumpTarget* _tmp55_;
	BalaFlowAnalyzerJumpTarget* _tmp56_;
	BalaList* _tmp57_;
	BalaBasicBlock* _tmp58_;
	BalaBasicBlock* _tmp59_;
	BalaFlowAnalyzerJumpTarget* _tmp60_;
	BalaFlowAnalyzerJumpTarget* _tmp61_;
	BalaList* _tmp62_;
	BalaList* _tmp63_;
	gint _tmp64_;
	gint _tmp65_;
	gpointer _tmp66_;
	BalaFlowAnalyzerJumpTarget* _tmp67_;
	BalaBasicBlock* _tmp68_;
	BalaBasicBlock* _tmp76_;
	BalaBasicBlock* _tmp77_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (m != NULL);
	_tmp0_ = bala_subroutine_get_body (m);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == NULL) {
		return;
	}
	_tmp2_ = bala_basic_block_new_entry ();
	_tmp3_ = _tmp2_;
	bala_subroutine_set_entry_block (m, _tmp3_);
	_bala_basic_block_unref0 (_tmp3_);
	_tmp4_ = self->priv->all_basic_blocks;
	_tmp5_ = bala_subroutine_get_entry_block (m);
	_tmp6_ = _tmp5_;
	bala_collection_add ((BalaCollection*) _tmp4_, _tmp6_);
	_tmp7_ = bala_basic_block_new ();
	_tmp8_ = _tmp7_;
	bala_subroutine_set_return_block (m, _tmp8_);
	_bala_basic_block_unref0 (_tmp8_);
	_tmp9_ = self->priv->all_basic_blocks;
	_tmp10_ = bala_subroutine_get_return_block (m);
	_tmp11_ = _tmp10_;
	bala_collection_add ((BalaCollection*) _tmp9_, _tmp11_);
	_tmp12_ = bala_basic_block_new_exit ();
	_tmp13_ = _tmp12_;
	bala_subroutine_set_exit_block (m, _tmp13_);
	_bala_basic_block_unref0 (_tmp13_);
	_tmp14_ = self->priv->all_basic_blocks;
	_tmp15_ = bala_subroutine_get_exit_block (m);
	_tmp16_ = _tmp15_;
	bala_collection_add ((BalaCollection*) _tmp14_, _tmp16_);
	_tmp17_ = bala_subroutine_get_return_block (m);
	_tmp18_ = _tmp17_;
	_tmp19_ = bala_subroutine_get_exit_block (m);
	_tmp20_ = _tmp19_;
	bala_basic_block_connect (_tmp18_, _tmp20_);
	if (BALA_IS_METHOD (m)) {
		{
			BalaList* _param_list = NULL;
			BalaList* _tmp21_;
			BalaList* _tmp22_;
			gint _param_size = 0;
			BalaList* _tmp23_;
			gint _tmp24_;
			gint _tmp25_;
			gint _param_index = 0;
			_tmp21_ = bala_callable_get_parameters ((BalaCallable*) G_TYPE_CHECK_INSTANCE_CAST (m, BALA_TYPE_METHOD, BalaMethod));
			_tmp22_ = _bala_iterable_ref0 (_tmp21_);
			_param_list = _tmp22_;
			_tmp23_ = _param_list;
			_tmp24_ = bala_collection_get_size ((BalaCollection*) _tmp23_);
			_tmp25_ = _tmp24_;
			_param_size = _tmp25_;
			_param_index = -1;
			while (TRUE) {
				gint _tmp26_;
				gint _tmp27_;
				BalaParameter* param = NULL;
				BalaList* _tmp28_;
				gpointer _tmp29_;
				BalaParameter* _tmp30_;
				BalaParameterDirection _tmp31_;
				BalaParameterDirection _tmp32_;
				_param_index = _param_index + 1;
				_tmp26_ = _param_index;
				_tmp27_ = _param_size;
				if (!(_tmp26_ < _tmp27_)) {
					break;
				}
				_tmp28_ = _param_list;
				_tmp29_ = bala_list_get (_tmp28_, _param_index);
				param = (BalaParameter*) _tmp29_;
				_tmp30_ = param;
				_tmp31_ = bala_parameter_get_direction (_tmp30_);
				_tmp32_ = _tmp31_;
				if (_tmp32_ == BALA_PARAMETER_DIRECTION_OUT) {
					BalaMemberAccess* param_ma = NULL;
					BalaParameter* _tmp33_;
					const gchar* _tmp34_;
					const gchar* _tmp35_;
					BalaParameter* _tmp36_;
					BalaSourceReference* _tmp37_;
					BalaSourceReference* _tmp38_;
					BalaMemberAccess* _tmp39_;
					BalaMemberAccess* _tmp40_;
					BalaParameter* _tmp41_;
					BalaBasicBlock* _tmp42_;
					BalaBasicBlock* _tmp43_;
					BalaMemberAccess* _tmp44_;
					_tmp33_ = param;
					_tmp34_ = bala_symbol_get_name ((BalaSymbol*) _tmp33_);
					_tmp35_ = _tmp34_;
					_tmp36_ = param;
					_tmp37_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp36_);
					_tmp38_ = _tmp37_;
					_tmp39_ = bala_member_access_new_simple (_tmp35_, _tmp38_);
					param_ma = _tmp39_;
					_tmp40_ = param_ma;
					_tmp41_ = param;
					bala_expression_set_symbol_reference ((BalaExpression*) _tmp40_, (BalaSymbol*) _tmp41_);
					_tmp42_ = bala_subroutine_get_return_block (m);
					_tmp43_ = _tmp42_;
					_tmp44_ = param_ma;
					bala_basic_block_add_node (_tmp43_, (BalaCodeNode*) _tmp44_);
					_bala_code_node_unref0 (param_ma);
				}
				_bala_code_node_unref0 (param);
			}
			_bala_iterable_unref0 (_param_list);
		}
	}
	_tmp45_ = bala_basic_block_new ();
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp45_;
	_tmp46_ = self->priv->all_basic_blocks;
	_tmp47_ = self->priv->current_block;
	bala_collection_add ((BalaCollection*) _tmp46_, _tmp47_);
	_tmp48_ = bala_subroutine_get_entry_block (m);
	_tmp49_ = _tmp48_;
	_tmp50_ = self->priv->current_block;
	bala_basic_block_connect (_tmp49_, _tmp50_);
	_tmp51_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp51_, (BalaCodeNode*) m);
	_tmp52_ = self->priv->jump_stack;
	_tmp53_ = bala_subroutine_get_return_block (m);
	_tmp54_ = _tmp53_;
	_tmp55_ = bala_flow_analyzer_jump_target_new_return_target (_tmp54_);
	_tmp56_ = _tmp55_;
	bala_collection_add ((BalaCollection*) _tmp52_, _tmp56_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp56_);
	_tmp57_ = self->priv->jump_stack;
	_tmp58_ = bala_subroutine_get_exit_block (m);
	_tmp59_ = _tmp58_;
	_tmp60_ = bala_flow_analyzer_jump_target_new_exit_target (_tmp59_);
	_tmp61_ = _tmp60_;
	bala_collection_add ((BalaCollection*) _tmp57_, _tmp61_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp61_);
	bala_code_node_accept_children ((BalaCodeNode*) m, (BalaCodeVisitor*) self);
	_tmp62_ = self->priv->jump_stack;
	_tmp63_ = self->priv->jump_stack;
	_tmp64_ = bala_collection_get_size ((BalaCollection*) _tmp63_);
	_tmp65_ = _tmp64_;
	_tmp66_ = bala_list_remove_at (_tmp62_, _tmp65_ - 1);
	_tmp67_ = (BalaFlowAnalyzerJumpTarget*) _tmp66_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp67_);
	_tmp68_ = self->priv->current_block;
	if (_tmp68_ != NULL) {
		gboolean _tmp69_;
		gboolean _tmp70_;
		BalaBasicBlock* _tmp73_;
		BalaBasicBlock* _tmp74_;
		BalaBasicBlock* _tmp75_;
		_tmp69_ = bala_subroutine_get_has_result (m);
		_tmp70_ = _tmp69_;
		if (_tmp70_) {
			BalaSourceReference* _tmp71_;
			BalaSourceReference* _tmp72_;
			_tmp71_ = bala_code_node_get_source_reference ((BalaCodeNode*) m);
			_tmp72_ = _tmp71_;
			bala_report_error (_tmp72_, "missing return statement at end of subroutine body");
			bala_code_node_set_error ((BalaCodeNode*) m, TRUE);
		}
		_tmp73_ = self->priv->current_block;
		_tmp74_ = bala_subroutine_get_return_block (m);
		_tmp75_ = _tmp74_;
		bala_basic_block_connect (_tmp73_, _tmp75_);
	}
	_tmp76_ = bala_subroutine_get_entry_block (m);
	_tmp77_ = _tmp76_;
	bala_flow_analyzer_analyze_body (self, _tmp77_);
}

static void
bala_flow_analyzer_analyze_body (BalaFlowAnalyzer* self,
                                 BalaBasicBlock* entry_block)
{
	BalaList* block_list = NULL;
	BalaList* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entry_block != NULL);
	_tmp0_ = bala_flow_analyzer_get_depth_first_list (self, entry_block);
	block_list = _tmp0_;
	bala_flow_analyzer_build_dominator_tree (self, block_list, entry_block);
	bala_flow_analyzer_build_dominator_frontier (self, block_list, entry_block);
	bala_flow_analyzer_insert_phi_functions (self, block_list, entry_block);
	bala_flow_analyzer_check_variables (self, entry_block);
	_bala_iterable_unref0 (block_list);
}

static BalaList*
bala_flow_analyzer_get_depth_first_list (BalaFlowAnalyzer* self,
                                         BalaBasicBlock* entry_block)
{
	BalaArrayList* list = NULL;
	GEqualFunc _tmp0_;
	BalaArrayList* _tmp1_;
	BalaList* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (entry_block != NULL, NULL);
	_tmp0_ = g_direct_equal;
	_tmp1_ = bala_array_list_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, _tmp0_);
	list = _tmp1_;
	bala_flow_analyzer_depth_first_traverse (self, entry_block, (BalaList*) list);
	result = (BalaList*) list;
	return result;
}

static void
bala_flow_analyzer_depth_first_traverse (BalaFlowAnalyzer* self,
                                         BalaBasicBlock* current,
                                         BalaList* list)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
	gint _tmp12_;
	gint _tmp13_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (current != NULL);
	g_return_if_fail (list != NULL);
	_tmp0_ = bala_basic_block_get_postorder_visited (current);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		return;
	}
	bala_basic_block_set_postorder_visited (current, TRUE);
	{
		BalaList* _succ_list = NULL;
		BalaList* _tmp2_;
		BalaList* _tmp3_;
		gint _succ_size = 0;
		BalaList* _tmp4_;
		gint _tmp5_;
		gint _tmp6_;
		gint _succ_index = 0;
		_tmp2_ = bala_basic_block_get_successors (current);
		_tmp3_ = _bala_iterable_ref0 (_tmp2_);
		_succ_list = _tmp3_;
		_tmp4_ = _succ_list;
		_tmp5_ = bala_collection_get_size ((BalaCollection*) _tmp4_);
		_tmp6_ = _tmp5_;
		_succ_size = _tmp6_;
		_succ_index = -1;
		while (TRUE) {
			gint _tmp7_;
			gint _tmp8_;
			BalaBasicBlock* succ = NULL;
			BalaList* _tmp9_;
			gpointer _tmp10_;
			BalaBasicBlock* _tmp11_;
			_succ_index = _succ_index + 1;
			_tmp7_ = _succ_index;
			_tmp8_ = _succ_size;
			if (!(_tmp7_ < _tmp8_)) {
				break;
			}
			_tmp9_ = _succ_list;
			_tmp10_ = bala_list_get (_tmp9_, _succ_index);
			succ = (BalaBasicBlock*) _tmp10_;
			_tmp11_ = succ;
			bala_flow_analyzer_depth_first_traverse (self, _tmp11_, list);
		}
		_bala_iterable_unref0 (_succ_list);
	}
	_tmp12_ = bala_collection_get_size ((BalaCollection*) list);
	_tmp13_ = _tmp12_;
	bala_basic_block_set_postorder_number (current, _tmp13_);
	bala_list_insert (list, 0, current);
}

static void
bala_flow_analyzer_build_dominator_tree (BalaFlowAnalyzer* self,
                                         BalaList* block_list,
                                         BalaBasicBlock* entry_block)
{
	BalaBasicBlock** idoms = NULL;
	gint _tmp0_;
	gint _tmp1_;
	BalaBasicBlock** _tmp2_;
	gint idoms_length1;
	gint _idoms_size_;
	BalaBasicBlock** _tmp3_;
	gint _tmp3__length1;
	gint _tmp4_;
	gint _tmp5_;
	BalaBasicBlock* _tmp6_;
	gboolean changed = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (block_list != NULL);
	g_return_if_fail (entry_block != NULL);
	_tmp0_ = bala_collection_get_size ((BalaCollection*) block_list);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_new0 (BalaBasicBlock*, _tmp1_ + 1);
	idoms = _tmp2_;
	idoms_length1 = _tmp1_;
	_idoms_size_ = idoms_length1;
	_tmp3_ = idoms;
	_tmp3__length1 = idoms_length1;
	_tmp4_ = bala_basic_block_get_postorder_number (entry_block);
	_tmp5_ = _tmp4_;
	_tmp6_ = _bala_basic_block_ref0 (entry_block);
	_bala_basic_block_unref0 (_tmp3_[_tmp5_]);
	_tmp3_[_tmp5_] = _tmp6_;
	changed = TRUE;
	while (TRUE) {
		if (!changed) {
			break;
		}
		changed = FALSE;
		{
			BalaList* _block_list = NULL;
			BalaList* _tmp7_;
			gint _block_size = 0;
			BalaList* _tmp8_;
			gint _tmp9_;
			gint _tmp10_;
			gint _block_index = 0;
			_tmp7_ = _bala_iterable_ref0 (block_list);
			_block_list = _tmp7_;
			_tmp8_ = _block_list;
			_tmp9_ = bala_collection_get_size ((BalaCollection*) _tmp8_);
			_tmp10_ = _tmp9_;
			_block_size = _tmp10_;
			_block_index = -1;
			while (TRUE) {
				gint _tmp11_;
				gint _tmp12_;
				BalaBasicBlock* block = NULL;
				BalaList* _tmp13_;
				gpointer _tmp14_;
				BalaBasicBlock* _tmp15_;
				BalaBasicBlock* new_idom = NULL;
				gboolean first = FALSE;
				BalaBasicBlock** _tmp37_;
				gint _tmp37__length1;
				BalaBasicBlock* _tmp38_;
				gint _tmp39_;
				gint _tmp40_;
				BalaBasicBlock* _tmp41_;
				BalaBasicBlock* _tmp42_;
				_block_index = _block_index + 1;
				_tmp11_ = _block_index;
				_tmp12_ = _block_size;
				if (!(_tmp11_ < _tmp12_)) {
					break;
				}
				_tmp13_ = _block_list;
				_tmp14_ = bala_list_get (_tmp13_, _block_index);
				block = (BalaBasicBlock*) _tmp14_;
				_tmp15_ = block;
				if (_tmp15_ == entry_block) {
					_bala_basic_block_unref0 (block);
					continue;
				}
				new_idom = NULL;
				first = TRUE;
				{
					BalaList* _pred_list = NULL;
					BalaBasicBlock* _tmp16_;
					BalaList* _tmp17_;
					BalaList* _tmp18_;
					gint _pred_size = 0;
					BalaList* _tmp19_;
					gint _tmp20_;
					gint _tmp21_;
					gint _pred_index = 0;
					_tmp16_ = block;
					_tmp17_ = bala_basic_block_get_predecessors (_tmp16_);
					_tmp18_ = _bala_iterable_ref0 (_tmp17_);
					_pred_list = _tmp18_;
					_tmp19_ = _pred_list;
					_tmp20_ = bala_collection_get_size ((BalaCollection*) _tmp19_);
					_tmp21_ = _tmp20_;
					_pred_size = _tmp21_;
					_pred_index = -1;
					while (TRUE) {
						gint _tmp22_;
						gint _tmp23_;
						BalaBasicBlock* pred = NULL;
						BalaList* _tmp24_;
						gpointer _tmp25_;
						BalaBasicBlock** _tmp26_;
						gint _tmp26__length1;
						BalaBasicBlock* _tmp27_;
						gint _tmp28_;
						gint _tmp29_;
						BalaBasicBlock* _tmp30_;
						_pred_index = _pred_index + 1;
						_tmp22_ = _pred_index;
						_tmp23_ = _pred_size;
						if (!(_tmp22_ < _tmp23_)) {
							break;
						}
						_tmp24_ = _pred_list;
						_tmp25_ = bala_list_get (_tmp24_, _pred_index);
						pred = (BalaBasicBlock*) _tmp25_;
						_tmp26_ = idoms;
						_tmp26__length1 = idoms_length1;
						_tmp27_ = pred;
						_tmp28_ = bala_basic_block_get_postorder_number (_tmp27_);
						_tmp29_ = _tmp28_;
						_tmp30_ = _tmp26_[_tmp29_];
						if (_tmp30_ != NULL) {
							if (first) {
								BalaBasicBlock* _tmp31_;
								BalaBasicBlock* _tmp32_;
								_tmp31_ = pred;
								_tmp32_ = _bala_basic_block_ref0 (_tmp31_);
								_bala_basic_block_unref0 (new_idom);
								new_idom = _tmp32_;
								first = FALSE;
							} else {
								BalaBasicBlock** _tmp33_;
								gint _tmp33__length1;
								BalaBasicBlock* _tmp34_;
								BalaBasicBlock* _tmp35_;
								BalaBasicBlock* _tmp36_;
								_tmp33_ = idoms;
								_tmp33__length1 = idoms_length1;
								_tmp34_ = pred;
								_tmp35_ = new_idom;
								_tmp36_ = bala_flow_analyzer_intersect (self, _tmp33_, (gint) _tmp33__length1, _tmp34_, _tmp35_);
								_bala_basic_block_unref0 (new_idom);
								new_idom = _tmp36_;
							}
						}
					}
					_bala_iterable_unref0 (_pred_list);
				}
				_tmp37_ = idoms;
				_tmp37__length1 = idoms_length1;
				_tmp38_ = block;
				_tmp39_ = bala_basic_block_get_postorder_number (_tmp38_);
				_tmp40_ = _tmp39_;
				_tmp41_ = _tmp37_[_tmp40_];
				_tmp42_ = new_idom;
				if (_tmp41_ != _tmp42_) {
					BalaBasicBlock** _tmp43_;
					gint _tmp43__length1;
					BalaBasicBlock* _tmp44_;
					gint _tmp45_;
					gint _tmp46_;
					BalaBasicBlock* _tmp47_;
					BalaBasicBlock* _tmp48_;
					_tmp43_ = idoms;
					_tmp43__length1 = idoms_length1;
					_tmp44_ = block;
					_tmp45_ = bala_basic_block_get_postorder_number (_tmp44_);
					_tmp46_ = _tmp45_;
					_tmp47_ = new_idom;
					_tmp48_ = _bala_basic_block_ref0 (_tmp47_);
					_bala_basic_block_unref0 (_tmp43_[_tmp46_]);
					_tmp43_[_tmp46_] = _tmp48_;
					changed = TRUE;
				}
				_bala_basic_block_unref0 (new_idom);
				_bala_basic_block_unref0 (block);
			}
			_bala_iterable_unref0 (_block_list);
		}
	}
	{
		BalaList* _block_list = NULL;
		BalaList* _tmp49_;
		gint _block_size = 0;
		BalaList* _tmp50_;
		gint _tmp51_;
		gint _tmp52_;
		gint _block_index = 0;
		_tmp49_ = _bala_iterable_ref0 (block_list);
		_block_list = _tmp49_;
		_tmp50_ = _block_list;
		_tmp51_ = bala_collection_get_size ((BalaCollection*) _tmp50_);
		_tmp52_ = _tmp51_;
		_block_size = _tmp52_;
		_block_index = -1;
		while (TRUE) {
			gint _tmp53_;
			gint _tmp54_;
			BalaBasicBlock* block = NULL;
			BalaList* _tmp55_;
			gpointer _tmp56_;
			BalaBasicBlock* _tmp57_;
			BalaBasicBlock** _tmp58_;
			gint _tmp58__length1;
			BalaBasicBlock* _tmp59_;
			gint _tmp60_;
			gint _tmp61_;
			BalaBasicBlock* _tmp62_;
			BalaBasicBlock* _tmp63_;
			_block_index = _block_index + 1;
			_tmp53_ = _block_index;
			_tmp54_ = _block_size;
			if (!(_tmp53_ < _tmp54_)) {
				break;
			}
			_tmp55_ = _block_list;
			_tmp56_ = bala_list_get (_tmp55_, _block_index);
			block = (BalaBasicBlock*) _tmp56_;
			_tmp57_ = block;
			if (_tmp57_ == entry_block) {
				_bala_basic_block_unref0 (block);
				continue;
			}
			_tmp58_ = idoms;
			_tmp58__length1 = idoms_length1;
			_tmp59_ = block;
			_tmp60_ = bala_basic_block_get_postorder_number (_tmp59_);
			_tmp61_ = _tmp60_;
			_tmp62_ = _tmp58_[_tmp61_];
			_tmp63_ = block;
			bala_basic_block_add_child (_tmp62_, _tmp63_);
			_bala_basic_block_unref0 (block);
		}
		_bala_iterable_unref0 (_block_list);
	}
	idoms = (_bala_array_free (idoms, idoms_length1, (GDestroyNotify) bala_basic_block_unref), NULL);
}

static BalaBasicBlock*
bala_flow_analyzer_intersect (BalaFlowAnalyzer* self,
                              BalaBasicBlock** idoms,
                              gint idoms_length1,
                              BalaBasicBlock* b1,
                              BalaBasicBlock* b2)
{
	BalaBasicBlock* _tmp14_;
	BalaBasicBlock* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (b1 != NULL, NULL);
	g_return_val_if_fail (b2 != NULL, NULL);
	while (TRUE) {
		if (!(b1 != b2)) {
			break;
		}
		while (TRUE) {
			gint _tmp0_;
			gint _tmp1_;
			gint _tmp2_;
			gint _tmp3_;
			gint _tmp4_;
			gint _tmp5_;
			BalaBasicBlock* _tmp6_;
			_tmp0_ = bala_basic_block_get_postorder_number (b1);
			_tmp1_ = _tmp0_;
			_tmp2_ = bala_basic_block_get_postorder_number (b2);
			_tmp3_ = _tmp2_;
			if (!(_tmp1_ < _tmp3_)) {
				break;
			}
			_tmp4_ = bala_basic_block_get_postorder_number (b2);
			_tmp5_ = _tmp4_;
			_tmp6_ = idoms[_tmp5_];
			b1 = _tmp6_;
		}
		while (TRUE) {
			gint _tmp7_;
			gint _tmp8_;
			gint _tmp9_;
			gint _tmp10_;
			gint _tmp11_;
			gint _tmp12_;
			BalaBasicBlock* _tmp13_;
			_tmp7_ = bala_basic_block_get_postorder_number (b2);
			_tmp8_ = _tmp7_;
			_tmp9_ = bala_basic_block_get_postorder_number (b1);
			_tmp10_ = _tmp9_;
			if (!(_tmp8_ < _tmp10_)) {
				break;
			}
			_tmp11_ = bala_basic_block_get_postorder_number (b2);
			_tmp12_ = _tmp11_;
			_tmp13_ = idoms[_tmp12_];
			b2 = _tmp13_;
		}
	}
	_tmp14_ = _bala_basic_block_ref0 (b1);
	result = _tmp14_;
	return result;
}

static void
bala_flow_analyzer_build_dominator_frontier (BalaFlowAnalyzer* self,
                                             BalaList* block_list,
                                             BalaBasicBlock* entry_block)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (block_list != NULL);
	g_return_if_fail (entry_block != NULL);
	{
		gint i = 0;
		gint _tmp0_;
		gint _tmp1_;
		_tmp0_ = bala_collection_get_size ((BalaCollection*) block_list);
		_tmp1_ = _tmp0_;
		i = _tmp1_ - 1;
		{
			gboolean _tmp2_ = FALSE;
			_tmp2_ = TRUE;
			while (TRUE) {
				BalaBasicBlock* block = NULL;
				gpointer _tmp4_;
				if (!_tmp2_) {
					gint _tmp3_;
					_tmp3_ = i;
					i = _tmp3_ - 1;
				}
				_tmp2_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp4_ = bala_list_get (block_list, i);
				block = (BalaBasicBlock*) _tmp4_;
				{
					BalaList* _succ_list = NULL;
					BalaBasicBlock* _tmp5_;
					BalaList* _tmp6_;
					BalaList* _tmp7_;
					gint _succ_size = 0;
					BalaList* _tmp8_;
					gint _tmp9_;
					gint _tmp10_;
					gint _succ_index = 0;
					_tmp5_ = block;
					_tmp6_ = bala_basic_block_get_successors (_tmp5_);
					_tmp7_ = _bala_iterable_ref0 (_tmp6_);
					_succ_list = _tmp7_;
					_tmp8_ = _succ_list;
					_tmp9_ = bala_collection_get_size ((BalaCollection*) _tmp8_);
					_tmp10_ = _tmp9_;
					_succ_size = _tmp10_;
					_succ_index = -1;
					while (TRUE) {
						gint _tmp11_;
						gint _tmp12_;
						BalaBasicBlock* succ = NULL;
						BalaList* _tmp13_;
						gpointer _tmp14_;
						BalaBasicBlock* _tmp15_;
						BalaBasicBlock* _tmp16_;
						BalaBasicBlock* _tmp17_;
						BalaBasicBlock* _tmp18_;
						_succ_index = _succ_index + 1;
						_tmp11_ = _succ_index;
						_tmp12_ = _succ_size;
						if (!(_tmp11_ < _tmp12_)) {
							break;
						}
						_tmp13_ = _succ_list;
						_tmp14_ = bala_list_get (_tmp13_, _succ_index);
						succ = (BalaBasicBlock*) _tmp14_;
						_tmp15_ = succ;
						_tmp16_ = bala_basic_block_get_parent (_tmp15_);
						_tmp17_ = _tmp16_;
						_tmp18_ = block;
						if (_tmp17_ != _tmp18_) {
							BalaBasicBlock* _tmp19_;
							BalaBasicBlock* _tmp20_;
							_tmp19_ = block;
							_tmp20_ = succ;
							bala_basic_block_add_dominator_frontier (_tmp19_, _tmp20_);
						}
					}
					_bala_iterable_unref0 (_succ_list);
				}
				{
					BalaList* _child_list = NULL;
					BalaBasicBlock* _tmp21_;
					BalaList* _tmp22_;
					BalaList* _tmp23_;
					gint _child_size = 0;
					BalaList* _tmp24_;
					gint _tmp25_;
					gint _tmp26_;
					gint _child_index = 0;
					_tmp21_ = block;
					_tmp22_ = bala_basic_block_get_children (_tmp21_);
					_tmp23_ = _bala_iterable_ref0 (_tmp22_);
					_child_list = _tmp23_;
					_tmp24_ = _child_list;
					_tmp25_ = bala_collection_get_size ((BalaCollection*) _tmp24_);
					_tmp26_ = _tmp25_;
					_child_size = _tmp26_;
					_child_index = -1;
					while (TRUE) {
						gint _tmp27_;
						gint _tmp28_;
						BalaBasicBlock* child = NULL;
						BalaList* _tmp29_;
						gpointer _tmp30_;
						_child_index = _child_index + 1;
						_tmp27_ = _child_index;
						_tmp28_ = _child_size;
						if (!(_tmp27_ < _tmp28_)) {
							break;
						}
						_tmp29_ = _child_list;
						_tmp30_ = bala_list_get (_tmp29_, _child_index);
						child = (BalaBasicBlock*) _tmp30_;
						{
							BalaIterator* _child_frontier_it = NULL;
							BalaBasicBlock* _tmp31_;
							BalaSet* _tmp32_;
							BalaIterator* _tmp33_;
							_tmp31_ = child;
							_tmp32_ = bala_basic_block_get_dominator_frontier (_tmp31_);
							_tmp33_ = bala_iterable_iterator ((BalaIterable*) _tmp32_);
							_child_frontier_it = _tmp33_;
							while (TRUE) {
								BalaIterator* _tmp34_;
								BalaBasicBlock* child_frontier = NULL;
								BalaIterator* _tmp35_;
								gpointer _tmp36_;
								BalaBasicBlock* _tmp37_;
								BalaBasicBlock* _tmp38_;
								BalaBasicBlock* _tmp39_;
								BalaBasicBlock* _tmp40_;
								_tmp34_ = _child_frontier_it;
								if (!bala_iterator_next (_tmp34_)) {
									break;
								}
								_tmp35_ = _child_frontier_it;
								_tmp36_ = bala_iterator_get (_tmp35_);
								child_frontier = (BalaBasicBlock*) _tmp36_;
								_tmp37_ = child_frontier;
								_tmp38_ = bala_basic_block_get_parent (_tmp37_);
								_tmp39_ = _tmp38_;
								_tmp40_ = block;
								if (_tmp39_ != _tmp40_) {
									BalaBasicBlock* _tmp41_;
									BalaBasicBlock* _tmp42_;
									_tmp41_ = block;
									_tmp42_ = child_frontier;
									bala_basic_block_add_dominator_frontier (_tmp41_, _tmp42_);
								}
							}
							_bala_iterator_unref0 (_child_frontier_it);
						}
					}
					_bala_iterable_unref0 (_child_list);
				}
				_bala_basic_block_unref0 (block);
			}
		}
	}
}

static BalaMap*
bala_flow_analyzer_get_assignment_map (BalaFlowAnalyzer* self,
                                       BalaList* block_list,
                                       BalaBasicBlock* entry_block)
{
	BalaHashMap* map = NULL;
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GEqualFunc _tmp2_;
	BalaHashMap* _tmp3_;
	BalaMap* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (block_list != NULL, NULL);
	g_return_val_if_fail (entry_block != NULL, NULL);
	_tmp0_ = g_direct_hash;
	_tmp1_ = g_direct_equal;
	_tmp2_ = g_direct_equal;
	_tmp3_ = bala_hash_map_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, BALA_TYPE_SET, (GBoxedCopyFunc) bala_iterable_ref, (GDestroyNotify) bala_iterable_unref, _tmp0_, _tmp1_, _tmp2_);
	map = _tmp3_;
	{
		BalaList* _block_list = NULL;
		BalaList* _tmp4_;
		gint _block_size = 0;
		BalaList* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		gint _block_index = 0;
		_tmp4_ = _bala_iterable_ref0 (block_list);
		_block_list = _tmp4_;
		_tmp5_ = _block_list;
		_tmp6_ = bala_collection_get_size ((BalaCollection*) _tmp5_);
		_tmp7_ = _tmp6_;
		_block_size = _tmp7_;
		_block_index = -1;
		while (TRUE) {
			gint _tmp8_;
			gint _tmp9_;
			BalaBasicBlock* block = NULL;
			BalaList* _tmp10_;
			gpointer _tmp11_;
			BalaArrayList* defined_variables = NULL;
			GEqualFunc _tmp12_;
			BalaArrayList* _tmp13_;
			_block_index = _block_index + 1;
			_tmp8_ = _block_index;
			_tmp9_ = _block_size;
			if (!(_tmp8_ < _tmp9_)) {
				break;
			}
			_tmp10_ = _block_list;
			_tmp11_ = bala_list_get (_tmp10_, _block_index);
			block = (BalaBasicBlock*) _tmp11_;
			_tmp12_ = g_direct_equal;
			_tmp13_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp12_);
			defined_variables = _tmp13_;
			{
				BalaList* _node_list = NULL;
				BalaBasicBlock* _tmp14_;
				BalaList* _tmp15_;
				BalaList* _tmp16_;
				gint _node_size = 0;
				BalaList* _tmp17_;
				gint _tmp18_;
				gint _tmp19_;
				gint _node_index = 0;
				_tmp14_ = block;
				_tmp15_ = bala_basic_block_get_nodes (_tmp14_);
				_tmp16_ = _bala_iterable_ref0 (_tmp15_);
				_node_list = _tmp16_;
				_tmp17_ = _node_list;
				_tmp18_ = bala_collection_get_size ((BalaCollection*) _tmp17_);
				_tmp19_ = _tmp18_;
				_node_size = _tmp19_;
				_node_index = -1;
				while (TRUE) {
					gint _tmp20_;
					gint _tmp21_;
					BalaCodeNode* node = NULL;
					BalaList* _tmp22_;
					gpointer _tmp23_;
					BalaCodeNode* _tmp24_;
					BalaArrayList* _tmp25_;
					_node_index = _node_index + 1;
					_tmp20_ = _node_index;
					_tmp21_ = _node_size;
					if (!(_tmp20_ < _tmp21_)) {
						break;
					}
					_tmp22_ = _node_list;
					_tmp23_ = bala_list_get (_tmp22_, _node_index);
					node = (BalaCodeNode*) _tmp23_;
					_tmp24_ = node;
					_tmp25_ = defined_variables;
					bala_code_node_get_defined_variables (_tmp24_, (BalaCollection*) _tmp25_);
					_bala_code_node_unref0 (node);
				}
				_bala_iterable_unref0 (_node_list);
			}
			{
				BalaArrayList* _variable_list = NULL;
				BalaArrayList* _tmp26_;
				BalaArrayList* _tmp27_;
				gint _variable_size = 0;
				BalaArrayList* _tmp28_;
				gint _tmp29_;
				gint _tmp30_;
				gint _variable_index = 0;
				_tmp26_ = defined_variables;
				_tmp27_ = _bala_iterable_ref0 (_tmp26_);
				_variable_list = _tmp27_;
				_tmp28_ = _variable_list;
				_tmp29_ = bala_collection_get_size ((BalaCollection*) _tmp28_);
				_tmp30_ = _tmp29_;
				_variable_size = _tmp30_;
				_variable_index = -1;
				while (TRUE) {
					gint _tmp31_;
					gint _tmp32_;
					BalaVariable* variable = NULL;
					BalaArrayList* _tmp33_;
					gpointer _tmp34_;
					BalaSet* block_set = NULL;
					BalaHashMap* _tmp35_;
					BalaVariable* _tmp36_;
					gpointer _tmp37_;
					BalaSet* _tmp38_;
					BalaSet* _tmp45_;
					BalaBasicBlock* _tmp46_;
					_variable_index = _variable_index + 1;
					_tmp31_ = _variable_index;
					_tmp32_ = _variable_size;
					if (!(_tmp31_ < _tmp32_)) {
						break;
					}
					_tmp33_ = _variable_list;
					_tmp34_ = bala_list_get ((BalaList*) _tmp33_, _variable_index);
					variable = (BalaVariable*) _tmp34_;
					_tmp35_ = map;
					_tmp36_ = variable;
					_tmp37_ = bala_map_get ((BalaMap*) _tmp35_, _tmp36_);
					block_set = (BalaSet*) _tmp37_;
					_tmp38_ = block_set;
					if (_tmp38_ == NULL) {
						GHashFunc _tmp39_;
						GEqualFunc _tmp40_;
						BalaHashSet* _tmp41_;
						BalaHashMap* _tmp42_;
						BalaVariable* _tmp43_;
						BalaSet* _tmp44_;
						_tmp39_ = g_direct_hash;
						_tmp40_ = g_direct_equal;
						_tmp41_ = bala_hash_set_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, _tmp39_, _tmp40_);
						_bala_iterable_unref0 (block_set);
						block_set = (BalaSet*) _tmp41_;
						_tmp42_ = map;
						_tmp43_ = variable;
						_tmp44_ = block_set;
						bala_map_set ((BalaMap*) _tmp42_, _tmp43_, _tmp44_);
					}
					_tmp45_ = block_set;
					_tmp46_ = block;
					bala_collection_add ((BalaCollection*) _tmp45_, _tmp46_);
					_bala_iterable_unref0 (block_set);
					_bala_code_node_unref0 (variable);
				}
				_bala_iterable_unref0 (_variable_list);
			}
			_bala_iterable_unref0 (defined_variables);
			_bala_basic_block_unref0 (block);
		}
		_bala_iterable_unref0 (_block_list);
	}
	result = (BalaMap*) map;
	return result;
}

static void
bala_flow_analyzer_insert_phi_functions (BalaFlowAnalyzer* self,
                                         BalaList* block_list,
                                         BalaBasicBlock* entry_block)
{
	BalaMap* assign = NULL;
	BalaMap* _tmp0_;
	gint counter = 0;
	BalaArrayList* work_list = NULL;
	GEqualFunc _tmp1_;
	BalaArrayList* _tmp2_;
	BalaHashMap* added = NULL;
	GHashFunc _tmp3_;
	GEqualFunc _tmp4_;
	GEqualFunc _tmp5_;
	BalaHashMap* _tmp6_;
	BalaHashMap* phi = NULL;
	GHashFunc _tmp7_;
	GEqualFunc _tmp8_;
	GEqualFunc _tmp9_;
	BalaHashMap* _tmp10_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (block_list != NULL);
	g_return_if_fail (entry_block != NULL);
	_tmp0_ = bala_flow_analyzer_get_assignment_map (self, block_list, entry_block);
	assign = _tmp0_;
	counter = 0;
	_tmp1_ = g_direct_equal;
	_tmp2_ = bala_array_list_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, _tmp1_);
	work_list = _tmp2_;
	_tmp3_ = g_direct_hash;
	_tmp4_ = g_direct_equal;
	_tmp5_ = g_direct_equal;
	_tmp6_ = bala_hash_map_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, G_TYPE_INT, NULL, NULL, _tmp3_, _tmp4_, _tmp5_);
	added = _tmp6_;
	_tmp7_ = g_direct_hash;
	_tmp8_ = g_direct_equal;
	_tmp9_ = g_direct_equal;
	_tmp10_ = bala_hash_map_new (BALA_TYPE_BASIC_BLOCK, (GBoxedCopyFunc) bala_basic_block_ref, (GDestroyNotify) bala_basic_block_unref, G_TYPE_INT, NULL, NULL, _tmp7_, _tmp8_, _tmp9_);
	phi = _tmp10_;
	{
		BalaList* _block_list = NULL;
		BalaList* _tmp11_;
		gint _block_size = 0;
		BalaList* _tmp12_;
		gint _tmp13_;
		gint _tmp14_;
		gint _block_index = 0;
		_tmp11_ = _bala_iterable_ref0 (block_list);
		_block_list = _tmp11_;
		_tmp12_ = _block_list;
		_tmp13_ = bala_collection_get_size ((BalaCollection*) _tmp12_);
		_tmp14_ = _tmp13_;
		_block_size = _tmp14_;
		_block_index = -1;
		while (TRUE) {
			gint _tmp15_;
			gint _tmp16_;
			BalaBasicBlock* block = NULL;
			BalaList* _tmp17_;
			gpointer _tmp18_;
			BalaHashMap* _tmp19_;
			BalaBasicBlock* _tmp20_;
			BalaHashMap* _tmp21_;
			BalaBasicBlock* _tmp22_;
			_block_index = _block_index + 1;
			_tmp15_ = _block_index;
			_tmp16_ = _block_size;
			if (!(_tmp15_ < _tmp16_)) {
				break;
			}
			_tmp17_ = _block_list;
			_tmp18_ = bala_list_get (_tmp17_, _block_index);
			block = (BalaBasicBlock*) _tmp18_;
			_tmp19_ = added;
			_tmp20_ = block;
			bala_map_set ((BalaMap*) _tmp19_, _tmp20_, (gpointer) ((gintptr) 0));
			_tmp21_ = phi;
			_tmp22_ = block;
			bala_map_set ((BalaMap*) _tmp21_, _tmp22_, (gpointer) ((gintptr) 0));
			_bala_basic_block_unref0 (block);
		}
		_bala_iterable_unref0 (_block_list);
	}
	{
		BalaIterator* _variable_it = NULL;
		BalaMap* _tmp23_;
		BalaSet* _tmp24_;
		BalaSet* _tmp25_;
		BalaIterator* _tmp26_;
		BalaIterator* _tmp27_;
		_tmp23_ = assign;
		_tmp24_ = bala_map_get_keys (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp26_ = bala_iterable_iterator ((BalaIterable*) _tmp25_);
		_tmp27_ = _tmp26_;
		_bala_iterable_unref0 (_tmp25_);
		_variable_it = _tmp27_;
		while (TRUE) {
			BalaIterator* _tmp28_;
			BalaVariable* variable = NULL;
			BalaIterator* _tmp29_;
			gpointer _tmp30_;
			gint _tmp31_;
			_tmp28_ = _variable_it;
			if (!bala_iterator_next (_tmp28_)) {
				break;
			}
			_tmp29_ = _variable_it;
			_tmp30_ = bala_iterator_get (_tmp29_);
			variable = (BalaVariable*) _tmp30_;
			_tmp31_ = counter;
			counter = _tmp31_ + 1;
			{
				BalaIterator* _block_it = NULL;
				BalaMap* _tmp32_;
				BalaVariable* _tmp33_;
				gpointer _tmp34_;
				BalaSet* _tmp35_;
				BalaIterator* _tmp36_;
				BalaIterator* _tmp37_;
				_tmp32_ = assign;
				_tmp33_ = variable;
				_tmp34_ = bala_map_get (_tmp32_, _tmp33_);
				_tmp35_ = (BalaSet*) _tmp34_;
				_tmp36_ = bala_iterable_iterator ((BalaIterable*) _tmp35_);
				_tmp37_ = _tmp36_;
				_bala_iterable_unref0 (_tmp35_);
				_block_it = _tmp37_;
				while (TRUE) {
					BalaIterator* _tmp38_;
					BalaBasicBlock* block = NULL;
					BalaIterator* _tmp39_;
					gpointer _tmp40_;
					BalaArrayList* _tmp41_;
					BalaBasicBlock* _tmp42_;
					BalaHashMap* _tmp43_;
					BalaBasicBlock* _tmp44_;
					_tmp38_ = _block_it;
					if (!bala_iterator_next (_tmp38_)) {
						break;
					}
					_tmp39_ = _block_it;
					_tmp40_ = bala_iterator_get (_tmp39_);
					block = (BalaBasicBlock*) _tmp40_;
					_tmp41_ = work_list;
					_tmp42_ = block;
					bala_collection_add ((BalaCollection*) _tmp41_, _tmp42_);
					_tmp43_ = added;
					_tmp44_ = block;
					bala_map_set ((BalaMap*) _tmp43_, _tmp44_, (gpointer) ((gintptr) counter));
					_bala_basic_block_unref0 (block);
				}
				_bala_iterator_unref0 (_block_it);
			}
			while (TRUE) {
				BalaArrayList* _tmp45_;
				gint _tmp46_;
				gint _tmp47_;
				BalaBasicBlock* block = NULL;
				BalaArrayList* _tmp48_;
				gpointer _tmp49_;
				_tmp45_ = work_list;
				_tmp46_ = bala_collection_get_size ((BalaCollection*) _tmp45_);
				_tmp47_ = _tmp46_;
				if (!(_tmp47_ > 0)) {
					break;
				}
				_tmp48_ = work_list;
				_tmp49_ = bala_list_remove_at ((BalaList*) _tmp48_, 0);
				block = (BalaBasicBlock*) _tmp49_;
				{
					BalaIterator* _frontier_it = NULL;
					BalaBasicBlock* _tmp50_;
					BalaSet* _tmp51_;
					BalaIterator* _tmp52_;
					_tmp50_ = block;
					_tmp51_ = bala_basic_block_get_dominator_frontier (_tmp50_);
					_tmp52_ = bala_iterable_iterator ((BalaIterable*) _tmp51_);
					_frontier_it = _tmp52_;
					while (TRUE) {
						BalaIterator* _tmp53_;
						BalaBasicBlock* frontier = NULL;
						BalaIterator* _tmp54_;
						gpointer _tmp55_;
						BalaBasicBlock* _tmp56_;
						gint blockPhi = 0;
						BalaHashMap* _tmp57_;
						BalaBasicBlock* _tmp58_;
						gpointer _tmp59_;
						_tmp53_ = _frontier_it;
						if (!bala_iterator_next (_tmp53_)) {
							break;
						}
						_tmp54_ = _frontier_it;
						_tmp55_ = bala_iterator_get (_tmp54_);
						_tmp56_ = _bala_basic_block_ref0 ((BalaBasicBlock*) _tmp55_);
						frontier = _tmp56_;
						_tmp57_ = phi;
						_tmp58_ = frontier;
						_tmp59_ = bala_map_get ((BalaMap*) _tmp57_, _tmp58_);
						blockPhi = (gint) ((gintptr) _tmp59_);
						if (blockPhi < counter) {
							BalaBasicBlock* _tmp60_;
							BalaVariable* _tmp61_;
							BalaBasicBlock* _tmp62_;
							BalaList* _tmp63_;
							gint _tmp64_;
							gint _tmp65_;
							BalaPhiFunction* _tmp66_;
							BalaPhiFunction* _tmp67_;
							BalaHashMap* _tmp68_;
							BalaBasicBlock* _tmp69_;
							gint block_added = 0;
							BalaHashMap* _tmp70_;
							BalaBasicBlock* _tmp71_;
							gpointer _tmp72_;
							_tmp60_ = frontier;
							_tmp61_ = variable;
							_tmp62_ = frontier;
							_tmp63_ = bala_basic_block_get_predecessors (_tmp62_);
							_tmp64_ = bala_collection_get_size ((BalaCollection*) _tmp63_);
							_tmp65_ = _tmp64_;
							_tmp66_ = bala_phi_function_new (_tmp61_, _tmp65_);
							_tmp67_ = _tmp66_;
							bala_basic_block_add_phi_function (_tmp60_, _tmp67_);
							_bala_phi_function_unref0 (_tmp67_);
							_tmp68_ = phi;
							_tmp69_ = frontier;
							bala_map_set ((BalaMap*) _tmp68_, _tmp69_, (gpointer) ((gintptr) counter));
							_tmp70_ = added;
							_tmp71_ = frontier;
							_tmp72_ = bala_map_get ((BalaMap*) _tmp70_, _tmp71_);
							block_added = (gint) ((gintptr) _tmp72_);
							if (block_added < counter) {
								BalaHashMap* _tmp73_;
								BalaBasicBlock* _tmp74_;
								BalaArrayList* _tmp75_;
								BalaBasicBlock* _tmp76_;
								_tmp73_ = added;
								_tmp74_ = frontier;
								bala_map_set ((BalaMap*) _tmp73_, _tmp74_, (gpointer) ((gintptr) counter));
								_tmp75_ = work_list;
								_tmp76_ = frontier;
								bala_collection_add ((BalaCollection*) _tmp75_, _tmp76_);
							}
						}
						_bala_basic_block_unref0 (frontier);
					}
					_bala_iterator_unref0 (_frontier_it);
				}
				_bala_basic_block_unref0 (block);
			}
			_bala_code_node_unref0 (variable);
		}
		_bala_iterator_unref0 (_variable_it);
	}
	_bala_map_unref0 (phi);
	_bala_map_unref0 (added);
	_bala_iterable_unref0 (work_list);
	_bala_map_unref0 (assign);
}

static void
bala_flow_analyzer_check_variables (BalaFlowAnalyzer* self,
                                    BalaBasicBlock* entry_block)
{
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GEqualFunc _tmp2_;
	BalaHashMap* _tmp3_;
	GHashFunc _tmp4_;
	GEqualFunc _tmp5_;
	BalaHashSet* _tmp6_;
	GHashFunc _tmp7_;
	GEqualFunc _tmp8_;
	GEqualFunc _tmp9_;
	BalaHashMap* _tmp10_;
	BalaArrayList* used_vars_queue = NULL;
	GEqualFunc _tmp11_;
	BalaArrayList* _tmp12_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entry_block != NULL);
	_tmp0_ = g_direct_hash;
	_tmp1_ = g_direct_equal;
	_tmp2_ = g_direct_equal;
	_tmp3_ = bala_hash_map_new (BALA_TYPE_SYMBOL, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, BALA_TYPE_LIST, (GBoxedCopyFunc) bala_iterable_ref, (GDestroyNotify) bala_iterable_unref, _tmp0_, _tmp1_, _tmp2_);
	_bala_map_unref0 (self->priv->var_map);
	self->priv->var_map = (BalaMap*) _tmp3_;
	_tmp4_ = g_direct_hash;
	_tmp5_ = g_direct_equal;
	_tmp6_ = bala_hash_set_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp4_, _tmp5_);
	_bala_iterable_unref0 (self->priv->used_vars);
	self->priv->used_vars = (BalaSet*) _tmp6_;
	_tmp7_ = g_direct_hash;
	_tmp8_ = g_direct_equal;
	_tmp9_ = g_direct_equal;
	_tmp10_ = bala_hash_map_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, BALA_TYPE_PHI_FUNCTION, (GBoxedCopyFunc) bala_phi_function_ref, (GDestroyNotify) bala_phi_function_unref, _tmp7_, _tmp8_, _tmp9_);
	_bala_map_unref0 (self->priv->phi_functions);
	self->priv->phi_functions = (BalaMap*) _tmp10_;
	bala_flow_analyzer_check_block_variables (self, entry_block);
	_tmp11_ = g_direct_equal;
	_tmp12_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp11_);
	used_vars_queue = _tmp12_;
	{
		BalaIterator* _variable_it = NULL;
		BalaSet* _tmp13_;
		BalaIterator* _tmp14_;
		_tmp13_ = self->priv->used_vars;
		_tmp14_ = bala_iterable_iterator ((BalaIterable*) _tmp13_);
		_variable_it = _tmp14_;
		while (TRUE) {
			BalaIterator* _tmp15_;
			BalaVariable* variable = NULL;
			BalaIterator* _tmp16_;
			gpointer _tmp17_;
			BalaArrayList* _tmp18_;
			BalaVariable* _tmp19_;
			_tmp15_ = _variable_it;
			if (!bala_iterator_next (_tmp15_)) {
				break;
			}
			_tmp16_ = _variable_it;
			_tmp17_ = bala_iterator_get (_tmp16_);
			variable = (BalaVariable*) _tmp17_;
			_tmp18_ = used_vars_queue;
			_tmp19_ = variable;
			bala_collection_add ((BalaCollection*) _tmp18_, _tmp19_);
			_bala_code_node_unref0 (variable);
		}
		_bala_iterator_unref0 (_variable_it);
	}
	while (TRUE) {
		BalaArrayList* _tmp20_;
		gint _tmp21_;
		gint _tmp22_;
		BalaVariable* used_var = NULL;
		BalaArrayList* _tmp23_;
		gpointer _tmp24_;
		BalaPhiFunction* phi = NULL;
		BalaMap* _tmp25_;
		BalaVariable* _tmp26_;
		gpointer _tmp27_;
		BalaPhiFunction* _tmp28_;
		_tmp20_ = used_vars_queue;
		_tmp21_ = bala_collection_get_size ((BalaCollection*) _tmp20_);
		_tmp22_ = _tmp21_;
		if (!(_tmp22_ > 0)) {
			break;
		}
		_tmp23_ = used_vars_queue;
		_tmp24_ = bala_list_remove_at ((BalaList*) _tmp23_, 0);
		used_var = (BalaVariable*) _tmp24_;
		_tmp25_ = self->priv->phi_functions;
		_tmp26_ = used_var;
		_tmp27_ = bala_map_get (_tmp25_, _tmp26_);
		phi = (BalaPhiFunction*) _tmp27_;
		_tmp28_ = phi;
		if (_tmp28_ != NULL) {
			{
				BalaList* _variable_list = NULL;
				BalaPhiFunction* _tmp29_;
				BalaList* _tmp30_;
				BalaList* _tmp31_;
				BalaList* _tmp32_;
				gint _variable_size = 0;
				BalaList* _tmp33_;
				gint _tmp34_;
				gint _tmp35_;
				gint _variable_index = 0;
				_tmp29_ = phi;
				_tmp30_ = bala_phi_function_get_operands (_tmp29_);
				_tmp31_ = _tmp30_;
				_tmp32_ = _bala_iterable_ref0 (_tmp31_);
				_variable_list = _tmp32_;
				_tmp33_ = _variable_list;
				_tmp34_ = bala_collection_get_size ((BalaCollection*) _tmp33_);
				_tmp35_ = _tmp34_;
				_variable_size = _tmp35_;
				_variable_index = -1;
				while (TRUE) {
					gint _tmp36_;
					gint _tmp37_;
					BalaVariable* variable = NULL;
					BalaList* _tmp38_;
					gpointer _tmp39_;
					BalaVariable* _tmp40_;
					BalaSet* _tmp58_;
					BalaVariable* _tmp59_;
					_variable_index = _variable_index + 1;
					_tmp36_ = _variable_index;
					_tmp37_ = _variable_size;
					if (!(_tmp36_ < _tmp37_)) {
						break;
					}
					_tmp38_ = _variable_list;
					_tmp39_ = bala_list_get (_tmp38_, _variable_index);
					variable = (BalaVariable*) _tmp39_;
					_tmp40_ = variable;
					if (_tmp40_ == NULL) {
						BalaVariable* _tmp41_;
						_tmp41_ = used_var;
						if (BALA_IS_LOCAL_VARIABLE (_tmp41_)) {
							BalaVariable* _tmp42_;
							BalaSourceReference* _tmp43_;
							BalaSourceReference* _tmp44_;
							BalaVariable* _tmp45_;
							const gchar* _tmp46_;
							const gchar* _tmp47_;
							gchar* _tmp48_;
							gchar* _tmp49_;
							_tmp42_ = used_var;
							_tmp43_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp42_);
							_tmp44_ = _tmp43_;
							_tmp45_ = used_var;
							_tmp46_ = bala_symbol_get_name ((BalaSymbol*) _tmp45_);
							_tmp47_ = _tmp46_;
							_tmp48_ = g_strdup_printf ("use of possibly unassigned local variable `%s'", _tmp47_);
							_tmp49_ = _tmp48_;
							bala_report_error (_tmp44_, _tmp49_);
							_g_free0 (_tmp49_);
						} else {
							BalaVariable* _tmp50_;
							BalaSourceReference* _tmp51_;
							BalaSourceReference* _tmp52_;
							BalaVariable* _tmp53_;
							const gchar* _tmp54_;
							const gchar* _tmp55_;
							gchar* _tmp56_;
							gchar* _tmp57_;
							_tmp50_ = used_var;
							_tmp51_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp50_);
							_tmp52_ = _tmp51_;
							_tmp53_ = used_var;
							_tmp54_ = bala_symbol_get_name ((BalaSymbol*) _tmp53_);
							_tmp55_ = _tmp54_;
							_tmp56_ = g_strdup_printf ("use of possibly unassigned parameter `%s'", _tmp55_);
							_tmp57_ = _tmp56_;
							bala_report_warning (_tmp52_, _tmp57_);
							_g_free0 (_tmp57_);
						}
						_bala_code_node_unref0 (variable);
						continue;
					}
					_tmp58_ = self->priv->used_vars;
					_tmp59_ = variable;
					if (!bala_collection_contains ((BalaCollection*) _tmp58_, _tmp59_)) {
						BalaVariable* _tmp60_;
						BalaVariable* _tmp61_;
						BalaSourceReference* _tmp62_;
						BalaSourceReference* _tmp63_;
						BalaSet* _tmp64_;
						BalaVariable* _tmp65_;
						BalaArrayList* _tmp66_;
						BalaVariable* _tmp67_;
						_tmp60_ = variable;
						_tmp61_ = used_var;
						_tmp62_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp61_);
						_tmp63_ = _tmp62_;
						bala_code_node_set_source_reference ((BalaCodeNode*) _tmp60_, _tmp63_);
						_tmp64_ = self->priv->used_vars;
						_tmp65_ = variable;
						bala_collection_add ((BalaCollection*) _tmp64_, _tmp65_);
						_tmp66_ = used_vars_queue;
						_tmp67_ = variable;
						bala_collection_add ((BalaCollection*) _tmp66_, _tmp67_);
					}
					_bala_code_node_unref0 (variable);
				}
				_bala_iterable_unref0 (_variable_list);
			}
		}
		_bala_phi_function_unref0 (phi);
		_bala_code_node_unref0 (used_var);
	}
	_bala_map_unref0 (self->priv->phi_functions);
	self->priv->phi_functions = NULL;
	_bala_iterable_unref0 (self->priv->used_vars);
	self->priv->used_vars = NULL;
	_bala_map_unref0 (self->priv->var_map);
	self->priv->var_map = NULL;
	_bala_iterable_unref0 (used_vars_queue);
}

static void
bala_flow_analyzer_check_block_variables (BalaFlowAnalyzer* self,
                                          BalaBasicBlock* block)
{
	g_return_if_fail (self != NULL);
	g_return_if_fail (block != NULL);
	{
		BalaIterator* _phi_it = NULL;
		BalaSet* _tmp0_;
		BalaIterator* _tmp1_;
		_tmp0_ = bala_basic_block_get_phi_functions (block);
		_tmp1_ = bala_iterable_iterator ((BalaIterable*) _tmp0_);
		_phi_it = _tmp1_;
		while (TRUE) {
			BalaIterator* _tmp2_;
			BalaPhiFunction* phi = NULL;
			BalaIterator* _tmp3_;
			gpointer _tmp4_;
			BalaVariable* versioned_var = NULL;
			BalaMap* _tmp5_;
			BalaPhiFunction* _tmp6_;
			BalaVariable* _tmp7_;
			BalaVariable* _tmp8_;
			BalaVariable* _tmp9_;
			BalaMap* _tmp10_;
			BalaVariable* _tmp11_;
			BalaPhiFunction* _tmp12_;
			_tmp2_ = _phi_it;
			if (!bala_iterator_next (_tmp2_)) {
				break;
			}
			_tmp3_ = _phi_it;
			_tmp4_ = bala_iterator_get (_tmp3_);
			phi = (BalaPhiFunction*) _tmp4_;
			_tmp5_ = self->priv->var_map;
			_tmp6_ = phi;
			_tmp7_ = bala_phi_function_get_original_variable (_tmp6_);
			_tmp8_ = _tmp7_;
			_tmp9_ = bala_flow_analyzer_process_assignment (self, _tmp5_, _tmp8_);
			versioned_var = _tmp9_;
			_tmp10_ = self->priv->phi_functions;
			_tmp11_ = versioned_var;
			_tmp12_ = phi;
			bala_map_set (_tmp10_, _tmp11_, _tmp12_);
			_bala_code_node_unref0 (versioned_var);
			_bala_phi_function_unref0 (phi);
		}
		_bala_iterator_unref0 (_phi_it);
	}
	{
		BalaList* _node_list = NULL;
		BalaList* _tmp13_;
		BalaList* _tmp14_;
		gint _node_size = 0;
		BalaList* _tmp15_;
		gint _tmp16_;
		gint _tmp17_;
		gint _node_index = 0;
		_tmp13_ = bala_basic_block_get_nodes (block);
		_tmp14_ = _bala_iterable_ref0 (_tmp13_);
		_node_list = _tmp14_;
		_tmp15_ = _node_list;
		_tmp16_ = bala_collection_get_size ((BalaCollection*) _tmp15_);
		_tmp17_ = _tmp16_;
		_node_size = _tmp17_;
		_node_index = -1;
		while (TRUE) {
			gint _tmp18_;
			gint _tmp19_;
			BalaCodeNode* node = NULL;
			BalaList* _tmp20_;
			gpointer _tmp21_;
			BalaArrayList* used_variables = NULL;
			GEqualFunc _tmp22_;
			BalaArrayList* _tmp23_;
			BalaCodeNode* _tmp24_;
			BalaArrayList* _tmp25_;
			BalaArrayList* defined_variables = NULL;
			GEqualFunc _tmp73_;
			BalaArrayList* _tmp74_;
			BalaCodeNode* _tmp75_;
			BalaArrayList* _tmp76_;
			_node_index = _node_index + 1;
			_tmp18_ = _node_index;
			_tmp19_ = _node_size;
			if (!(_tmp18_ < _tmp19_)) {
				break;
			}
			_tmp20_ = _node_list;
			_tmp21_ = bala_list_get (_tmp20_, _node_index);
			node = (BalaCodeNode*) _tmp21_;
			_tmp22_ = g_direct_equal;
			_tmp23_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp22_);
			used_variables = _tmp23_;
			_tmp24_ = node;
			_tmp25_ = used_variables;
			bala_code_node_get_used_variables (_tmp24_, (BalaCollection*) _tmp25_);
			{
				BalaArrayList* _var_symbol_list = NULL;
				BalaArrayList* _tmp26_;
				BalaArrayList* _tmp27_;
				gint _var_symbol_size = 0;
				BalaArrayList* _tmp28_;
				gint _tmp29_;
				gint _tmp30_;
				gint _var_symbol_index = 0;
				_tmp26_ = used_variables;
				_tmp27_ = _bala_iterable_ref0 (_tmp26_);
				_var_symbol_list = _tmp27_;
				_tmp28_ = _var_symbol_list;
				_tmp29_ = bala_collection_get_size ((BalaCollection*) _tmp28_);
				_tmp30_ = _tmp29_;
				_var_symbol_size = _tmp30_;
				_var_symbol_index = -1;
				while (TRUE) {
					gint _tmp31_;
					gint _tmp32_;
					BalaVariable* var_symbol = NULL;
					BalaArrayList* _tmp33_;
					gpointer _tmp34_;
					BalaList* variable_stack = NULL;
					BalaMap* _tmp35_;
					BalaVariable* _tmp36_;
					gpointer _tmp37_;
					gboolean _tmp38_ = FALSE;
					BalaList* _tmp39_;
					BalaVariable* versioned_variable = NULL;
					BalaList* _tmp60_;
					BalaList* _tmp61_;
					gint _tmp62_;
					gint _tmp63_;
					gpointer _tmp64_;
					BalaSet* _tmp65_;
					BalaVariable* _tmp66_;
					BalaSet* _tmp71_;
					BalaVariable* _tmp72_;
					_var_symbol_index = _var_symbol_index + 1;
					_tmp31_ = _var_symbol_index;
					_tmp32_ = _var_symbol_size;
					if (!(_tmp31_ < _tmp32_)) {
						break;
					}
					_tmp33_ = _var_symbol_list;
					_tmp34_ = bala_list_get ((BalaList*) _tmp33_, _var_symbol_index);
					var_symbol = (BalaVariable*) _tmp34_;
					_tmp35_ = self->priv->var_map;
					_tmp36_ = var_symbol;
					_tmp37_ = bala_map_get (_tmp35_, (BalaSymbol*) _tmp36_);
					variable_stack = (BalaList*) _tmp37_;
					_tmp39_ = variable_stack;
					if (_tmp39_ == NULL) {
						_tmp38_ = TRUE;
					} else {
						BalaList* _tmp40_;
						gint _tmp41_;
						gint _tmp42_;
						_tmp40_ = variable_stack;
						_tmp41_ = bala_collection_get_size ((BalaCollection*) _tmp40_);
						_tmp42_ = _tmp41_;
						_tmp38_ = _tmp42_ == 0;
					}
					if (_tmp38_) {
						BalaVariable* _tmp43_;
						_tmp43_ = var_symbol;
						if (BALA_IS_LOCAL_VARIABLE (_tmp43_)) {
							BalaCodeNode* _tmp44_;
							BalaSourceReference* _tmp45_;
							BalaSourceReference* _tmp46_;
							BalaVariable* _tmp47_;
							const gchar* _tmp48_;
							const gchar* _tmp49_;
							gchar* _tmp50_;
							gchar* _tmp51_;
							_tmp44_ = node;
							_tmp45_ = bala_code_node_get_source_reference (_tmp44_);
							_tmp46_ = _tmp45_;
							_tmp47_ = var_symbol;
							_tmp48_ = bala_symbol_get_name ((BalaSymbol*) _tmp47_);
							_tmp49_ = _tmp48_;
							_tmp50_ = g_strdup_printf ("use of possibly unassigned local variable `%s'", _tmp49_);
							_tmp51_ = _tmp50_;
							bala_report_error (_tmp46_, _tmp51_);
							_g_free0 (_tmp51_);
						} else {
							BalaCodeNode* _tmp52_;
							BalaSourceReference* _tmp53_;
							BalaSourceReference* _tmp54_;
							BalaVariable* _tmp55_;
							const gchar* _tmp56_;
							const gchar* _tmp57_;
							gchar* _tmp58_;
							gchar* _tmp59_;
							_tmp52_ = node;
							_tmp53_ = bala_code_node_get_source_reference (_tmp52_);
							_tmp54_ = _tmp53_;
							_tmp55_ = var_symbol;
							_tmp56_ = bala_symbol_get_name ((BalaSymbol*) _tmp55_);
							_tmp57_ = _tmp56_;
							_tmp58_ = g_strdup_printf ("use of possibly unassigned parameter `%s'", _tmp57_);
							_tmp59_ = _tmp58_;
							bala_report_warning (_tmp54_, _tmp59_);
							_g_free0 (_tmp59_);
						}
						_bala_iterable_unref0 (variable_stack);
						_bala_code_node_unref0 (var_symbol);
						continue;
					}
					_tmp60_ = variable_stack;
					_tmp61_ = variable_stack;
					_tmp62_ = bala_collection_get_size ((BalaCollection*) _tmp61_);
					_tmp63_ = _tmp62_;
					_tmp64_ = bala_list_get (_tmp60_, _tmp63_ - 1);
					versioned_variable = (BalaVariable*) _tmp64_;
					_tmp65_ = self->priv->used_vars;
					_tmp66_ = versioned_variable;
					if (!bala_collection_contains ((BalaCollection*) _tmp65_, _tmp66_)) {
						BalaVariable* _tmp67_;
						BalaCodeNode* _tmp68_;
						BalaSourceReference* _tmp69_;
						BalaSourceReference* _tmp70_;
						_tmp67_ = versioned_variable;
						_tmp68_ = node;
						_tmp69_ = bala_code_node_get_source_reference (_tmp68_);
						_tmp70_ = _tmp69_;
						bala_code_node_set_source_reference ((BalaCodeNode*) _tmp67_, _tmp70_);
					}
					_tmp71_ = self->priv->used_vars;
					_tmp72_ = versioned_variable;
					bala_collection_add ((BalaCollection*) _tmp71_, _tmp72_);
					_bala_code_node_unref0 (versioned_variable);
					_bala_iterable_unref0 (variable_stack);
					_bala_code_node_unref0 (var_symbol);
				}
				_bala_iterable_unref0 (_var_symbol_list);
			}
			_tmp73_ = g_direct_equal;
			_tmp74_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp73_);
			defined_variables = _tmp74_;
			_tmp75_ = node;
			_tmp76_ = defined_variables;
			bala_code_node_get_defined_variables (_tmp75_, (BalaCollection*) _tmp76_);
			{
				BalaArrayList* _variable_list = NULL;
				BalaArrayList* _tmp77_;
				BalaArrayList* _tmp78_;
				gint _variable_size = 0;
				BalaArrayList* _tmp79_;
				gint _tmp80_;
				gint _tmp81_;
				gint _variable_index = 0;
				_tmp77_ = defined_variables;
				_tmp78_ = _bala_iterable_ref0 (_tmp77_);
				_variable_list = _tmp78_;
				_tmp79_ = _variable_list;
				_tmp80_ = bala_collection_get_size ((BalaCollection*) _tmp79_);
				_tmp81_ = _tmp80_;
				_variable_size = _tmp81_;
				_variable_index = -1;
				while (TRUE) {
					gint _tmp82_;
					gint _tmp83_;
					BalaVariable* variable = NULL;
					BalaArrayList* _tmp84_;
					gpointer _tmp85_;
					BalaMap* _tmp86_;
					BalaVariable* _tmp87_;
					BalaVariable* _tmp88_;
					BalaVariable* _tmp89_;
					_variable_index = _variable_index + 1;
					_tmp82_ = _variable_index;
					_tmp83_ = _variable_size;
					if (!(_tmp82_ < _tmp83_)) {
						break;
					}
					_tmp84_ = _variable_list;
					_tmp85_ = bala_list_get ((BalaList*) _tmp84_, _variable_index);
					variable = (BalaVariable*) _tmp85_;
					_tmp86_ = self->priv->var_map;
					_tmp87_ = variable;
					_tmp88_ = bala_flow_analyzer_process_assignment (self, _tmp86_, _tmp87_);
					_tmp89_ = _tmp88_;
					_bala_code_node_unref0 (_tmp89_);
					_bala_code_node_unref0 (variable);
				}
				_bala_iterable_unref0 (_variable_list);
			}
			_bala_iterable_unref0 (defined_variables);
			_bala_iterable_unref0 (used_variables);
			_bala_code_node_unref0 (node);
		}
		_bala_iterable_unref0 (_node_list);
	}
	{
		BalaList* _succ_list = NULL;
		BalaList* _tmp90_;
		BalaList* _tmp91_;
		gint _succ_size = 0;
		BalaList* _tmp92_;
		gint _tmp93_;
		gint _tmp94_;
		gint _succ_index = 0;
		_tmp90_ = bala_basic_block_get_successors (block);
		_tmp91_ = _bala_iterable_ref0 (_tmp90_);
		_succ_list = _tmp91_;
		_tmp92_ = _succ_list;
		_tmp93_ = bala_collection_get_size ((BalaCollection*) _tmp92_);
		_tmp94_ = _tmp93_;
		_succ_size = _tmp94_;
		_succ_index = -1;
		while (TRUE) {
			gint _tmp95_;
			gint _tmp96_;
			BalaBasicBlock* succ = NULL;
			BalaList* _tmp97_;
			gpointer _tmp98_;
			gint j = 0;
			_succ_index = _succ_index + 1;
			_tmp95_ = _succ_index;
			_tmp96_ = _succ_size;
			if (!(_tmp95_ < _tmp96_)) {
				break;
			}
			_tmp97_ = _succ_list;
			_tmp98_ = bala_list_get (_tmp97_, _succ_index);
			succ = (BalaBasicBlock*) _tmp98_;
			j = 0;
			{
				BalaList* _pred_list = NULL;
				BalaBasicBlock* _tmp99_;
				BalaList* _tmp100_;
				BalaList* _tmp101_;
				gint _pred_size = 0;
				BalaList* _tmp102_;
				gint _tmp103_;
				gint _tmp104_;
				gint _pred_index = 0;
				_tmp99_ = succ;
				_tmp100_ = bala_basic_block_get_predecessors (_tmp99_);
				_tmp101_ = _bala_iterable_ref0 (_tmp100_);
				_pred_list = _tmp101_;
				_tmp102_ = _pred_list;
				_tmp103_ = bala_collection_get_size ((BalaCollection*) _tmp102_);
				_tmp104_ = _tmp103_;
				_pred_size = _tmp104_;
				_pred_index = -1;
				while (TRUE) {
					gint _tmp105_;
					gint _tmp106_;
					BalaBasicBlock* pred = NULL;
					BalaList* _tmp107_;
					gpointer _tmp108_;
					BalaBasicBlock* _tmp109_;
					gint _tmp110_;
					_pred_index = _pred_index + 1;
					_tmp105_ = _pred_index;
					_tmp106_ = _pred_size;
					if (!(_tmp105_ < _tmp106_)) {
						break;
					}
					_tmp107_ = _pred_list;
					_tmp108_ = bala_list_get (_tmp107_, _pred_index);
					pred = (BalaBasicBlock*) _tmp108_;
					_tmp109_ = pred;
					if (_tmp109_ == block) {
						break;
					}
					_tmp110_ = j;
					j = _tmp110_ + 1;
				}
				_bala_iterable_unref0 (_pred_list);
			}
			{
				BalaIterator* _phi_it = NULL;
				BalaBasicBlock* _tmp111_;
				BalaSet* _tmp112_;
				BalaIterator* _tmp113_;
				_tmp111_ = succ;
				_tmp112_ = bala_basic_block_get_phi_functions (_tmp111_);
				_tmp113_ = bala_iterable_iterator ((BalaIterable*) _tmp112_);
				_phi_it = _tmp113_;
				while (TRUE) {
					BalaIterator* _tmp114_;
					BalaPhiFunction* phi = NULL;
					BalaIterator* _tmp115_;
					gpointer _tmp116_;
					BalaList* variable_stack = NULL;
					BalaMap* _tmp117_;
					BalaPhiFunction* _tmp118_;
					BalaVariable* _tmp119_;
					BalaVariable* _tmp120_;
					gpointer _tmp121_;
					gboolean _tmp122_ = FALSE;
					BalaList* _tmp123_;
					_tmp114_ = _phi_it;
					if (!bala_iterator_next (_tmp114_)) {
						break;
					}
					_tmp115_ = _phi_it;
					_tmp116_ = bala_iterator_get (_tmp115_);
					phi = (BalaPhiFunction*) _tmp116_;
					_tmp117_ = self->priv->var_map;
					_tmp118_ = phi;
					_tmp119_ = bala_phi_function_get_original_variable (_tmp118_);
					_tmp120_ = _tmp119_;
					_tmp121_ = bala_map_get (_tmp117_, (BalaSymbol*) _tmp120_);
					variable_stack = (BalaList*) _tmp121_;
					_tmp123_ = variable_stack;
					if (_tmp123_ != NULL) {
						BalaList* _tmp124_;
						gint _tmp125_;
						gint _tmp126_;
						_tmp124_ = variable_stack;
						_tmp125_ = bala_collection_get_size ((BalaCollection*) _tmp124_);
						_tmp126_ = _tmp125_;
						_tmp122_ = _tmp126_ > 0;
					} else {
						_tmp122_ = FALSE;
					}
					if (_tmp122_) {
						BalaPhiFunction* _tmp127_;
						BalaList* _tmp128_;
						BalaList* _tmp129_;
						BalaList* _tmp130_;
						BalaList* _tmp131_;
						gint _tmp132_;
						gint _tmp133_;
						gpointer _tmp134_;
						BalaVariable* _tmp135_;
						_tmp127_ = phi;
						_tmp128_ = bala_phi_function_get_operands (_tmp127_);
						_tmp129_ = _tmp128_;
						_tmp130_ = variable_stack;
						_tmp131_ = variable_stack;
						_tmp132_ = bala_collection_get_size ((BalaCollection*) _tmp131_);
						_tmp133_ = _tmp132_;
						_tmp134_ = bala_list_get (_tmp130_, _tmp133_ - 1);
						_tmp135_ = (BalaVariable*) _tmp134_;
						bala_list_set (_tmp129_, j, _tmp135_);
						_bala_code_node_unref0 (_tmp135_);
					}
					_bala_iterable_unref0 (variable_stack);
					_bala_phi_function_unref0 (phi);
				}
				_bala_iterator_unref0 (_phi_it);
			}
		}
		_bala_iterable_unref0 (_succ_list);
	}
	{
		BalaList* _child_list = NULL;
		BalaList* _tmp136_;
		BalaList* _tmp137_;
		gint _child_size = 0;
		BalaList* _tmp138_;
		gint _tmp139_;
		gint _tmp140_;
		gint _child_index = 0;
		_tmp136_ = bala_basic_block_get_children (block);
		_tmp137_ = _bala_iterable_ref0 (_tmp136_);
		_child_list = _tmp137_;
		_tmp138_ = _child_list;
		_tmp139_ = bala_collection_get_size ((BalaCollection*) _tmp138_);
		_tmp140_ = _tmp139_;
		_child_size = _tmp140_;
		_child_index = -1;
		while (TRUE) {
			gint _tmp141_;
			gint _tmp142_;
			BalaBasicBlock* child = NULL;
			BalaList* _tmp143_;
			gpointer _tmp144_;
			BalaBasicBlock* _tmp145_;
			_child_index = _child_index + 1;
			_tmp141_ = _child_index;
			_tmp142_ = _child_size;
			if (!(_tmp141_ < _tmp142_)) {
				break;
			}
			_tmp143_ = _child_list;
			_tmp144_ = bala_list_get (_tmp143_, _child_index);
			child = (BalaBasicBlock*) _tmp144_;
			_tmp145_ = child;
			bala_flow_analyzer_check_block_variables (self, _tmp145_);
		}
		_bala_iterable_unref0 (_child_list);
	}
	{
		BalaIterator* _phi_it = NULL;
		BalaSet* _tmp146_;
		BalaIterator* _tmp147_;
		_tmp146_ = bala_basic_block_get_phi_functions (block);
		_tmp147_ = bala_iterable_iterator ((BalaIterable*) _tmp146_);
		_phi_it = _tmp147_;
		while (TRUE) {
			BalaIterator* _tmp148_;
			BalaPhiFunction* phi = NULL;
			BalaIterator* _tmp149_;
			gpointer _tmp150_;
			BalaList* variable_stack = NULL;
			BalaMap* _tmp151_;
			BalaPhiFunction* _tmp152_;
			BalaVariable* _tmp153_;
			BalaVariable* _tmp154_;
			gpointer _tmp155_;
			BalaList* _tmp156_;
			BalaList* _tmp157_;
			gint _tmp158_;
			gint _tmp159_;
			gpointer _tmp160_;
			BalaVariable* _tmp161_;
			_tmp148_ = _phi_it;
			if (!bala_iterator_next (_tmp148_)) {
				break;
			}
			_tmp149_ = _phi_it;
			_tmp150_ = bala_iterator_get (_tmp149_);
			phi = (BalaPhiFunction*) _tmp150_;
			_tmp151_ = self->priv->var_map;
			_tmp152_ = phi;
			_tmp153_ = bala_phi_function_get_original_variable (_tmp152_);
			_tmp154_ = _tmp153_;
			_tmp155_ = bala_map_get (_tmp151_, (BalaSymbol*) _tmp154_);
			variable_stack = (BalaList*) _tmp155_;
			_tmp156_ = variable_stack;
			_tmp157_ = variable_stack;
			_tmp158_ = bala_collection_get_size ((BalaCollection*) _tmp157_);
			_tmp159_ = _tmp158_;
			_tmp160_ = bala_list_remove_at (_tmp156_, _tmp159_ - 1);
			_tmp161_ = (BalaVariable*) _tmp160_;
			_bala_code_node_unref0 (_tmp161_);
			_bala_iterable_unref0 (variable_stack);
			_bala_phi_function_unref0 (phi);
		}
		_bala_iterator_unref0 (_phi_it);
	}
	{
		BalaList* _node_list = NULL;
		BalaList* _tmp162_;
		BalaList* _tmp163_;
		gint _node_size = 0;
		BalaList* _tmp164_;
		gint _tmp165_;
		gint _tmp166_;
		gint _node_index = 0;
		_tmp162_ = bala_basic_block_get_nodes (block);
		_tmp163_ = _bala_iterable_ref0 (_tmp162_);
		_node_list = _tmp163_;
		_tmp164_ = _node_list;
		_tmp165_ = bala_collection_get_size ((BalaCollection*) _tmp164_);
		_tmp166_ = _tmp165_;
		_node_size = _tmp166_;
		_node_index = -1;
		while (TRUE) {
			gint _tmp167_;
			gint _tmp168_;
			BalaCodeNode* node = NULL;
			BalaList* _tmp169_;
			gpointer _tmp170_;
			BalaArrayList* defined_variables = NULL;
			GEqualFunc _tmp171_;
			BalaArrayList* _tmp172_;
			BalaCodeNode* _tmp173_;
			BalaArrayList* _tmp174_;
			_node_index = _node_index + 1;
			_tmp167_ = _node_index;
			_tmp168_ = _node_size;
			if (!(_tmp167_ < _tmp168_)) {
				break;
			}
			_tmp169_ = _node_list;
			_tmp170_ = bala_list_get (_tmp169_, _node_index);
			node = (BalaCodeNode*) _tmp170_;
			_tmp171_ = g_direct_equal;
			_tmp172_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp171_);
			defined_variables = _tmp172_;
			_tmp173_ = node;
			_tmp174_ = defined_variables;
			bala_code_node_get_defined_variables (_tmp173_, (BalaCollection*) _tmp174_);
			{
				BalaArrayList* _variable_list = NULL;
				BalaArrayList* _tmp175_;
				BalaArrayList* _tmp176_;
				gint _variable_size = 0;
				BalaArrayList* _tmp177_;
				gint _tmp178_;
				gint _tmp179_;
				gint _variable_index = 0;
				_tmp175_ = defined_variables;
				_tmp176_ = _bala_iterable_ref0 (_tmp175_);
				_variable_list = _tmp176_;
				_tmp177_ = _variable_list;
				_tmp178_ = bala_collection_get_size ((BalaCollection*) _tmp177_);
				_tmp179_ = _tmp178_;
				_variable_size = _tmp179_;
				_variable_index = -1;
				while (TRUE) {
					gint _tmp180_;
					gint _tmp181_;
					BalaVariable* variable = NULL;
					BalaArrayList* _tmp182_;
					gpointer _tmp183_;
					BalaList* variable_stack = NULL;
					BalaMap* _tmp184_;
					BalaVariable* _tmp185_;
					gpointer _tmp186_;
					BalaList* _tmp187_;
					BalaList* _tmp188_;
					gint _tmp189_;
					gint _tmp190_;
					gpointer _tmp191_;
					BalaVariable* _tmp192_;
					_variable_index = _variable_index + 1;
					_tmp180_ = _variable_index;
					_tmp181_ = _variable_size;
					if (!(_tmp180_ < _tmp181_)) {
						break;
					}
					_tmp182_ = _variable_list;
					_tmp183_ = bala_list_get ((BalaList*) _tmp182_, _variable_index);
					variable = (BalaVariable*) _tmp183_;
					_tmp184_ = self->priv->var_map;
					_tmp185_ = variable;
					_tmp186_ = bala_map_get (_tmp184_, (BalaSymbol*) _tmp185_);
					variable_stack = (BalaList*) _tmp186_;
					_tmp187_ = variable_stack;
					_tmp188_ = variable_stack;
					_tmp189_ = bala_collection_get_size ((BalaCollection*) _tmp188_);
					_tmp190_ = _tmp189_;
					_tmp191_ = bala_list_remove_at (_tmp187_, _tmp190_ - 1);
					_tmp192_ = (BalaVariable*) _tmp191_;
					_bala_code_node_unref0 (_tmp192_);
					_bala_iterable_unref0 (variable_stack);
					_bala_code_node_unref0 (variable);
				}
				_bala_iterable_unref0 (_variable_list);
			}
			_bala_iterable_unref0 (defined_variables);
			_bala_code_node_unref0 (node);
		}
		_bala_iterable_unref0 (_node_list);
	}
}

static BalaVariable*
bala_flow_analyzer_process_assignment (BalaFlowAnalyzer* self,
                                       BalaMap* var_map,
                                       BalaVariable* var_symbol)
{
	BalaList* variable_stack = NULL;
	gpointer _tmp0_;
	BalaList* _tmp1_;
	BalaVariable* versioned_var = NULL;
	BalaList* _tmp23_;
	BalaVariable* _tmp24_;
	BalaVariable* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (var_map != NULL, NULL);
	g_return_val_if_fail (var_symbol != NULL, NULL);
	_tmp0_ = bala_map_get (var_map, (BalaSymbol*) var_symbol);
	variable_stack = (BalaList*) _tmp0_;
	_tmp1_ = variable_stack;
	if (_tmp1_ == NULL) {
		GEqualFunc _tmp2_;
		BalaArrayList* _tmp3_;
		BalaList* _tmp4_;
		_tmp2_ = g_direct_equal;
		_tmp3_ = bala_array_list_new (BALA_TYPE_VARIABLE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp2_);
		_bala_iterable_unref0 (variable_stack);
		variable_stack = (BalaList*) _tmp3_;
		_tmp4_ = variable_stack;
		bala_map_set (var_map, (BalaSymbol*) var_symbol, _tmp4_);
		bala_variable_set_single_assignment (var_symbol, TRUE);
	} else {
		bala_variable_set_single_assignment (var_symbol, FALSE);
	}
	if (BALA_IS_LOCAL_VARIABLE (var_symbol)) {
		BalaDataType* _tmp5_;
		BalaDataType* _tmp6_;
		BalaDataType* _tmp7_;
		BalaDataType* _tmp8_;
		const gchar* _tmp9_;
		const gchar* _tmp10_;
		BalaSourceReference* _tmp11_;
		BalaSourceReference* _tmp12_;
		BalaLocalVariable* _tmp13_;
		_tmp5_ = bala_variable_get_variable_type (var_symbol);
		_tmp6_ = _tmp5_;
		_tmp7_ = bala_data_type_copy (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = bala_symbol_get_name ((BalaSymbol*) var_symbol);
		_tmp10_ = _tmp9_;
		_tmp11_ = bala_code_node_get_source_reference ((BalaCodeNode*) var_symbol);
		_tmp12_ = _tmp11_;
		_tmp13_ = bala_local_variable_new (_tmp8_, _tmp10_, NULL, _tmp12_);
		_bala_code_node_unref0 (versioned_var);
		versioned_var = (BalaVariable*) _tmp13_;
		_bala_code_node_unref0 (_tmp8_);
	} else {
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		BalaDataType* _tmp16_;
		BalaDataType* _tmp17_;
		BalaDataType* _tmp18_;
		BalaDataType* _tmp19_;
		BalaSourceReference* _tmp20_;
		BalaSourceReference* _tmp21_;
		BalaParameter* _tmp22_;
		_tmp14_ = bala_symbol_get_name ((BalaSymbol*) var_symbol);
		_tmp15_ = _tmp14_;
		_tmp16_ = bala_variable_get_variable_type (var_symbol);
		_tmp17_ = _tmp16_;
		_tmp18_ = bala_data_type_copy (_tmp17_);
		_tmp19_ = _tmp18_;
		_tmp20_ = bala_code_node_get_source_reference ((BalaCodeNode*) var_symbol);
		_tmp21_ = _tmp20_;
		_tmp22_ = bala_parameter_new (_tmp15_, _tmp19_, _tmp21_);
		_bala_code_node_unref0 (versioned_var);
		versioned_var = (BalaVariable*) _tmp22_;
		_bala_code_node_unref0 (_tmp19_);
	}
	_tmp23_ = variable_stack;
	_tmp24_ = versioned_var;
	bala_collection_add ((BalaCollection*) _tmp23_, _tmp24_);
	result = versioned_var;
	_bala_iterable_unref0 (variable_stack);
	return result;
}

static void
bala_flow_analyzer_real_visit_creation_method (BalaCodeVisitor* base,
                                               BalaCreationMethod* m)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (m != NULL);
	bala_code_visitor_visit_method ((BalaCodeVisitor*) self, (BalaMethod*) m);
}

static void
bala_flow_analyzer_real_visit_property (BalaCodeVisitor* base,
                                        BalaProperty* prop)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (prop != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) prop, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_property_accessor (BalaCodeVisitor* base,
                                                 BalaPropertyAccessor* acc)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (acc != NULL);
	bala_flow_analyzer_visit_subroutine (self, (BalaSubroutine*) acc);
}

static void
bala_flow_analyzer_real_visit_block (BalaCodeVisitor* base,
                                     BalaBlock* b)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (b != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) b, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_declaration_statement (BalaCodeVisitor* base,
                                                     BalaDeclarationStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaSymbol* _tmp2_;
	BalaSymbol* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	BalaBasicBlock* _tmp16_;
	BalaLocalVariable* local = NULL;
	BalaSymbol* _tmp17_;
	BalaSymbol* _tmp18_;
	gboolean _tmp19_ = FALSE;
	BalaLocalVariable* _tmp20_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) stmt, (BalaCodeVisitor*) self);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		BalaSymbol* _tmp0_;
		BalaSymbol* _tmp1_;
		_tmp0_ = bala_declaration_statement_get_declaration (stmt);
		_tmp1_ = _tmp0_;
		bala_code_node_set_unreachable ((BalaCodeNode*) _tmp1_, TRUE);
		return;
	}
	_tmp2_ = bala_declaration_statement_get_declaration (stmt);
	_tmp3_ = _tmp2_;
	_tmp4_ = bala_symbol_get_used (_tmp3_);
	_tmp5_ = _tmp4_;
	if (!_tmp5_) {
		BalaSymbol* _tmp6_;
		BalaSymbol* _tmp7_;
		BalaSourceReference* _tmp8_;
		BalaSourceReference* _tmp9_;
		BalaSymbol* _tmp10_;
		BalaSymbol* _tmp11_;
		const gchar* _tmp12_;
		const gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		_tmp6_ = bala_declaration_statement_get_declaration (stmt);
		_tmp7_ = _tmp6_;
		_tmp8_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp7_);
		_tmp9_ = _tmp8_;
		_tmp10_ = bala_declaration_statement_get_declaration (stmt);
		_tmp11_ = _tmp10_;
		_tmp12_ = bala_symbol_get_name (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = g_strdup_printf ("local variable `%s' declared but never used", _tmp13_);
		_tmp15_ = _tmp14_;
		bala_report_warning (_tmp9_, _tmp15_);
		_g_free0 (_tmp15_);
	}
	_tmp16_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp16_, (BalaCodeNode*) stmt);
	_tmp17_ = bala_declaration_statement_get_declaration (stmt);
	_tmp18_ = _tmp17_;
	local = BALA_IS_LOCAL_VARIABLE (_tmp18_) ? ((BalaLocalVariable*) _tmp18_) : NULL;
	_tmp20_ = local;
	if (_tmp20_ != NULL) {
		BalaLocalVariable* _tmp21_;
		BalaExpression* _tmp22_;
		BalaExpression* _tmp23_;
		_tmp21_ = local;
		_tmp22_ = bala_variable_get_initializer ((BalaVariable*) _tmp21_);
		_tmp23_ = _tmp22_;
		_tmp19_ = _tmp23_ != NULL;
	} else {
		_tmp19_ = FALSE;
	}
	if (_tmp19_) {
		BalaLocalVariable* _tmp24_;
		BalaExpression* _tmp25_;
		BalaExpression* _tmp26_;
		_tmp24_ = local;
		_tmp25_ = bala_variable_get_initializer ((BalaVariable*) _tmp24_);
		_tmp26_ = _tmp25_;
		bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) _tmp26_, FALSE);
	}
}

static void
bala_flow_analyzer_real_visit_local_variable (BalaCodeVisitor* base,
                                              BalaLocalVariable* local)
{
	BalaFlowAnalyzer * self;
	BalaExpression* _tmp0_;
	BalaExpression* _tmp1_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (local != NULL);
	_tmp0_ = bala_variable_get_initializer ((BalaVariable*) local);
	_tmp1_ = _tmp0_;
	if (_tmp1_ != NULL) {
		BalaExpression* _tmp2_;
		BalaExpression* _tmp3_;
		_tmp2_ = bala_variable_get_initializer ((BalaVariable*) local);
		_tmp3_ = _tmp2_;
		bala_code_node_accept ((BalaCodeNode*) _tmp3_, (BalaCodeVisitor*) self);
	}
}

static void
bala_flow_analyzer_real_visit_expression_statement (BalaCodeVisitor* base,
                                                    BalaExpressionStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaExpression* _tmp1_;
	BalaExpression* _tmp2_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) stmt, (BalaCodeVisitor*) self);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) stmt);
	bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) stmt, FALSE);
	_tmp1_ = bala_expression_statement_get_expression (stmt);
	_tmp2_ = _tmp1_;
	if (BALA_IS_METHOD_CALL (_tmp2_)) {
		BalaMethodCall* expr = NULL;
		BalaExpression* _tmp3_;
		BalaExpression* _tmp4_;
		BalaMemberAccess* ma = NULL;
		BalaMethodCall* _tmp5_;
		BalaExpression* _tmp6_;
		BalaExpression* _tmp7_;
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_ = FALSE;
		BalaMemberAccess* _tmp10_;
		_tmp3_ = bala_expression_statement_get_expression (stmt);
		_tmp4_ = _tmp3_;
		expr = G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, BALA_TYPE_METHOD_CALL, BalaMethodCall);
		_tmp5_ = expr;
		_tmp6_ = bala_method_call_get_call (_tmp5_);
		_tmp7_ = _tmp6_;
		ma = BALA_IS_MEMBER_ACCESS (_tmp7_) ? ((BalaMemberAccess*) _tmp7_) : NULL;
		_tmp10_ = ma;
		if (_tmp10_ != NULL) {
			BalaMemberAccess* _tmp11_;
			BalaSymbol* _tmp12_;
			BalaSymbol* _tmp13_;
			_tmp11_ = ma;
			_tmp12_ = bala_expression_get_symbol_reference ((BalaExpression*) _tmp11_);
			_tmp13_ = _tmp12_;
			_tmp9_ = _tmp13_ != NULL;
		} else {
			_tmp9_ = FALSE;
		}
		if (_tmp9_) {
			BalaMemberAccess* _tmp14_;
			BalaSymbol* _tmp15_;
			BalaSymbol* _tmp16_;
			BalaAttribute* _tmp17_;
			_tmp14_ = ma;
			_tmp15_ = bala_expression_get_symbol_reference ((BalaExpression*) _tmp14_);
			_tmp16_ = _tmp15_;
			_tmp17_ = bala_code_node_get_attribute ((BalaCodeNode*) _tmp16_, "NoReturn");
			_tmp8_ = _tmp17_ != NULL;
		} else {
			_tmp8_ = FALSE;
		}
		if (_tmp8_) {
			bala_flow_analyzer_mark_unreachable (self);
			return;
		}
	}
}

static gboolean
bala_flow_analyzer_always_true (BalaFlowAnalyzer* self,
                                BalaExpression* condition)
{
	BalaBooleanLiteral* literal = NULL;
	gboolean _tmp0_ = FALSE;
	BalaBooleanLiteral* _tmp1_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (condition != NULL, FALSE);
	literal = BALA_IS_BOOLEAN_LITERAL (condition) ? ((BalaBooleanLiteral*) condition) : NULL;
	_tmp1_ = literal;
	if (_tmp1_ != NULL) {
		BalaBooleanLiteral* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = literal;
		_tmp3_ = bala_boolean_literal_get_value (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp0_ = _tmp4_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}

static gboolean
bala_flow_analyzer_always_false (BalaFlowAnalyzer* self,
                                 BalaExpression* condition)
{
	BalaBooleanLiteral* literal = NULL;
	gboolean _tmp0_ = FALSE;
	BalaBooleanLiteral* _tmp1_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (condition != NULL, FALSE);
	literal = BALA_IS_BOOLEAN_LITERAL (condition) ? ((BalaBooleanLiteral*) condition) : NULL;
	_tmp1_ = literal;
	if (_tmp1_ != NULL) {
		BalaBooleanLiteral* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = literal;
		_tmp3_ = bala_boolean_literal_get_value (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp0_ = !_tmp4_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_real_visit_if_statement (BalaCodeVisitor* base,
                                            BalaIfStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaExpression* _tmp1_;
	BalaExpression* _tmp2_;
	BalaExpression* _tmp3_;
	BalaExpression* _tmp4_;
	BalaBasicBlock* last_block = NULL;
	BalaBasicBlock* _tmp5_;
	BalaBasicBlock* _tmp6_;
	BalaExpression* _tmp7_;
	BalaExpression* _tmp8_;
	BalaBlock* _tmp14_;
	BalaBlock* _tmp15_;
	BalaBasicBlock* last_true_block = NULL;
	BalaBasicBlock* _tmp16_;
	BalaBasicBlock* _tmp17_;
	BalaExpression* _tmp18_;
	BalaExpression* _tmp19_;
	BalaBlock* _tmp25_;
	BalaBlock* _tmp26_;
	BalaBasicBlock* last_false_block = NULL;
	BalaBasicBlock* _tmp29_;
	BalaBasicBlock* _tmp30_;
	gboolean _tmp31_ = FALSE;
	BalaBasicBlock* _tmp32_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	_tmp1_ = bala_if_statement_get_condition (stmt);
	_tmp2_ = _tmp1_;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) _tmp2_);
	_tmp3_ = bala_if_statement_get_condition (stmt);
	_tmp4_ = _tmp3_;
	bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) _tmp4_, FALSE);
	_tmp5_ = self->priv->current_block;
	_tmp6_ = _bala_basic_block_ref0 (_tmp5_);
	last_block = _tmp6_;
	_tmp7_ = bala_if_statement_get_condition (stmt);
	_tmp8_ = _tmp7_;
	if (bala_flow_analyzer_always_false (self, _tmp8_)) {
		bala_flow_analyzer_mark_unreachable (self);
	} else {
		BalaBasicBlock* _tmp9_;
		BalaSet* _tmp10_;
		BalaBasicBlock* _tmp11_;
		BalaBasicBlock* _tmp12_;
		BalaBasicBlock* _tmp13_;
		_tmp9_ = bala_basic_block_new ();
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp9_;
		_tmp10_ = self->priv->all_basic_blocks;
		_tmp11_ = self->priv->current_block;
		bala_collection_add ((BalaCollection*) _tmp10_, _tmp11_);
		_tmp12_ = last_block;
		_tmp13_ = self->priv->current_block;
		bala_basic_block_connect (_tmp12_, _tmp13_);
	}
	_tmp14_ = bala_if_statement_get_true_statement (stmt);
	_tmp15_ = _tmp14_;
	bala_code_node_accept ((BalaCodeNode*) _tmp15_, (BalaCodeVisitor*) self);
	_tmp16_ = self->priv->current_block;
	_tmp17_ = _bala_basic_block_ref0 (_tmp16_);
	last_true_block = _tmp17_;
	_tmp18_ = bala_if_statement_get_condition (stmt);
	_tmp19_ = _tmp18_;
	if (bala_flow_analyzer_always_true (self, _tmp19_)) {
		bala_flow_analyzer_mark_unreachable (self);
	} else {
		BalaBasicBlock* _tmp20_;
		BalaSet* _tmp21_;
		BalaBasicBlock* _tmp22_;
		BalaBasicBlock* _tmp23_;
		BalaBasicBlock* _tmp24_;
		_tmp20_ = bala_basic_block_new ();
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp20_;
		_tmp21_ = self->priv->all_basic_blocks;
		_tmp22_ = self->priv->current_block;
		bala_collection_add ((BalaCollection*) _tmp21_, _tmp22_);
		_tmp23_ = last_block;
		_tmp24_ = self->priv->current_block;
		bala_basic_block_connect (_tmp23_, _tmp24_);
	}
	_tmp25_ = bala_if_statement_get_false_statement (stmt);
	_tmp26_ = _tmp25_;
	if (_tmp26_ != NULL) {
		BalaBlock* _tmp27_;
		BalaBlock* _tmp28_;
		_tmp27_ = bala_if_statement_get_false_statement (stmt);
		_tmp28_ = _tmp27_;
		bala_code_node_accept ((BalaCodeNode*) _tmp28_, (BalaCodeVisitor*) self);
	}
	_tmp29_ = self->priv->current_block;
	_tmp30_ = _bala_basic_block_ref0 (_tmp29_);
	last_false_block = _tmp30_;
	_tmp32_ = last_true_block;
	if (_tmp32_ != NULL) {
		_tmp31_ = TRUE;
	} else {
		BalaBasicBlock* _tmp33_;
		_tmp33_ = last_false_block;
		_tmp31_ = _tmp33_ != NULL;
	}
	if (_tmp31_) {
		BalaBasicBlock* _tmp34_;
		BalaSet* _tmp35_;
		BalaBasicBlock* _tmp36_;
		BalaBasicBlock* _tmp37_;
		BalaBasicBlock* _tmp40_;
		_tmp34_ = bala_basic_block_new ();
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp34_;
		_tmp35_ = self->priv->all_basic_blocks;
		_tmp36_ = self->priv->current_block;
		bala_collection_add ((BalaCollection*) _tmp35_, _tmp36_);
		_tmp37_ = last_true_block;
		if (_tmp37_ != NULL) {
			BalaBasicBlock* _tmp38_;
			BalaBasicBlock* _tmp39_;
			_tmp38_ = last_true_block;
			_tmp39_ = self->priv->current_block;
			bala_basic_block_connect (_tmp38_, _tmp39_);
		}
		_tmp40_ = last_false_block;
		if (_tmp40_ != NULL) {
			BalaBasicBlock* _tmp41_;
			BalaBasicBlock* _tmp42_;
			_tmp41_ = last_false_block;
			_tmp42_ = self->priv->current_block;
			bala_basic_block_connect (_tmp41_, _tmp42_);
		}
	}
	_bala_basic_block_unref0 (last_false_block);
	_bala_basic_block_unref0 (last_true_block);
	_bala_basic_block_unref0 (last_block);
}

static void
bala_flow_analyzer_real_visit_switch_statement (BalaCodeVisitor* base,
                                                BalaSwitchStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* after_switch_block = NULL;
	BalaBasicBlock* _tmp0_;
	BalaSet* _tmp1_;
	BalaBasicBlock* _tmp2_;
	BalaList* _tmp3_;
	BalaBasicBlock* _tmp4_;
	BalaFlowAnalyzerJumpTarget* _tmp5_;
	BalaFlowAnalyzerJumpTarget* _tmp6_;
	BalaBasicBlock* _tmp7_;
	BalaExpression* _tmp8_;
	BalaExpression* _tmp9_;
	BalaBasicBlock* condition_block = NULL;
	BalaBasicBlock* _tmp10_;
	BalaBasicBlock* _tmp11_;
	BalaExpression* _tmp12_;
	BalaExpression* _tmp13_;
	gboolean has_default_label = FALSE;
	BalaBasicBlock* _tmp48_;
	BalaList* _tmp49_;
	gint _tmp50_;
	gint _tmp51_;
	BalaList* _tmp54_;
	BalaList* _tmp55_;
	gint _tmp56_;
	gint _tmp57_;
	gpointer _tmp58_;
	BalaFlowAnalyzerJumpTarget* _tmp59_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = bala_basic_block_new ();
	after_switch_block = _tmp0_;
	_tmp1_ = self->priv->all_basic_blocks;
	_tmp2_ = after_switch_block;
	bala_collection_add ((BalaCollection*) _tmp1_, _tmp2_);
	_tmp3_ = self->priv->jump_stack;
	_tmp4_ = after_switch_block;
	_tmp5_ = bala_flow_analyzer_jump_target_new_break_target (_tmp4_);
	_tmp6_ = _tmp5_;
	bala_collection_add ((BalaCollection*) _tmp3_, _tmp6_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp6_);
	_tmp7_ = self->priv->current_block;
	_tmp8_ = bala_switch_statement_get_expression (stmt);
	_tmp9_ = _tmp8_;
	bala_basic_block_add_node (_tmp7_, (BalaCodeNode*) _tmp9_);
	_tmp10_ = self->priv->current_block;
	_tmp11_ = _bala_basic_block_ref0 (_tmp10_);
	condition_block = _tmp11_;
	_tmp12_ = bala_switch_statement_get_expression (stmt);
	_tmp13_ = _tmp12_;
	bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) _tmp13_, FALSE);
	has_default_label = FALSE;
	{
		BalaList* _section_list = NULL;
		BalaList* _tmp14_;
		BalaList* _tmp15_;
		gint _section_size = 0;
		BalaList* _tmp16_;
		gint _tmp17_;
		gint _tmp18_;
		gint _section_index = 0;
		_tmp14_ = bala_switch_statement_get_sections (stmt);
		_tmp15_ = _bala_iterable_ref0 (_tmp14_);
		_section_list = _tmp15_;
		_tmp16_ = _section_list;
		_tmp17_ = bala_collection_get_size ((BalaCollection*) _tmp16_);
		_tmp18_ = _tmp17_;
		_section_size = _tmp18_;
		_section_index = -1;
		while (TRUE) {
			gint _tmp19_;
			gint _tmp20_;
			BalaSwitchSection* section = NULL;
			BalaList* _tmp21_;
			gpointer _tmp22_;
			BalaBasicBlock* _tmp23_;
			BalaSet* _tmp24_;
			BalaBasicBlock* _tmp25_;
			BalaBasicBlock* _tmp26_;
			BalaBasicBlock* _tmp27_;
			BalaSwitchSection* _tmp38_;
			BalaBasicBlock* _tmp39_;
			_section_index = _section_index + 1;
			_tmp19_ = _section_index;
			_tmp20_ = _section_size;
			if (!(_tmp19_ < _tmp20_)) {
				break;
			}
			_tmp21_ = _section_list;
			_tmp22_ = bala_list_get (_tmp21_, _section_index);
			section = (BalaSwitchSection*) _tmp22_;
			_tmp23_ = bala_basic_block_new ();
			_bala_basic_block_unref0 (self->priv->current_block);
			self->priv->current_block = _tmp23_;
			_tmp24_ = self->priv->all_basic_blocks;
			_tmp25_ = self->priv->current_block;
			bala_collection_add ((BalaCollection*) _tmp24_, _tmp25_);
			_tmp26_ = condition_block;
			_tmp27_ = self->priv->current_block;
			bala_basic_block_connect (_tmp26_, _tmp27_);
			{
				BalaList* _section_stmt_list = NULL;
				BalaSwitchSection* _tmp28_;
				BalaList* _tmp29_;
				gint _section_stmt_size = 0;
				BalaList* _tmp30_;
				gint _tmp31_;
				gint _tmp32_;
				gint _section_stmt_index = 0;
				_tmp28_ = section;
				_tmp29_ = bala_block_get_statements ((BalaBlock*) _tmp28_);
				_section_stmt_list = _tmp29_;
				_tmp30_ = _section_stmt_list;
				_tmp31_ = bala_collection_get_size ((BalaCollection*) _tmp30_);
				_tmp32_ = _tmp31_;
				_section_stmt_size = _tmp32_;
				_section_stmt_index = -1;
				while (TRUE) {
					gint _tmp33_;
					gint _tmp34_;
					BalaStatement* section_stmt = NULL;
					BalaList* _tmp35_;
					gpointer _tmp36_;
					BalaStatement* _tmp37_;
					_section_stmt_index = _section_stmt_index + 1;
					_tmp33_ = _section_stmt_index;
					_tmp34_ = _section_stmt_size;
					if (!(_tmp33_ < _tmp34_)) {
						break;
					}
					_tmp35_ = _section_stmt_list;
					_tmp36_ = bala_list_get (_tmp35_, _section_stmt_index);
					section_stmt = (BalaStatement*) _tmp36_;
					_tmp37_ = section_stmt;
					bala_code_node_accept ((BalaCodeNode*) _tmp37_, (BalaCodeVisitor*) self);
					_bala_code_node_unref0 (section_stmt);
				}
				_bala_iterable_unref0 (_section_stmt_list);
			}
			_tmp38_ = section;
			if (bala_switch_section_has_default_label (_tmp38_)) {
				has_default_label = TRUE;
			}
			_tmp39_ = self->priv->current_block;
			if (_tmp39_ != NULL) {
				BalaSwitchSection* _tmp40_;
				BalaSourceReference* _tmp41_;
				BalaSourceReference* _tmp42_;
				BalaSwitchSection* _tmp43_;
				BalaBasicBlock* _tmp44_;
				BalaBasicBlock* _tmp45_;
				_tmp40_ = section;
				_tmp41_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp40_);
				_tmp42_ = _tmp41_;
				bala_report_error (_tmp42_, "missing break statement at end of switch section");
				_tmp43_ = section;
				bala_code_node_set_error ((BalaCodeNode*) _tmp43_, TRUE);
				_tmp44_ = self->priv->current_block;
				_tmp45_ = after_switch_block;
				bala_basic_block_connect (_tmp44_, _tmp45_);
			}
			_bala_code_node_unref0 (section);
		}
		_bala_iterable_unref0 (_section_list);
	}
	if (!has_default_label) {
		BalaBasicBlock* _tmp46_;
		BalaBasicBlock* _tmp47_;
		_tmp46_ = condition_block;
		_tmp47_ = after_switch_block;
		bala_basic_block_connect (_tmp46_, _tmp47_);
	}
	_tmp48_ = after_switch_block;
	_tmp49_ = bala_basic_block_get_predecessors (_tmp48_);
	_tmp50_ = bala_collection_get_size ((BalaCollection*) _tmp49_);
	_tmp51_ = _tmp50_;
	if (_tmp51_ > 0) {
		BalaBasicBlock* _tmp52_;
		BalaBasicBlock* _tmp53_;
		_tmp52_ = after_switch_block;
		_tmp53_ = _bala_basic_block_ref0 (_tmp52_);
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp53_;
	} else {
		bala_flow_analyzer_mark_unreachable (self);
	}
	_tmp54_ = self->priv->jump_stack;
	_tmp55_ = self->priv->jump_stack;
	_tmp56_ = bala_collection_get_size ((BalaCollection*) _tmp55_);
	_tmp57_ = _tmp56_;
	_tmp58_ = bala_list_remove_at (_tmp54_, _tmp57_ - 1);
	_tmp59_ = (BalaFlowAnalyzerJumpTarget*) _tmp58_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp59_);
	_bala_basic_block_unref0 (condition_block);
	_bala_basic_block_unref0 (after_switch_block);
}

static void
bala_flow_analyzer_real_visit_loop (BalaCodeVisitor* base,
                                    BalaLoop* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* loop_block = NULL;
	BalaBasicBlock* _tmp0_;
	BalaSet* _tmp1_;
	BalaBasicBlock* _tmp2_;
	BalaList* _tmp3_;
	BalaBasicBlock* _tmp4_;
	BalaFlowAnalyzerJumpTarget* _tmp5_;
	BalaFlowAnalyzerJumpTarget* _tmp6_;
	BalaBasicBlock* after_loop_block = NULL;
	BalaBasicBlock* _tmp7_;
	BalaSet* _tmp8_;
	BalaBasicBlock* _tmp9_;
	BalaList* _tmp10_;
	BalaBasicBlock* _tmp11_;
	BalaFlowAnalyzerJumpTarget* _tmp12_;
	BalaFlowAnalyzerJumpTarget* _tmp13_;
	BalaBasicBlock* last_block = NULL;
	BalaBasicBlock* _tmp14_;
	BalaBasicBlock* _tmp15_;
	BalaBasicBlock* _tmp16_;
	BalaBasicBlock* _tmp17_;
	BalaBasicBlock* _tmp18_;
	BalaBasicBlock* _tmp19_;
	BalaBlock* _tmp20_;
	BalaBlock* _tmp21_;
	BalaBasicBlock* _tmp22_;
	BalaBasicBlock* _tmp25_;
	BalaList* _tmp26_;
	gint _tmp27_;
	gint _tmp28_;
	BalaList* _tmp31_;
	BalaList* _tmp32_;
	gint _tmp33_;
	gint _tmp34_;
	gpointer _tmp35_;
	BalaFlowAnalyzerJumpTarget* _tmp36_;
	BalaList* _tmp37_;
	BalaList* _tmp38_;
	gint _tmp39_;
	gint _tmp40_;
	gpointer _tmp41_;
	BalaFlowAnalyzerJumpTarget* _tmp42_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = bala_basic_block_new ();
	loop_block = _tmp0_;
	_tmp1_ = self->priv->all_basic_blocks;
	_tmp2_ = loop_block;
	bala_collection_add ((BalaCollection*) _tmp1_, _tmp2_);
	_tmp3_ = self->priv->jump_stack;
	_tmp4_ = loop_block;
	_tmp5_ = bala_flow_analyzer_jump_target_new_continue_target (_tmp4_);
	_tmp6_ = _tmp5_;
	bala_collection_add ((BalaCollection*) _tmp3_, _tmp6_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp6_);
	_tmp7_ = bala_basic_block_new ();
	after_loop_block = _tmp7_;
	_tmp8_ = self->priv->all_basic_blocks;
	_tmp9_ = after_loop_block;
	bala_collection_add ((BalaCollection*) _tmp8_, _tmp9_);
	_tmp10_ = self->priv->jump_stack;
	_tmp11_ = after_loop_block;
	_tmp12_ = bala_flow_analyzer_jump_target_new_break_target (_tmp11_);
	_tmp13_ = _tmp12_;
	bala_collection_add ((BalaCollection*) _tmp10_, _tmp13_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp13_);
	_tmp14_ = self->priv->current_block;
	_tmp15_ = _bala_basic_block_ref0 (_tmp14_);
	last_block = _tmp15_;
	_tmp16_ = last_block;
	_tmp17_ = loop_block;
	bala_basic_block_connect (_tmp16_, _tmp17_);
	_tmp18_ = loop_block;
	_tmp19_ = _bala_basic_block_ref0 (_tmp18_);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp19_;
	_tmp20_ = bala_loop_get_body (stmt);
	_tmp21_ = _tmp20_;
	bala_code_node_accept ((BalaCodeNode*) _tmp21_, (BalaCodeVisitor*) self);
	_tmp22_ = self->priv->current_block;
	if (_tmp22_ != NULL) {
		BalaBasicBlock* _tmp23_;
		BalaBasicBlock* _tmp24_;
		_tmp23_ = self->priv->current_block;
		_tmp24_ = loop_block;
		bala_basic_block_connect (_tmp23_, _tmp24_);
	}
	_tmp25_ = after_loop_block;
	_tmp26_ = bala_basic_block_get_predecessors (_tmp25_);
	_tmp27_ = bala_collection_get_size ((BalaCollection*) _tmp26_);
	_tmp28_ = _tmp27_;
	if (_tmp28_ == 0) {
		bala_flow_analyzer_mark_unreachable (self);
	} else {
		BalaBasicBlock* _tmp29_;
		BalaBasicBlock* _tmp30_;
		_tmp29_ = after_loop_block;
		_tmp30_ = _bala_basic_block_ref0 (_tmp29_);
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp30_;
	}
	_tmp31_ = self->priv->jump_stack;
	_tmp32_ = self->priv->jump_stack;
	_tmp33_ = bala_collection_get_size ((BalaCollection*) _tmp32_);
	_tmp34_ = _tmp33_;
	_tmp35_ = bala_list_remove_at (_tmp31_, _tmp34_ - 1);
	_tmp36_ = (BalaFlowAnalyzerJumpTarget*) _tmp35_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp36_);
	_tmp37_ = self->priv->jump_stack;
	_tmp38_ = self->priv->jump_stack;
	_tmp39_ = bala_collection_get_size ((BalaCollection*) _tmp38_);
	_tmp40_ = _tmp39_;
	_tmp41_ = bala_list_remove_at (_tmp37_, _tmp40_ - 1);
	_tmp42_ = (BalaFlowAnalyzerJumpTarget*) _tmp41_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp42_);
	_bala_basic_block_unref0 (last_block);
	_bala_basic_block_unref0 (after_loop_block);
	_bala_basic_block_unref0 (loop_block);
}

static void
bala_flow_analyzer_real_visit_foreach_statement (BalaCodeVisitor* base,
                                                 BalaForeachStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaExpression* _tmp1_;
	BalaExpression* _tmp2_;
	BalaExpression* _tmp3_;
	BalaExpression* _tmp4_;
	BalaBasicBlock* loop_block = NULL;
	BalaBasicBlock* _tmp5_;
	BalaSet* _tmp6_;
	BalaBasicBlock* _tmp7_;
	BalaList* _tmp8_;
	BalaBasicBlock* _tmp9_;
	BalaFlowAnalyzerJumpTarget* _tmp10_;
	BalaFlowAnalyzerJumpTarget* _tmp11_;
	BalaBasicBlock* after_loop_block = NULL;
	BalaBasicBlock* _tmp12_;
	BalaSet* _tmp13_;
	BalaBasicBlock* _tmp14_;
	BalaList* _tmp15_;
	BalaBasicBlock* _tmp16_;
	BalaFlowAnalyzerJumpTarget* _tmp17_;
	BalaFlowAnalyzerJumpTarget* _tmp18_;
	BalaBasicBlock* last_block = NULL;
	BalaBasicBlock* _tmp19_;
	BalaBasicBlock* _tmp20_;
	BalaBasicBlock* _tmp21_;
	BalaBasicBlock* _tmp22_;
	BalaBasicBlock* _tmp23_;
	BalaBasicBlock* _tmp24_;
	BalaBasicBlock* _tmp25_;
	BalaBlock* _tmp26_;
	BalaBlock* _tmp27_;
	BalaBasicBlock* _tmp28_;
	BalaBasicBlock* _tmp31_;
	BalaBasicBlock* _tmp32_;
	BalaBasicBlock* _tmp33_;
	BalaBasicBlock* _tmp36_;
	BalaBasicBlock* _tmp37_;
	BalaList* _tmp38_;
	BalaList* _tmp39_;
	gint _tmp40_;
	gint _tmp41_;
	gpointer _tmp42_;
	BalaFlowAnalyzerJumpTarget* _tmp43_;
	BalaList* _tmp44_;
	BalaList* _tmp45_;
	gint _tmp46_;
	gint _tmp47_;
	gpointer _tmp48_;
	BalaFlowAnalyzerJumpTarget* _tmp49_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	_tmp1_ = bala_foreach_statement_get_collection (stmt);
	_tmp2_ = _tmp1_;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) _tmp2_);
	_tmp3_ = bala_foreach_statement_get_collection (stmt);
	_tmp4_ = _tmp3_;
	bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) _tmp4_, FALSE);
	_tmp5_ = bala_basic_block_new ();
	loop_block = _tmp5_;
	_tmp6_ = self->priv->all_basic_blocks;
	_tmp7_ = loop_block;
	bala_collection_add ((BalaCollection*) _tmp6_, _tmp7_);
	_tmp8_ = self->priv->jump_stack;
	_tmp9_ = loop_block;
	_tmp10_ = bala_flow_analyzer_jump_target_new_continue_target (_tmp9_);
	_tmp11_ = _tmp10_;
	bala_collection_add ((BalaCollection*) _tmp8_, _tmp11_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp11_);
	_tmp12_ = bala_basic_block_new ();
	after_loop_block = _tmp12_;
	_tmp13_ = self->priv->all_basic_blocks;
	_tmp14_ = after_loop_block;
	bala_collection_add ((BalaCollection*) _tmp13_, _tmp14_);
	_tmp15_ = self->priv->jump_stack;
	_tmp16_ = after_loop_block;
	_tmp17_ = bala_flow_analyzer_jump_target_new_break_target (_tmp16_);
	_tmp18_ = _tmp17_;
	bala_collection_add ((BalaCollection*) _tmp15_, _tmp18_);
	_bala_flow_analyzer_jump_target_unref0 (_tmp18_);
	_tmp19_ = self->priv->current_block;
	_tmp20_ = _bala_basic_block_ref0 (_tmp19_);
	last_block = _tmp20_;
	_tmp21_ = last_block;
	_tmp22_ = loop_block;
	bala_basic_block_connect (_tmp21_, _tmp22_);
	_tmp23_ = loop_block;
	_tmp24_ = _bala_basic_block_ref0 (_tmp23_);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp24_;
	_tmp25_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp25_, (BalaCodeNode*) stmt);
	_tmp26_ = bala_foreach_statement_get_body (stmt);
	_tmp27_ = _tmp26_;
	bala_code_node_accept ((BalaCodeNode*) _tmp27_, (BalaCodeVisitor*) self);
	_tmp28_ = self->priv->current_block;
	if (_tmp28_ != NULL) {
		BalaBasicBlock* _tmp29_;
		BalaBasicBlock* _tmp30_;
		_tmp29_ = self->priv->current_block;
		_tmp30_ = loop_block;
		bala_basic_block_connect (_tmp29_, _tmp30_);
	}
	_tmp31_ = last_block;
	_tmp32_ = after_loop_block;
	bala_basic_block_connect (_tmp31_, _tmp32_);
	_tmp33_ = self->priv->current_block;
	if (_tmp33_ != NULL) {
		BalaBasicBlock* _tmp34_;
		BalaBasicBlock* _tmp35_;
		_tmp34_ = self->priv->current_block;
		_tmp35_ = after_loop_block;
		bala_basic_block_connect (_tmp34_, _tmp35_);
	}
	_tmp36_ = after_loop_block;
	_tmp37_ = _bala_basic_block_ref0 (_tmp36_);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp37_;
	_tmp38_ = self->priv->jump_stack;
	_tmp39_ = self->priv->jump_stack;
	_tmp40_ = bala_collection_get_size ((BalaCollection*) _tmp39_);
	_tmp41_ = _tmp40_;
	_tmp42_ = bala_list_remove_at (_tmp38_, _tmp41_ - 1);
	_tmp43_ = (BalaFlowAnalyzerJumpTarget*) _tmp42_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp43_);
	_tmp44_ = self->priv->jump_stack;
	_tmp45_ = self->priv->jump_stack;
	_tmp46_ = bala_collection_get_size ((BalaCollection*) _tmp45_);
	_tmp47_ = _tmp46_;
	_tmp48_ = bala_list_remove_at (_tmp44_, _tmp47_ - 1);
	_tmp49_ = (BalaFlowAnalyzerJumpTarget*) _tmp48_;
	_bala_flow_analyzer_jump_target_unref0 (_tmp49_);
	_bala_basic_block_unref0 (last_block);
	_bala_basic_block_unref0 (after_loop_block);
	_bala_basic_block_unref0 (loop_block);
}

static void
bala_flow_analyzer_real_visit_break_statement (BalaCodeVisitor* base,
                                               BalaBreakStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaSourceReference* _tmp26_;
	BalaSourceReference* _tmp27_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) stmt);
	{
		gint i = 0;
		BalaList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		_tmp1_ = self->priv->jump_stack;
		_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		i = _tmp3_ - 1;
		{
			gboolean _tmp4_ = FALSE;
			_tmp4_ = TRUE;
			while (TRUE) {
				BalaFlowAnalyzerJumpTarget* jump_target = NULL;
				BalaList* _tmp6_;
				gpointer _tmp7_;
				BalaFlowAnalyzerJumpTarget* _tmp8_;
				gboolean _tmp9_;
				gboolean _tmp10_;
				if (!_tmp4_) {
					gint _tmp5_;
					_tmp5_ = i;
					i = _tmp5_ - 1;
				}
				_tmp4_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp6_ = self->priv->jump_stack;
				_tmp7_ = bala_list_get (_tmp6_, i);
				jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp7_;
				_tmp8_ = jump_target;
				_tmp9_ = bala_flow_analyzer_jump_target_get_is_break_target (_tmp8_);
				_tmp10_ = _tmp9_;
				if (_tmp10_) {
					BalaBasicBlock* _tmp11_;
					BalaFlowAnalyzerJumpTarget* _tmp12_;
					BalaBasicBlock* _tmp13_;
					BalaBasicBlock* _tmp14_;
					_tmp11_ = self->priv->current_block;
					_tmp12_ = jump_target;
					_tmp13_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp12_);
					_tmp14_ = _tmp13_;
					bala_basic_block_connect (_tmp11_, _tmp14_);
					bala_flow_analyzer_mark_unreachable (self);
					_bala_flow_analyzer_jump_target_unref0 (jump_target);
					return;
				} else {
					BalaFlowAnalyzerJumpTarget* _tmp15_;
					gboolean _tmp16_;
					gboolean _tmp17_;
					_tmp15_ = jump_target;
					_tmp16_ = bala_flow_analyzer_jump_target_get_is_finally_clause (_tmp15_);
					_tmp17_ = _tmp16_;
					if (_tmp17_) {
						BalaBasicBlock* _tmp18_;
						BalaFlowAnalyzerJumpTarget* _tmp19_;
						BalaBasicBlock* _tmp20_;
						BalaBasicBlock* _tmp21_;
						BalaFlowAnalyzerJumpTarget* _tmp22_;
						BalaBasicBlock* _tmp23_;
						BalaBasicBlock* _tmp24_;
						BalaBasicBlock* _tmp25_;
						_tmp18_ = self->priv->current_block;
						_tmp19_ = jump_target;
						_tmp20_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp19_);
						_tmp21_ = _tmp20_;
						bala_basic_block_connect (_tmp18_, _tmp21_);
						_tmp22_ = jump_target;
						_tmp23_ = bala_flow_analyzer_jump_target_get_last_block (_tmp22_);
						_tmp24_ = _tmp23_;
						_tmp25_ = _bala_basic_block_ref0 (_tmp24_);
						_bala_basic_block_unref0 (self->priv->current_block);
						self->priv->current_block = _tmp25_;
					}
				}
				_bala_flow_analyzer_jump_target_unref0 (jump_target);
			}
		}
	}
	_tmp26_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
	_tmp27_ = _tmp26_;
	bala_report_error (_tmp27_, "no enclosing loop or switch statement found");
	bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
}

static void
bala_flow_analyzer_real_visit_continue_statement (BalaCodeVisitor* base,
                                                  BalaContinueStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaSourceReference* _tmp26_;
	BalaSourceReference* _tmp27_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) stmt);
	{
		gint i = 0;
		BalaList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		_tmp1_ = self->priv->jump_stack;
		_tmp2_ = bala_collection_get_size ((BalaCollection*) _tmp1_);
		_tmp3_ = _tmp2_;
		i = _tmp3_ - 1;
		{
			gboolean _tmp4_ = FALSE;
			_tmp4_ = TRUE;
			while (TRUE) {
				BalaFlowAnalyzerJumpTarget* jump_target = NULL;
				BalaList* _tmp6_;
				gpointer _tmp7_;
				BalaFlowAnalyzerJumpTarget* _tmp8_;
				gboolean _tmp9_;
				gboolean _tmp10_;
				if (!_tmp4_) {
					gint _tmp5_;
					_tmp5_ = i;
					i = _tmp5_ - 1;
				}
				_tmp4_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp6_ = self->priv->jump_stack;
				_tmp7_ = bala_list_get (_tmp6_, i);
				jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp7_;
				_tmp8_ = jump_target;
				_tmp9_ = bala_flow_analyzer_jump_target_get_is_continue_target (_tmp8_);
				_tmp10_ = _tmp9_;
				if (_tmp10_) {
					BalaBasicBlock* _tmp11_;
					BalaFlowAnalyzerJumpTarget* _tmp12_;
					BalaBasicBlock* _tmp13_;
					BalaBasicBlock* _tmp14_;
					_tmp11_ = self->priv->current_block;
					_tmp12_ = jump_target;
					_tmp13_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp12_);
					_tmp14_ = _tmp13_;
					bala_basic_block_connect (_tmp11_, _tmp14_);
					bala_flow_analyzer_mark_unreachable (self);
					_bala_flow_analyzer_jump_target_unref0 (jump_target);
					return;
				} else {
					BalaFlowAnalyzerJumpTarget* _tmp15_;
					gboolean _tmp16_;
					gboolean _tmp17_;
					_tmp15_ = jump_target;
					_tmp16_ = bala_flow_analyzer_jump_target_get_is_finally_clause (_tmp15_);
					_tmp17_ = _tmp16_;
					if (_tmp17_) {
						BalaBasicBlock* _tmp18_;
						BalaFlowAnalyzerJumpTarget* _tmp19_;
						BalaBasicBlock* _tmp20_;
						BalaBasicBlock* _tmp21_;
						BalaFlowAnalyzerJumpTarget* _tmp22_;
						BalaBasicBlock* _tmp23_;
						BalaBasicBlock* _tmp24_;
						BalaBasicBlock* _tmp25_;
						_tmp18_ = self->priv->current_block;
						_tmp19_ = jump_target;
						_tmp20_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp19_);
						_tmp21_ = _tmp20_;
						bala_basic_block_connect (_tmp18_, _tmp21_);
						_tmp22_ = jump_target;
						_tmp23_ = bala_flow_analyzer_jump_target_get_last_block (_tmp22_);
						_tmp24_ = _tmp23_;
						_tmp25_ = _bala_basic_block_ref0 (_tmp24_);
						_bala_basic_block_unref0 (self->priv->current_block);
						self->priv->current_block = _tmp25_;
					}
				}
				_bala_flow_analyzer_jump_target_unref0 (jump_target);
			}
		}
	}
	_tmp26_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
	_tmp27_ = _tmp26_;
	bala_report_error (_tmp27_, "no enclosing loop found");
	bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
}

static void
bala_flow_analyzer_real_visit_return_statement (BalaCodeVisitor* base,
                                                BalaReturnStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	BalaExpression* _tmp1_;
	BalaExpression* _tmp2_;
	BalaSourceReference* _tmp30_;
	BalaSourceReference* _tmp31_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	bala_code_node_accept_children ((BalaCodeNode*) stmt, (BalaCodeVisitor*) self);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) stmt);
	_tmp1_ = bala_return_statement_get_return_expression (stmt);
	_tmp2_ = _tmp1_;
	if (_tmp2_ != NULL) {
		BalaExpression* _tmp3_;
		BalaExpression* _tmp4_;
		_tmp3_ = bala_return_statement_get_return_expression (stmt);
		_tmp4_ = _tmp3_;
		bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) _tmp4_, FALSE);
	}
	{
		gint i = 0;
		BalaList* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		_tmp5_ = self->priv->jump_stack;
		_tmp6_ = bala_collection_get_size ((BalaCollection*) _tmp5_);
		_tmp7_ = _tmp6_;
		i = _tmp7_ - 1;
		{
			gboolean _tmp8_ = FALSE;
			_tmp8_ = TRUE;
			while (TRUE) {
				BalaFlowAnalyzerJumpTarget* jump_target = NULL;
				BalaList* _tmp10_;
				gpointer _tmp11_;
				BalaFlowAnalyzerJumpTarget* _tmp12_;
				gboolean _tmp13_;
				gboolean _tmp14_;
				if (!_tmp8_) {
					gint _tmp9_;
					_tmp9_ = i;
					i = _tmp9_ - 1;
				}
				_tmp8_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp10_ = self->priv->jump_stack;
				_tmp11_ = bala_list_get (_tmp10_, i);
				jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp11_;
				_tmp12_ = jump_target;
				_tmp13_ = bala_flow_analyzer_jump_target_get_is_return_target (_tmp12_);
				_tmp14_ = _tmp13_;
				if (_tmp14_) {
					BalaBasicBlock* _tmp15_;
					BalaFlowAnalyzerJumpTarget* _tmp16_;
					BalaBasicBlock* _tmp17_;
					BalaBasicBlock* _tmp18_;
					_tmp15_ = self->priv->current_block;
					_tmp16_ = jump_target;
					_tmp17_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp16_);
					_tmp18_ = _tmp17_;
					bala_basic_block_connect (_tmp15_, _tmp18_);
					bala_flow_analyzer_mark_unreachable (self);
					_bala_flow_analyzer_jump_target_unref0 (jump_target);
					return;
				} else {
					BalaFlowAnalyzerJumpTarget* _tmp19_;
					gboolean _tmp20_;
					gboolean _tmp21_;
					_tmp19_ = jump_target;
					_tmp20_ = bala_flow_analyzer_jump_target_get_is_finally_clause (_tmp19_);
					_tmp21_ = _tmp20_;
					if (_tmp21_) {
						BalaBasicBlock* _tmp22_;
						BalaFlowAnalyzerJumpTarget* _tmp23_;
						BalaBasicBlock* _tmp24_;
						BalaBasicBlock* _tmp25_;
						BalaFlowAnalyzerJumpTarget* _tmp26_;
						BalaBasicBlock* _tmp27_;
						BalaBasicBlock* _tmp28_;
						BalaBasicBlock* _tmp29_;
						_tmp22_ = self->priv->current_block;
						_tmp23_ = jump_target;
						_tmp24_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp23_);
						_tmp25_ = _tmp24_;
						bala_basic_block_connect (_tmp22_, _tmp25_);
						_tmp26_ = jump_target;
						_tmp27_ = bala_flow_analyzer_jump_target_get_last_block (_tmp26_);
						_tmp28_ = _tmp27_;
						_tmp29_ = _bala_basic_block_ref0 (_tmp28_);
						_bala_basic_block_unref0 (self->priv->current_block);
						self->priv->current_block = _tmp29_;
					}
				}
				_bala_flow_analyzer_jump_target_unref0 (jump_target);
			}
		}
	}
	_tmp30_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
	_tmp31_ = _tmp30_;
	bala_report_error (_tmp31_, "no enclosing loop found");
	bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
}

static void
bala_flow_analyzer_handle_errors (BalaFlowAnalyzer* self,
                                  BalaCodeNode* node,
                                  gboolean always_fail)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (node != NULL);
	_tmp0_ = bala_code_node_get_tree_can_fail (node);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		BalaBasicBlock* last_block = NULL;
		BalaBasicBlock* _tmp2_;
		BalaBasicBlock* _tmp3_;
		BalaArrayList* error_types = NULL;
		GEqualFunc _tmp4_;
		BalaArrayList* _tmp5_;
		BalaArrayList* _tmp6_;
		_tmp2_ = self->priv->current_block;
		_tmp3_ = _bala_basic_block_ref0 (_tmp2_);
		last_block = _tmp3_;
		_tmp4_ = g_direct_equal;
		_tmp5_ = bala_array_list_new (BALA_TYPE_DATA_TYPE, (GBoxedCopyFunc) bala_code_node_ref, (GDestroyNotify) bala_code_node_unref, _tmp4_);
		error_types = _tmp5_;
		_tmp6_ = error_types;
		bala_code_node_get_error_types (node, (BalaCollection*) _tmp6_, NULL);
		{
			BalaArrayList* _error_data_type_list = NULL;
			BalaArrayList* _tmp7_;
			BalaArrayList* _tmp8_;
			gint _error_data_type_size = 0;
			BalaArrayList* _tmp9_;
			gint _tmp10_;
			gint _tmp11_;
			gint _error_data_type_index = 0;
			_tmp7_ = error_types;
			_tmp8_ = _bala_iterable_ref0 (_tmp7_);
			_error_data_type_list = _tmp8_;
			_tmp9_ = _error_data_type_list;
			_tmp10_ = bala_collection_get_size ((BalaCollection*) _tmp9_);
			_tmp11_ = _tmp10_;
			_error_data_type_size = _tmp11_;
			_error_data_type_index = -1;
			while (TRUE) {
				gint _tmp12_;
				gint _tmp13_;
				BalaDataType* error_data_type = NULL;
				BalaArrayList* _tmp14_;
				gpointer _tmp15_;
				BalaErrorType* error_type = NULL;
				BalaDataType* _tmp16_;
				BalaClass* error_class = NULL;
				BalaDataType* _tmp17_;
				BalaTypeSymbol* _tmp18_;
				BalaTypeSymbol* _tmp19_;
				BalaBasicBlock* _tmp20_;
				BalaBasicBlock* _tmp21_;
				_error_data_type_index = _error_data_type_index + 1;
				_tmp12_ = _error_data_type_index;
				_tmp13_ = _error_data_type_size;
				if (!(_tmp12_ < _tmp13_)) {
					break;
				}
				_tmp14_ = _error_data_type_list;
				_tmp15_ = bala_list_get ((BalaList*) _tmp14_, _error_data_type_index);
				error_data_type = (BalaDataType*) _tmp15_;
				_tmp16_ = error_data_type;
				error_type = BALA_IS_ERROR_TYPE (_tmp16_) ? ((BalaErrorType*) _tmp16_) : NULL;
				_tmp17_ = error_data_type;
				_tmp18_ = bala_data_type_get_type_symbol (_tmp17_);
				_tmp19_ = _tmp18_;
				error_class = BALA_IS_CLASS (_tmp19_) ? ((BalaClass*) _tmp19_) : NULL;
				_tmp20_ = last_block;
				_tmp21_ = _bala_basic_block_ref0 (_tmp20_);
				_bala_basic_block_unref0 (self->priv->current_block);
				self->priv->current_block = _tmp21_;
				self->priv->unreachable_reported = TRUE;
				{
					gint i = 0;
					BalaList* _tmp22_;
					gint _tmp23_;
					gint _tmp24_;
					_tmp22_ = self->priv->jump_stack;
					_tmp23_ = bala_collection_get_size ((BalaCollection*) _tmp22_);
					_tmp24_ = _tmp23_;
					i = _tmp24_ - 1;
					{
						gboolean _tmp25_ = FALSE;
						_tmp25_ = TRUE;
						while (TRUE) {
							BalaFlowAnalyzerJumpTarget* jump_target = NULL;
							BalaList* _tmp27_;
							gpointer _tmp28_;
							BalaFlowAnalyzerJumpTarget* _tmp29_;
							gboolean _tmp30_;
							gboolean _tmp31_;
							if (!_tmp25_) {
								gint _tmp26_;
								_tmp26_ = i;
								i = _tmp26_ - 1;
							}
							_tmp25_ = FALSE;
							if (!(i >= 0)) {
								break;
							}
							_tmp27_ = self->priv->jump_stack;
							_tmp28_ = bala_list_get (_tmp27_, i);
							jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp28_;
							_tmp29_ = jump_target;
							_tmp30_ = bala_flow_analyzer_jump_target_get_is_exit_target (_tmp29_);
							_tmp31_ = _tmp30_;
							if (_tmp31_) {
								BalaBasicBlock* _tmp32_;
								BalaFlowAnalyzerJumpTarget* _tmp33_;
								BalaBasicBlock* _tmp34_;
								BalaBasicBlock* _tmp35_;
								_tmp32_ = self->priv->current_block;
								_tmp33_ = jump_target;
								_tmp34_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp33_);
								_tmp35_ = _tmp34_;
								bala_basic_block_connect (_tmp32_, _tmp35_);
								bala_flow_analyzer_mark_unreachable (self);
								_bala_flow_analyzer_jump_target_unref0 (jump_target);
								break;
							} else {
								BalaFlowAnalyzerJumpTarget* _tmp36_;
								gboolean _tmp37_;
								gboolean _tmp38_;
								_tmp36_ = jump_target;
								_tmp37_ = bala_flow_analyzer_jump_target_get_is_error_target (_tmp36_);
								_tmp38_ = _tmp37_;
								if (_tmp38_) {
									BalaCodeContext* _tmp39_;
									BalaProfile _tmp40_;
									BalaProfile _tmp41_;
									_tmp39_ = self->priv->context;
									_tmp40_ = bala_code_context_get_profile (_tmp39_);
									_tmp41_ = _tmp40_;
									if (_tmp41_ == BALA_PROFILE_GOBJECT) {
										gboolean _tmp42_ = FALSE;
										BalaFlowAnalyzerJumpTarget* _tmp43_;
										BalaErrorDomain* _tmp44_;
										BalaErrorDomain* _tmp45_;
										_tmp43_ = jump_target;
										_tmp44_ = bala_flow_analyzer_jump_target_get_error_domain (_tmp43_);
										_tmp45_ = _tmp44_;
										if (_tmp45_ == NULL) {
											_tmp42_ = TRUE;
										} else {
											gboolean _tmp46_ = FALSE;
											BalaFlowAnalyzerJumpTarget* _tmp47_;
											BalaErrorDomain* _tmp48_;
											BalaErrorDomain* _tmp49_;
											BalaErrorType* _tmp50_;
											BalaErrorDomain* _tmp51_;
											BalaErrorDomain* _tmp52_;
											_tmp47_ = jump_target;
											_tmp48_ = bala_flow_analyzer_jump_target_get_error_domain (_tmp47_);
											_tmp49_ = _tmp48_;
											_tmp50_ = error_type;
											_tmp51_ = bala_error_type_get_error_domain (_tmp50_);
											_tmp52_ = _tmp51_;
											if (_tmp49_ == _tmp52_) {
												gboolean _tmp53_ = FALSE;
												BalaFlowAnalyzerJumpTarget* _tmp54_;
												BalaErrorCode* _tmp55_;
												BalaErrorCode* _tmp56_;
												_tmp54_ = jump_target;
												_tmp55_ = bala_flow_analyzer_jump_target_get_error_code (_tmp54_);
												_tmp56_ = _tmp55_;
												if (_tmp56_ == NULL) {
													_tmp53_ = TRUE;
												} else {
													BalaFlowAnalyzerJumpTarget* _tmp57_;
													BalaErrorCode* _tmp58_;
													BalaErrorCode* _tmp59_;
													BalaErrorType* _tmp60_;
													BalaErrorCode* _tmp61_;
													BalaErrorCode* _tmp62_;
													_tmp57_ = jump_target;
													_tmp58_ = bala_flow_analyzer_jump_target_get_error_code (_tmp57_);
													_tmp59_ = _tmp58_;
													_tmp60_ = error_type;
													_tmp61_ = bala_error_type_get_error_code (_tmp60_);
													_tmp62_ = _tmp61_;
													_tmp53_ = _tmp59_ == _tmp62_;
												}
												_tmp46_ = _tmp53_;
											} else {
												_tmp46_ = FALSE;
											}
											_tmp42_ = _tmp46_;
										}
										if (_tmp42_) {
											BalaBasicBlock* _tmp63_;
											BalaFlowAnalyzerJumpTarget* _tmp64_;
											BalaBasicBlock* _tmp65_;
											BalaBasicBlock* _tmp66_;
											_tmp63_ = self->priv->current_block;
											_tmp64_ = jump_target;
											_tmp65_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp64_);
											_tmp66_ = _tmp65_;
											bala_basic_block_connect (_tmp63_, _tmp66_);
											bala_flow_analyzer_mark_unreachable (self);
											_bala_flow_analyzer_jump_target_unref0 (jump_target);
											break;
										} else {
											gboolean _tmp67_ = FALSE;
											BalaErrorType* _tmp68_;
											BalaErrorDomain* _tmp69_;
											BalaErrorDomain* _tmp70_;
											_tmp68_ = error_type;
											_tmp69_ = bala_error_type_get_error_domain (_tmp68_);
											_tmp70_ = _tmp69_;
											if (_tmp70_ == NULL) {
												_tmp67_ = TRUE;
											} else {
												gboolean _tmp71_ = FALSE;
												BalaErrorType* _tmp72_;
												BalaErrorDomain* _tmp73_;
												BalaErrorDomain* _tmp74_;
												BalaFlowAnalyzerJumpTarget* _tmp75_;
												BalaErrorDomain* _tmp76_;
												BalaErrorDomain* _tmp77_;
												_tmp72_ = error_type;
												_tmp73_ = bala_error_type_get_error_domain (_tmp72_);
												_tmp74_ = _tmp73_;
												_tmp75_ = jump_target;
												_tmp76_ = bala_flow_analyzer_jump_target_get_error_domain (_tmp75_);
												_tmp77_ = _tmp76_;
												if (_tmp74_ == _tmp77_) {
													gboolean _tmp78_ = FALSE;
													BalaErrorType* _tmp79_;
													BalaErrorCode* _tmp80_;
													BalaErrorCode* _tmp81_;
													_tmp79_ = error_type;
													_tmp80_ = bala_error_type_get_error_code (_tmp79_);
													_tmp81_ = _tmp80_;
													if (_tmp81_ == NULL) {
														_tmp78_ = TRUE;
													} else {
														BalaErrorType* _tmp82_;
														BalaErrorCode* _tmp83_;
														BalaErrorCode* _tmp84_;
														BalaFlowAnalyzerJumpTarget* _tmp85_;
														BalaErrorCode* _tmp86_;
														BalaErrorCode* _tmp87_;
														_tmp82_ = error_type;
														_tmp83_ = bala_error_type_get_error_code (_tmp82_);
														_tmp84_ = _tmp83_;
														_tmp85_ = jump_target;
														_tmp86_ = bala_flow_analyzer_jump_target_get_error_code (_tmp85_);
														_tmp87_ = _tmp86_;
														_tmp78_ = _tmp84_ == _tmp87_;
													}
													_tmp71_ = _tmp78_;
												} else {
													_tmp71_ = FALSE;
												}
												_tmp67_ = _tmp71_;
											}
											if (_tmp67_) {
												BalaBasicBlock* _tmp88_;
												BalaFlowAnalyzerJumpTarget* _tmp89_;
												BalaBasicBlock* _tmp90_;
												BalaBasicBlock* _tmp91_;
												_tmp88_ = self->priv->current_block;
												_tmp89_ = jump_target;
												_tmp90_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp89_);
												_tmp91_ = _tmp90_;
												bala_basic_block_connect (_tmp88_, _tmp91_);
											}
										}
									} else {
										gboolean _tmp92_ = FALSE;
										BalaFlowAnalyzerJumpTarget* _tmp93_;
										BalaClass* _tmp94_;
										BalaClass* _tmp95_;
										_tmp93_ = jump_target;
										_tmp94_ = bala_flow_analyzer_jump_target_get_error_class (_tmp93_);
										_tmp95_ = _tmp94_;
										if (_tmp95_ == NULL) {
											_tmp92_ = TRUE;
										} else {
											BalaFlowAnalyzerJumpTarget* _tmp96_;
											BalaClass* _tmp97_;
											BalaClass* _tmp98_;
											BalaClass* _tmp99_;
											_tmp96_ = jump_target;
											_tmp97_ = bala_flow_analyzer_jump_target_get_error_class (_tmp96_);
											_tmp98_ = _tmp97_;
											_tmp99_ = error_class;
											_tmp92_ = _tmp98_ == _tmp99_;
										}
										if (_tmp92_) {
											BalaBasicBlock* _tmp100_;
											BalaFlowAnalyzerJumpTarget* _tmp101_;
											BalaBasicBlock* _tmp102_;
											BalaBasicBlock* _tmp103_;
											_tmp100_ = self->priv->current_block;
											_tmp101_ = jump_target;
											_tmp102_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp101_);
											_tmp103_ = _tmp102_;
											bala_basic_block_connect (_tmp100_, _tmp103_);
											bala_flow_analyzer_mark_unreachable (self);
											_bala_flow_analyzer_jump_target_unref0 (jump_target);
											break;
										} else {
											BalaFlowAnalyzerJumpTarget* _tmp104_;
											BalaClass* _tmp105_;
											BalaClass* _tmp106_;
											BalaClass* _tmp107_;
											_tmp104_ = jump_target;
											_tmp105_ = bala_flow_analyzer_jump_target_get_error_class (_tmp104_);
											_tmp106_ = _tmp105_;
											_tmp107_ = error_class;
											if (bala_typesymbol_is_subtype_of ((BalaTypeSymbol*) _tmp106_, (BalaTypeSymbol*) _tmp107_)) {
												BalaBasicBlock* _tmp108_;
												BalaFlowAnalyzerJumpTarget* _tmp109_;
												BalaBasicBlock* _tmp110_;
												BalaBasicBlock* _tmp111_;
												_tmp108_ = self->priv->current_block;
												_tmp109_ = jump_target;
												_tmp110_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp109_);
												_tmp111_ = _tmp110_;
												bala_basic_block_connect (_tmp108_, _tmp111_);
											}
										}
									}
								} else {
									BalaFlowAnalyzerJumpTarget* _tmp112_;
									gboolean _tmp113_;
									gboolean _tmp114_;
									_tmp112_ = jump_target;
									_tmp113_ = bala_flow_analyzer_jump_target_get_is_finally_clause (_tmp112_);
									_tmp114_ = _tmp113_;
									if (_tmp114_) {
										BalaBasicBlock* _tmp115_;
										BalaFlowAnalyzerJumpTarget* _tmp116_;
										BalaBasicBlock* _tmp117_;
										BalaBasicBlock* _tmp118_;
										BalaFlowAnalyzerJumpTarget* _tmp119_;
										BalaBasicBlock* _tmp120_;
										BalaBasicBlock* _tmp121_;
										BalaBasicBlock* _tmp122_;
										_tmp115_ = self->priv->current_block;
										_tmp116_ = jump_target;
										_tmp117_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp116_);
										_tmp118_ = _tmp117_;
										bala_basic_block_connect (_tmp115_, _tmp118_);
										_tmp119_ = jump_target;
										_tmp120_ = bala_flow_analyzer_jump_target_get_last_block (_tmp119_);
										_tmp121_ = _tmp120_;
										_tmp122_ = _bala_basic_block_ref0 (_tmp121_);
										_bala_basic_block_unref0 (self->priv->current_block);
										self->priv->current_block = _tmp122_;
									}
								}
							}
							_bala_flow_analyzer_jump_target_unref0 (jump_target);
						}
					}
				}
				_bala_code_node_unref0 (error_data_type);
			}
			_bala_iterable_unref0 (_error_data_type_list);
		}
		if (!always_fail) {
			BalaBasicBlock* _tmp123_;
			BalaSet* _tmp124_;
			BalaBasicBlock* _tmp125_;
			BalaBasicBlock* _tmp126_;
			BalaBasicBlock* _tmp127_;
			_tmp123_ = bala_basic_block_new ();
			_bala_basic_block_unref0 (self->priv->current_block);
			self->priv->current_block = _tmp123_;
			_tmp124_ = self->priv->all_basic_blocks;
			_tmp125_ = self->priv->current_block;
			bala_collection_add ((BalaCollection*) _tmp124_, _tmp125_);
			_tmp126_ = last_block;
			_tmp127_ = self->priv->current_block;
			bala_basic_block_connect (_tmp126_, _tmp127_);
		}
		_bala_iterable_unref0 (error_types);
		_bala_basic_block_unref0 (last_block);
	}
}

static void
bala_flow_analyzer_real_visit_yield_statement (BalaCodeVisitor* base,
                                               BalaYieldStatement* stmt)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	bala_code_node_accept_children ((BalaCodeNode*) stmt, (BalaCodeVisitor*) self);
}

static void
bala_flow_analyzer_real_visit_throw_statement (BalaCodeVisitor* base,
                                               BalaThrowStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* _tmp0_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	bala_basic_block_add_node (_tmp0_, (BalaCodeNode*) stmt);
	bala_flow_analyzer_handle_errors (self, (BalaCodeNode*) stmt, TRUE);
}

static void
bala_flow_analyzer_real_visit_try_statement (BalaCodeVisitor* base,
                                             BalaTryStatement* stmt)
{
	BalaFlowAnalyzer * self;
	BalaBasicBlock* before_try_block = NULL;
	BalaBasicBlock* _tmp0_;
	BalaBasicBlock* _tmp1_;
	BalaBasicBlock* after_try_block = NULL;
	BalaBasicBlock* _tmp2_;
	BalaSet* _tmp3_;
	BalaBasicBlock* _tmp4_;
	BalaBasicBlock* finally_block = NULL;
	BalaBlock* _tmp5_;
	BalaBlock* _tmp6_;
	gint finally_jump_stack_size = 0;
	BalaList* _tmp38_;
	gint _tmp39_;
	gint _tmp40_;
	BalaList* catch_clauses = NULL;
	BalaList* _tmp41_;
	BalaList* _tmp42_;
	BalaBasicBlock* _tmp95_;
	BalaBasicBlock* _tmp96_;
	BalaBlock* _tmp97_;
	BalaBlock* _tmp98_;
	BalaBasicBlock* _tmp99_;
	BalaList* catch_stack = NULL;
	GEqualFunc _tmp107_;
	BalaArrayList* _tmp108_;
	BalaBasicBlock* _tmp196_;
	BalaBasicBlock* _tmp203_;
	BalaList* _tmp204_;
	gint _tmp205_;
	gint _tmp206_;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
	_tmp0_ = self->priv->current_block;
	_tmp1_ = _bala_basic_block_ref0 (_tmp0_);
	before_try_block = _tmp1_;
	_tmp2_ = bala_basic_block_new ();
	after_try_block = _tmp2_;
	_tmp3_ = self->priv->all_basic_blocks;
	_tmp4_ = after_try_block;
	bala_collection_add ((BalaCollection*) _tmp3_, _tmp4_);
	finally_block = NULL;
	_tmp5_ = bala_try_statement_get_finally_body (stmt);
	_tmp6_ = _tmp5_;
	if (_tmp6_ != NULL) {
		BalaBasicBlock* _tmp7_;
		BalaSet* _tmp8_;
		BalaBasicBlock* _tmp9_;
		BalaBasicBlock* _tmp10_;
		BalaBasicBlock* _tmp11_;
		BalaBasicBlock* invalid_block = NULL;
		BalaBasicBlock* _tmp12_;
		BalaSet* _tmp13_;
		BalaBasicBlock* _tmp14_;
		BalaList* _tmp15_;
		BalaBasicBlock* _tmp16_;
		BalaFlowAnalyzerJumpTarget* _tmp17_;
		BalaFlowAnalyzerJumpTarget* _tmp18_;
		BalaBlock* _tmp19_;
		BalaBlock* _tmp20_;
		BalaBasicBlock* _tmp21_;
		BalaList* _tmp22_;
		gint _tmp23_;
		gint _tmp24_;
		BalaList* _tmp27_;
		BalaList* _tmp28_;
		gint _tmp29_;
		gint _tmp30_;
		gpointer _tmp31_;
		BalaFlowAnalyzerJumpTarget* _tmp32_;
		BalaList* _tmp33_;
		BalaBasicBlock* _tmp34_;
		BalaBasicBlock* _tmp35_;
		BalaFlowAnalyzerJumpTarget* _tmp36_;
		BalaFlowAnalyzerJumpTarget* _tmp37_;
		_tmp7_ = bala_basic_block_new ();
		_bala_basic_block_unref0 (finally_block);
		finally_block = _tmp7_;
		_tmp8_ = self->priv->all_basic_blocks;
		_tmp9_ = finally_block;
		bala_collection_add ((BalaCollection*) _tmp8_, _tmp9_);
		_tmp10_ = finally_block;
		_tmp11_ = _bala_basic_block_ref0 (_tmp10_);
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp11_;
		_tmp12_ = bala_basic_block_new ();
		invalid_block = _tmp12_;
		_tmp13_ = self->priv->all_basic_blocks;
		_tmp14_ = invalid_block;
		bala_collection_add ((BalaCollection*) _tmp13_, _tmp14_);
		_tmp15_ = self->priv->jump_stack;
		_tmp16_ = invalid_block;
		_tmp17_ = bala_flow_analyzer_jump_target_new_any_target (_tmp16_);
		_tmp18_ = _tmp17_;
		bala_collection_add ((BalaCollection*) _tmp15_, _tmp18_);
		_bala_flow_analyzer_jump_target_unref0 (_tmp18_);
		_tmp19_ = bala_try_statement_get_finally_body (stmt);
		_tmp20_ = _tmp19_;
		bala_code_node_accept ((BalaCodeNode*) _tmp20_, (BalaCodeVisitor*) self);
		_tmp21_ = invalid_block;
		_tmp22_ = bala_basic_block_get_predecessors (_tmp21_);
		_tmp23_ = bala_collection_get_size ((BalaCollection*) _tmp22_);
		_tmp24_ = _tmp23_;
		if (_tmp24_ > 0) {
			BalaSourceReference* _tmp25_;
			BalaSourceReference* _tmp26_;
			_tmp25_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
			_tmp26_ = _tmp25_;
			bala_report_error (_tmp26_, "jump out of finally block not permitted");
			bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
			_bala_basic_block_unref0 (invalid_block);
			_bala_basic_block_unref0 (finally_block);
			_bala_basic_block_unref0 (after_try_block);
			_bala_basic_block_unref0 (before_try_block);
			return;
		}
		_tmp27_ = self->priv->jump_stack;
		_tmp28_ = self->priv->jump_stack;
		_tmp29_ = bala_collection_get_size ((BalaCollection*) _tmp28_);
		_tmp30_ = _tmp29_;
		_tmp31_ = bala_list_remove_at (_tmp27_, _tmp30_ - 1);
		_tmp32_ = (BalaFlowAnalyzerJumpTarget*) _tmp31_;
		_bala_flow_analyzer_jump_target_unref0 (_tmp32_);
		_tmp33_ = self->priv->jump_stack;
		_tmp34_ = finally_block;
		_tmp35_ = self->priv->current_block;
		_tmp36_ = bala_flow_analyzer_jump_target_new_finally_clause (_tmp34_, _tmp35_);
		_tmp37_ = _tmp36_;
		bala_collection_add ((BalaCollection*) _tmp33_, _tmp37_);
		_bala_flow_analyzer_jump_target_unref0 (_tmp37_);
		_bala_basic_block_unref0 (invalid_block);
	}
	_tmp38_ = self->priv->jump_stack;
	_tmp39_ = bala_collection_get_size ((BalaCollection*) _tmp38_);
	_tmp40_ = _tmp39_;
	finally_jump_stack_size = _tmp40_;
	_tmp41_ = bala_try_statement_get_catch_clauses (stmt);
	_tmp42_ = _bala_iterable_ref0 (_tmp41_);
	catch_clauses = _tmp42_;
	{
		gint i = 0;
		BalaList* _tmp43_;
		gint _tmp44_;
		gint _tmp45_;
		_tmp43_ = catch_clauses;
		_tmp44_ = bala_collection_get_size ((BalaCollection*) _tmp43_);
		_tmp45_ = _tmp44_;
		i = _tmp45_ - 1;
		{
			gboolean _tmp46_ = FALSE;
			_tmp46_ = TRUE;
			while (TRUE) {
				BalaCatchClause* catch_clause = NULL;
				BalaList* _tmp48_;
				gpointer _tmp49_;
				BalaBasicBlock* error_block = NULL;
				BalaBasicBlock* _tmp50_;
				BalaSet* _tmp51_;
				BalaBasicBlock* _tmp52_;
				gboolean _tmp53_ = FALSE;
				BalaCatchClause* _tmp54_;
				BalaDataType* _tmp55_;
				BalaDataType* _tmp56_;
				if (!_tmp46_) {
					gint _tmp47_;
					_tmp47_ = i;
					i = _tmp47_ - 1;
				}
				_tmp46_ = FALSE;
				if (!(i >= 0)) {
					break;
				}
				_tmp48_ = catch_clauses;
				_tmp49_ = bala_list_get (_tmp48_, i);
				catch_clause = (BalaCatchClause*) _tmp49_;
				_tmp50_ = bala_basic_block_new ();
				error_block = _tmp50_;
				_tmp51_ = self->priv->all_basic_blocks;
				_tmp52_ = error_block;
				bala_collection_add ((BalaCollection*) _tmp51_, _tmp52_);
				_tmp54_ = catch_clause;
				_tmp55_ = bala_catch_clause_get_error_type (_tmp54_);
				_tmp56_ = _tmp55_;
				if (_tmp56_ != NULL) {
					BalaCatchClause* _tmp57_;
					gboolean _tmp58_;
					gboolean _tmp59_;
					_tmp57_ = catch_clause;
					_tmp58_ = bala_code_node_get_error ((BalaCodeNode*) _tmp57_);
					_tmp59_ = _tmp58_;
					_tmp53_ = !_tmp59_;
				} else {
					_tmp53_ = FALSE;
				}
				if (_tmp53_) {
					BalaCodeContext* _tmp60_;
					BalaProfile _tmp61_;
					BalaProfile _tmp62_;
					_tmp60_ = self->priv->context;
					_tmp61_ = bala_code_context_get_profile (_tmp60_);
					_tmp62_ = _tmp61_;
					if (_tmp62_ == BALA_PROFILE_GOBJECT) {
						BalaErrorType* error_type = NULL;
						BalaCatchClause* _tmp63_;
						BalaDataType* _tmp64_;
						BalaDataType* _tmp65_;
						BalaList* _tmp66_;
						BalaBasicBlock* _tmp67_;
						BalaCatchClause* _tmp68_;
						BalaCatchClause* _tmp69_;
						BalaDataType* _tmp70_;
						BalaDataType* _tmp71_;
						BalaTypeSymbol* _tmp72_;
						BalaTypeSymbol* _tmp73_;
						BalaErrorType* _tmp74_;
						BalaErrorCode* _tmp75_;
						BalaErrorCode* _tmp76_;
						BalaFlowAnalyzerJumpTarget* _tmp77_;
						BalaFlowAnalyzerJumpTarget* _tmp78_;
						_tmp63_ = catch_clause;
						_tmp64_ = bala_catch_clause_get_error_type (_tmp63_);
						_tmp65_ = _tmp64_;
						error_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp65_, BALA_TYPE_ERROR_TYPE, BalaErrorType);
						_tmp66_ = self->priv->jump_stack;
						_tmp67_ = error_block;
						_tmp68_ = catch_clause;
						_tmp69_ = catch_clause;
						_tmp70_ = bala_catch_clause_get_error_type (_tmp69_);
						_tmp71_ = _tmp70_;
						_tmp72_ = bala_data_type_get_type_symbol (_tmp71_);
						_tmp73_ = _tmp72_;
						_tmp74_ = error_type;
						_tmp75_ = bala_error_type_get_error_code (_tmp74_);
						_tmp76_ = _tmp75_;
						_tmp77_ = bala_flow_analyzer_jump_target_new_error_target (_tmp67_, _tmp68_, BALA_IS_ERROR_DOMAIN (_tmp73_) ? ((BalaErrorDomain*) _tmp73_) : NULL, _tmp76_, NULL);
						_tmp78_ = _tmp77_;
						bala_collection_add ((BalaCollection*) _tmp66_, _tmp78_);
						_bala_flow_analyzer_jump_target_unref0 (_tmp78_);
					} else {
						BalaClass* error_class = NULL;
						BalaCatchClause* _tmp79_;
						BalaDataType* _tmp80_;
						BalaDataType* _tmp81_;
						BalaTypeSymbol* _tmp82_;
						BalaTypeSymbol* _tmp83_;
						BalaList* _tmp84_;
						BalaBasicBlock* _tmp85_;
						BalaCatchClause* _tmp86_;
						BalaClass* _tmp87_;
						BalaFlowAnalyzerJumpTarget* _tmp88_;
						BalaFlowAnalyzerJumpTarget* _tmp89_;
						_tmp79_ = catch_clause;
						_tmp80_ = bala_catch_clause_get_error_type (_tmp79_);
						_tmp81_ = _tmp80_;
						_tmp82_ = bala_data_type_get_type_symbol (_tmp81_);
						_tmp83_ = _tmp82_;
						error_class = BALA_IS_CLASS (_tmp83_) ? ((BalaClass*) _tmp83_) : NULL;
						_tmp84_ = self->priv->jump_stack;
						_tmp85_ = error_block;
						_tmp86_ = catch_clause;
						_tmp87_ = error_class;
						_tmp88_ = bala_flow_analyzer_jump_target_new_error_target (_tmp85_, _tmp86_, NULL, NULL, _tmp87_);
						_tmp89_ = _tmp88_;
						bala_collection_add ((BalaCollection*) _tmp84_, _tmp89_);
						_bala_flow_analyzer_jump_target_unref0 (_tmp89_);
					}
				} else {
					BalaList* _tmp90_;
					BalaBasicBlock* _tmp91_;
					BalaCatchClause* _tmp92_;
					BalaFlowAnalyzerJumpTarget* _tmp93_;
					BalaFlowAnalyzerJumpTarget* _tmp94_;
					_tmp90_ = self->priv->jump_stack;
					_tmp91_ = error_block;
					_tmp92_ = catch_clause;
					_tmp93_ = bala_flow_analyzer_jump_target_new_error_target (_tmp91_, _tmp92_, NULL, NULL, NULL);
					_tmp94_ = _tmp93_;
					bala_collection_add ((BalaCollection*) _tmp90_, _tmp94_);
					_bala_flow_analyzer_jump_target_unref0 (_tmp94_);
				}
				_bala_basic_block_unref0 (error_block);
				_bala_code_node_unref0 (catch_clause);
			}
		}
	}
	_tmp95_ = before_try_block;
	_tmp96_ = _bala_basic_block_ref0 (_tmp95_);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = _tmp96_;
	_tmp97_ = bala_try_statement_get_body (stmt);
	_tmp98_ = _tmp97_;
	bala_code_node_accept ((BalaCodeNode*) _tmp98_, (BalaCodeVisitor*) self);
	_tmp99_ = self->priv->current_block;
	if (_tmp99_ != NULL) {
		BalaBasicBlock* _tmp100_;
		BalaBasicBlock* _tmp105_;
		BalaBasicBlock* _tmp106_;
		_tmp100_ = finally_block;
		if (_tmp100_ != NULL) {
			BalaBasicBlock* _tmp101_;
			BalaBasicBlock* _tmp102_;
			BalaBasicBlock* _tmp103_;
			BalaBasicBlock* _tmp104_;
			_tmp101_ = self->priv->current_block;
			_tmp102_ = finally_block;
			bala_basic_block_connect (_tmp101_, _tmp102_);
			_tmp103_ = finally_block;
			_tmp104_ = _bala_basic_block_ref0 (_tmp103_);
			_bala_basic_block_unref0 (self->priv->current_block);
			self->priv->current_block = _tmp104_;
		}
		_tmp105_ = self->priv->current_block;
		_tmp106_ = after_try_block;
		bala_basic_block_connect (_tmp105_, _tmp106_);
	}
	_tmp107_ = g_direct_equal;
	_tmp108_ = bala_array_list_new (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, (GBoxedCopyFunc) bala_flow_analyzer_jump_target_ref, (GDestroyNotify) bala_flow_analyzer_jump_target_unref, _tmp107_);
	catch_stack = (BalaList*) _tmp108_;
	{
		gint i = 0;
		BalaList* _tmp109_;
		gint _tmp110_;
		gint _tmp111_;
		_tmp109_ = self->priv->jump_stack;
		_tmp110_ = bala_collection_get_size ((BalaCollection*) _tmp109_);
		_tmp111_ = _tmp110_;
		i = _tmp111_ - 1;
		{
			gboolean _tmp112_ = FALSE;
			_tmp112_ = TRUE;
			while (TRUE) {
				BalaFlowAnalyzerJumpTarget* jump_target = NULL;
				BalaList* _tmp114_;
				gpointer _tmp115_;
				BalaList* _tmp116_;
				BalaFlowAnalyzerJumpTarget* _tmp117_;
				if (!_tmp112_) {
					gint _tmp113_;
					_tmp113_ = i;
					i = _tmp113_ - 1;
				}
				_tmp112_ = FALSE;
				if (!(i >= finally_jump_stack_size)) {
					break;
				}
				_tmp114_ = self->priv->jump_stack;
				_tmp115_ = bala_list_remove_at (_tmp114_, i);
				jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp115_;
				_tmp116_ = catch_stack;
				_tmp117_ = jump_target;
				bala_collection_add ((BalaCollection*) _tmp116_, _tmp117_);
				_bala_flow_analyzer_jump_target_unref0 (jump_target);
			}
		}
	}
	{
		BalaList* _jump_target_list = NULL;
		BalaList* _tmp118_;
		BalaList* _tmp119_;
		gint _jump_target_size = 0;
		BalaList* _tmp120_;
		gint _tmp121_;
		gint _tmp122_;
		gint _jump_target_index = 0;
		_tmp118_ = catch_stack;
		_tmp119_ = _bala_iterable_ref0 (_tmp118_);
		_jump_target_list = _tmp119_;
		_tmp120_ = _jump_target_list;
		_tmp121_ = bala_collection_get_size ((BalaCollection*) _tmp120_);
		_tmp122_ = _tmp121_;
		_jump_target_size = _tmp122_;
		_jump_target_index = -1;
		while (TRUE) {
			gint _tmp123_;
			gint _tmp124_;
			BalaFlowAnalyzerJumpTarget* jump_target = NULL;
			BalaList* _tmp125_;
			gpointer _tmp126_;
			BalaFlowAnalyzerJumpTarget* _tmp164_;
			BalaBasicBlock* _tmp165_;
			BalaBasicBlock* _tmp166_;
			BalaList* _tmp167_;
			gint _tmp168_;
			gint _tmp169_;
			_jump_target_index = _jump_target_index + 1;
			_tmp123_ = _jump_target_index;
			_tmp124_ = _jump_target_size;
			if (!(_tmp123_ < _tmp124_)) {
				break;
			}
			_tmp125_ = _jump_target_list;
			_tmp126_ = bala_list_get (_tmp125_, _jump_target_index);
			jump_target = (BalaFlowAnalyzerJumpTarget*) _tmp126_;
			{
				BalaList* _prev_target_list = NULL;
				BalaList* _tmp127_;
				BalaList* _tmp128_;
				gint _prev_target_size = 0;
				BalaList* _tmp129_;
				gint _tmp130_;
				gint _tmp131_;
				gint _prev_target_index = 0;
				_tmp127_ = catch_stack;
				_tmp128_ = _bala_iterable_ref0 (_tmp127_);
				_prev_target_list = _tmp128_;
				_tmp129_ = _prev_target_list;
				_tmp130_ = bala_collection_get_size ((BalaCollection*) _tmp129_);
				_tmp131_ = _tmp130_;
				_prev_target_size = _tmp131_;
				_prev_target_index = -1;
				while (TRUE) {
					gint _tmp132_;
					gint _tmp133_;
					BalaFlowAnalyzerJumpTarget* prev_target = NULL;
					BalaList* _tmp134_;
					gpointer _tmp135_;
					BalaFlowAnalyzerJumpTarget* _tmp136_;
					BalaFlowAnalyzerJumpTarget* _tmp137_;
					BalaCodeContext* _tmp138_;
					BalaProfile _tmp139_;
					BalaProfile _tmp140_;
					_prev_target_index = _prev_target_index + 1;
					_tmp132_ = _prev_target_index;
					_tmp133_ = _prev_target_size;
					if (!(_tmp132_ < _tmp133_)) {
						break;
					}
					_tmp134_ = _prev_target_list;
					_tmp135_ = bala_list_get (_tmp134_, _prev_target_index);
					prev_target = (BalaFlowAnalyzerJumpTarget*) _tmp135_;
					_tmp136_ = prev_target;
					_tmp137_ = jump_target;
					if (_tmp136_ == _tmp137_) {
						_bala_flow_analyzer_jump_target_unref0 (prev_target);
						break;
					}
					_tmp138_ = self->priv->context;
					_tmp139_ = bala_code_context_get_profile (_tmp138_);
					_tmp140_ = _tmp139_;
					if (_tmp140_ == BALA_PROFILE_GOBJECT) {
						gboolean _tmp141_ = FALSE;
						BalaFlowAnalyzerJumpTarget* _tmp142_;
						BalaErrorDomain* _tmp143_;
						BalaErrorDomain* _tmp144_;
						BalaFlowAnalyzerJumpTarget* _tmp145_;
						BalaErrorDomain* _tmp146_;
						BalaErrorDomain* _tmp147_;
						_tmp142_ = prev_target;
						_tmp143_ = bala_flow_analyzer_jump_target_get_error_domain (_tmp142_);
						_tmp144_ = _tmp143_;
						_tmp145_ = jump_target;
						_tmp146_ = bala_flow_analyzer_jump_target_get_error_domain (_tmp145_);
						_tmp147_ = _tmp146_;
						if (_tmp144_ == _tmp147_) {
							BalaFlowAnalyzerJumpTarget* _tmp148_;
							BalaErrorCode* _tmp149_;
							BalaErrorCode* _tmp150_;
							BalaFlowAnalyzerJumpTarget* _tmp151_;
							BalaErrorCode* _tmp152_;
							BalaErrorCode* _tmp153_;
							_tmp148_ = prev_target;
							_tmp149_ = bala_flow_analyzer_jump_target_get_error_code (_tmp148_);
							_tmp150_ = _tmp149_;
							_tmp151_ = jump_target;
							_tmp152_ = bala_flow_analyzer_jump_target_get_error_code (_tmp151_);
							_tmp153_ = _tmp152_;
							_tmp141_ = _tmp150_ == _tmp153_;
						} else {
							_tmp141_ = FALSE;
						}
						if (_tmp141_) {
							BalaSourceReference* _tmp154_;
							BalaSourceReference* _tmp155_;
							_tmp154_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
							_tmp155_ = _tmp154_;
							bala_report_error (_tmp155_, "double catch clause of same error detected");
							bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
							_bala_flow_analyzer_jump_target_unref0 (prev_target);
							_bala_iterable_unref0 (_prev_target_list);
							_bala_flow_analyzer_jump_target_unref0 (jump_target);
							_bala_iterable_unref0 (_jump_target_list);
							_bala_iterable_unref0 (catch_stack);
							_bala_iterable_unref0 (catch_clauses);
							_bala_basic_block_unref0 (finally_block);
							_bala_basic_block_unref0 (after_try_block);
							_bala_basic_block_unref0 (before_try_block);
							return;
						}
					} else {
						BalaFlowAnalyzerJumpTarget* _tmp156_;
						BalaClass* _tmp157_;
						BalaClass* _tmp158_;
						BalaFlowAnalyzerJumpTarget* _tmp159_;
						BalaClass* _tmp160_;
						BalaClass* _tmp161_;
						_tmp156_ = prev_target;
						_tmp157_ = bala_flow_analyzer_jump_target_get_error_class (_tmp156_);
						_tmp158_ = _tmp157_;
						_tmp159_ = jump_target;
						_tmp160_ = bala_flow_analyzer_jump_target_get_error_class (_tmp159_);
						_tmp161_ = _tmp160_;
						if (_tmp158_ == _tmp161_) {
							BalaSourceReference* _tmp162_;
							BalaSourceReference* _tmp163_;
							_tmp162_ = bala_code_node_get_source_reference ((BalaCodeNode*) stmt);
							_tmp163_ = _tmp162_;
							bala_report_error (_tmp163_, "double catch clause of same error detected");
							bala_code_node_set_error ((BalaCodeNode*) stmt, TRUE);
							_bala_flow_analyzer_jump_target_unref0 (prev_target);
							_bala_iterable_unref0 (_prev_target_list);
							_bala_flow_analyzer_jump_target_unref0 (jump_target);
							_bala_iterable_unref0 (_jump_target_list);
							_bala_iterable_unref0 (catch_stack);
							_bala_iterable_unref0 (catch_clauses);
							_bala_basic_block_unref0 (finally_block);
							_bala_basic_block_unref0 (after_try_block);
							_bala_basic_block_unref0 (before_try_block);
							return;
						}
					}
					_bala_flow_analyzer_jump_target_unref0 (prev_target);
				}
				_bala_iterable_unref0 (_prev_target_list);
			}
			_tmp164_ = jump_target;
			_tmp165_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp164_);
			_tmp166_ = _tmp165_;
			_tmp167_ = bala_basic_block_get_predecessors (_tmp166_);
			_tmp168_ = bala_collection_get_size ((BalaCollection*) _tmp167_);
			_tmp169_ = _tmp168_;
			if (_tmp169_ == 0) {
				BalaFlowAnalyzerJumpTarget* _tmp170_;
				BalaCatchClause* _tmp171_;
				BalaCatchClause* _tmp172_;
				BalaSourceReference* _tmp173_;
				BalaSourceReference* _tmp174_;
				_tmp170_ = jump_target;
				_tmp171_ = bala_flow_analyzer_jump_target_get_catch_clause (_tmp170_);
				_tmp172_ = _tmp171_;
				_tmp173_ = bala_code_node_get_source_reference ((BalaCodeNode*) _tmp172_);
				_tmp174_ = _tmp173_;
				bala_report_warning (_tmp174_, "unreachable catch clause detected");
			} else {
				BalaFlowAnalyzerJumpTarget* _tmp175_;
				BalaBasicBlock* _tmp176_;
				BalaBasicBlock* _tmp177_;
				BalaBasicBlock* _tmp178_;
				BalaBasicBlock* _tmp179_;
				BalaFlowAnalyzerJumpTarget* _tmp180_;
				BalaCatchClause* _tmp181_;
				BalaCatchClause* _tmp182_;
				BalaFlowAnalyzerJumpTarget* _tmp183_;
				BalaCatchClause* _tmp184_;
				BalaCatchClause* _tmp185_;
				BalaBlock* _tmp186_;
				BalaBlock* _tmp187_;
				BalaBasicBlock* _tmp188_;
				_tmp175_ = jump_target;
				_tmp176_ = bala_flow_analyzer_jump_target_get_basic_block (_tmp175_);
				_tmp177_ = _tmp176_;
				_tmp178_ = _bala_basic_block_ref0 (_tmp177_);
				_bala_basic_block_unref0 (self->priv->current_block);
				self->priv->current_block = _tmp178_;
				_tmp179_ = self->priv->current_block;
				_tmp180_ = jump_target;
				_tmp181_ = bala_flow_analyzer_jump_target_get_catch_clause (_tmp180_);
				_tmp182_ = _tmp181_;
				bala_basic_block_add_node (_tmp179_, (BalaCodeNode*) _tmp182_);
				_tmp183_ = jump_target;
				_tmp184_ = bala_flow_analyzer_jump_target_get_catch_clause (_tmp183_);
				_tmp185_ = _tmp184_;
				_tmp186_ = bala_catch_clause_get_body (_tmp185_);
				_tmp187_ = _tmp186_;
				bala_code_node_accept ((BalaCodeNode*) _tmp187_, (BalaCodeVisitor*) self);
				_tmp188_ = self->priv->current_block;
				if (_tmp188_ != NULL) {
					BalaBasicBlock* _tmp189_;
					BalaBasicBlock* _tmp194_;
					BalaBasicBlock* _tmp195_;
					_tmp189_ = finally_block;
					if (_tmp189_ != NULL) {
						BalaBasicBlock* _tmp190_;
						BalaBasicBlock* _tmp191_;
						BalaBasicBlock* _tmp192_;
						BalaBasicBlock* _tmp193_;
						_tmp190_ = self->priv->current_block;
						_tmp191_ = finally_block;
						bala_basic_block_connect (_tmp190_, _tmp191_);
						_tmp192_ = finally_block;
						_tmp193_ = _bala_basic_block_ref0 (_tmp192_);
						_bala_basic_block_unref0 (self->priv->current_block);
						self->priv->current_block = _tmp193_;
					}
					_tmp194_ = self->priv->current_block;
					_tmp195_ = after_try_block;
					bala_basic_block_connect (_tmp194_, _tmp195_);
				}
			}
			_bala_flow_analyzer_jump_target_unref0 (jump_target);
		}
		_bala_iterable_unref0 (_jump_target_list);
	}
	_tmp196_ = finally_block;
	if (_tmp196_ != NULL) {
		BalaList* _tmp197_;
		BalaList* _tmp198_;
		gint _tmp199_;
		gint _tmp200_;
		gpointer _tmp201_;
		BalaFlowAnalyzerJumpTarget* _tmp202_;
		_tmp197_ = self->priv->jump_stack;
		_tmp198_ = self->priv->jump_stack;
		_tmp199_ = bala_collection_get_size ((BalaCollection*) _tmp198_);
		_tmp200_ = _tmp199_;
		_tmp201_ = bala_list_remove_at (_tmp197_, _tmp200_ - 1);
		_tmp202_ = (BalaFlowAnalyzerJumpTarget*) _tmp201_;
		_bala_flow_analyzer_jump_target_unref0 (_tmp202_);
	}
	_tmp203_ = after_try_block;
	_tmp204_ = bala_basic_block_get_predecessors (_tmp203_);
	_tmp205_ = bala_collection_get_size ((BalaCollection*) _tmp204_);
	_tmp206_ = _tmp205_;
	if (_tmp206_ > 0) {
		BalaBasicBlock* _tmp207_;
		BalaBasicBlock* _tmp208_;
		_tmp207_ = after_try_block;
		_tmp208_ = _bala_basic_block_ref0 (_tmp207_);
		_bala_basic_block_unref0 (self->priv->current_block);
		self->priv->current_block = _tmp208_;
	} else {
		bala_try_statement_set_after_try_block_reachable (stmt, FALSE);
		bala_flow_analyzer_mark_unreachable (self);
	}
	_bala_iterable_unref0 (catch_stack);
	_bala_iterable_unref0 (catch_clauses);
	_bala_basic_block_unref0 (finally_block);
	_bala_basic_block_unref0 (after_try_block);
	_bala_basic_block_unref0 (before_try_block);
}

static void
bala_flow_analyzer_real_visit_lock_statement (BalaCodeVisitor* base,
                                              BalaLockStatement* stmt)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
}

static void
bala_flow_analyzer_real_visit_unlock_statement (BalaCodeVisitor* base,
                                                BalaUnlockStatement* stmt)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (stmt != NULL);
	if (bala_flow_analyzer_unreachable (self, (BalaCodeNode*) stmt)) {
		return;
	}
}

static void
bala_flow_analyzer_real_visit_expression (BalaCodeVisitor* base,
                                          BalaExpression* expr)
{
	BalaFlowAnalyzer * self;
	self = (BalaFlowAnalyzer*) base;
	g_return_if_fail (expr != NULL);
	if (!BALA_IS_LAMBDA_EXPRESSION (expr)) {
		bala_code_node_accept_children ((BalaCodeNode*) expr, (BalaCodeVisitor*) self);
	}
}

static gboolean
bala_flow_analyzer_unreachable (BalaFlowAnalyzer* self,
                                BalaCodeNode* node)
{
	BalaBasicBlock* _tmp0_;
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (node != NULL, FALSE);
	_tmp0_ = self->priv->current_block;
	if (_tmp0_ == NULL) {
		bala_code_node_set_unreachable (node, TRUE);
		if (!self->priv->unreachable_reported) {
			BalaSourceReference* _tmp1_;
			BalaSourceReference* _tmp2_;
			_tmp1_ = bala_code_node_get_source_reference (node);
			_tmp2_ = _tmp1_;
			bala_report_warning (_tmp2_, "unreachable code detected");
			self->priv->unreachable_reported = TRUE;
		}
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}

static void
bala_flow_analyzer_mark_unreachable (BalaFlowAnalyzer* self)
{
	g_return_if_fail (self != NULL);
	_bala_basic_block_unref0 (self->priv->current_block);
	self->priv->current_block = NULL;
	self->priv->unreachable_reported = FALSE;
}

static inline gpointer
bala_flow_analyzer_jump_target_get_instance_private (BalaFlowAnalyzerJumpTarget* self)
{
	return G_STRUCT_MEMBER_P (self, BalaFlowAnalyzerJumpTarget_private_offset);
}

static gboolean
bala_flow_analyzer_jump_target_get_is_break_target (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_break_target;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_break_target (BalaFlowAnalyzerJumpTarget* self,
                                                    gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_break_target = value;
}

static gboolean
bala_flow_analyzer_jump_target_get_is_continue_target (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_continue_target;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_continue_target (BalaFlowAnalyzerJumpTarget* self,
                                                       gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_continue_target = value;
}

static gboolean
bala_flow_analyzer_jump_target_get_is_return_target (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_return_target;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_return_target (BalaFlowAnalyzerJumpTarget* self,
                                                     gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_return_target = value;
}

static gboolean
bala_flow_analyzer_jump_target_get_is_exit_target (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_exit_target;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_exit_target (BalaFlowAnalyzerJumpTarget* self,
                                                   gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_exit_target = value;
}

static gboolean
bala_flow_analyzer_jump_target_get_is_error_target (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_error_target;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_error_target (BalaFlowAnalyzerJumpTarget* self,
                                                    gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_error_target = value;
}

static BalaErrorDomain*
bala_flow_analyzer_jump_target_get_error_domain (BalaFlowAnalyzerJumpTarget* self)
{
	BalaErrorDomain* result;
	BalaErrorDomain* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_error_domain;
	result = _tmp0_;
	return result;
}

static gpointer
_bala_code_node_ref0 (gpointer self)
{
	return self ? bala_code_node_ref (self) : NULL;
}

static void
bala_flow_analyzer_jump_target_set_error_domain (BalaFlowAnalyzerJumpTarget* self,
                                                 BalaErrorDomain* value)
{
	BalaErrorDomain* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (self->priv->_error_domain);
	self->priv->_error_domain = _tmp0_;
}

static BalaErrorCode*
bala_flow_analyzer_jump_target_get_error_code (BalaFlowAnalyzerJumpTarget* self)
{
	BalaErrorCode* result;
	BalaErrorCode* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_error_code;
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_error_code (BalaFlowAnalyzerJumpTarget* self,
                                               BalaErrorCode* value)
{
	BalaErrorCode* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (self->priv->_error_code);
	self->priv->_error_code = _tmp0_;
}

static BalaClass*
bala_flow_analyzer_jump_target_get_error_class (BalaFlowAnalyzerJumpTarget* self)
{
	BalaClass* result;
	BalaClass* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_error_class;
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_error_class (BalaFlowAnalyzerJumpTarget* self,
                                                BalaClass* value)
{
	BalaClass* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (self->priv->_error_class);
	self->priv->_error_class = _tmp0_;
}

static gboolean
bala_flow_analyzer_jump_target_get_is_finally_clause (BalaFlowAnalyzerJumpTarget* self)
{
	gboolean result;
	g_return_val_if_fail (self != NULL, FALSE);
	result = self->priv->_is_finally_clause;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_is_finally_clause (BalaFlowAnalyzerJumpTarget* self,
                                                      gboolean value)
{
	g_return_if_fail (self != NULL);
	self->priv->_is_finally_clause = value;
}

static BalaBasicBlock*
bala_flow_analyzer_jump_target_get_basic_block (BalaFlowAnalyzerJumpTarget* self)
{
	BalaBasicBlock* result;
	BalaBasicBlock* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_basic_block;
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_basic_block (BalaFlowAnalyzerJumpTarget* self,
                                                BalaBasicBlock* value)
{
	BalaBasicBlock* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_basic_block_ref0 (value);
	_bala_basic_block_unref0 (self->priv->_basic_block);
	self->priv->_basic_block = _tmp0_;
}

static BalaBasicBlock*
bala_flow_analyzer_jump_target_get_last_block (BalaFlowAnalyzerJumpTarget* self)
{
	BalaBasicBlock* result;
	BalaBasicBlock* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_last_block;
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_last_block (BalaFlowAnalyzerJumpTarget* self,
                                               BalaBasicBlock* value)
{
	BalaBasicBlock* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_basic_block_ref0 (value);
	_bala_basic_block_unref0 (self->priv->_last_block);
	self->priv->_last_block = _tmp0_;
}

static BalaCatchClause*
bala_flow_analyzer_jump_target_get_catch_clause (BalaFlowAnalyzerJumpTarget* self)
{
	BalaCatchClause* result;
	BalaCatchClause* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_catch_clause;
	result = _tmp0_;
	return result;
}

static void
bala_flow_analyzer_jump_target_set_catch_clause (BalaFlowAnalyzerJumpTarget* self,
                                                 BalaCatchClause* value)
{
	BalaCatchClause* _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = _bala_code_node_ref0 (value);
	_bala_code_node_unref0 (self->priv->_catch_clause);
	self->priv->_catch_clause = _tmp0_;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_break_target (GType object_type,
                                                       BalaBasicBlock* basic_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_is_break_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_break_target (BalaBasicBlock* basic_block)
{
	return bala_flow_analyzer_jump_target_construct_break_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_continue_target (GType object_type,
                                                          BalaBasicBlock* basic_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_is_continue_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_continue_target (BalaBasicBlock* basic_block)
{
	return bala_flow_analyzer_jump_target_construct_continue_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_return_target (GType object_type,
                                                        BalaBasicBlock* basic_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_is_return_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_return_target (BalaBasicBlock* basic_block)
{
	return bala_flow_analyzer_jump_target_construct_return_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_exit_target (GType object_type,
                                                      BalaBasicBlock* basic_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_is_exit_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_exit_target (BalaBasicBlock* basic_block)
{
	return bala_flow_analyzer_jump_target_construct_exit_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_error_target (GType object_type,
                                                       BalaBasicBlock* basic_block,
                                                       BalaCatchClause* catch_clause,
                                                       BalaErrorDomain* error_domain,
                                                       BalaErrorCode* error_code,
                                                       BalaClass* error_class)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	g_return_val_if_fail (catch_clause != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_catch_clause (self, catch_clause);
	bala_flow_analyzer_jump_target_set_error_domain (self, error_domain);
	bala_flow_analyzer_jump_target_set_error_code (self, error_code);
	bala_flow_analyzer_jump_target_set_error_class (self, error_class);
	bala_flow_analyzer_jump_target_set_is_error_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_error_target (BalaBasicBlock* basic_block,
                                                 BalaCatchClause* catch_clause,
                                                 BalaErrorDomain* error_domain,
                                                 BalaErrorCode* error_code,
                                                 BalaClass* error_class)
{
	return bala_flow_analyzer_jump_target_construct_error_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block, catch_clause, error_domain, error_code, error_class);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_any_target (GType object_type,
                                                     BalaBasicBlock* basic_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_is_break_target (self, TRUE);
	bala_flow_analyzer_jump_target_set_is_continue_target (self, TRUE);
	bala_flow_analyzer_jump_target_set_is_return_target (self, TRUE);
	bala_flow_analyzer_jump_target_set_is_exit_target (self, TRUE);
	bala_flow_analyzer_jump_target_set_is_error_target (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_any_target (BalaBasicBlock* basic_block)
{
	return bala_flow_analyzer_jump_target_construct_any_target (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct_finally_clause (GType object_type,
                                                         BalaBasicBlock* basic_block,
                                                         BalaBasicBlock* last_block)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	g_return_val_if_fail (basic_block != NULL, NULL);
	g_return_val_if_fail (last_block != NULL, NULL);
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	bala_flow_analyzer_jump_target_set_basic_block (self, basic_block);
	bala_flow_analyzer_jump_target_set_last_block (self, last_block);
	bala_flow_analyzer_jump_target_set_is_finally_clause (self, TRUE);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new_finally_clause (BalaBasicBlock* basic_block,
                                                   BalaBasicBlock* last_block)
{
	return bala_flow_analyzer_jump_target_construct_finally_clause (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, basic_block, last_block);
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_construct (GType object_type)
{
	BalaFlowAnalyzerJumpTarget* self = NULL;
	self = (BalaFlowAnalyzerJumpTarget*) g_type_create_instance (object_type);
	return self;
}

static BalaFlowAnalyzerJumpTarget*
bala_flow_analyzer_jump_target_new (void)
{
	return bala_flow_analyzer_jump_target_construct (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET);
}

static void
bala_flow_analyzer_value_jump_target_init (GValue* value)
{
	value->data[0].v_pointer = NULL;
}

static void
bala_flow_analyzer_value_jump_target_free_value (GValue* value)
{
	if (value->data[0].v_pointer) {
		bala_flow_analyzer_jump_target_unref (value->data[0].v_pointer);
	}
}

static void
bala_flow_analyzer_value_jump_target_copy_value (const GValue* src_value,
                                                 GValue* dest_value)
{
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = bala_flow_analyzer_jump_target_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}

static gpointer
bala_flow_analyzer_value_jump_target_peek_pointer (const GValue* value)
{
	return value->data[0].v_pointer;
}

static gchar*
bala_flow_analyzer_value_jump_target_collect_value (GValue* value,
                                                    guint n_collect_values,
                                                    GTypeCValue* collect_values,
                                                    guint collect_flags)
{
	if (collect_values[0].v_pointer) {
		BalaFlowAnalyzerJumpTarget * object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = bala_flow_analyzer_jump_target_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}

static gchar*
bala_flow_analyzer_value_jump_target_lcopy_value (const GValue* value,
                                                  guint n_collect_values,
                                                  GTypeCValue* collect_values,
                                                  guint collect_flags)
{
	BalaFlowAnalyzerJumpTarget ** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = bala_flow_analyzer_jump_target_ref (value->data[0].v_pointer);
	}
	return NULL;
}

static GParamSpec*
bala_flow_analyzer_param_spec_jump_target (const gchar* name,
                                           const gchar* nick,
                                           const gchar* blurb,
                                           GType object_type,
                                           GParamFlags flags)
{
	BalaFlowAnalyzerParamSpecJumpTarget* spec;
	g_return_val_if_fail (g_type_is_a (object_type, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}

static gpointer
bala_flow_analyzer_value_get_jump_target (const GValue* value)
{
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET), NULL);
	return value->data[0].v_pointer;
}

static void
bala_flow_analyzer_value_set_jump_target (GValue* value,
                                          gpointer v_object)
{
	BalaFlowAnalyzerJumpTarget * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		bala_flow_analyzer_jump_target_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_flow_analyzer_jump_target_unref (old);
	}
}

static void
bala_flow_analyzer_value_take_jump_target (GValue* value,
                                           gpointer v_object)
{
	BalaFlowAnalyzerJumpTarget * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		bala_flow_analyzer_jump_target_unref (old);
	}
}

static void
bala_flow_analyzer_jump_target_class_init (BalaFlowAnalyzerJumpTargetClass * klass,
                                           gpointer klass_data)
{
	bala_flow_analyzer_jump_target_parent_class = g_type_class_peek_parent (klass);
	((BalaFlowAnalyzerJumpTargetClass *) klass)->finalize = bala_flow_analyzer_jump_target_finalize;
	g_type_class_adjust_private_offset (klass, &BalaFlowAnalyzerJumpTarget_private_offset);
}

static void
bala_flow_analyzer_jump_target_instance_init (BalaFlowAnalyzerJumpTarget * self,
                                              gpointer klass)
{
	self->priv = bala_flow_analyzer_jump_target_get_instance_private (self);
	self->ref_count = 1;
}

static void
bala_flow_analyzer_jump_target_finalize (BalaFlowAnalyzerJumpTarget * obj)
{
	BalaFlowAnalyzerJumpTarget * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, BalaFlowAnalyzerJumpTarget);
	g_signal_handlers_destroy (self);
	_bala_code_node_unref0 (self->priv->_error_domain);
	_bala_code_node_unref0 (self->priv->_error_code);
	_bala_code_node_unref0 (self->priv->_error_class);
	_bala_basic_block_unref0 (self->priv->_basic_block);
	_bala_basic_block_unref0 (self->priv->_last_block);
	_bala_code_node_unref0 (self->priv->_catch_clause);
}

static GType
bala_flow_analyzer_jump_target_get_type_once (void)
{
	static const GTypeValueTable g_define_type_value_table = { bala_flow_analyzer_value_jump_target_init, bala_flow_analyzer_value_jump_target_free_value, bala_flow_analyzer_value_jump_target_copy_value, bala_flow_analyzer_value_jump_target_peek_pointer, "p", bala_flow_analyzer_value_jump_target_collect_value, "p", bala_flow_analyzer_value_jump_target_lcopy_value };
	static const GTypeInfo g_define_type_info = { sizeof (BalaFlowAnalyzerJumpTargetClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_flow_analyzer_jump_target_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaFlowAnalyzerJumpTarget), 0, (GInstanceInitFunc) bala_flow_analyzer_jump_target_instance_init, &g_define_type_value_table };
	static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
	GType bala_flow_analyzer_jump_target_type_id;
	bala_flow_analyzer_jump_target_type_id = g_type_register_fundamental (g_type_fundamental_next (), "BalaFlowAnalyzerJumpTarget", &g_define_type_info, &g_define_type_fundamental_info, 0);
	BalaFlowAnalyzerJumpTarget_private_offset = g_type_add_instance_private (bala_flow_analyzer_jump_target_type_id, sizeof (BalaFlowAnalyzerJumpTargetPrivate));
	return bala_flow_analyzer_jump_target_type_id;
}

static GType
bala_flow_analyzer_jump_target_get_type (void)
{
	static volatile gsize bala_flow_analyzer_jump_target_type_id__volatile = 0;
	if (g_once_init_enter (&bala_flow_analyzer_jump_target_type_id__volatile)) {
		GType bala_flow_analyzer_jump_target_type_id;
		bala_flow_analyzer_jump_target_type_id = bala_flow_analyzer_jump_target_get_type_once ();
		g_once_init_leave (&bala_flow_analyzer_jump_target_type_id__volatile, bala_flow_analyzer_jump_target_type_id);
	}
	return bala_flow_analyzer_jump_target_type_id__volatile;
}

static gpointer
bala_flow_analyzer_jump_target_ref (gpointer instance)
{
	BalaFlowAnalyzerJumpTarget * self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}

static void
bala_flow_analyzer_jump_target_unref (gpointer instance)
{
	BalaFlowAnalyzerJumpTarget * self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		BALA_FLOW_ANALYZER_JUMP_TARGET_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}

static void
bala_flow_analyzer_class_init (BalaFlowAnalyzerClass * klass,
                               gpointer klass_data)
{
	bala_flow_analyzer_parent_class = g_type_class_peek_parent (klass);
	((BalaCodeVisitorClass *) klass)->finalize = bala_flow_analyzer_finalize;
	g_type_class_adjust_private_offset (klass, &BalaFlowAnalyzer_private_offset);
	((BalaCodeVisitorClass *) klass)->visit_source_file = (void (*) (BalaCodeVisitor*, BalaSourceFile*)) bala_flow_analyzer_real_visit_source_file;
	((BalaCodeVisitorClass *) klass)->visit_class = (void (*) (BalaCodeVisitor*, BalaClass*)) bala_flow_analyzer_real_visit_class;
	((BalaCodeVisitorClass *) klass)->visit_struct = (void (*) (BalaCodeVisitor*, BalaStruct*)) bala_flow_analyzer_real_visit_struct;
	((BalaCodeVisitorClass *) klass)->visit_interface = (void (*) (BalaCodeVisitor*, BalaInterface*)) bala_flow_analyzer_real_visit_interface;
	((BalaCodeVisitorClass *) klass)->visit_enum = (void (*) (BalaCodeVisitor*, BalaEnum*)) bala_flow_analyzer_real_visit_enum;
	((BalaCodeVisitorClass *) klass)->visit_error_domain = (void (*) (BalaCodeVisitor*, BalaErrorDomain*)) bala_flow_analyzer_real_visit_error_domain;
	((BalaCodeVisitorClass *) klass)->visit_field = (void (*) (BalaCodeVisitor*, BalaField*)) bala_flow_analyzer_real_visit_field;
	((BalaCodeVisitorClass *) klass)->visit_lambda_expression = (void (*) (BalaCodeVisitor*, BalaLambdaExpression*)) bala_flow_analyzer_real_visit_lambda_expression;
	((BalaCodeVisitorClass *) klass)->visit_method = (void (*) (BalaCodeVisitor*, BalaMethod*)) bala_flow_analyzer_real_visit_method;
	((BalaCodeVisitorClass *) klass)->visit_signal = (void (*) (BalaCodeVisitor*, BalaSignal*)) bala_flow_analyzer_real_visit_signal;
	((BalaCodeVisitorClass *) klass)->visit_creation_method = (void (*) (BalaCodeVisitor*, BalaCreationMethod*)) bala_flow_analyzer_real_visit_creation_method;
	((BalaCodeVisitorClass *) klass)->visit_property = (void (*) (BalaCodeVisitor*, BalaProperty*)) bala_flow_analyzer_real_visit_property;
	((BalaCodeVisitorClass *) klass)->visit_property_accessor = (void (*) (BalaCodeVisitor*, BalaPropertyAccessor*)) bala_flow_analyzer_real_visit_property_accessor;
	((BalaCodeVisitorClass *) klass)->visit_block = (void (*) (BalaCodeVisitor*, BalaBlock*)) bala_flow_analyzer_real_visit_block;
	((BalaCodeVisitorClass *) klass)->visit_declaration_statement = (void (*) (BalaCodeVisitor*, BalaDeclarationStatement*)) bala_flow_analyzer_real_visit_declaration_statement;
	((BalaCodeVisitorClass *) klass)->visit_local_variable = (void (*) (BalaCodeVisitor*, BalaLocalVariable*)) bala_flow_analyzer_real_visit_local_variable;
	((BalaCodeVisitorClass *) klass)->visit_expression_statement = (void (*) (BalaCodeVisitor*, BalaExpressionStatement*)) bala_flow_analyzer_real_visit_expression_statement;
	((BalaCodeVisitorClass *) klass)->visit_if_statement = (void (*) (BalaCodeVisitor*, BalaIfStatement*)) bala_flow_analyzer_real_visit_if_statement;
	((BalaCodeVisitorClass *) klass)->visit_switch_statement = (void (*) (BalaCodeVisitor*, BalaSwitchStatement*)) bala_flow_analyzer_real_visit_switch_statement;
	((BalaCodeVisitorClass *) klass)->visit_loop = (void (*) (BalaCodeVisitor*, BalaLoop*)) bala_flow_analyzer_real_visit_loop;
	((BalaCodeVisitorClass *) klass)->visit_foreach_statement = (void (*) (BalaCodeVisitor*, BalaForeachStatement*)) bala_flow_analyzer_real_visit_foreach_statement;
	((BalaCodeVisitorClass *) klass)->visit_break_statement = (void (*) (BalaCodeVisitor*, BalaBreakStatement*)) bala_flow_analyzer_real_visit_break_statement;
	((BalaCodeVisitorClass *) klass)->visit_continue_statement = (void (*) (BalaCodeVisitor*, BalaContinueStatement*)) bala_flow_analyzer_real_visit_continue_statement;
	((BalaCodeVisitorClass *) klass)->visit_return_statement = (void (*) (BalaCodeVisitor*, BalaReturnStatement*)) bala_flow_analyzer_real_visit_return_statement;
	((BalaCodeVisitorClass *) klass)->visit_yield_statement = (void (*) (BalaCodeVisitor*, BalaYieldStatement*)) bala_flow_analyzer_real_visit_yield_statement;
	((BalaCodeVisitorClass *) klass)->visit_throw_statement = (void (*) (BalaCodeVisitor*, BalaThrowStatement*)) bala_flow_analyzer_real_visit_throw_statement;
	((BalaCodeVisitorClass *) klass)->visit_try_statement = (void (*) (BalaCodeVisitor*, BalaTryStatement*)) bala_flow_analyzer_real_visit_try_statement;
	((BalaCodeVisitorClass *) klass)->visit_lock_statement = (void (*) (BalaCodeVisitor*, BalaLockStatement*)) bala_flow_analyzer_real_visit_lock_statement;
	((BalaCodeVisitorClass *) klass)->visit_unlock_statement = (void (*) (BalaCodeVisitor*, BalaUnlockStatement*)) bala_flow_analyzer_real_visit_unlock_statement;
	((BalaCodeVisitorClass *) klass)->visit_expression = (void (*) (BalaCodeVisitor*, BalaExpression*)) bala_flow_analyzer_real_visit_expression;
}

static void
bala_flow_analyzer_instance_init (BalaFlowAnalyzer * self,
                                  gpointer klass)
{
	GEqualFunc _tmp0_;
	BalaArrayList* _tmp1_;
	self->priv = bala_flow_analyzer_get_instance_private (self);
	_tmp0_ = g_direct_equal;
	_tmp1_ = bala_array_list_new (BALA_FLOW_ANALYZER_TYPE_JUMP_TARGET, (GBoxedCopyFunc) bala_flow_analyzer_jump_target_ref, (GDestroyNotify) bala_flow_analyzer_jump_target_unref, _tmp0_);
	self->priv->jump_stack = (BalaList*) _tmp1_;
}

static void
bala_flow_analyzer_finalize (BalaCodeVisitor * obj)
{
	BalaFlowAnalyzer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BALA_TYPE_FLOW_ANALYZER, BalaFlowAnalyzer);
	_bala_code_context_unref0 (self->priv->context);
	_bala_basic_block_unref0 (self->priv->current_block);
	_bala_iterable_unref0 (self->priv->jump_stack);
	_bala_iterable_unref0 (self->priv->all_basic_blocks);
	_bala_map_unref0 (self->priv->var_map);
	_bala_iterable_unref0 (self->priv->used_vars);
	_bala_map_unref0 (self->priv->phi_functions);
	BALA_CODE_VISITOR_CLASS (bala_flow_analyzer_parent_class)->finalize (obj);
}

/**
 * Code visitor building the control flow graph.
 */
static GType
bala_flow_analyzer_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (BalaFlowAnalyzerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bala_flow_analyzer_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BalaFlowAnalyzer), 0, (GInstanceInitFunc) bala_flow_analyzer_instance_init, NULL };
	GType bala_flow_analyzer_type_id;
	bala_flow_analyzer_type_id = g_type_register_static (BALA_TYPE_CODE_VISITOR, "BalaFlowAnalyzer", &g_define_type_info, 0);
	BalaFlowAnalyzer_private_offset = g_type_add_instance_private (bala_flow_analyzer_type_id, sizeof (BalaFlowAnalyzerPrivate));
	return bala_flow_analyzer_type_id;
}

GType
bala_flow_analyzer_get_type (void)
{
	static volatile gsize bala_flow_analyzer_type_id__volatile = 0;
	if (g_once_init_enter (&bala_flow_analyzer_type_id__volatile)) {
		GType bala_flow_analyzer_type_id;
		bala_flow_analyzer_type_id = bala_flow_analyzer_get_type_once ();
		g_once_init_leave (&bala_flow_analyzer_type_id__volatile, bala_flow_analyzer_type_id);
	}
	return bala_flow_analyzer_type_id__volatile;
}

static void
_bala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_bala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_bala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

